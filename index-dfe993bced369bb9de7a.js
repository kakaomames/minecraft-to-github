/*! For license information please see index-dfe993bced369bb9de7a.js.LICENSE.txt */
(()=>{var e={83820:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;const r=n(a(67294)),l=a(44833),o=a(88684),c=a(44283),i=a(74093);t.Map=({array:e,children:t,equalityCheck:a})=>{const n=(0,o.useFacetUnwrap)((0,c.useFacetMap)((e=>e.length),[],[e])),l=n!==i.NO_VALUE?n:0;return r.default.createElement(r.default.Fragment,null,d((n=>void 0!==a?r.default.createElement(s,{key:n,arrayFacet:e,index:n,length:l,equalityCheck:a,children:t}):r.default.createElement(u,{key:n,arrayFacet:e,index:n,length:l,children:t})),l))};const s=({arrayFacet:e,index:t,length:a,children:n,equalityCheck:r})=>n((0,l.useFacetMemo)((e=>t<e.length?e[t]:i.NO_VALUE),[t],[e],r),t,a),u=({arrayFacet:e,index:t,length:a,children:n})=>n((0,c.useFacetMap)((e=>t<e.length?e[t]:i.NO_VALUE),[t],[e]),t,a),d=(e,t)=>{const a=[];for(let n=0;n<t;n++)a.push(e(n));return a}},92885:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mount=void 0;const n=a(88684);t.Mount=({when:e,children:t,condition:a=!0})=>(0,n.useFacetUnwrap)(e)===a?t:null},77609:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Times=void 0;const r=n(a(67294)),l=a(32049);t.Times=({count:e,children:t})=>r.default.createElement(l.Unwrap,{data:e},(e=>{const a=new Array(e);for(let n=0;n<e;n++)a[n]=r.default.createElement(r.default.Fragment,{key:n},t(n,e));return r.default.createElement(r.default.Fragment,null,a)}))},32049:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Unwrap=void 0;const n=a(47923),r=a(74093);t.Unwrap=({data:e,children:t})=>{const a=(0,n.useFacetUnwrap)(e);return a===r.NO_VALUE?null:t(a)}},60725:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;const n=a(44833),r=a(88684),l=a(44283),o=a(74093);t.With=({data:e,children:t})=>{const a=(0,l.useFacetMap)((e=>null!=e),[],[e]),c=(0,r.useFacetUnwrap)(a),i=(0,n.useFacetMemo)((e=>null!=e?e:o.NO_VALUE),[],[e]);return!0===c?t(i):null}},12493:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(83820),t),r(a(92885),t),r(a(77609),t),r(a(32049),t),r(a(60725),t)},41024:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionalValueEqualityCheck=t.createObjectWithKeySpecificEqualityCheck=t.createUniformArrayEqualityCheck=t.createUniformObjectEqualityCheck=t.createNullableEqualityCheck=void 0;const n=a(74093);t.createNullableEqualityCheck=e=>{const t=e();let a=n.NO_VALUE;return e=>null==e||null==a?e===a||(a=e,!1):(a=e,t(e))},t.createUniformObjectEqualityCheck=e=>()=>{const t={};let a=new Set,n=!1;return r=>{var l;let o=!0;for(const n in r)n in t||(t[n]=e()),(null===(l=t[n])||void 0===l?void 0:l.call(t,r[n]))||(o=!1),a.delete(n);if(a.size>0){for(const e of a)delete t[e];o=!1}a=new Set;for(const e in r)a.add(e);return n?o:(n=!0,!1)}},t.createUniformArrayEqualityCheck=e=>()=>{const t=[];let a=!1;return n=>{var r,l;const o=Math.max(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0,null!==(l=null==n?void 0:n.length)&&void 0!==l?l:0);let c=!0;for(let a=0;a<o;a++)void 0===t[a]&&(t[a]=e()),t[a](n[a])||(c=!1);return a?c:(a=!0,!1)}},t.createObjectWithKeySpecificEqualityCheck=e=>()=>{const t={};for(const a in e)t[a]=e[a]();const a=t;return e=>{let t=!0;for(const n in e)a[n](e[n])||(t=!1);return t}},t.createOptionalValueEqualityCheck=e=>()=>{let t=!0,a=e();return n=>null==n?!!t||(a=e(),t=!0,!1):(t=!1,a(n))}},27755:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacetContext=void 0;const n=a(67294);t.createFacetContext=function(e){const t={get:()=>e,observe:t=>(t(e),()=>{})};return(0,n.createContext)(t)}},52868:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEqualityCheck=t.nullableShallowArrayEqualityCheck=t.nullableShallowObjectArrayEqualityCheck=t.nullableShallowObjectEqualityCheck=t.shallowArrayEqualityCheck=t.shallowObjectArrayEqualityCheck=t.shallowObjectEqualityCheck=t.strictEqualityCheck=void 0;const n=a(41024),r=a(74093);t.strictEqualityCheck=()=>{let e=r.NO_VALUE;return t=>e===t||(e=t,!1)},t.shallowObjectEqualityCheck=(0,n.createUniformObjectEqualityCheck)(t.strictEqualityCheck),t.shallowObjectArrayEqualityCheck=(0,n.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck),t.shallowArrayEqualityCheck=(0,n.createUniformArrayEqualityCheck)(t.strictEqualityCheck),t.nullableShallowObjectEqualityCheck=()=>(0,n.createNullableEqualityCheck)((0,n.createUniformObjectEqualityCheck)(t.strictEqualityCheck)),t.nullableShallowObjectArrayEqualityCheck=()=>(0,n.createNullableEqualityCheck)((0,n.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck)),t.nullableShallowArrayEqualityCheck=()=>(0,n.createNullableEqualityCheck)((0,n.createUniformArrayEqualityCheck)(t.strictEqualityCheck)),t.defaultEqualityCheck=()=>{let e=r.NO_VALUE;return t=>{const a=typeof t;return!("number"!==a&&"string"!==a&&"boolean"!==a&&null!=t||t!==e&&(e=t,1))}}},90486:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacet=void 0;const n=a(52868),r=a(74093),l=a(82358);t.createFacet=function({initialValue:e,startSubscription:t,equalityCheck:a=n.defaultEqualityCheck}){const o=new Set;let c,i=e;const s=null==a?void 0:a();e!==r.NO_VALUE&&(a===n.defaultEqualityCheck?i=e:s(e));const u=e=>{if(void 0!==a)if(a===n.defaultEqualityCheck){const t=typeof e;if(("number"===t||"string"===t||"boolean"===t||null==e)&&i===e)return}else if(void 0!==s&&s(e))return;(0,l.batch)((()=>{i=e;for(const e of o)e(i)}))};return{set:u,setWithCallback:e=>{const t=e(i);t===r.NO_VALUE?i=r.NO_VALUE:u(t)},get:()=>i,observe:a=>(o.add(a),i!==r.NO_VALUE&&a(i),1===o.size&&t&&(c=t(u)),()=>{o.delete(a),0===o.size&&c&&(i=e,c())})}}},27200:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReadOnlyFacet=void 0;const n=a(90486);t.createReadOnlyFacet=function(e){return(0,n.createFacet)(e)}},49095:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticFacet=void 0,t.createStaticFacet=function(e){return{get:()=>e,observe:t=>(t(e),()=>{})}}},46103:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(90486),t),r(a(27200),t),r(a(49095),t)},97190:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllDefinedValues=void 0;const n=a(83127);t.areAllDefinedValues=e=>{for(let t=0;t<e.length;t++)if(!(0,n.hasDefinedValue)(e[t]))return!1;return!0}},73122:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=void 0;const n=a(74093);t.asPromise=e=>{let t=r;const a=new Promise((e=>{t=e})),l=e.get();if(l!==n.NO_VALUE)return t(l),{promise:a,cancel:r};const o=e.observe(t);return{promise:a.then((e=>(o(),e))),cancel:o}};const r=()=>{}},83127:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasDefinedValue=void 0;const n=a(74093);t.hasDefinedValue=e=>null!=e&&e!==n.NO_VALUE},5900:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(97190),t),r(a(83127),t),r(a(86191),t),r(a(73122),t)},86191:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiObserve=void 0;const n=a(74093);t.multiObserve=function(e,t){if(1===t.length)return t[0].observe(e);let a,r=!1;const l=[],o=t.map((()=>n.NO_VALUE));for(let c=0;c<t.length;c++)l[c]=t[c].observe((t=>{o[c]=t,r=r||o.every((e=>e!==n.NO_VALUE)),r&&(void 0!==a&&a(),a=e(...o))}));return()=>{for(let e=0;e<l.length;e++)l[e]();void 0!==a&&a()}}},47923:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(2367),t),r(a(96955),t),r(a(28488),t),r(a(44283),t),r(a(44833),t),r(a(50813),t),r(a(80551),t),r(a(66280),t),r(a(95174),t),r(a(88684),t),r(a(99751),t),r(a(3357),t),r(a(79468),t)},2367:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetCallback=void 0;const n=a(67294),r=a(74093);t.useFacetCallback=function(e,t,a,l){(0,n.useEffect)((()=>{const e=a.map((e=>e.observe((()=>{}))));return()=>{e.forEach((e=>e()))}}),a);const o=(0,n.useCallback)(e,t),c=(0,n.useRef)(a);return c.current=a,(0,n.useCallback)(((...e)=>{const t=c.current.map((e=>e.get()));for(const e of t)if(e===r.NO_VALUE)return void 0!==l?l:r.NO_VALUE;return o(...t)(...e)}),[o,l])}},96955:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetEffect=t.createUseFacetEffect=void 0;const n=a(67294),r=a(74093),l=a(82358);t.createUseFacetEffect=e=>function(t,a,o){const c=(0,n.useCallback)(t,a);e((()=>{let e;if(1===o.length){const t=o[0].observe((t=>{void 0!==e&&e(),e=c(t)}));return()=>{t(),void 0!==e&&e()}}let t=!1;const a=[],n=o.map((()=>r.NO_VALUE)),i=()=>{t=t||n.every((e=>e!==r.NO_VALUE)),t&&(void 0!==e&&e(),e=c(...n))};return o.forEach(((e,r)=>{a[r]=e.observe((e=>{n[r]=e,t?(0,l.scheduleTask)(i):i()}))})),()=>{(0,l.cancelScheduledTask)(i),a.forEach((e=>e())),void 0!==e&&e()}}),[c,...o])},t.useFacetEffect=(0,t.createUseFacetEffect)(n.useEffect)},28488:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetLayoutEffect=void 0;const n=a(67294),r=a(96955);t.useFacetLayoutEffect=(0,r.createUseFacetEffect)(n.useLayoutEffect)},44283:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMap=void 0;const n=a(67294),r=a(52868),l=a(12914);t.useFacetMap=function(e,t,a,o=r.defaultEqualityCheck){const c=(0,n.useCallback)(e,t);return(0,n.useMemo)((()=>(0,l.mapFacetsLightweight)(a,c,o)),[c,o,...a])}},44833:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMemo=void 0;const n=a(67294),r=a(52868),l=a(12914);t.useFacetMemo=function(e,t,a,o=r.defaultEqualityCheck){const c=(0,n.useCallback)(e,t);return(0,n.useMemo)((()=>(0,l.mapFacetsCached)(a,c,o)),[c,o,...a])}},50813:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetPropSetter=void 0;const n=a(67294),r=a(74093);t.useFacetPropSetter=function(e,t){return(0,n.useMemo)((()=>a=>{e.setWithCallback((e=>Object.assign(Object.assign({},e!==r.NO_VALUE?e:{}),{[t]:a})))}),[e,t])}},66280:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetReducer=void 0;const n=a(67294),r=a(52868),l=a(95174);t.useFacetReducer=(e,t,a=r.defaultEqualityCheck)=>{const[o,c]=(0,l.useFacetState)(t,a);return[o,(0,n.useCallback)((t=>{c((a=>e(a,t)))}),[e,c])]}},80551:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetRef=void 0;const n=a(67294),r=a(96955),l=a(74093);t.useFacetRef=function(e,t){let a=e.get();a===l.NO_VALUE&&void 0!==t&&(a=t);const o=(0,n.useRef)(a);return(0,r.useFacetEffect)((e=>{o.current=e}),[],[e]),o}},95174:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetState=void 0;const n=a(67294),r=a(52868),l=a(46103);t.useFacetState=(e,t=r.defaultEqualityCheck)=>(0,n.useMemo)((()=>{const a=(0,l.createFacet)({initialValue:e,equalityCheck:t});return[a,e=>{o(e)?a.setWithCallback(e):a.set(e)}]}),[]);const o=e=>"function"==typeof e},79468:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetTransition=void 0;const n=a(67294),r=a(82358);t.useFacetTransition=()=>{const[e,t]=(0,n.useTransition)();return[e,(0,n.useCallback)((e=>{t((()=>(0,r.batchTransition)(e)))}),[])]}},88684:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetUnwrap=void 0;const n=a(67294),r=a(74093),l=a(52868);t.useFacetUnwrap=function(e,t=l.defaultEqualityCheck){const a=(0,n.useMemo)((()=>(0,r.isFacet)(e)?e.observe((()=>{})):()=>{}),[e]),[o,c]=(0,n.useState)((()=>(0,r.isFacet)(e)?{value:e.get()}:{value:e})),i=(0,n.useRef)(o);return i.current=o,(0,n.useLayoutEffect)((()=>{if((0,r.isFacet)(e)){const n=t(),o=e.get();o!==r.NO_VALUE&&n(o);const s=e.observe((e=>{const{value:a}=i.current;if(t===l.defaultEqualityCheck){const t=typeof a;if(("number"===t||"string"===t||"boolean"===t||null==e)&&e===a)return;return i.current={value:e},c({value:e})}if(a===r.NO_VALUE||!n(e))return c({value:e})}));return a(),s}}),[e,t,a]),(0,r.isFacet)(e)?o.value:e}},99751:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetWrap=void 0;const n=a(67294),r=a(46103),l=a(74093);t.useFacetWrap=function(e){return(0,n.useMemo)((()=>(0,l.isFacet)(e)?e:(0,r.createStaticFacet)(e)),[e])}},3357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetWrapMemo=void 0;const n=a(67294),r=a(52868),l=a(46103),o=a(74093);t.useFacetWrapMemo=function(e,t=r.defaultEqualityCheck){const a=(0,n.useMemo)((()=>(0,l.createFacet)({initialValue:(0,o.isFacet)(e)?e.get():e,equalityCheck:t})),[t]);return(0,n.useEffect)((()=>{if((0,o.isFacet)(e))return e.observe(a.set);a.set(e)}),[e,a]),a}},88572:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.batch=void 0,r(a(12493),t),r(a(41024),t),r(a(27755),t),r(a(52868),t),r(a(46103),t),r(a(5900),t),r(a(47923),t),r(a(12914),t),r(a(74093),t),r(a(17929),t);var l=a(82358);Object.defineProperty(t,"batch",{enumerable:!0,get:function(){return l.batch}})},12914:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(43118),t)},8273:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayCached=void 0;const n=a(74093),r=a(71794),l=a(46103);t.mapFacetArrayCached=function(e,t,a){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveArray)(e,t,a),initialValue:n.NO_VALUE});return{get:()=>{const a=o.get();if(a!==n.NO_VALUE)return a;const r=e.map((e=>e.get()));if(!r.reduce(((e,t)=>e&&t!==n.NO_VALUE),!0))return n.NO_VALUE;const l=t(...r);return l!==n.NO_VALUE&&o.set(l),l},observe:o.observe}}},89160:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayLightweight=void 0;const n=a(71794),r=a(74093);t.mapFacetArrayLightweight=function(e,t,a){return{get:()=>{const a=e.map((e=>e.get()));return a.reduce(((e,t)=>e&&t!==r.NO_VALUE),!0)?t(...a):r.NO_VALUE},observe:(0,n.mapIntoObserveArray)(e,t,a)}}},26741:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleCached=void 0;const n=a(74093),r=a(78781),l=a(46103);t.mapFacetSingleCached=function(e,t,a){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveSingle)(e,t,a),initialValue:n.NO_VALUE});return{get:()=>{const a=o.get();if(a!==n.NO_VALUE)return a;const r=e.get();if(r===n.NO_VALUE)return n.NO_VALUE;const l=t(r);return l!==n.NO_VALUE&&o.set(l),l},observe:o.observe}}},14714:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleLightweight=void 0;const n=a(74093),r=a(78781);t.mapFacetSingleLightweight=function(e,t,a){return{get:()=>{const a=e.get();return a===n.NO_VALUE?n.NO_VALUE:t(a)},observe:(0,r.mapIntoObserveSingle)(e,t,a)}}},43118:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetsCached=t.mapFacetsLightweight=void 0;const n=a(8273),r=a(89160),l=a(26741),o=a(14714);t.mapFacetsLightweight=function(e,t,a){return 1===e.length?(0,o.mapFacetSingleLightweight)(e[0],t,a):(0,r.mapFacetArrayLightweight)(e,t,a)},t.mapFacetsCached=function(e,t,a){return 1===e.length?(0,l.mapFacetSingleCached)(e[0],t,a):(0,n.mapFacetArrayCached)(e,t,a)}},71794:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveArray=void 0;const n=a(82358),r=a(52868),l=a(74093);t.mapIntoObserveArray=function(e,t,a){return o=>{let c=l.NO_VALUE;const i=null==a?void 0:a(),s=e.map((()=>l.NO_VALUE));let u=!1;const d=void 0===i?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&o(e)}:a===r.defaultEqualityCheck?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);if(e===l.NO_VALUE)return;const a=typeof c;("number"!==a&&"string"!==a&&"boolean"!==a&&null!=c||c!==e)&&(c=e,o(e))}:()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&(i(e)||o(e))},m=e.map(((e,t)=>e.observe((e=>{s[t]=e,u?(0,n.scheduleTask)(d):d()}))));return()=>{(0,n.cancelScheduledTask)(d),m.forEach((e=>e()))}}}},78781:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveSingle=void 0;const n=a(52868),r=a(74093);t.mapIntoObserveSingle=function(e,t,a){return void 0===a?a=>e.observe((e=>{const n=t(e);n!==r.NO_VALUE&&a(n)})):a===n.defaultEqualityCheck?a=>{let n=r.NO_VALUE;return e.observe((e=>{const l=t(e);if(l===r.NO_VALUE)return;const o=typeof n;("number"!==o&&"string"!==o&&"boolean"!==o&&null!=n||n!==l)&&(n=l,a(l))}))}:n=>{const l=a();return e.observe((e=>{const a=t(e);a!==r.NO_VALUE&&(l(a)||n(a))}))}}},82358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batchTransition=t.batch=t.cancelScheduledTask=t.scheduleTask=void 0;let a=!1,n=0,r=[],l=[];t.scheduleTask=e=>{0!==n?e.scheduled||(e.scheduled=!0,a?l.push(e):r.push(e)):e()},t.cancelScheduledTask=e=>{e.scheduled=!1},t.batch=e=>{n+=1;try{e(),1===n&&o()}finally{n-=1}},t.batchTransition=e=>{const t=!a;a=!0,n+=1;try{e(),(1===n||t)&&o()}finally{t&&(a=!1),n-=1}};const o=()=>{do{const e=a?l:r;a?l=[]:r=[];try{for(let t=0;t<e.length;t++){const a=e[t];a.scheduled&&(a.scheduled=!1,a())}}catch(t){for(let t=0;t<e.length;t++)e[t].scheduled=!1;throw a?l=[]:r=[],t}}while((a?l:r).length>0)}},17929:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startFacetTransition=void 0;const n=a(67294),r=a(82358);t.startFacetTransition=e=>{(0,n.startTransition)((()=>(0,r.batchTransition)(e)))}},74093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_VALUE=t.isFacet=t.FACET_FACTORY=void 0,t.FACET_FACTORY=Symbol("facet-factory"),t.isFacet=e=>null!=e&&void 0!==e.observe&&void 0!==e.get,t.NO_VALUE=Symbol.for("NoValue")},36982:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFiberRoot=void 0;const n=a(32576);t.createFiberRoot=e=>t=>e.createContainer({children:new Set,element:t,styleUnsubscribers:new Map,style:t.style},n.ConcurrentRoot,null,!1,!0,"",(e=>console.error("[@react-facet/dom-fiber]",e)),null)},70024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPortal=void 0;const a=Symbol.for("react.portal");t.createPortal=function(e,t){return{$$typeof:a,key:null,implementation:null,children:e,containerInfo:{children:new Set,element:t,styleUnsubscribers:new Map,style:t.style}}}},47811:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createReconciler=void 0;const r=n(a(76525)),l=a(8446);t.createReconciler=()=>(0,r.default)((0,l.setupHostConfig)())},47154:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.render=t.createRoot=void 0;const l=a(47811),o=a(36982);function c(e){if(null===e)throw new Error("HTML container cannot be null.");const t=(0,l.createReconciler)(),a=(0,o.createFiberRoot)(t)(e);return{render(e){t.updateContainer(e,a,null,(()=>{}))},unmount(){t.updateContainer(null,a,null,null)}}}r(a(7358),t),r(a(70024),t),r(a(36982),t),r(a(47811),t),t.createRoot=c,t.render=function(e,t){if(null===t)return()=>{};const a=c(t);return a.render(e),()=>{a.unmount()}}},92786:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupAttributeUpdate=t.setupViewBoxUpdate=t.setupTextUpdate=t.setupSrcUpdate=t.setupValueUpdate=t.setupRowsUpdate=t.setupMaxLengthUpdate=t.setupIdUpdate=t.setupClassUpdate=t.setupStyleUpdate=void 0;const n=a(88572);t.setupStyleUpdate=(e,t,a)=>{for(const r in e){const l=e[r];void 0!==l&&((0,n.isFacet)(l)?a.set(r,l.observe((e=>{t[r]=e}))):t[r]=l)}},t.setupClassUpdate=(e,t)=>{const a=t;if((0,n.isFacet)(e))return e.observe((e=>{a.className=void 0!==e?e:""}));a.className=void 0!==e?e:""},t.setupIdUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.id=void 0!==e?e:""}));t.id=void 0!==e?e:""},t.setupMaxLengthUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER},t.setupRowsUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER};const r=(e,t)=>{const a=e;"number"===a.type&&isNaN(Number(t))||(void 0!==t?(a.value=t,a.setAttribute("value",t)):(a.value="",a.removeAttribute("value")))};t.setupValueUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>r(t,e)));r(t,e)},t.setupSrcUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.src=void 0!==e?e:""}));t.src=void 0!==e?e:""},t.setupTextUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.nodeValue=void 0!==e?e:""}));t.nodeValue=void 0!==e?e:""},t.setupViewBoxUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")}));void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")},t.setupAttributeUpdate=(e,t,a)=>{if((0,n.isFacet)(t))return t.observe((t=>{!0===t?a.setAttribute(e,""):!1===t?a.removeAttribute(e):void 0!==t?a.setAttribute(e,t):a.removeAttribute(e)}));!0===t?a.setAttribute(e,""):!1===t?a.removeAttribute(e):void 0!==t?a.setAttribute(e,t):a.removeAttribute(e)}},8446:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTextElement=t.setupHostConfig=void 0;const n=a(7358),r=a(32576),l=a(88572),o=a(92786);t.setupHostConfig=()=>({isPrimaryRenderer:!0,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:"function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve(null).then(e).catch((e=>{setTimeout((()=>{throw e}))})),getCurrentEventPriority:()=>r.DefaultEventPriority,getInstanceFromNode:()=>null,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},prepareScopeUpdate:()=>{},getInstanceFromScope:()=>null,detachDeletedInstance:()=>{},clearContainer:()=>!1,scheduleTimeout:"undefined"!=typeof window?window.setTimeout:(e,t)=>window.setTimeout(e,t),cancelTimeout:"undefined"!=typeof window?window.clearTimeout:e=>window.clearTimeout(e),noTimeout:i,preparePortalMount:function(){},getRootHostContext:function(){return s},getChildHostContext:function(){return s},shouldSetTextContent:function(){return!1},createTextInstance:function(e){return{element:document.createTextNode(e)}},createInstance:function(e,t){var a;if("fast-text"===e){const e=document.createTextNode("");return{children:new Set,element:e,text:(0,o.setupTextUpdate)(t.text,e)}}const n=null!==(a=u[e])&&void 0!==a?a:e,r=d[e],l=void 0!==r?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(n);let c,i;return void 0!==t.style&&(c=l.style,i=new Map,(0,o.setupStyleUpdate)(t.style,c,i)),void 0!==t.dangerouslySetInnerHTML&&(l.innerHTML=t.dangerouslySetInnerHTML.__html),t.onClick&&l.addEventListener("click",t.onClick),t.onFocus&&l.addEventListener("focus",t.onFocus),t.onBlur&&l.addEventListener("blur",t.onBlur),t.onMouseDown&&l.addEventListener("mousedown",t.onMouseDown),t.onMouseMove&&l.addEventListener("mousemove",t.onMouseMove),t.onMouseUp&&l.addEventListener("mouseup",t.onMouseUp),t.onTouchStart&&l.addEventListener("touchstart",t.onTouchStart),t.onTouchMove&&l.addEventListener("touchmove",t.onTouchMove),t.onTouchEnd&&l.addEventListener("touchend",t.onTouchEnd),t.onMouseEnter&&l.addEventListener("mouseenter",t.onMouseEnter),t.onMouseLeave&&l.addEventListener("mouseleave",t.onMouseLeave),t.onKeyPress&&l.addEventListener("keypress",t.onKeyPress),t.onKeyDown&&l.addEventListener("keydown",t.onKeyDown),t.onKeyUp&&l.addEventListener("keyup",t.onKeyUp),{element:l,styleUnsubscribers:i,style:c,children:new Set,className:void 0!==t.className?(0,o.setupClassUpdate)(t.className,l):void 0,id:void 0!==t.id?(0,o.setupIdUpdate)(t.id,l):void 0,autoPlay:void 0!==t.autoPlay?(0,o.setupAttributeUpdate)("autoplay",t.autoPlay,l):void 0,loop:void 0!==t.loop?(0,o.setupAttributeUpdate)("loop",t.loop,l):void 0,href:void 0!==t.href?(0,o.setupAttributeUpdate)("href",t.href,l):void 0,target:void 0!==t.target?(0,o.setupAttributeUpdate)("target",t.target,l):void 0,disabled:void 0!==t.disabled?(0,o.setupAttributeUpdate)("disabled",t.disabled,l):void 0,maxLength:void 0!==t.maxLength?(0,o.setupMaxLengthUpdate)(t.maxLength,l):void 0,rows:void 0!==t.rows?(0,o.setupRowsUpdate)(t.rows,l):void 0,type:void 0!==t.type?(0,o.setupAttributeUpdate)("type",t.type,l):void 0,value:void 0!==t.value?(0,o.setupValueUpdate)(t.value,l):void 0,src:void 0!==t.src?(0,o.setupSrcUpdate)(t.src,l):void 0,d:void 0!==t.d?(0,o.setupAttributeUpdate)("d",t.d,l):void 0,fill:void 0!==t.fill?(0,o.setupAttributeUpdate)("fill",t.fill,l):void 0,height:void 0!==t.height?(0,o.setupAttributeUpdate)("height",t.height,l):void 0,stroke:void 0!==t.stroke?(0,o.setupAttributeUpdate)("stroke",t.stroke,l):void 0,x:void 0!==t.x?(0,o.setupAttributeUpdate)("x",t.x,l):void 0,width:void 0!==t.width?(0,o.setupAttributeUpdate)("width",t.width,l):void 0,y:void 0!==t.y?(0,o.setupAttributeUpdate)("y",t.y,l):void 0,cx:void 0!==t.cx?(0,o.setupAttributeUpdate)("cx",t.cx,l):void 0,cy:void 0!==t.cy?(0,o.setupAttributeUpdate)("cy",t.cy,l):void 0,r:void 0!==t.r?(0,o.setupAttributeUpdate)("r",t.r,l):void 0,rx:void 0!==t.rx?(0,o.setupAttributeUpdate)("rx",t.rx,l):void 0,ry:void 0!==t.ry?(0,o.setupAttributeUpdate)("ry",t.ry,l):void 0,x1:void 0!==t.x1?(0,o.setupAttributeUpdate)("x1",t.x1,l):void 0,x2:void 0!==t.x2?(0,o.setupAttributeUpdate)("x2",t.x2,l):void 0,y1:void 0!==t.y1?(0,o.setupAttributeUpdate)("y1",t.y1,l):void 0,y2:void 0!==t.y2?(0,o.setupAttributeUpdate)("y2",t.y2,l):void 0,strokeWidth:void 0!==t.strokeWidth?(0,o.setupAttributeUpdate)("stroke-width",t.strokeWidth,l):void 0,viewBox:void 0!==t.viewBox?(0,o.setupViewBoxUpdate)(t.viewBox,l):void 0,xLinkHref:void 0!==t.xLinkHref?(0,o.setupAttributeUpdate)("xlink:href",t.xLinkHref,l):void 0,fillOpacity:void 0!==t.fillOpacity?(0,o.setupAttributeUpdate)("fill-opacity",t.fillOpacity,l):void 0,strokeOpacity:void 0!==t.strokeOpacity?(0,o.setupAttributeUpdate)("stroke-opacity",t.strokeOpacity,l):void 0,strokeLinecap:void 0!==t.strokeLinecap?(0,o.setupAttributeUpdate)("stroke-linecap",t.strokeLinecap,l):void 0,strokeLinejoin:void 0!==t.strokeLinejoin?(0,o.setupAttributeUpdate)("stroke-linejoin",t.strokeLinejoin,l):void 0,points:void 0!==t.points?(0,o.setupAttributeUpdate)("points",t.points,l):void 0,offset:void 0!==t.offset?(0,o.setupAttributeUpdate)("offset",t.offset,l):void 0,stopColor:void 0!==t.stopColor?(0,o.setupAttributeUpdate)("stop-color",t.stopColor,l):void 0,stopOpacity:void 0!==t.stopOpacity?(0,o.setupAttributeUpdate)("stop-opacity",t.stopOpacity,l):void 0,fontFamily:void 0!==t.fontFamily?(0,o.setupAttributeUpdate)("font-family",t.fontFamily,l):void 0,fontSize:void 0!==t.fontSize?(0,o.setupAttributeUpdate)("font-size",t.fontSize,l):void 0,"data-droppable":void 0!==t["data-droppable"]?(0,o.setupAttributeUpdate)("data-droppable",t["data-droppable"],l):void 0,"data-narrate":void 0!==t["data-narrate"]?(0,o.setupAttributeUpdate)("data-narrate",t["data-narrate"],l):void 0,"data-narrate-as":void 0!==t["data-narrate-as"]?(0,o.setupAttributeUpdate)("data-narrate-as",t["data-narrate-as"],l):void 0,"data-narrate-before":void 0!==t["data-narrate-before"]?(0,o.setupAttributeUpdate)("data-narrate-before",t["data-narrate-before"],l):void 0,"data-narrate-after":void 0!==t["data-narrate-after"]?(0,o.setupAttributeUpdate)("data-narrate-after",t["data-narrate-after"],l):void 0,"data-testid":void 0!==t["data-testid"]?(0,o.setupAttributeUpdate)("data-testid",t["data-testid"],l):void 0,"data-x-ray":void 0!==t["data-x-ray"]?(0,o.setupAttributeUpdate)("data-x-ray",t["data-x-ray"],l):void 0,cohinline:void 0!==t.cohinline?(0,o.setupAttributeUpdate)("cohinline",t.cohinline,l):void 0}},finalizeInitialChildren:function(){return!1},prepareForCommit:function(){return null},resetAfterCommit:function(){},commitMount:function(){},prepareUpdate:function(){return!0},commitUpdate:function(e,t,a,n,r){var c,i,s,u,d,m,p,f,g,E,b,h,v,F,y,S,C,M,w,k,P,T,I,x,O,A,N,R,L,D,_,B,W,U,z,j,H,G,V,$,X,K,Y,q,Q,J,Z,ee,te,ae,ne;const{element:re}=e;if("fast-text"===a){const t=re;return void(r.text!==n.text&&(null===(c=e.text)||void 0===c||c.call(e),e.text=(0,o.setupTextUpdate)(r.text,t)))}const le=re;if(r.style!==n.style){const t=e.style||le.style,a=e.styleUnsubscribers||new Map;e.style=t,e.styleUnsubscribers=a;const o=t,c=n.style,s=r.style;if(void 0!==c)for(const e in c){const t=c[e];t===(null==s?void 0:s[e])&&void 0!==s||(0,l.isFacet)(t)&&(null===(i=a.get(e))||void 0===i||i())}if(void 0!==s)for(const e in s){const t=null==c?void 0:c[e],n=s[e];t===n&&void 0!==c||((0,l.isFacet)(n)?a.set(e,n.observe((t=>{o[e]=t}))):o[e]=n)}}r.dangerouslySetInnerHTML!==n.dangerouslySetInnerHTML&&(void 0!==r.dangerouslySetInnerHTML?le.innerHTML=r.dangerouslySetInnerHTML.__html:le.innerHTML=""),r.autoPlay!==n.autoPlay&&(null===(s=e.autoPlay)||void 0===s||s.call(e),void 0===r.autoPlay?le.removeAttribute("autoplay"):e.autoPlay=(0,o.setupAttributeUpdate)("autoplay",r.autoPlay,le)),r.className!==n.className&&(null===(u=e.className)||void 0===u||u.call(e),void 0===r.className?le.className="":e.className=(0,o.setupClassUpdate)(r.className,le)),r.d!==n.d&&(null===(d=e.d)||void 0===d||d.call(e),void 0===r.d?le.removeAttribute("d"):e.d=(0,o.setupAttributeUpdate)("d",r.d,le)),r["data-droppable"]!==n["data-droppable"]&&(null===(m=e["data-droppable"])||void 0===m||m.call(e),void 0===r["data-droppable"]?le.removeAttribute("data-droppable"):e["data-droppable"]=(0,o.setupAttributeUpdate)("data-droppable",r["data-droppable"],le)),r["data-narrate"]!==n["data-narrate"]&&(null===(p=e["data-narrate"])||void 0===p||p.call(e),void 0===r["data-narrate"]?le.removeAttribute("data-narrate"):e["data-narrate"]=(0,o.setupAttributeUpdate)("data-narrate",r["data-narrate"],le)),r["data-narrate-as"]!==n["data-narrate-as"]&&(null===(f=e["data-narrate-as"])||void 0===f||f.call(e),void 0===r["data-narrate-as"]?le.removeAttribute("data-narrate-as"):e["data-narrate-as"]=(0,o.setupAttributeUpdate)("data-narrate-as",r["data-narrate-as"],le)),r["data-narrate-after"]!==n["data-narrate-after"]&&(null===(g=e["data-narrate-after"])||void 0===g||g.call(e),void 0===r["data-narrate-after"]?le.removeAttribute("data-narrate-after"):e["data-narrate-after"]=(0,o.setupAttributeUpdate)("data-narrate-after",r["data-narrate-after"],le)),r["data-narrate-before"]!==n["data-narrate-before"]&&(null===(E=e["data-narrate-before"])||void 0===E||E.call(e),void 0===r["data-narrate-before"]?le.removeAttribute("data-narrate-before"):e["data-narrate-before"]=(0,o.setupAttributeUpdate)("data-narrate-before",r["data-narrate-before"],le)),r["data-testid"]!==n["data-testid"]&&(null===(b=e["data-testid"])||void 0===b||b.call(e),void 0===r["data-testid"]?le.removeAttribute("data-testid"):e["data-testid"]=(0,o.setupAttributeUpdate)("data-testid",r["data-testid"],le)),r["data-x-ray"]!==n["data-x-ray"]&&(null===(h=e["data-x-ray"])||void 0===h||h.call(e),void 0===r["data-x-ray"]?le.removeAttribute("data-x-ray"):e["data-x-ray"]=(0,o.setupAttributeUpdate)("data-x-ray",r["data-x-ray"],le)),r.fill!==n.fill&&(null===(v=e.fill)||void 0===v||v.call(e),void 0===r.fill?le.removeAttribute("fill"):e.fill=(0,o.setupAttributeUpdate)("fill",r.fill,le)),r.id!==n.id&&(null===(F=e.id)||void 0===F||F.call(e),void 0===r.id?le.id="":e.id=(0,o.setupIdUpdate)(r.id,le)),r.loop!==n.loop&&(null===(y=e.loop)||void 0===y||y.call(e),void 0===r.loop?le.removeAttribute("loop"):e.loop=(0,o.setupAttributeUpdate)("loop",r.loop,le)),r.href!==n.href&&(null===(S=e.href)||void 0===S||S.call(e),void 0===r.href?le.removeAttribute("href"):e.href=(0,o.setupAttributeUpdate)("href",r.href,le)),r.target!==n.target&&(null===(C=e.target)||void 0===C||C.call(e),void 0===r.target?le.removeAttribute("target"):e.target=(0,o.setupAttributeUpdate)("target",r.target,le)),r.disabled!==n.disabled&&(null===(M=e.disabled)||void 0===M||M.call(e),void 0===r.disabled?le.removeAttribute("disabled"):e.disabled=(0,o.setupAttributeUpdate)("disabled",r.disabled,le)),r.height!==n.height&&(null===(w=e.height)||void 0===w||w.call(e),void 0===r.height?le.removeAttribute("height"):e.height=(0,o.setupAttributeUpdate)("height",r.height,le)),r.maxLength!==n.maxLength&&(null===(k=e.maxLength)||void 0===k||k.call(e),void 0===r.maxLength?le.removeAttribute("maxlength"):e.maxLength=(0,o.setupMaxLengthUpdate)(r.maxLength,le)),r.rows!==n.rows&&(null===(P=e.rows)||void 0===P||P.call(e),void 0===r.rows?le.removeAttribute("rows"):e.rows=(0,o.setupRowsUpdate)(r.rows,le)),r.stroke!==n.stroke&&(null===(T=e.stroke)||void 0===T||T.call(e),void 0===r.stroke?le.removeAttribute("stroke"):e.stroke=(0,o.setupAttributeUpdate)("stroke",r.stroke,le)),r.type!==n.type&&(null===(I=e.type)||void 0===I||I.call(e),void 0===r.type?le.removeAttribute("type"):e.type=(0,o.setupAttributeUpdate)("type",r.type,le)),r.value!==n.value&&(null===(x=e.value)||void 0===x||x.call(e),void 0===r.value?le.removeAttribute("value"):e.value=(0,o.setupValueUpdate)(r.value,le)),r.x!==n.x&&(null===(O=e.x)||void 0===O||O.call(e),void 0===r.x?le.removeAttribute("x"):e.x=(0,o.setupAttributeUpdate)("x",r.x,le)),r.width!==n.width&&(null===(A=e.width)||void 0===A||A.call(e),void 0===r.width?le.removeAttribute("width"):e.width=(0,o.setupAttributeUpdate)("width",r.width,le)),r.y!==n.y&&(null===(N=e.y)||void 0===N||N.call(e),void 0===r.y?le.removeAttribute("y"):e.y=(0,o.setupAttributeUpdate)("y",r.y,le)),r.cx!==n.cx&&(null===(R=e.cx)||void 0===R||R.call(e),void 0===r.cx?le.removeAttribute("cx"):e.cx=(0,o.setupAttributeUpdate)("cx",r.cx,le)),r.r!==n.r&&(null===(L=e.r)||void 0===L||L.call(e),void 0===r.r?le.removeAttribute("r"):e.r=(0,o.setupAttributeUpdate)("r",r.r,le)),r.cy!==n.cy&&(null===(D=e.cy)||void 0===D||D.call(e),void 0===r.cy?le.removeAttribute("cy"):e.cy=(0,o.setupAttributeUpdate)("cy",r.cy,le)),r.rx!==n.rx&&(null===(_=e.rx)||void 0===_||_.call(e),void 0===r.rx?le.removeAttribute("rx"):e.rx=(0,o.setupAttributeUpdate)("rx",r.rx,le)),r.ry!==n.ry&&(null===(B=e.ry)||void 0===B||B.call(e),void 0===r.ry?le.removeAttribute("ry"):e.ry=(0,o.setupAttributeUpdate)("ry",r.ry,le)),r.x1!==n.x1&&(null===(W=e.x1)||void 0===W||W.call(e),void 0===r.x1?le.removeAttribute("x1"):e.x1=(0,o.setupAttributeUpdate)("x1",r.x1,le)),r.x2!==n.x2&&(null===(U=e.x2)||void 0===U||U.call(e),void 0===r.x2?le.removeAttribute("x2"):e.x2=(0,o.setupAttributeUpdate)("x2",r.x2,le)),r.y1!==n.y1&&(null===(z=e.y1)||void 0===z||z.call(e),void 0===r.y1?le.removeAttribute("y1"):e.y1=(0,o.setupAttributeUpdate)("y1",r.y1,le)),r.y2!==n.y2&&(null===(j=e.y2)||void 0===j||j.call(e),void 0===r.y2?le.removeAttribute("y2"):e.y2=(0,o.setupAttributeUpdate)("y2",r.y2,le)),r.strokeWidth!==n.strokeWidth&&(null===(H=e.strokeWidth)||void 0===H||H.call(e),void 0===r.strokeWidth?le.removeAttribute("strokeWidth"):e.strokeWidth=(0,o.setupAttributeUpdate)("stroke-width",r.strokeWidth,le)),r.viewBox!==n.viewBox&&(null===(G=e.viewBox)||void 0===G||G.call(e),void 0===r.viewBox?le.removeAttribute("viewBox"):e.viewBox=(0,o.setupViewBoxUpdate)(r.viewBox,le)),r.xLinkHref!==n.xLinkHref&&(null===(V=e.xLinkHref)||void 0===V||V.call(e),void 0===r.xLinkHref?le.removeAttribute("xlink:href"):e.xLinkHref=(0,o.setupAttributeUpdate)("xlink:href",r.xLinkHref,le)),r.fillOpacity!==n.fillOpacity&&(null===($=e.fillOpacity)||void 0===$||$.call(e),void 0===r.fillOpacity?le.removeAttribute("fill-opacity"):e.fillOpacity=(0,o.setupAttributeUpdate)("fill-opacity",r.fillOpacity,le)),r.strokeOpacity!==n.strokeOpacity&&(null===(X=e.strokeOpacity)||void 0===X||X.call(e),void 0===r.strokeOpacity?le.removeAttribute("stroke-opacity"):e.strokeOpacity=(0,o.setupAttributeUpdate)("stroke-opacity",r.strokeOpacity,le)),r.strokeLinecap!==n.strokeLinecap&&(null===(K=e.strokeLinecap)||void 0===K||K.call(e),void 0===r.strokeLinecap?le.removeAttribute("stroke-linecap"):e.strokeLinecap=(0,o.setupAttributeUpdate)("stroke-linecap",r.strokeLinecap,le)),r.strokeLinejoin!==n.strokeLinejoin&&(null===(Y=e.strokeLinejoin)||void 0===Y||Y.call(e),void 0===r.strokeLinejoin?le.removeAttribute("stroke-linejoin"):e.strokeLinejoin=(0,o.setupAttributeUpdate)("stroke-linejoin",r.strokeLinejoin,le)),r.points!==n.points&&(null===(q=e.points)||void 0===q||q.call(e),void 0===r.points?le.removeAttribute("points"):e.points=(0,o.setupAttributeUpdate)("points",r.points,le)),r.offset!==n.offset&&(null===(Q=e.offset)||void 0===Q||Q.call(e),void 0===r.offset?le.removeAttribute("offset"):e.offset=(0,o.setupAttributeUpdate)("offset",r.offset,le)),r.stopColor!==n.stopColor&&(null===(J=e.stopColor)||void 0===J||J.call(e),void 0===r.stopColor?le.removeAttribute("stop-color"):e.stopColor=(0,o.setupAttributeUpdate)("stop-color",r.stopColor,le)),r.stopOpacity!==n.stopOpacity&&(null===(Z=e.stopOpacity)||void 0===Z||Z.call(e),void 0===r.stopOpacity?le.removeAttribute("stop-opacity"):e.stopOpacity=(0,o.setupAttributeUpdate)("stop-opacity",r.stopOpacity,le)),r.fontFamily!==n.fontFamily&&(null===(ee=e.fontFamily)||void 0===ee||ee.call(e),void 0===r.fontFamily?le.removeAttribute("font-family"):e.fontFamily=(0,o.setupAttributeUpdate)("font-family",r.fontFamily,le)),r.fontSize!==n.fontSize&&(null===(te=e.fontSize)||void 0===te||te.call(e),void 0===r.fontSize?le.removeAttribute("font-size"):e.fontSize=(0,o.setupAttributeUpdate)("font-size",r.fontSize,le)),r.src!==n.src&&(null===(ae=e.src)||void 0===ae||ae.call(e),void 0===r.src?le.removeAttribute("src"):e.src=(0,o.setupSrcUpdate)(r.src,le)),r.cohinline!==n.cohinline&&(null===(ne=e.cohinline)||void 0===ne||ne.call(e),void 0===r.cohinline?le.removeAttribute("cohinline"):e.cohinline=(0,o.setupAttributeUpdate)("cohinline",r.cohinline,le)),r.onClick!==n.onClick&&(n.onClick&&le.removeEventListener("click",n.onClick),r.onClick&&le.addEventListener("click",r.onClick)),r.onFocus!==n.onFocus&&(n.onFocus&&le.removeEventListener("focus",n.onFocus),r.onFocus&&le.addEventListener("focus",r.onFocus)),r.onBlur!==n.onBlur&&(n.onBlur&&le.removeEventListener("blur",n.onBlur),r.onBlur&&le.addEventListener("blur",r.onBlur)),r.onMouseDown!==n.onMouseDown&&(n.onMouseDown&&le.removeEventListener("mousedown",n.onMouseDown),r.onMouseDown&&le.addEventListener("mousedown",r.onMouseDown)),r.onMouseMove!==n.onMouseMove&&(n.onMouseMove&&le.removeEventListener("mousemove",n.onMouseMove),r.onMouseMove&&le.addEventListener("mousemove",r.onMouseMove)),r.onMouseEnter!==n.onMouseEnter&&(n.onMouseEnter&&le.removeEventListener("mouseenter",n.onMouseEnter),r.onMouseEnter&&le.addEventListener("mouseenter",r.onMouseEnter)),r.onMouseLeave!==n.onMouseLeave&&(n.onMouseLeave&&le.removeEventListener("mouseleave",n.onMouseLeave),r.onMouseLeave&&le.addEventListener("mouseleave",r.onMouseLeave)),r.onMouseUp!==n.onMouseUp&&(n.onMouseUp&&le.removeEventListener("mouseup",n.onMouseUp),r.onMouseUp&&le.addEventListener("mouseup",r.onMouseUp)),r.onTouchStart!==n.onTouchStart&&(n.onTouchStart&&le.removeEventListener("touchstart",n.onTouchStart),r.onTouchStart&&le.addEventListener("touchstart",r.onTouchStart)),r.onTouchMove!==n.onTouchMove&&(n.onTouchMove&&le.removeEventListener("touchmove",n.onTouchMove),r.onTouchMove&&le.addEventListener("touchmove",r.onTouchMove)),r.onTouchEnd!==n.onTouchEnd&&(n.onTouchEnd&&le.removeEventListener("touchend",n.onTouchEnd),r.onTouchEnd&&le.addEventListener("touchend",r.onTouchEnd)),r.onTouchMove!==n.onTouchMove&&(n.onTouchMove&&le.removeEventListener("touchmove",n.onTouchMove),r.onTouchMove&&le.addEventListener("touchmove",r.onTouchMove)),r.onTouchEnd!==n.onTouchEnd&&(n.onTouchEnd&&le.removeEventListener("touchend",n.onTouchEnd),r.onTouchEnd&&le.addEventListener("touchend",r.onTouchEnd)),r.onKeyPress!==n.onKeyPress&&(n.onKeyPress&&le.removeEventListener("keypress",n.onKeyPress),r.onKeyPress&&le.addEventListener("keypress",r.onKeyPress)),r.onKeyDown!==n.onKeyDown&&(n.onKeyDown&&le.removeEventListener("keydown",n.onKeyDown),r.onKeyDown&&le.addEventListener("keydown",r.onKeyDown)),r.onKeyUp!==n.onKeyUp&&(n.onKeyUp&&le.removeEventListener("keyup",n.onKeyUp),r.onKeyUp&&le.addEventListener("keyup",r.onKeyUp))},commitTextUpdate:function(e,t,a){e.element.nodeValue=a},appendInitialChild:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChildToContainer:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChild:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},insertBefore:function(e,t,a){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,a.element)},removeChild:function(e,t){(0,n.isElementContainer)(t)&&c(e,t),e.element.removeChild(t.element)},insertInContainerBefore:function(e,t,a){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,a.element)},removeChildFromContainer:function(e,t){(0,n.isElementContainer)(t)&&c(e,t),e.element.removeChild(t.element)},resetTextContent:function(e){e.element.textContent=""},getPublicInstance:function(e){return e.element},hideInstance(e){var a,n;if((0,t.isTextElement)(e.element))return e.text&&e.text(),void(e.element.nodeValue="");null===(a=e.styleUnsubscribers)||void 0===a||a.forEach((e=>e())),null===(n=e.styleUnsubscribers)||void 0===n||n.clear(),e.element.style.display="none"},unhideInstance(e,a){var n;(0,t.isTextElement)(e.element)?e.text=(0,o.setupTextUpdate)(a.text,e.element):void 0!==a.style?(0,o.setupStyleUpdate)(a.style,null!==(n=e.style)&&void 0!==n?n:e.element.style,e.styleUnsubscribers):e.element.style.display=""}}),t.isTextElement=e=>null===e.style;const c=(e,t)=>{var a,n,r,l,o,i,s,u,d,m,p,f,g,E,b,h,v,F,y,S,C,M,w,k,P,T,I,x,O,A,N,R,L,D,_,B,W,U,z,j,H,G,V,$,X,K,Y,q,Q,J,Z,ee;e.children.delete(t),null===(a=t.styleUnsubscribers)||void 0===a||a.forEach((e=>e())),null===(n=t.styleUnsubscribers)||void 0===n||n.clear(),t.children.forEach(c),t.children.clear(),null===(r=t.className)||void 0===r||r.call(t),null===(l=t.cx)||void 0===l||l.call(t),null===(o=t.cy)||void 0===o||o.call(t),null===(i=t.d)||void 0===i||i.call(t),null===(s=t["data-droppable"])||void 0===s||s.call(t),null===(u=t["data-narrate"])||void 0===u||u.call(t),null===(d=t["data-narrate-as"])||void 0===d||d.call(t),null===(m=t["data-narrate-after"])||void 0===m||m.call(t),null===(p=t["data-narrate-before"])||void 0===p||p.call(t),null===(f=t["data-testid"])||void 0===f||f.call(t),null===(g=t["data-x-ray"])||void 0===g||g.call(t),null===(E=t.fill)||void 0===E||E.call(t),null===(b=t.id)||void 0===b||b.call(t),null===(h=t.src)||void 0===h||h.call(t),null===(v=t.height)||void 0===v||v.call(t),null===(F=t.href)||void 0===F||F.call(t),null===(y=t.target)||void 0===y||y.call(t),null===(S=t.autoPlay)||void 0===S||S.call(t),null===(C=t.loop)||void 0===C||C.call(t),null===(M=t.disabled)||void 0===M||M.call(t),null===(w=t.maxLength)||void 0===w||w.call(t),null===(k=t.r)||void 0===k||k.call(t),null===(P=t.rx)||void 0===P||P.call(t),null===(T=t.ry)||void 0===T||T.call(t),null===(I=t.rows)||void 0===I||I.call(t),null===(x=t.stroke)||void 0===x||x.call(t),null===(O=t.strokeWidth)||void 0===O||O.call(t),null===(A=t.type)||void 0===A||A.call(t),null===(N=t.text)||void 0===N||N.call(t),null===(R=t.value)||void 0===R||R.call(t),null===(L=t.x)||void 0===L||L.call(t),null===(D=t.x1)||void 0===D||D.call(t),null===(_=t.x2)||void 0===_||_.call(t),null===(B=t.width)||void 0===B||B.call(t),null===(W=t.y)||void 0===W||W.call(t),null===(U=t.y1)||void 0===U||U.call(t),null===(z=t.y2)||void 0===z||z.call(t),null===(j=t.viewBox)||void 0===j||j.call(t),null===(H=t.xLinkHref)||void 0===H||H.call(t),null===(G=t.fillOpacity)||void 0===G||G.call(t),null===(V=t.strokeOpacity)||void 0===V||V.call(t),null===($=t.strokeLinecap)||void 0===$||$.call(t),null===(X=t.strokeLinejoin)||void 0===X||X.call(t),null===(K=t.points)||void 0===K||K.call(t),null===(Y=t.offset)||void 0===Y||Y.call(t),null===(q=t.stopColor)||void 0===q||q.call(t),null===(Q=t.stopOpacity)||void 0===Q||Q.call(t),null===(J=t.fontFamily)||void 0===J||J.call(t),null===(Z=t.fontSize)||void 0===Z||Z.call(t),null===(ee=t.cohinline)||void 0===ee||ee.call(t)},i=()=>{},s={},u={"fast-a":"a","fast-div":"div","fast-p":"p","fast-img":"img","fast-input":"input","fast-span":"span","fast-textarea":"textarea","fast-text":"span",a:"a",div:"div",p:"p",img:"img",textarea:"textarea",input:"input",style:"style"},d={"fast-circle":"circle","fast-ellipse":"ellipse","fast-line":"line","fast-path":"path","fast-rect":"rect","fast-svg":"svg","fast-foreignObject":"foreignObject","fast-use":"use","fast-polyline":"polyline","fast-polygon":"polygon","fast-linearGradient":"linearGradient","fast-radialGradient":"radialGradient","fast-stop":"stop","fast-svg-text":"text","fast-pattern":"pattern",circle:"circle",ellipse:"ellipse",line:"line",path:"path",rect:"rect",svg:"svg",foreignObject:"foreignObject",symbol:"symbol",g:"g",use:"use",defs:"defs",polyline:"polyline",polygon:"polygon",linearGradient:"linearGradient",radialGradient:"radialGradient",stop:"stop",text:"text",pattern:"pattern"}},7358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementContainer=void 0,t.isElementContainer=e=>"children"in e},3130:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacet=t.SharedFacetDriverProvider=t.sharedFacetDriverContext=void 0;const n=a(67294);t.sharedFacetDriverContext=(0,n.createContext)((()=>()=>{})),t.SharedFacetDriverProvider=t.sharedFacetDriverContext.Provider,t.useSharedFacet=e=>e((0,n.useContext)(t.sharedFacetDriverContext))},30401:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(3130),t),r(a(37350),t),r(a(51090),t),r(a(15685),t),r(a(60815),t),r(a(20206),t)},5811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Map;return a=>{const n=t.get(a);if(n)return n;const r=e(a);return t.set(a,r),r}}},37350:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedDynamicSelector=void 0;const r=n(a(5811)),l=a(88572),o=a(15685);t.sharedDynamicSelector=function(e,t=l.defaultEqualityCheck){return(0,r.default)((a=>{const[n,c]=e(a),i=(0,r.default)((e=>o.sharedSelector(n,c,t)(e)));return i.factory=l.FACET_FACTORY,i}))}},51090:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedFacet=void 0;const r=n(a(5811)),l=a(88572);t.sharedFacet=function(e,t=l.NO_VALUE){const a=(0,r.default)((a=>(0,l.createFacet)({initialValue:t,startSubscription:t=>a(e,t)})));return a.factory=l.FACET_FACTORY,a}},15685:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedSelector=void 0;const r=n(a(5811)),l=a(88572);t.sharedSelector=function(e,t,a=l.defaultEqualityCheck){const n=(0,r.default)((n=>(0,l.mapFacetsCached)(t.map((e=>e(n))),e,a)));return n.factory=l.FACET_FACTORY,n}},60815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20206:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacetPropSetter=void 0;const n=a(88572),r=a(3130);t.useSharedFacetPropSetter=function(e,t){return(0,n.useFacetCallback)((e=>a=>{e[t]=a}),[t],[(0,r.useSharedFacet)(e)])}},33434:()=>{},81971:(e,t,a)=>{"use strict";a.d(t,{shallowObjectEqualityCheck:()=>c,strictShallowObjectEqualityCheck:()=>o});var n=a(88572);a.o(n,"Map")&&a.d(t,{Map:function(){return n.Map}}),a.o(n,"Mount")&&a.d(t,{Mount:function(){return n.Mount}}),a.o(n,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return n.NO_VALUE}}),a.o(n,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return n.SharedFacetDriverProvider}}),a.o(n,"Unwrap")&&a.d(t,{Unwrap:function(){return n.Unwrap}}),a.o(n,"With")&&a.d(t,{With:function(){return n.With}}),a.o(n,"createFacet")&&a.d(t,{createFacet:function(){return n.createFacet}}),a.o(n,"createFacetContext")&&a.d(t,{createFacetContext:function(){return n.createFacetContext}}),a.o(n,"createPortal")&&a.d(t,{createPortal:function(){return n.createPortal}}),a.o(n,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return n.createStaticFacet}}),a.o(n,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return n.createUniformArrayEqualityCheck}}),a.o(n,"isFacet")&&a.d(t,{isFacet:function(){return n.isFacet}}),a.o(n,"mapFacetsLightweight")&&a.d(t,{mapFacetsLightweight:function(){return n.mapFacetsLightweight}}),a.o(n,"multiObserve")&&a.d(t,{multiObserve:function(){return n.multiObserve}}),a.o(n,"render")&&a.d(t,{render:function(){return n.render}}),a.o(n,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return n.sharedDynamicSelector}}),a.o(n,"sharedFacet")&&a.d(t,{sharedFacet:function(){return n.sharedFacet}}),a.o(n,"sharedSelector")&&a.d(t,{sharedSelector:function(){return n.sharedSelector}}),a.o(n,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return n.useFacetCallback}}),a.o(n,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return n.useFacetEffect}}),a.o(n,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return n.useFacetLayoutEffect}}),a.o(n,"useFacetMap")&&a.d(t,{useFacetMap:function(){return n.useFacetMap}}),a.o(n,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return n.useFacetMemo}}),a.o(n,"useFacetRef")&&a.d(t,{useFacetRef:function(){return n.useFacetRef}}),a.o(n,"useFacetState")&&a.d(t,{useFacetState:function(){return n.useFacetState}}),a.o(n,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return n.useFacetUnwrap}}),a.o(n,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return n.useFacetWrap}}),a.o(n,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return n.useSharedFacet}});var r=a(47154);a.o(r,"Map")&&a.d(t,{Map:function(){return r.Map}}),a.o(r,"Mount")&&a.d(t,{Mount:function(){return r.Mount}}),a.o(r,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return r.NO_VALUE}}),a.o(r,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return r.SharedFacetDriverProvider}}),a.o(r,"Unwrap")&&a.d(t,{Unwrap:function(){return r.Unwrap}}),a.o(r,"With")&&a.d(t,{With:function(){return r.With}}),a.o(r,"createFacet")&&a.d(t,{createFacet:function(){return r.createFacet}}),a.o(r,"createFacetContext")&&a.d(t,{createFacetContext:function(){return r.createFacetContext}}),a.o(r,"createPortal")&&a.d(t,{createPortal:function(){return r.createPortal}}),a.o(r,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return r.createStaticFacet}}),a.o(r,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return r.createUniformArrayEqualityCheck}}),a.o(r,"isFacet")&&a.d(t,{isFacet:function(){return r.isFacet}}),a.o(r,"mapFacetsLightweight")&&a.d(t,{mapFacetsLightweight:function(){return r.mapFacetsLightweight}}),a.o(r,"multiObserve")&&a.d(t,{multiObserve:function(){return r.multiObserve}}),a.o(r,"render")&&a.d(t,{render:function(){return r.render}}),a.o(r,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return r.sharedDynamicSelector}}),a.o(r,"sharedFacet")&&a.d(t,{sharedFacet:function(){return r.sharedFacet}}),a.o(r,"sharedSelector")&&a.d(t,{sharedSelector:function(){return r.sharedSelector}}),a.o(r,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return r.useFacetCallback}}),a.o(r,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return r.useFacetEffect}}),a.o(r,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return r.useFacetLayoutEffect}}),a.o(r,"useFacetMap")&&a.d(t,{useFacetMap:function(){return r.useFacetMap}}),a.o(r,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return r.useFacetMemo}}),a.o(r,"useFacetRef")&&a.d(t,{useFacetRef:function(){return r.useFacetRef}}),a.o(r,"useFacetState")&&a.d(t,{useFacetState:function(){return r.useFacetState}}),a.o(r,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return r.useFacetUnwrap}}),a.o(r,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return r.useFacetWrap}}),a.o(r,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return r.useSharedFacet}});var l=a(30401);a.o(l,"Map")&&a.d(t,{Map:function(){return l.Map}}),a.o(l,"Mount")&&a.d(t,{Mount:function(){return l.Mount}}),a.o(l,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return l.NO_VALUE}}),a.o(l,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return l.SharedFacetDriverProvider}}),a.o(l,"Unwrap")&&a.d(t,{Unwrap:function(){return l.Unwrap}}),a.o(l,"With")&&a.d(t,{With:function(){return l.With}}),a.o(l,"createFacet")&&a.d(t,{createFacet:function(){return l.createFacet}}),a.o(l,"createFacetContext")&&a.d(t,{createFacetContext:function(){return l.createFacetContext}}),a.o(l,"createPortal")&&a.d(t,{createPortal:function(){return l.createPortal}}),a.o(l,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return l.createStaticFacet}}),a.o(l,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return l.createUniformArrayEqualityCheck}}),a.o(l,"isFacet")&&a.d(t,{isFacet:function(){return l.isFacet}}),a.o(l,"mapFacetsLightweight")&&a.d(t,{mapFacetsLightweight:function(){return l.mapFacetsLightweight}}),a.o(l,"multiObserve")&&a.d(t,{multiObserve:function(){return l.multiObserve}}),a.o(l,"render")&&a.d(t,{render:function(){return l.render}}),a.o(l,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return l.sharedDynamicSelector}}),a.o(l,"sharedFacet")&&a.d(t,{sharedFacet:function(){return l.sharedFacet}}),a.o(l,"sharedSelector")&&a.d(t,{sharedSelector:function(){return l.sharedSelector}}),a.o(l,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return l.useFacetCallback}}),a.o(l,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return l.useFacetEffect}}),a.o(l,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return l.useFacetLayoutEffect}}),a.o(l,"useFacetMap")&&a.d(t,{useFacetMap:function(){return l.useFacetMap}}),a.o(l,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return l.useFacetMemo}}),a.o(l,"useFacetRef")&&a.d(t,{useFacetRef:function(){return l.useFacetRef}}),a.o(l,"useFacetState")&&a.d(t,{useFacetState:function(){return l.useFacetState}}),a.o(l,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return l.useFacetUnwrap}}),a.o(l,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return l.useFacetWrap}}),a.o(l,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return l.useSharedFacet}});const o=n.shallowObjectEqualityCheck,c=n.shallowObjectEqualityCheck},94184:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var l=typeof a;if("string"===l||"number"===l)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===l)for(var c in a)n.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},76884:(e,t,a)=>{var n,r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+i+"]",u="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",d="\\d+",m="["+o+"]",p="[^\\ud800-\\udfff"+i+d+"\\u2700-\\u27bf"+o+c+"]",f="\\ud83c[\\udffb-\\udfff]",g="[^\\ud800-\\udfff]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+c+"]",v="(?:"+m+"|"+p+")",F="(?:"+h+"|"+p+")",y="(?:['](?:d|ll|m|re|s|t|ve))?",S="(?:['](?:D|LL|M|RE|S|T|VE))?",C="(?:"+u+"|"+f+")?",M="[\\ufe0e\\ufe0f]?",w=M+C+"(?:\\u200d(?:"+[g,E,b].join("|")+")"+M+C+")*",k="(?:"+["[\\u2700-\\u27bf]",E,b].join("|")+")"+w,P="(?:"+[g+u+"?",u,E,b,"[\\ud800-\\udfff]"].join("|")+")",T=RegExp("[']","g"),I=RegExp(u,"g"),x=RegExp(f+"(?="+f+")|"+P+w,"g"),O=RegExp([h+"?"+m+"+"+y+"(?="+[s,h,"$"].join("|")+")",F+"+"+S+"(?="+[s,h+v,"$"].join("|")+")",h+"?"+v+"+"+y,h+"+"+S,d,k].join("|"),"g"),A=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),N=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,R="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,L="object"==typeof self&&self&&self.Object===Object&&self,D=R||L||Function("return this")(),_=(n={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==n?void 0:n[e]});function B(e){return A.test(e)}var W=Object.prototype.toString,U=D.Symbol,z=U?U.prototype:void 0,j=z?z.toString:void 0;function H(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==W.call(e)}(e))return j?j.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var G,V=(G=function(e,t,a){return t=t.toLowerCase(),e+(a?$(H(t).toLowerCase()):t)},function(e){return function(e,t,a,n){for(var r=-1,l=e?e.length:0;++r<l;)a=t(a,e[r],r,e);return a}(function(e,t,a){return e=H(e),void 0===t?function(e){return N.test(e)}(e)?function(e){return e.match(O)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=H(e))&&e.replace(l,_).replace(I,"")}(e).replace(T,"")),G,"")}),$=("toUpperCase",function(e){var t,a,n,r,l=B(e=H(e))?function(e){return B(e)?function(e){return e.match(x)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,o=l?l[0]:e.charAt(0),c=l?(t=l,a=1,r=t.length,n=void 0===n?r:n,!a&&n>=r?t:function(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(a=a>r?r:a)<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var l=Array(r);++n<r;)l[n]=e[n+t];return l}(t,a,n)).join(""):e.slice(1);return o.toUpperCase()+c});e.exports=V},2658:e=>{var t=9007199254740991,a=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,o=/^(?:0|[1-9]\d*)$/,c=parseInt,i=Object.prototype.toString,s=Math.ceil,u=Math.max;function d(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(a=a>r?r:a)<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var l=Array(r);++n<r;)l[n]=e[n+t];return l}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,p,f){p=(f?function(e,a,n){if(!m(n))return!1;var r=typeof a;return!!("number"==r?function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=m(e)?i.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(n)&&function(e,a){return!!(a=null==a?t:a)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<a}(a,n.length):"string"==r&&a in n)&&function(e,t){return e===t||e!=e&&t!=t}(n[a],e)}(e,p,f):void 0===p)?1:u(function(e){var t=function(e){return e?Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==i.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var o=r.test(e);return o||l.test(e)?c(e.slice(2),o?2:8):n.test(e)?NaN:+e}(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),o=t%1;return t==t?o?t-o:t:0}(p),0);var g=e?e.length:0;if(!g||p<1)return[];for(var E=0,b=0,h=Array(s(g/p));E<g;)h[b++]=d(e,E,E+=p);return h}},91296:(e,t,a)=>{var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt,i="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=i||s||Function("return this")(),d=Object.prototype.toString,m=Math.max,p=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=l.test(e);return a||o.test(e)?c(e.slice(2),a?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,a){var n,r,l,o,c,i,s=0,u=!1,d=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var a=n,l=r;return n=r=void 0,s=t,o=e.apply(l,a)}function v(e){return s=e,c=setTimeout(y,t),u?h(e):o}function F(e){var a=e-i;return void 0===i||a>=t||a<0||d&&e-s>=l}function y(){var e=f();if(F(e))return S(e);c=setTimeout(y,function(e){var a=t-(e-i);return d?p(a,l-(e-s)):a}(e))}function S(e){return c=void 0,b&&n?h(e):(n=r=void 0,o)}function C(){var e=f(),a=F(e);if(n=arguments,r=this,i=e,a){if(void 0===c)return v(i);if(d)return c=setTimeout(y,t),h(i)}return void 0===c&&(c=setTimeout(y,t)),o}return t=E(t)||0,g(a)&&(u=!!a.leading,l=(d="maxWait"in a)?m(E(a.maxWait)||0,t):l,b="trailing"in a?!!a.trailing:b),C.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=i=r=c=void 0},C.flush=function(){return void 0===c?o:S(f())},C}},53778:e=>{var t=Array.isArray;e.exports=t},8146:e=>{var t,a,n=Function.prototype,r=Object.prototype,l=n.toString,o=r.hasOwnProperty,c=l.call(Object),i=r.toString,s=(t=Object.getPrototypeOf,a=Object,function(e){return t(a(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=i.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=s(e);if(null===t)return!0;var a=o.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&l.call(a)==c}},35683:(e,t,a)=>{var n,r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+i+"]",u="\\d+",d="["+o+"]",m="[^\\ud800-\\udfff"+i+u+"\\u2700-\\u27bf"+o+c+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",g="["+c+"]",E="(?:"+d+"|"+m+")",b="(?:"+g+"|"+m+")",h="(?:['](?:d|ll|m|re|s|t|ve))?",v="(?:['](?:D|LL|M|RE|S|T|VE))?",F="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",S=y+F+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",p,f].join("|")+")"+y+F+")*",C="(?:"+["[\\u2700-\\u27bf]",p,f].join("|")+")"+S,M=RegExp("[']","g"),w=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),k=RegExp([g+"?"+d+"+"+h+"(?="+[s,g,"$"].join("|")+")",b+"+"+v+"(?="+[s,g+E,"$"].join("|")+")",g+"?"+E+"+"+h,g+"+"+v,u,C].join("|"),"g"),P=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,T="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,I="object"==typeof self&&self&&self.Object===Object&&self,x=T||I||Function("return this")(),O=(n={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==n?void 0:n[e]}),A=Object.prototype.toString,N=x.Symbol,R=N?N.prototype:void 0,L=R?R.toString:void 0;function D(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==A.call(e)}(e))return L?L.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var _,B=(_=function(e,t,a){return e+(a?"-":"")+t.toLowerCase()},function(e){return function(e,t,a,n){for(var r=-1,l=e?e.length:0;++r<l;)a=t(a,e[r],r,e);return a}(function(e,t,a){return e=D(e),void 0===t?function(e){return P.test(e)}(e)?function(e){return e.match(k)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=D(e))&&e.replace(l,O).replace(w,"")}(e).replace(M,"")),_,"")});e.exports=B},17833:e=>{e.exports=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},72378:(e,t,a)=>{e=a.nmd(e);var n="__lodash_hash_undefined__",r=9007199254740991,l="[object Arguments]",o="[object Function]",c="[object Object]",i=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[l]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[o]=u["[object Map]"]=u["[object Number]"]=u[c]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,m="object"==typeof self&&self&&self.Object===Object&&self,p=d||m||Function("return this")(),f=t&&!t.nodeType&&t,g=f&&e&&!e.nodeType&&e,E=g&&g.exports===f,b=E&&d.process,h=function(){try{return g&&g.require&&g.require("util").types||b&&b.binding&&b.binding("util")}catch(e){}}(),v=h&&h.isTypedArray;function F(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}var y,S,C,M=Array.prototype,w=Function.prototype,k=Object.prototype,P=p["__core-js_shared__"],T=w.toString,I=k.hasOwnProperty,x=(y=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",O=k.toString,A=T.call(Object),N=RegExp("^"+T.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=E?p.Buffer:void 0,L=p.Symbol,D=p.Uint8Array,_=(R&&R.allocUnsafe,S=Object.getPrototypeOf,C=Object,function(e){return S(C(e))}),B=Object.create,W=k.propertyIsEnumerable,U=M.splice,z=L?L.toStringTag:void 0,j=function(){try{var e=ie(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),H=R?R.isBuffer:void 0,G=Math.max,V=Date.now,$=ie(p,"Map"),X=ie(Object,"create"),K=function(){function e(){}return function(t){if(!Fe(t))return{};if(B)return B(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function Y(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function q(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function Q(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function J(e){var t=this.__data__=new q(e);this.size=t.size}function Z(e,t,a){(void 0!==a&&!pe(e[t],a)||void 0===a&&!(t in e))&&ae(e,t,a)}function ee(e,t,a){var n=e[t];I.call(e,t)&&pe(n,a)&&(void 0!==a||t in e)||ae(e,t,a)}function te(e,t){for(var a=e.length;a--;)if(pe(e[a][0],t))return a;return-1}function ae(e,t,a){"__proto__"==t&&j?j(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}Y.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(X){var a=t[e];return a===n?void 0:a}return I.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:I.call(t,e)},Y.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=X&&void 0===t?n:t,this},q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(e){var t=this.__data__,a=te(t,e);return!(a<0||(a==t.length-1?t.pop():U.call(t,a,1),--this.size,0))},q.prototype.get=function(e){var t=this.__data__,a=te(t,e);return a<0?void 0:t[a][1]},q.prototype.has=function(e){return te(this.__data__,e)>-1},q.prototype.set=function(e,t){var a=this.__data__,n=te(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this},Q.prototype.clear=function(){this.size=0,this.__data__={hash:new Y,map:new($||q),string:new Y}},Q.prototype.delete=function(e){var t=ce(this,e).delete(e);return this.size-=t?1:0,t},Q.prototype.get=function(e){return ce(this,e).get(e)},Q.prototype.has=function(e){return ce(this,e).has(e)},Q.prototype.set=function(e,t){var a=ce(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},J.prototype.clear=function(){this.__data__=new q,this.size=0},J.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},J.prototype.get=function(e){return this.__data__.get(e)},J.prototype.has=function(e){return this.__data__.has(e)},J.prototype.set=function(e,t){var a=this.__data__;if(a instanceof q){var n=a.__data__;if(!$||n.length<199)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new Q(n)}return a.set(e,t),this.size=a.size,this};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?function(e){var t=I.call(e,z),a=e[z];try{e[z]=void 0;var n=!0}catch(e){}var r=O.call(e);return n&&(t?e[z]=a:delete e[z]),r}(e):function(e){return O.call(e)}(e)}function re(e){return ye(e)&&ne(e)==l}function le(e,t,a,n,r){e!==t&&function(e,t,a){for(var n=-1,r=Object(e),l=a(e),o=l.length;o--;){var c=l[++n];if(!1===t(r[c],c,r))break}}(t,(function(l,o){if(r||(r=new J),Fe(l))!function(e,t,a,n,r,l,o){var i=de(e,a),s=de(t,a),u=o.get(s);if(u)Z(e,a,u);else{var d,m,p,f,g,E=l?l(i,s,a+"",e,t,o):void 0,b=void 0===E;if(b){var h=ge(s),v=!h&&be(s),F=!h&&!v&&Se(s);E=s,h||v||F?ge(i)?E=i:ye(g=i)&&Ee(g)?E=function(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}(i):v?(b=!1,E=function(e,t){return e.slice()}(s)):F?(b=!1,f=new(p=(d=s).buffer).constructor(p.byteLength),new D(f).set(new D(p)),m=f,E=new d.constructor(m,d.byteOffset,d.length)):E=[]:function(e){if(!ye(e)||ne(e)!=c)return!1;var t=_(e);if(null===t)return!0;var a=I.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&T.call(a)==A}(s)||fe(s)?(E=i,fe(i)?E=function(e){return function(e,t,a,n){var r=!a;a||(a={});for(var l=-1,o=t.length;++l<o;){var c=t[l],i=void 0;void 0===i&&(i=e[c]),r?ae(a,c,i):ee(a,c,i)}return a}(e,Ce(e))}(i):Fe(i)&&!he(i)||(E=function(e){return"function"!=typeof e.constructor||ue(e)?{}:K(_(e))}(s))):b=!1}b&&(o.set(s,E),r(E,s,n,l,o),o.delete(s)),Z(e,a,E)}}(e,t,o,a,le,n,r);else{var i=n?n(de(e,o),l,o+"",e,t,r):void 0;void 0===i&&(i=l),Z(e,o,i)}}),Ce)}var oe=j?function(e,t){return j(e,"toString",{configurable:!0,enumerable:!1,value:(a=t,function(){return a}),writable:!0});var a}:ke;function ce(e,t){var a,n,r=e.__data__;return("string"==(n=typeof(a=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==a:null===a)?r["string"==typeof t?"string":"hash"]:r.map}function ie(e,t){var a=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Fe(e)||function(e){return!!x&&x in e}(e))&&(he(e)?N:i).test(function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(a)?a:void 0}function se(e,t){var a=typeof e;return!!(t=null==t?r:t)&&("number"==a||"symbol"!=a&&s.test(e))&&e>-1&&e%1==0&&e<t}function ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var me=function(e){var t=0,a=0;return function(){var n=V(),r=16-(n-a);if(a=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(oe);function pe(e,t){return e===t||e!=e&&t!=t}var fe=re(function(){return arguments}())?re:function(e){return ye(e)&&I.call(e,"callee")&&!W.call(e,"callee")},ge=Array.isArray;function Ee(e){return null!=e&&ve(e.length)&&!he(e)}var be=H||function(){return!1};function he(e){if(!Fe(e))return!1;var t=ne(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ye(e){return null!=e&&"object"==typeof e}var Se=v?function(e){return function(t){return e(t)}}(v):function(e){return ye(e)&&ve(e.length)&&!!u[ne(e)]};function Ce(e){return Ee(e)?function(e,t){var a=ge(e),n=!a&&fe(e),r=!a&&!n&&be(e),l=!a&&!n&&!r&&Se(e),o=a||n||r||l,c=o?function(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}(e.length,String):[],i=c.length;for(var s in e)!t&&!I.call(e,s)||o&&("length"==s||r&&("offset"==s||"parent"==s)||l&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||se(s,i))||c.push(s);return c}(e,!0):function(e){if(!Fe(e))return function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}(e);var t=ue(e),a=[];for(var n in e)("constructor"!=n||!t&&I.call(e,n))&&a.push(n);return a}(e)}var Me,we=(Me=function(e,t,a){le(e,t,a)},function(e,t){return me(function(e,t,a){return t=G(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,l=G(n.length-t,0),o=Array(l);++r<l;)o[r]=n[t+r];r=-1;for(var c=Array(t+1);++r<t;)c[r]=n[r];return c[t]=a(o),F(e,this,c)}}(e,t,ke),e+"")}((function(e,t){var a=-1,n=t.length,r=n>1?t[n-1]:void 0,l=n>2?t[2]:void 0;for(r=Me.length>3&&"function"==typeof r?(n--,r):void 0,l&&function(e,t,a){if(!Fe(a))return!1;var n=typeof t;return!!("number"==n?Ee(a)&&se(t,a.length):"string"==n&&t in a)&&pe(a[t],e)}(t[0],t[1],l)&&(r=n<3?void 0:r,n=1),e=Object(e);++a<n;){var o=t[a];o&&Me(e,o,a)}return e})));function ke(e){return e}e.exports=we},93096:(e,t,a)=>{var n="Expected a function",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,i=parseInt,s="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=s||u||Function("return this")(),m=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return d.Date.now()};function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=o.test(e);return a||c.test(e)?i(e.slice(2),a?2:8):l.test(e)?NaN:+e}e.exports=function(e,t,a){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(n);return E(a)&&(r="leading"in a?!!a.leading:r,l="trailing"in a?!!a.trailing:l),function(e,t,a){var r,l,o,c,i,s,u=0,d=!1,m=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function v(t){var a=r,n=l;return r=l=void 0,u=t,c=e.apply(n,a)}function F(e){return u=e,i=setTimeout(S,t),d?v(e):c}function y(e){var a=e-s;return void 0===s||a>=t||a<0||m&&e-u>=o}function S(){var e=g();if(y(e))return C(e);i=setTimeout(S,function(e){var a=t-(e-s);return m?f(a,o-(e-u)):a}(e))}function C(e){return i=void 0,h&&r?v(e):(r=l=void 0,c)}function M(){var e=g(),a=y(e);if(r=arguments,l=this,s=e,a){if(void 0===i)return F(s);if(m)return i=setTimeout(S,t),v(s)}return void 0===i&&(i=setTimeout(S,t)),c}return t=b(t)||0,E(a)&&(d=!!a.leading,o=(m="maxWait"in a)?p(b(a.maxWait)||0,t):o,h="trailing"in a?!!a.trailing:h),M.cancel=function(){void 0!==i&&clearTimeout(i),u=0,r=s=l=i=void 0},M.flush=function(){return void 0===i?c:C(g())},M}(e,t,{leading:r,maxWait:t,trailing:l})}},51481:(e,t,a)=>{var n=a(79002),r=a(74023),l=n((function(e,t){return r(e,t,[],[])}));e.exports=l},46376:(e,t,a)=>{var n=a(79002)(a(34793)(["find"],a(47855),(function(e,t){for(var a=0,n=t.length;a<n;){if(e(t[a]))return t[a];a+=1}})));e.exports=n},59270:(e,t,a)=>{var n=a(87243),r=a(79002)(n);e.exports=r},54118:e=>{e.exports=function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}},73542:(e,t,a)=>{var n=a(20219);e.exports=function(e,t){return function(){var a=arguments.length;if(0===a)return t();var r=arguments[a-1];return n(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,a-1))}}},76224:(e,t,a)=>{var n=a(36464);e.exports=function(e){return function t(a){return 0===arguments.length||n(a)?t:e.apply(this,arguments)}}},79002:(e,t,a)=>{var n=a(76224),r=a(36464);e.exports=function(e){return function t(a,l){switch(arguments.length){case 0:return t;case 1:return r(a)?t:n((function(t){return e(a,t)}));default:return r(a)&&r(l)?t:r(a)?n((function(t){return e(t,l)})):r(l)?n((function(t){return e(a,t)})):e(a,l)}}}},16370:(e,t,a)=>{var n=a(76224),r=a(79002),l=a(36464);e.exports=function(e){return function t(a,o,c){switch(arguments.length){case 0:return t;case 1:return l(a)?t:r((function(t,n){return e(a,t,n)}));case 2:return l(a)&&l(o)?t:l(a)?r((function(t,a){return e(t,o,a)})):l(o)?r((function(t,n){return e(a,t,n)})):n((function(t){return e(a,o,t)}));default:return l(a)&&l(o)&&l(c)?t:l(a)&&l(o)?r((function(t,a){return e(t,a,c)})):l(a)&&l(c)?r((function(t,a){return e(t,o,a)})):l(o)&&l(c)?r((function(t,n){return e(a,t,n)})):l(a)?n((function(t){return e(t,o,c)})):l(o)?n((function(t){return e(a,t,c)})):l(c)?n((function(t){return e(a,o,t)})):e(a,o,c)}}}},34793:(e,t,a)=>{var n=a(20219),r=a(69082);e.exports=function(e,t,a){return function(){if(0===arguments.length)return a();var l=Array.prototype.slice.call(arguments,0),o=l.pop();if(!n(o)){for(var c=0;c<e.length;){if("function"==typeof o[e[c]])return o[e[c]].apply(o,l);c+=1}if(r(o)){var i=t.apply(null,l);return i(o)}}return a.apply(this,arguments)}}},74023:(e,t,a)=>{var n=a(54118),r=a(82976),l=a(4931),o=a(87684),c=a(21361),i=a(90368),s=a(36433);function u(e,t,a,l){var o=n(e),c=n(t);function i(e,t){return d(e,t,a.slice(),l.slice())}return!r((function(e,t){return!r(i,t,e)}),c,o)}function d(e,t,a,n){if(c(e,t))return!0;var r=s(e);if(r!==s(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===l(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!c(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!c(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var m=a.length-1;m>=0;){if(a[m]===e)return n[m]===t;m-=1}switch(r){case"Map":return e.size===t.size&&u(e.entries(),t.entries(),a.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&u(e.values(),t.values(),a.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=i(e);if(p.length!==i(t).length)return!1;var f=a.concat([e]),g=n.concat([t]);for(m=p.length-1;m>=0;){var E=p[m];if(!o(E,t)||!d(t[E],e[E],f,g))return!1;m-=1}return!0}e.exports=d},4931:e=>{e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},87684:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},87243:(e,t,a)=>{var n=a(96069);e.exports=function(e,t){return n(t,e,0)>=0}},82976:e=>{e.exports=function(e,t,a){for(var n=0,r=a.length;n<r;){if(e(t,a[n]))return!0;n+=1}return!1}},96069:(e,t,a)=>{var n=a(51481);e.exports=function(e,t,a){var r,l;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;a<e.length;){if(0===(l=e[a])&&1/l===r)return a;a+=1}return-1}if(t!=t){for(;a<e.length;){if("number"==typeof(l=e[a])&&l!=l)return a;a+=1}return-1}return e.indexOf(t,a);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,a);case"object":if(null===t)return e.indexOf(t,a)}for(;a<e.length;){if(n(e[a],t))return a;a+=1}return-1}},97587:(e,t,a)=>{var n=a(87684),r=Object.prototype.toString,l=function(){return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(e){return n("callee",e)}}();e.exports=l},20219:e=>{e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},36464:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},69082:e=>{e.exports=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}},21361:e=>{e.exports="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},22157:e=>{e.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},93714:e=>{e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},47855:(e,t,a)=>{var n=a(79002),r=a(22157),l=a(93714),o=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=l.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=r(this.xf["@@transducer/step"](e,t))),e},e}(),c=n((function(e,t){return new o(e,t)}));e.exports=c},90368:(e,t,a)=>{var n=a(76224),r=a(87684),l=a(97587),o=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],i=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),s=function(e,t){for(var a=0;a<e.length;){if(e[a]===t)return!0;a+=1}return!1},u="function"!=typeof Object.keys||i?n((function(e){if(Object(e)!==e)return[];var t,a,n=[],u=i&&l(e);for(t in e)!r(t,e)||u&&"length"===t||(n[n.length]=t);if(o)for(a=c.length-1;a>=0;)r(t=c[a],e)&&!s(n,t)&&(n[n.length]=t),a-=1;return n})):n((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=u},18371:(e,t,a)=>{var n=a(16370),r=a(51481),l=n((function(e,t,a){return r(t,a[e])}));e.exports=l},81753:(e,t,a)=>{var n=a(73542),r=a(16370)(n("slice",(function(e,t,a){return Array.prototype.slice.call(a,e,t)})));e.exports=r},59241:(e,t,a)=>{var n=a(79002),r=a(81753),l=n((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var a=[],n=0;n<t.length;)a.push(r(n,n+=e,t));return a}));e.exports=l},32250:(e,t,a)=>{var n=a(79002)((function(e,t){var a,n=Number(t),r=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);r<n;)a[r]=e(r),r+=1;return a}));e.exports=n},36433:(e,t,a)=>{var n=a(76224)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=n},46511:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1,t.IdleEventPriority=536870912,t.LegacyRoot=0},67287:(e,t,a)=>{e.exports=function(e){var t={},n=a(67294),r=a(60373),l=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=Symbol.for("react.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var y=Symbol.iterator;function S(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=y&&e[y]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case u:return"Fragment";case s:return"Portal";case m:return"Profiler";case d:return"StrictMode";case E:return"Suspense";case b:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case g:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case h:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case v:t=e._payload,e=e._init;try{return C(e(t))}catch(e){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(t);case 8:return t===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function w(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function k(e){if(w(e)!==e)throw Error(o(188))}function P(e){var t=e.alternate;if(!t){if(null===(t=w(e)))throw Error(o(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(n=r.return)){a=n;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return k(r),e;if(l===n)return k(r),t;l=l.sibling}throw Error(o(188))}if(a.return!==n.return)a=r,n=l;else{for(var c=!1,i=r.child;i;){if(i===a){c=!0,a=r,n=l;break}if(i===n){c=!0,n=r,a=l;break}i=i.sibling}if(!c){for(i=l.child;i;){if(i===a){c=!0,a=l,n=r;break}if(i===n){c=!0,n=l,a=r;break}i=i.sibling}if(!c)throw Error(o(189))}}if(a.alternate!==n)throw Error(o(190))}if(3!==a.tag)throw Error(o(188));return a.stateNode.current===a?e:t}function T(e){return null!==(e=P(e))?I(e):null}function I(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=I(e);if(null!==t)return t;e=e.sibling}return null}function x(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=x(e);if(null!==t)return t}e=e.sibling}return null}var O,A=Array.isArray,N=e.getPublicInstance,R=e.getRootHostContext,L=e.getChildHostContext,D=e.prepareForCommit,_=e.resetAfterCommit,B=e.createInstance,W=e.appendInitialChild,U=e.finalizeInitialChildren,z=e.prepareUpdate,j=e.shouldSetTextContent,H=e.createTextInstance,G=e.scheduleTimeout,V=e.cancelTimeout,$=e.noTimeout,X=e.isPrimaryRenderer,K=e.supportsMutation,Y=e.supportsPersistence,q=e.supportsHydration,Q=e.getInstanceFromNode,J=e.preparePortalMount,Z=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ae=e.scheduleMicrotask,ne=e.supportsTestSelectors,re=e.findFiberRoot,le=e.getBoundingRect,oe=e.getTextContent,ce=e.isHiddenSubtree,ie=e.matchAccessibilityRole,se=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,de=e.appendChild,me=e.appendChildToContainer,pe=e.commitTextUpdate,fe=e.commitMount,ge=e.commitUpdate,Ee=e.insertBefore,be=e.insertInContainerBefore,he=e.removeChild,ve=e.removeChildFromContainer,Fe=e.resetTextContent,ye=e.hideInstance,Se=e.hideTextInstance,Ce=e.unhideInstance,Me=e.unhideTextInstance,we=e.clearContainer,ke=e.cloneInstance,Pe=e.createContainerChildSet,Te=e.appendChildToContainerChildSet,Ie=e.finalizeContainerChildren,xe=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,Ae=e.cloneHiddenTextInstance,Ne=e.canHydrateInstance,Re=e.canHydrateTextInstance,Le=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,_e=e.isSuspenseInstanceFallback,Be=e.registerSuspenseInstanceRetry,We=e.getNextHydratableSibling,Ue=e.getFirstHydratableChild,ze=e.getFirstHydratableChildWithinContainer,je=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,Ge=e.hydrateTextInstance,Ve=e.hydrateSuspenseInstance,$e=e.getNextHydratableInstanceAfterSuspenseInstance,Xe=e.commitHydratedContainer,Ke=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,qe=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,Ze=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var tt=!1;function at(e,t){if(!e||tt)return"";tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var r=t.stack.split("\n"),l=n.stack.split("\n"),o=r.length-1,c=l.length-1;1<=o&&0<=c&&r[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(r[o]!==l[c]){if(1!==o||1!==c)do{if(o--,0>--c||r[o]!==l[c]){var i="\n"+r[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=o&&0<=c);break}}}finally{tt=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?et(e):""}var nt=Object.prototype.hasOwnProperty,rt=[],lt=-1;function ot(e){return{current:e}}function ct(e){0>lt||(e.current=rt[lt],rt[lt]=null,lt--)}function it(e,t){lt++,rt[lt]=e.current,e.current=t}var st={},ut=ot(st),dt=ot(!1),mt=st;function pt(e,t){var a=e.type.contextTypes;if(!a)return st;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in a)l[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ft(e){return null!=e.childContextTypes}function gt(){ct(dt),ct(ut)}function Et(e,t,a){if(ut.current!==st)throw Error(o(168));it(ut,t),it(dt,a)}function bt(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return a;for(var r in n=n.getChildContext())if(!(r in t))throw Error(o(108,M(e)||"Unknown",r));return l({},a,n)}function ht(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||st,mt=ut.current,it(ut,e),it(dt,dt.current),!0}function vt(e,t,a){var n=e.stateNode;if(!n)throw Error(o(169));a?(e=bt(e,t,mt),n.__reactInternalMemoizedMergedChildContext=e,ct(dt),ct(ut),it(ut,e)):ct(dt),it(dt,a)}var Ft=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(yt(e)/St|0)|0},yt=Math.log,St=Math.LN2,Ct=64,Mt=4194304;function wt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kt(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,r=e.suspendedLanes,l=e.pingedLanes,o=268435455&a;if(0!==o){var c=o&~r;0!==c?n=wt(c):0!=(l&=o)&&(n=wt(l))}else 0!=(o=a&~r)?n=wt(o):0!==l&&(n=wt(l));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&r)&&((r=n&-n)>=(l=t&-t)||16===r&&0!=(4194240&l)))return t;if(0!=(4&n)&&(n|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(a=31-Ft(t)),n|=e[a],t&=~r;return n}function Pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Tt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function It(){var e=Ct;return 0==(4194240&(Ct<<=1))&&(Ct=64),e}function xt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ot(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Ft(t)]=a}function At(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ft(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}var Nt=0;function Rt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Lt=r.unstable_scheduleCallback,Dt=r.unstable_cancelCallback,_t=r.unstable_shouldYield,Bt=r.unstable_requestPaint,Wt=r.unstable_now,Ut=r.unstable_ImmediatePriority,zt=r.unstable_UserBlockingPriority,jt=r.unstable_NormalPriority,Ht=r.unstable_IdlePriority,Gt=null,Vt=null,$t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Xt=null,Kt=!1,Yt=!1;function qt(e){null===Xt?Xt=[e]:Xt.push(e)}function Qt(){if(!Yt&&null!==Xt){Yt=!0;var e=0,t=Nt;try{var a=Xt;for(Nt=1;e<a.length;e++){var n=a[e];do{n=n(!0)}while(null!==n)}Xt=null,Kt=!1}catch(t){throw null!==Xt&&(Xt=Xt.slice(e+1)),Lt(Ut,Qt),t}finally{Nt=t,Yt=!1}}return null}var Jt=c.ReactCurrentBatchConfig;function Zt(e,t){if($t(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!nt.call(t,r)||!$t(e[r],t[r]))return!1}return!0}function ea(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);default:return""}}function ta(e,t){if(e&&e.defaultProps){for(var a in t=l({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}var aa=ot(null),na=null,ra=null,la=null;function oa(){la=ra=na=null}function ca(e,t,a){X?(it(aa,t._currentValue),t._currentValue=a):(it(aa,t._currentValue2),t._currentValue2=a)}function ia(e){var t=aa.current;ct(aa),X?e._currentValue=t:e._currentValue2=t}function sa(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function ua(e,t){na=e,la=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Br=!0),e.firstContext=null)}function da(e){var t=X?e._currentValue:e._currentValue2;if(la!==e)if(e={context:e,memoizedValue:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=e,na.dependencies={lanes:0,firstContext:e}}else ra=ra.next=e;return t}var ma=null,pa=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ea(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ba(e,t){var a=e.updateQueue;null!==a&&(a=a.shared,Oo(e)?(null===(e=a.interleaved)?(t.next=t,null===ma?ma=[a]:ma.push(a)):(t.next=e.next,e.next=t),a.interleaved=t):(null===(e=a.pending)?t.next=t:(t.next=e.next,e.next=t),a.pending=t))}function ha(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,At(e,a)}}function va(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,l=null;if(null!==(a=a.firstBaseUpdate)){do{var o={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===l?r=l=o:l=l.next=o,a=a.next}while(null!==a);null===l?r=l=t:l=l.next=t}else r=l=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:n.shared,effects:n.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Fa(e,t,a,n){var r=e.updateQueue;pa=!1;var o=r.firstBaseUpdate,c=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var s=i,u=s.next;s.next=null,null===c?o=u:c.next=u,c=s;var d=e.alternate;null!==d&&(i=(d=d.updateQueue).lastBaseUpdate)!==c&&(null===i?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=s)}if(null!==o){var m=r.baseState;for(c=0,d=u=s=null,i=o;;){var p=i.lane,f=i.eventTime;if((n&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,E=i;switch(p=t,f=a,E.tag){case 1:if("function"==typeof(g=E.payload)){m=g.call(f,m,p);break e}m=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(p="function"==typeof(g=E.payload)?g.call(f,m,p):g))break e;m=l({},m,p);break e;case 2:pa=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[i]:p.push(i))}else f={eventTime:f,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=f,s=m):d=d.next=f,c|=p;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(p=i).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(s=m),r.baseState=s,r.firstBaseUpdate=u,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{c|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);oo|=c,e.lanes=c,e.memoizedState=m}}function ya(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=a,"function"!=typeof r)throw Error(o(191,r));r.call(n)}}}var Sa=(new n.Component).refs;function Ca(e,t,a,n){a=null==(a=a(n,t=e.memoizedState))?t:l({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var Ma={isMounted:function(e){return!!(e=e._reactInternals)&&w(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Po(),r=To(e),l=Ea(n,r);l.payload=t,null!=a&&(l.callback=a),ba(e,l),null!==(t=Io(e,r,n))&&ha(t,e,r)},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Po(),r=To(e),l=Ea(n,r);l.tag=1,l.payload=t,null!=a&&(l.callback=a),ba(e,l),null!==(t=Io(e,r,n))&&ha(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Po(),n=To(e),r=Ea(a,n);r.tag=2,null!=t&&(r.callback=t),ba(e,r),null!==(t=Io(e,n,a))&&ha(t,e,n)}};function wa(e,t,a,n,r,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,l,o):!(t.prototype&&t.prototype.isPureReactComponent&&Zt(a,n)&&Zt(r,l))}function ka(e,t,a){var n=!1,r=st,l=t.contextType;return"object"==typeof l&&null!==l?l=da(l):(r=ft(t)?mt:ut.current,l=(n=null!=(n=t.contextTypes))?pt(e,r):st),t=new t(a,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function Pa(e,t,a,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function Ta(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs=Sa,fa(e);var l=t.contextType;"object"==typeof l&&null!==l?r.context=da(l):(l=ft(t)?mt:ut.current,r.context=pt(e,l)),r.state=e.memoizedState,"function"==typeof(l=t.getDerivedStateFromProps)&&(Ca(e,t,l,a),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Ma.enqueueReplaceState(r,r.state,null),Fa(e,a,r,n),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}var Ia=[],xa=0,Oa=null,Aa=0,Na=[],Ra=0,La=null,Da=1,_a="";function Ba(e,t){Ia[xa++]=Aa,Ia[xa++]=Oa,Oa=e,Aa=t}function Wa(e,t,a){Na[Ra++]=Da,Na[Ra++]=_a,Na[Ra++]=La,La=e;var n=Da;e=_a;var r=32-Ft(n)-1;n&=~(1<<r),a+=1;var l=32-Ft(t)+r;if(30<l){var o=r-r%5;l=(n&(1<<o)-1).toString(32),n>>=o,r-=o,Da=1<<32-Ft(t)+r|a<<r|n,_a=l+e}else Da=1<<l|a<<r|n,_a=e}function Ua(e){null!==e.return&&(Ba(e,1),Wa(e,1,0))}function za(e){for(;e===Oa;)Oa=Ia[--xa],Ia[xa]=null,Aa=Ia[--xa],Ia[xa]=null;for(;e===La;)La=Na[--Ra],Na[Ra]=null,_a=Na[--Ra],Na[Ra]=null,Da=Na[--Ra],Na[Ra]=null}var ja=null,Ha=null,Ga=!1,Va=!1,$a=null;function Xa(e,t){var a=lc(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function Ka(e,t){switch(e.tag){case 5:return null!==(t=Ne(t,e.type,e.pendingProps))&&(e.stateNode=t,ja=e,Ha=Ue(t),!0);case 6:return null!==(t=Re(t,e.pendingProps))&&(e.stateNode=t,ja=e,Ha=null,!0);case 13:if(null!==(t=Le(t))){var a=null!==La?{id:Da,overflow:_a}:null;return e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=lc(18,null,null,0)).stateNode=t,a.return=e,e.child=a,ja=e,Ha=null,!0}return!1;default:return!1}}function Ya(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function qa(e){if(Ga){var t=Ha;if(t){var a=t;if(!Ka(e,t)){if(Ya(e))throw Error(o(418));t=We(a);var n=ja;t&&Ka(e,t)?Xa(n,a):(e.flags=-4097&e.flags|2,Ga=!1,ja=e)}}else{if(Ya(e))throw Error(o(418));e.flags=-4097&e.flags|2,Ga=!1,ja=e}}}function Qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ja(e){if(!q||e!==ja)return!1;if(!Ga)return Qa(e),Ga=!0,!1;if(3!==e.tag&&(5!==e.tag||Qe(e.type)&&!j(e.type,e.memoizedProps))){var t=Ha;if(t){if(Ya(e)){for(e=Ha;e;)e=We(e);throw Error(o(418))}for(;t;)Xa(e,t),t=We(t)}}if(Qa(e),13===e.tag){if(!q)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Ha=$e(e)}else Ha=ja?We(e.stateNode):null;return!0}function Za(){q&&(Ha=ja=null,Va=Ga=!1)}function en(e){null===$a?$a=[e]:$a.push(e)}function tn(e,t,a){if(null!==(e=a.ref)&&"function"!=typeof e&&"object"!=typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(o(309));var n=a.stateNode}if(!n)throw Error(o(147,e));var r=n,l=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;t===Sa&&(t=r.refs={}),null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!=typeof e)throw Error(o(284));if(!a._owner)throw Error(o(290,e))}return e}function an(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nn(e){return(0,e._init)(e._payload)}function rn(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=cc(e,t)).index=0,e.sibling=null,e}function l(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=2,a):n:(t.flags|=2,a):(t.flags|=1048576,a)}function c(t){return e&&null===t.alternate&&(t.flags|=2),t}function d(e,t,a,n){return null===t||6!==t.tag?((t=dc(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function m(e,t,a,n){var l=a.type;return l===u?f(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===v&&nn(l)===t.type)?((n=r(t,a.props)).ref=tn(e,t,a),n.return=e,n):((n=ic(a.type,a.key,a.props,null,e.mode,n)).ref=tn(e,t,a),n.return=e,n)}function p(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=mc(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function f(e,t,a,n,l){return null===t||7!==t.tag?((t=sc(a,e.mode,n,l)).return=e,t):((t=r(t,a)).return=e,t)}function g(e,t,a){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=dc(""+t,e.mode,a)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case i:return(a=ic(t.type,t.key,t.props,null,e.mode,a)).ref=tn(e,null,t),a.return=e,a;case s:return(t=mc(t,e.mode,a)).return=e,t;case v:return g(e,(0,t._init)(t._payload),a)}if(A(t)||S(t))return(t=sc(t,e.mode,a,null)).return=e,t;an(e,t)}return null}function E(e,t,a,n){var r=null!==t?t.key:null;if("string"==typeof a&&""!==a||"number"==typeof a)return null!==r?null:d(e,t,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case i:return a.key===r?m(e,t,a,n):null;case s:return a.key===r?p(e,t,a,n):null;case v:return E(e,t,(r=a._init)(a._payload),n)}if(A(a)||S(a))return null!==r?null:f(e,t,a,n,null);an(e,a)}return null}function b(e,t,a,n,r){if("string"==typeof n&&""!==n||"number"==typeof n)return d(t,e=e.get(a)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case i:return m(t,e=e.get(null===n.key?a:n.key)||null,n,r);case s:return p(t,e=e.get(null===n.key?a:n.key)||null,n,r);case v:return b(e,t,a,(0,n._init)(n._payload),r)}if(A(n)||S(n))return f(t,e=e.get(a)||null,n,r,null);an(t,n)}return null}function h(r,o,c,i){for(var s=null,u=null,d=o,m=o=0,p=null;null!==d&&m<c.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var f=E(r,d,c[m],i);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),o=l(f,o,m),null===u?s=f:u.sibling=f,u=f,d=p}if(m===c.length)return a(r,d),Ga&&Ba(r,m),s;if(null===d){for(;m<c.length;m++)null!==(d=g(r,c[m],i))&&(o=l(d,o,m),null===u?s=d:u.sibling=d,u=d);return Ga&&Ba(r,m),s}for(d=n(r,d);m<c.length;m++)null!==(p=b(d,r,m,c[m],i))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),o=l(p,o,m),null===u?s=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),Ga&&Ba(r,m),s}function F(r,c,i,s){var u=S(i);if("function"!=typeof u)throw Error(o(150));if(null==(i=u.call(i)))throw Error(o(151));for(var d=u=null,m=c,p=c=0,f=null,h=i.next();null!==m&&!h.done;p++,h=i.next()){m.index>p?(f=m,m=null):f=m.sibling;var v=E(r,m,h.value,s);if(null===v){null===m&&(m=f);break}e&&m&&null===v.alternate&&t(r,m),c=l(v,c,p),null===d?u=v:d.sibling=v,d=v,m=f}if(h.done)return a(r,m),Ga&&Ba(r,p),u;if(null===m){for(;!h.done;p++,h=i.next())null!==(h=g(r,h.value,s))&&(c=l(h,c,p),null===d?u=h:d.sibling=h,d=h);return Ga&&Ba(r,p),u}for(m=n(r,m);!h.done;p++,h=i.next())null!==(h=b(m,r,p,h.value,s))&&(e&&null!==h.alternate&&m.delete(null===h.key?p:h.key),c=l(h,c,p),null===d?u=h:d.sibling=h,d=h);return e&&m.forEach((function(e){return t(r,e)})),Ga&&Ba(r,p),u}return function e(n,l,o,d){if("object"==typeof o&&null!==o&&o.type===u&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case i:e:{for(var m=o.key,p=l;null!==p;){if(p.key===m){if((m=o.type)===u){if(7===p.tag){a(n,p.sibling),(l=r(p,o.props.children)).return=n,n=l;break e}}else if(p.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===v&&nn(m)===p.type){a(n,p.sibling),(l=r(p,o.props)).ref=tn(n,p,o),l.return=n,n=l;break e}a(n,p);break}t(n,p),p=p.sibling}o.type===u?((l=sc(o.props.children,n.mode,d,o.key)).return=n,n=l):((d=ic(o.type,o.key,o.props,null,n.mode,d)).ref=tn(n,l,o),d.return=n,n=d)}return c(n);case s:e:{for(p=o.key;null!==l;){if(l.key===p){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){a(n,l.sibling),(l=r(l,o.children||[])).return=n,n=l;break e}a(n,l);break}t(n,l),l=l.sibling}(l=mc(o,n.mode,d)).return=n,n=l}return c(n);case v:return e(n,l,(p=o._init)(o._payload),d)}if(A(o))return h(n,l,o,d);if(S(o))return F(n,l,o,d);an(n,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==l&&6===l.tag?(a(n,l.sibling),(l=r(l,o)).return=n,n=l):(a(n,l),(l=dc(o,n.mode,d)).return=n,n=l),c(n)):a(n,l)}}var ln=rn(!0),on=rn(!1),cn={},sn=ot(cn),un=ot(cn),dn=ot(cn);function mn(e){if(e===cn)throw Error(o(174));return e}function pn(e,t){it(dn,t),it(un,e),it(sn,cn),e=R(t),ct(sn),it(sn,e)}function fn(){ct(sn),ct(un),ct(dn)}function gn(e){var t=mn(dn.current),a=mn(sn.current);a!==(t=L(a,e.type,t))&&(it(un,e),it(sn,t))}function En(e){un.current===e&&(ct(sn),ct(un))}var bn=ot(0);function hn(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||De(a)||_e(a)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vn=[];function Fn(){for(var e=0;e<vn.length;e++){var t=vn[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}vn.length=0}var yn=c.ReactCurrentDispatcher,Sn=c.ReactCurrentBatchConfig,Cn=0,Mn=null,wn=null,kn=null,Pn=!1,Tn=!1,In=0,xn=0;function On(){throw Error(o(321))}function An(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!$t(e[a],t[a]))return!1;return!0}function Nn(e,t,a,n,r,l){if(Cn=l,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yn.current=null===e||null===e.memoizedState?Er:br,e=a(n,r),Tn){l=0;do{if(Tn=!1,In=0,25<=l)throw Error(o(301));l+=1,kn=wn=null,t.updateQueue=null,yn.current=hr,e=a(n,r)}while(Tn)}if(yn.current=gr,t=null!==wn&&null!==wn.next,Cn=0,kn=wn=Mn=null,Pn=!1,t)throw Error(o(300));return e}function Rn(){var e=0!==In;return In=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kn?Mn.memoizedState=kn=e:kn=kn.next=e,kn}function Dn(){if(null===wn){var e=Mn.alternate;e=null!==e?e.memoizedState:null}else e=wn.next;var t=null===kn?Mn.memoizedState:kn.next;if(null!==t)kn=t,wn=e;else{if(null===e)throw Error(o(310));e={memoizedState:(wn=e).memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},null===kn?Mn.memoizedState=kn=e:kn=kn.next=e}return kn}function _n(e,t){return"function"==typeof t?t(e):t}function Bn(e){var t=Dn(),a=t.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=e;var n=wn,r=n.baseQueue,l=a.pending;if(null!==l){if(null!==r){var c=r.next;r.next=l.next,l.next=c}n.baseQueue=r=l,a.pending=null}if(null!==r){l=r.next,n=n.baseState;var i=c=null,s=null,u=l;do{var d=u.lane;if((Cn&d)===d)null!==s&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===s?(i=s=m,c=n):s=s.next=m,Mn.lanes|=d,oo|=d}u=u.next}while(null!==u&&u!==l);null===s?c=n:s.next=i,$t(n,t.memoizedState)||(Br=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=s,a.lastRenderedState=n}if(null!==(e=a.interleaved)){r=e;do{l=r.lane,Mn.lanes|=l,oo|=l,r=r.next}while(r!==e)}else null===r&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Wn(e){var t=Dn(),a=t.queue;if(null===a)throw Error(o(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,l=t.memoizedState;if(null!==r){a.pending=null;var c=r=r.next;do{l=e(l,c.action),c=c.next}while(c!==r);$t(l,t.memoizedState)||(Br=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function Un(){}function zn(e,t){var a=Mn,n=Dn(),r=t(),l=!$t(n.memoizedState,r);if(l&&(n.memoizedState=r,Br=!0),n=n.queue,Jn(Gn.bind(null,a,n,e),[e]),n.getSnapshot!==t||l||null!==kn&&1&kn.memoizedState.tag){if(a.flags|=2048,Xn(9,Hn.bind(null,a,n,r,t),void 0,null),null===Zl)throw Error(o(349));0!=(30&Cn)||jn(a,t,r)}return r}function jn(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=Mn.updateQueue)?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Hn(e,t,a,n){t.value=a,t.getSnapshot=n,Vn(t)&&Io(e,1,-1)}function Gn(e,t,a){return a((function(){Vn(t)&&Io(e,1,-1)}))}function Vn(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!$t(e,a)}catch(e){return!0}}function $n(e){var t=Ln();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t.queue=e,e=e.dispatch=ur.bind(null,Mn,e),[t.memoizedState,e]}function Xn(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===(t=Mn.updateQueue)?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Kn(){return Dn().memoizedState}function Yn(e,t,a,n){var r=Ln();Mn.flags|=e,r.memoizedState=Xn(1|t,a,void 0,void 0===n?null:n)}function qn(e,t,a,n){var r=Dn();n=void 0===n?null:n;var l=void 0;if(null!==wn){var o=wn.memoizedState;if(l=o.destroy,null!==n&&An(n,o.deps))return void(r.memoizedState=Xn(t,a,l,n))}Mn.flags|=e,r.memoizedState=Xn(1|t,a,l,n)}function Qn(e,t){return Yn(8390656,8,e,t)}function Jn(e,t){return qn(2048,8,e,t)}function Zn(e,t){return qn(4,2,e,t)}function er(e,t){return qn(4,4,e,t)}function tr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ar(e,t,a){return a=null!=a?a.concat([e]):null,qn(4,4,tr.bind(null,t,e),a)}function nr(){}function rr(e,t){var a=Dn();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&An(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function lr(e,t){var a=Dn();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&An(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function or(e,t,a){return 0==(21&Cn)?(e.baseState&&(e.baseState=!1,Br=!0),e.memoizedState=a):($t(a,t)||(a=It(),Mn.lanes|=a,oo|=a,e.baseState=!0),t)}function cr(e,t){var a=Nt;Nt=0!==a&&4>a?a:4,e(!0);var n=Sn.transition;Sn.transition={};try{e(!1),t()}finally{Nt=a,Sn.transition=n}}function ir(){return Dn().memoizedState}function sr(e,t,a){var n=To(e);a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},dr(e)?mr(t,a):(pr(e,t,a),null!==(e=Io(e,n,a=Po()))&&fr(e,t,n))}function ur(e,t,a){var n=To(e),r={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if(dr(e))mr(t,r);else{pr(e,t,r);var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var o=t.lastRenderedState,c=l(o,a);if(r.hasEagerState=!0,r.eagerState=c,$t(c,o))return}catch(e){}null!==(e=Io(e,n,a=Po()))&&fr(e,t,n)}}function dr(e){var t=e.alternate;return e===Mn||null!==t&&t===Mn}function mr(e,t){Tn=Pn=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function pr(e,t,a){Oo(e)?(null===(e=t.interleaved)?(a.next=a,null===ma?ma=[t]:ma.push(t)):(a.next=e.next,e.next=a),t.interleaved=a):(null===(e=t.pending)?a.next=a:(a.next=e.next,e.next=a),t.pending=a)}function fr(e,t,a){if(0!=(4194240&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,At(e,a)}}var gr={readContext:da,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},Er={readContext:da,useCallback:function(e,t){return Ln().memoizedState=[e,void 0===t?null:t],e},useContext:da,useEffect:Qn,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,Yn(4194308,4,tr.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Yn(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yn(4,2,e,t)},useMemo:function(e,t){var a=Ln();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=Ln();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sr.bind(null,Mn,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ln().memoizedState=e},useState:$n,useDebugValue:nr,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=$n(!1),t=e[0];return e=cr.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=Mn,r=Ln();if(Ga){if(void 0===a)throw Error(o(407));a=a()}else{if(a=t(),null===Zl)throw Error(o(349));0!=(30&Cn)||jn(n,t,a)}r.memoizedState=a;var l={value:a,getSnapshot:t};return r.queue=l,Qn(Gn.bind(null,n,l,e),[e]),n.flags|=2048,Xn(9,Hn.bind(null,n,l,a,t),void 0,null),a},useId:function(){var e=Ln(),t=Zl.identifierPrefix;if(Ga){var a=_a;t=":"+t+"R"+(a=(Da&~(1<<32-Ft(Da)-1)).toString(32)+a),0<(a=In++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=xn++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},br={readContext:da,useCallback:rr,useContext:da,useEffect:Jn,useImperativeHandle:ar,useInsertionEffect:Zn,useLayoutEffect:er,useMemo:lr,useReducer:Bn,useRef:Kn,useState:function(){return Bn(_n)},useDebugValue:nr,useDeferredValue:function(e){return or(Dn(),wn.memoizedState,e)},useTransition:function(){return[Bn(_n)[0],Dn().memoizedState]},useMutableSource:Un,useSyncExternalStore:zn,useId:ir,unstable_isNewReconciler:!1},hr={readContext:da,useCallback:rr,useContext:da,useEffect:Jn,useImperativeHandle:ar,useInsertionEffect:Zn,useLayoutEffect:er,useMemo:lr,useReducer:Wn,useRef:Kn,useState:function(){return Wn(_n)},useDebugValue:nr,useDeferredValue:function(e){var t=Dn();return null===wn?t.memoizedState=e:or(t,wn.memoizedState,e)},useTransition:function(){return[Wn(_n)[0],Dn().memoizedState]},useMutableSource:Un,useSyncExternalStore:zn,useId:ir,unstable_isNewReconciler:!1};function vr(e,t){try{var a="",n=t;do{a+=ea(n),n=n.return}while(n);var r=a}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function Fr(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var yr,Sr,Cr,Mr,wr="function"==typeof WeakMap?WeakMap:Map;function kr(e,t,a){(a=Ea(-1,a)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){bo||(bo=!0,ho=n),Fr(0,t)},a}function Pr(e,t,a){(a=Ea(-1,a)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var r=t.value;a.payload=function(){return n(r)},a.callback=function(){Fr(0,t)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(a.callback=function(){Fr(0,t),"function"!=typeof n&&(null===vo?vo=new Set([this]):vo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function Tr(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new wr;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(r.add(a),e=Zo.bind(null,e,t,a),t.then(e,e))}function Ir(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xr(e,t,a,n,r){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Ea(-1,1)).tag=2,ba(a,t))),a.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}function Or(e){e.flags|=4}function Ar(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)yr=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)W(e,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Sr=function(){},Cr=function(e,t,a,n,r){if((e=e.memoizedProps)!==n){var l=t.stateNode,o=mn(sn.current);a=z(l,a,e,n,r,o),(t.updateQueue=a)&&Or(t)}},Mr=function(e,t,a,n){a!==n&&Or(t)};else if(Y){yr=function(e,t,a,n){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;a&&n&&(l=Oe(l,r.type,r.memoizedProps,r)),W(e,l)}else if(6===r.tag)l=r.stateNode,a&&n&&(l=Ae(l,r.memoizedProps,r)),W(e,l);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(l=r.child)&&(l.return=r),yr(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var Nr=function(e,t,a,n){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;a&&n&&(l=Oe(l,r.type,r.memoizedProps,r)),Te(e,l)}else if(6===r.tag)l=r.stateNode,a&&n&&(l=Ae(l,r.memoizedProps,r)),Te(e,l);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(l=r.child)&&(l.return=r),Nr(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sr=function(e,t){var a=t.stateNode;if(!Ar(e,t)){e=a.containerInfo;var n=Pe(e);Nr(n,t,!1,!1),a.pendingChildren=n,Or(t),Ie(e,n)}},Cr=function(e,t,a,n,r){var l=e.stateNode,o=e.memoizedProps;if((e=Ar(e,t))&&o===n)t.stateNode=l;else{var c=t.stateNode,i=mn(sn.current),s=null;o!==n&&(s=z(c,a,o,n,r,i)),e&&null===s?t.stateNode=l:(l=ke(l,s,a,o,n,t,e,c),U(l,a,n,r,i)&&Or(t),t.stateNode=l,e?Or(t):yr(l,t,!1,!1))}},Mr=function(e,t,a,n){a!==n?(e=mn(dn.current),a=mn(sn.current),t.stateNode=H(n,e,a,t),Or(t)):t.stateNode=e.stateNode}}else Sr=function(){},Cr=function(){},Mr=function(){};function Rr(e,t){if(!Ga)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Lr(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Dr(e,t,a){var n=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(t),null;case 1:case 17:return ft(t.type)&&gt(),Lr(t),null;case 3:return n=t.stateNode,fn(),ct(dt),ct(ut),Fn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ja(t)?Or(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==$a&&(Lo($a),$a=null))),Sr(e,t),Lr(t),null;case 5:En(t),a=mn(dn.current);var r=t.type;if(null!==e&&null!=t.stateNode)Cr(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));return Lr(t),null}if(e=mn(sn.current),Ja(t)){if(!q)throw Error(o(175));e=He(t.stateNode,t.type,t.memoizedProps,a,e,t,!Va),t.updateQueue=e,null!==e&&Or(t)}else{var l=B(r,n,a,e,t);yr(l,t,!1,!1),t.stateNode=l,U(l,r,n,a,e)&&Or(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Lr(t),null;case 6:if(e&&null!=t.stateNode)Mr(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(o(166));if(e=mn(dn.current),a=mn(sn.current),Ja(t)){if(!q)throw Error(o(176));if(e=t.stateNode,n=t.memoizedProps,(a=Ge(e,n,t,!Va))&&null!==(r=ja))switch(r.tag){case 3:Je(r.stateNode.containerInfo,e,n,0!=(1&r.mode));break;case 5:Ze(r.type,r.memoizedProps,r.stateNode,e,n,0!=(1&r.mode))}a&&Or(t)}else t.stateNode=H(n,e,a,t)}return Lr(t),null;case 13:if(ct(bn),n=t.memoizedState,Ga&&null!==Ha&&0!=(1&t.mode)&&0==(128&t.flags)){for(e=Ha;e;)e=We(e);return Za(),t.flags|=98560,t}if(null!==n&&null!==n.dehydrated){if(n=Ja(t),null===e){if(!n)throw Error(o(318));if(!q)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ve(e,t)}else Za(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Lr(t),null}return null!==$a&&(Lo($a),$a=null),0!=(128&t.flags)?(t.lanes=a,t):(n=null!==n,a=!1,null===e?Ja(t):a=null!==e.memoizedState,n!==a&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&bn.current)?0===ro&&(ro=3):Ho())),null!==t.updateQueue&&(t.flags|=4),Lr(t),null);case 4:return fn(),Sr(e,t),null===e&&J(t.stateNode.containerInfo),Lr(t),null;case 10:return ia(t.type._context),Lr(t),null;case 19:if(ct(bn),null===(r=t.memoizedState))return Lr(t),null;if(n=0!=(128&t.flags),null===(l=r.rendering))if(n)Rr(r,!1);else{if(0!==ro||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=hn(e))){for(t.flags|=128,Rr(r,!1),null!==(e=l.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=a,n=t.child;null!==n;)r=e,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,r=l.dependencies,a.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return it(bn,1&bn.current|2),t.child}e=e.sibling}null!==r.tail&&Wt()>po&&(t.flags|=128,n=!0,Rr(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=hn(l))){if(t.flags|=128,n=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Rr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Ga)return Lr(t),null}else 2*Wt()-r.renderingStartTime>po&&1073741824!==a&&(t.flags|=128,n=!0,Rr(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=r.last)?e.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Wt(),t.sibling=null,e=bn.current,it(bn,n?1&e|2:1&e),t):(Lr(t),null);case 22:case 23:return Wo(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&ao)&&(Lr(t),K&&6&t.subtreeFlags&&(t.flags|=8192)):Lr(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var _r=c.ReactCurrentOwner,Br=!1;function Wr(e,t,a,n){t.child=null===e?on(t,null,a,n):ln(t,e.child,a,n)}function Ur(e,t,a,n,r){a=a.render;var l=t.ref;return ua(t,r),n=Nn(e,t,a,n,l,r),a=Rn(),null===e||Br?(Ga&&a&&Ua(t),t.flags|=1,Wr(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,cl(e,t,r))}function zr(e,t,a,n,r){if(null===e){var l=a.type;return"function"!=typeof l||oc(l)||void 0!==l.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=ic(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,jr(e,t,l,n,r))}if(l=e.child,0==(e.lanes&r)){var o=l.memoizedProps;if((a=null!==(a=a.compare)?a:Zt)(o,n)&&e.ref===t.ref)return cl(e,t,r)}return t.flags|=1,(e=cc(l,n)).ref=t.ref,e.return=t,t.child=e}function jr(e,t,a,n,r){if(null!==e){var l=e.memoizedProps;if(Zt(l,n)&&e.ref===t.ref){if(Br=!1,t.pendingProps=n=l,0==(e.lanes&r))return t.lanes=e.lanes,cl(e,t,r);0!=(131072&e.flags)&&(Br=!0)}}return Vr(e,t,a,n,r)}function Hr(e,t,a){var n=t.pendingProps,r=n.children,l=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(no,ao),ao|=a;else{if(0==(1073741824&a))return e=null!==l?l.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(no,ao),ao|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==l?l.baseLanes:a,it(no,ao),ao|=n}else null!==l?(n=l.baseLanes|a,t.memoizedState=null):n=a,it(no,ao),ao|=n;return Wr(e,t,r,a),t.child}function Gr(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Vr(e,t,a,n,r){var l=ft(a)?mt:ut.current;return l=pt(t,l),ua(t,r),a=Nn(e,t,a,n,l,r),n=Rn(),null===e||Br?(Ga&&n&&Ua(t),t.flags|=1,Wr(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,cl(e,t,r))}function $r(e,t,a,n,r){if(ft(a)){var l=!0;ht(t)}else l=!1;if(ua(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,a,n),Ta(t,a,n,r),n=!0;else if(null===e){var o=t.stateNode,c=t.memoizedProps;o.props=c;var i=o.context,s=a.contextType;s="object"==typeof s&&null!==s?da(s):pt(t,s=ft(a)?mt:ut.current);var u=a.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(c!==n||i!==s)&&Pa(t,o,n,s),pa=!1;var m=t.memoizedState;o.state=m,Fa(t,n,o,r),i=t.memoizedState,c!==n||m!==i||dt.current||pa?("function"==typeof u&&(Ca(t,a,u,n),i=t.memoizedState),(c=pa||wa(t,a,c,n,m,i,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),o.props=n,o.state=i,o.context=s,n=c):("function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ga(e,t),c=t.memoizedProps,s=t.type===t.elementType?c:ta(t.type,c),o.props=s,d=t.pendingProps,m=o.context,i="object"==typeof(i=a.contextType)&&null!==i?da(i):pt(t,i=ft(a)?mt:ut.current);var p=a.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(c!==d||m!==i)&&Pa(t,o,n,i),pa=!1,m=t.memoizedState,o.state=m,Fa(t,n,o,r);var f=t.memoizedState;c!==d||m!==f||dt.current||pa?("function"==typeof p&&(Ca(t,a,p,n),f=t.memoizedState),(s=pa||wa(t,a,s,n,m,f,i)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,i),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,i)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=i,n=s):("function"!=typeof o.componentDidUpdate||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Xr(e,t,a,n,l,r)}function Xr(e,t,a,n,r,l){Gr(e,t);var o=0!=(128&t.flags);if(!n&&!o)return r&&vt(t,a,!1),cl(e,t,l);n=t.stateNode,_r.current=t;var c=o&&"function"!=typeof a.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=ln(t,e.child,null,l),t.child=ln(t,null,c,l)):Wr(e,t,c,l),t.memoizedState=n.state,r&&vt(t,a,!0),t.child}function Kr(e){var t=e.stateNode;t.pendingContext?Et(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Et(0,t.context,!1),pn(e,t.containerInfo)}function Yr(e,t,a,n,r){return Za(),en(r),t.flags|=256,Wr(e,t,a,n),t.child}var qr={dehydrated:null,treeContext:null,retryLane:0};function Qr(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jr(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Zr(e,t,a){var n,r=t.pendingProps,l=bn.current,c=!1,i=0!=(128&t.flags);if((n=i)||(n=(null===e||null!==e.memoizedState)&&0!=(2&l)),n?(c=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),it(bn,1&l),null===e)return qa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:_e(e)?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,c?(r=t.mode,c=t.child,l={mode:"hidden",children:l},0==(1&r)&&null!==c?(c.childLanes=0,c.pendingProps=l):c=uc(l,r,0,null),e=sc(e,r,a,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Qr(a),t.memoizedState=qr,e):el(t,l));if(null!==(l=e.memoizedState)){if(null!==(n=l.dehydrated)){if(i)return 256&t.flags?(t.flags&=-257,nl(e,t,a,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(c=r.fallback,l=t.mode,r=uc({mode:"visible",children:r.children},l,0,null),(c=sc(c,l,a,null)).flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,0!=(1&t.mode)&&ln(t,e.child,null,a),t.child.memoizedState=Qr(a),t.memoizedState=qr,c);if(0==(1&t.mode))t=nl(e,t,a,null);else if(_e(n))t=nl(e,t,a,Error(o(419)));else if(r=0!=(a&e.childLanes),Br||r){if(null!==(r=Zl)){switch(a&-a){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}0!==(r=0!=(c&(r.suspendedLanes|a))?0:c)&&r!==l.retryLane&&(l.retryLane=r,Io(e,r,-1))}Ho(),t=nl(e,t,a,Error(o(421)))}else De(n)?(t.flags|=128,t.child=e.child,t=tc.bind(null,e),Be(n,t),t=null):(a=l.treeContext,q&&(Ha=je(n),ja=t,Ga=!0,$a=null,Va=!1,null!==a&&(Na[Ra++]=Da,Na[Ra++]=_a,Na[Ra++]=La,Da=a.id,_a=a.overflow,La=t)),(t=el(t,t.pendingProps.children)).flags|=4096);return t}return c?(r=al(e,t,r.children,r.fallback,a),c=t.child,l=e.child.memoizedState,c.memoizedState=null===l?Qr(a):Jr(l,a),c.childLanes=e.childLanes&~a,t.memoizedState=qr,r):(a=tl(e,t,r.children,a),t.memoizedState=null,a)}return c?(r=al(e,t,r.children,r.fallback,a),c=t.child,l=e.child.memoizedState,c.memoizedState=null===l?Qr(a):Jr(l,a),c.childLanes=e.childLanes&~a,t.memoizedState=qr,r):(a=tl(e,t,r.children,a),t.memoizedState=null,a)}function el(e,t){return(t=uc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function tl(e,t,a,n){var r=e.child;return e=r.sibling,a=cc(r,{mode:"visible",children:a}),0==(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a}function al(e,t,a,n,r){var l=t.mode,o=(e=e.child).sibling,c={mode:"hidden",children:a};return 0==(1&l)&&t.child!==e?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=cc(e,c)).subtreeFlags=14680064&e.subtreeFlags,null!==o?n=cc(o,n):(n=sc(n,l,r,null)).flags|=2,n.return=t,a.return=t,a.sibling=n,t.child=a,n}function nl(e,t,a,n){return null!==n&&en(n),ln(t,e.child,null,a),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),sa(e.return,t,a)}function ll(e,t,a,n,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=r)}function ol(e,t,a){var n=t.pendingProps,r=n.revealOrder,l=n.tail;if(Wr(e,t,n.children,a),0!=(2&(n=bn.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,a,t);else if(19===e.tag)rl(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(it(bn,n),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===hn(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),ll(t,!1,r,a,l);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===hn(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}ll(t,!0,a,null,l);break;case"together":ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cl(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),oo|=t.lanes,0==(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(a=cc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=cc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function il(e,t){switch(za(t),t.tag){case 1:return ft(t.type)&&gt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fn(),ct(dt),ct(ut),Fn(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return En(t),null;case 13:if(ct(bn),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Za()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ct(bn),null;case 4:return fn(),null;case 10:return ia(t.type._context),null;case 22:case 23:return Wo(),null;default:return null}}var sl=!1,ul=!1,dl="function"==typeof WeakSet?WeakSet:Set,ml=null;function pl(e,t){var a=e.ref;if(null!==a)if("function"==typeof a)try{a(null)}catch(a){Jo(e,t,a)}else a.current=null}function fl(e,t,a){try{a()}catch(a){Jo(e,t,a)}}var gl=!1;function El(e,t,a){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var l=r.destroy;r.destroy=void 0,void 0!==l&&fl(t,a,l)}r=r.next}while(r!==n)}}function bl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function hl(e){var t=e.ref;if(null!==t){var a=e.stateNode;e=5===e.tag?N(a):a,"function"==typeof t?t(e):t.current=e}}function vl(e){var t=e.alternate;null!==t&&(e.alternate=null,vl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ee(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Sl(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?be(a,e,t):me(a,e);else if(4!==n&&null!==(e=e.child))for(Sl(e,t,a),e=e.sibling;null!==e;)Sl(e,t,a),e=e.sibling}function Cl(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?Ee(a,e,t):de(a,e);else if(4!==n&&null!==(e=e.child))for(Cl(e,t,a),e=e.sibling;null!==e;)Cl(e,t,a),e=e.sibling}var Ml=null,wl=!1;function kl(e,t,a){for(a=a.child;null!==a;)Pl(e,t,a),a=a.sibling}function Pl(e,t,a){if(Vt&&"function"==typeof Vt.onCommitFiberUnmount)try{Vt.onCommitFiberUnmount(Gt,a)}catch(e){}switch(a.tag){case 5:ul||pl(a,t);case 6:if(K){var n=Ml,r=wl;Ml=null,kl(e,t,a),wl=r,null!==(Ml=n)&&(wl?ve(Ml,a.stateNode):he(Ml,a.stateNode))}else kl(e,t,a);break;case 18:K&&null!==Ml&&(wl?qe(Ml,a.stateNode):Ye(Ml,a.stateNode));break;case 4:K?(n=Ml,r=wl,Ml=a.stateNode.containerInfo,wl=!0,kl(e,t,a),Ml=n,wl=r):(Y&&(n=a.stateNode.containerInfo,r=Pe(n),xe(n,r)),kl(e,t,a));break;case 0:case 11:case 14:case 15:if(!ul&&null!==(n=a.updateQueue)&&null!==(n=n.lastEffect)){r=n=n.next;do{var l=r,o=l.destroy;l=l.tag,void 0!==o&&(0!=(2&l)||0!=(4&l))&&fl(a,t,o),r=r.next}while(r!==n)}kl(e,t,a);break;case 1:if(!ul&&(pl(a,t),"function"==typeof(n=a.stateNode).componentWillUnmount))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(e){Jo(a,t,e)}kl(e,t,a);break;case 21:kl(e,t,a);break;case 22:1&a.mode?(ul=(n=ul)||null!==a.memoizedState,kl(e,t,a),ul=n):kl(e,t,a);break;default:kl(e,t,a)}}function Tl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new dl),t.forEach((function(t){var n=ac.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}}function Il(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n];try{var l=e,c=t;if(K){var i=c;e:for(;null!==i;){switch(i.tag){case 5:Ml=i.stateNode,wl=!1;break e;case 3:case 4:Ml=i.stateNode.containerInfo,wl=!0;break e}i=i.return}if(null===Ml)throw Error(o(160));Pl(l,c,r),Ml=null,wl=!1}else Pl(l,c,r);var s=r.alternate;null!==s&&(s.return=null),r.return=null}catch(e){Jo(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Il(t,e),Ol(e),4&n){try{El(3,e,e.return),bl(3,e)}catch(t){Jo(e,e.return,t)}try{El(5,e,e.return)}catch(t){Jo(e,e.return,t)}}break;case 1:Il(t,e),Ol(e),512&n&&null!==a&&pl(a,a.return);break;case 5:if(Il(t,e),Ol(e),512&n&&null!==a&&pl(a,a.return),K){if(32&e.flags){var r=e.stateNode;try{Fe(r)}catch(t){Jo(e,e.return,t)}}if(4&n&&null!=(r=e.stateNode)){var l=e.memoizedProps;if(a=null!==a?a.memoizedProps:l,n=e.type,t=e.updateQueue,e.updateQueue=null,null!==t)try{ge(r,t,n,a,l,e)}catch(t){Jo(e,e.return,t)}}}break;case 6:if(Il(t,e),Ol(e),4&n&&K){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,l=e.memoizedProps,a=null!==a?a.memoizedProps:l;try{pe(r,a,l)}catch(t){Jo(e,e.return,t)}}break;case 3:if(Il(t,e),Ol(e),4&n){if(K&&q&&null!==a&&a.memoizedState.isDehydrated)try{Xe(t.containerInfo)}catch(t){Jo(e,e.return,t)}if(Y){a=t.containerInfo,r=t.pendingChildren;try{xe(a,r)}catch(t){Jo(e,e.return,t)}}}break;case 4:if(Il(t,e),Ol(e),4&n&&Y){a=(r=e.stateNode).containerInfo,r=r.pendingChildren;try{xe(a,r)}catch(t){Jo(e,e.return,t)}}break;case 13:Il(t,e),Ol(e),8192&(a=e.child).flags&&null!==a.memoizedState&&(null===a.alternate||null===a.alternate.memoizedState)&&(mo=Wt()),4&n&&Tl(e);break;case 22:if(a=null!==a&&null!==a.memoizedState,1&e.mode){var c=ul;ul=c||a,Il(t,e),ul=c}else Il(t,e);if(Ol(e),8192&n){if(n=null!==e.memoizedState,K)e:if(t=null,K)for(c=e;;){if(5===c.tag){if(null===t){t=c;try{r=c.stateNode,n?ye(r):Ce(c.stateNode,c.memoizedProps)}catch(t){Jo(e,e.return,t)}}}else if(6===c.tag){if(null===t)try{l=c.stateNode,n?Se(l):Me(l,c.memoizedProps)}catch(t){Jo(e,e.return,t)}}else if((22!==c.tag&&23!==c.tag||null===c.memoizedState||c===e)&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;null===c.sibling;){if(null===c.return||c.return===e)break e;t===c&&(t=null),c=c.return}t===c&&(t=null),c.sibling.return=c.return,c=c.sibling}if(n&&!a&&0!=(1&e.mode))for(ml=e,e=e.child;null!==e;){for(a=ml=e;null!==ml;){switch(l=(r=ml).child,r.tag){case 0:case 11:case 14:case 15:El(4,r,r.return);break;case 1:pl(r,r.return);var i=r.stateNode;if("function"==typeof i.componentWillUnmount){n=r,t=r.return;try{c=n,i.props=c.memoizedProps,i.state=c.memoizedState,i.componentWillUnmount()}catch(e){Jo(n,t,e)}}break;case 5:pl(r,r.return);break;case 22:if(null!==r.memoizedState){Ll(a);continue}}null!==l?(l.return=r,ml=l):Ll(a)}e=e.sibling}}break;case 19:Il(t,e),Ol(e),4&n&&Tl(e);break;case 21:break;default:Il(t,e),Ol(e)}}function Ol(e){var t=e.flags;if(2&t){try{if(K){e:{for(var a=e.return;null!==a;){if(Fl(a)){var n=a;break e}a=a.return}throw Error(o(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(Fe(r),n.flags&=-33),Cl(e,yl(e),r);break;case 3:case 4:var l=n.stateNode.containerInfo;Sl(e,yl(e),l);break;default:throw Error(o(161))}}}catch(t){Jo(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Al(e,t,a){ml=e,Nl(e,t,a)}function Nl(e,t,a){for(var n=0!=(1&e.mode);null!==ml;){var r=ml,l=r.child;if(22===r.tag&&n){var o=null!==r.memoizedState||sl;if(!o){var c=r.alternate,i=null!==c&&null!==c.memoizedState||ul;c=sl;var s=ul;if(sl=o,(ul=i)&&!s)for(ml=r;null!==ml;)i=(o=ml).child,22===o.tag&&null!==o.memoizedState?Dl(r):null!==i?(i.return=o,ml=i):Dl(r);for(;null!==l;)ml=l,Nl(l,t,a),l=l.sibling;ml=r,sl=c,ul=s}Rl(e)}else 0!=(8772&r.subtreeFlags)&&null!==l?(l.return=r,ml=l):Rl(e)}}function Rl(e){for(;null!==ml;){var t=ml;if(0!=(8772&t.flags)){var a=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ul||bl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!ul)if(null===a)n.componentDidMount();else{var r=t.elementType===t.type?a.memoizedProps:ta(t.type,a.memoizedProps);n.componentDidUpdate(r,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&ya(t,l,n);break;case 3:var c=t.updateQueue;if(null!==c){if(a=null,null!==t.child)switch(t.child.tag){case 5:a=N(t.child.stateNode);break;case 1:a=t.child.stateNode}ya(t,c,a)}break;case 5:var i=t.stateNode;null===a&&4&t.flags&&fe(i,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(q&&null===t.memoizedState){var s=t.alternate;if(null!==s){var u=s.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ke(d)}}}break;default:throw Error(o(163))}ul||512&t.flags&&hl(t)}catch(e){Jo(t,t.return,e)}}if(t===e){ml=null;break}if(null!==(a=t.sibling)){a.return=t.return,ml=a;break}ml=t.return}}function Ll(e){for(;null!==ml;){var t=ml;if(t===e){ml=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ml=a;break}ml=t.return}}function Dl(e){for(;null!==ml;){var t=ml;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{bl(4,t)}catch(e){Jo(t,a,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(e){Jo(t,r,e)}}var l=t.return;try{hl(t)}catch(e){Jo(t,l,e)}break;case 5:var o=t.return;try{hl(t)}catch(e){Jo(t,o,e)}}}catch(e){Jo(t,t.return,e)}if(t===e){ml=null;break}var c=t.sibling;if(null!==c){c.return=t.return,ml=c;break}ml=t.return}}var _l=0,Bl=1,Wl=2,Ul=3,zl=4;if("function"==typeof Symbol&&Symbol.for){var jl=Symbol.for;_l=jl("selector.component"),Bl=jl("selector.has_pseudo_class"),Wl=jl("selector.role"),Ul=jl("selector.test_id"),zl=jl("selector.text")}function Hl(e){var t=Q(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=re(e)))throw Error(o(362));return e.stateNode.current}function Gl(e,t){switch(t.$$typeof){case _l:if(e.type===t.value)return!0;break;case Bl:e:{t=t.value,e=[e,0];for(var a=0;a<e.length;){var n=e[a++],r=e[a++],l=t[r];if(5!==n.tag||!ce(n)){for(;null!=l&&Gl(n,l);)l=t[++r];if(r===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,r),n=n.sibling}}t=!1}return t;case Wl:if(5===e.tag&&ie(e.stateNode,t.value))return!0;break;case zl:if((5===e.tag||6===e.tag)&&null!==(e=oe(e))&&0<=e.indexOf(t.value))return!0;break;case Ul:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(o(365))}return!1}function Vl(e){switch(e.$$typeof){case _l:return"<"+(C(e.value)||"Unknown")+">";case Bl:return":has("+(Vl(e)||"")+")";case Wl:return'[role="'+e.value+'"]';case zl:return'"'+e.value+'"';case Ul:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function $l(e,t){var a=[];e=[e,0];for(var n=0;n<e.length;){var r=e[n++],l=e[n++],o=t[l];if(5!==r.tag||!ce(r)){for(;null!=o&&Gl(r,o);)o=t[++l];if(l===t.length)a.push(r);else for(r=r.child;null!==r;)e.push(r,l),r=r.sibling}}return a}function Xl(e,t){if(!ne)throw Error(o(363));e=$l(e=Hl(e),t),t=[],e=Array.from(e);for(var a=0;a<e.length;){var n=e[a++];if(5===n.tag)ce(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var Kl=Math.ceil,Yl=c.ReactCurrentDispatcher,ql=c.ReactCurrentOwner,Ql=c.ReactCurrentBatchConfig,Jl=0,Zl=null,eo=null,to=0,ao=0,no=ot(0),ro=0,lo=null,oo=0,co=0,io=0,so=null,uo=null,mo=0,po=1/0,fo=null;function go(){po=Wt()+500}var Eo,bo=!1,ho=null,vo=null,Fo=!1,yo=null,So=0,Co=0,Mo=null,wo=-1,ko=0;function Po(){return 0!=(6&Jl)?Wt():-1!==wo?wo:wo=Wt()}function To(e){return 0==(1&e.mode)?1:0!=(2&Jl)&&0!==to?to&-to:null!==Jt.transition?(0===ko&&(ko=It()),ko):0!==(e=Nt)?e:Z()}function Io(e,t,a){if(50<Co)throw Co=0,Mo=null,Error(o(185));var n=xo(e,t);return null===n?null:(Ot(n,t,a),0!=(2&Jl)&&n===Zl||(n===Zl&&(0==(2&Jl)&&(co|=t),4===ro&&Do(n,to)),Ao(n,a),1===t&&0===Jl&&0==(1&e.mode)&&(go(),Kt&&Qt())),n)}function xo(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}function Oo(e){return(null!==Zl||null!==ma)&&0!=(1&e.mode)&&0==(2&Jl)}function Ao(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ft(l),c=1<<o,i=r[o];-1===i?0!=(c&a)&&0==(c&n)||(r[o]=Pt(c,t)):i<=t&&(e.expiredLanes|=c),l&=~c}}(e,t);var n=kt(e,e===Zl?to:0);if(0===n)null!==a&&Dt(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=a&&Dt(a),1===t)0===e.tag?function(e){Kt=!0,qt(e)}(_o.bind(null,e)):qt(_o.bind(null,e)),te?ae((function(){0===Jl&&Qt()})):Lt(Ut,Qt),a=null;else{switch(Rt(n)){case 1:a=Ut;break;case 4:a=zt;break;case 16:default:a=jt;break;case 536870912:a=Ht}a=nc(a,No.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function No(e,t){if(wo=-1,ko=0,0!=(6&Jl))throw Error(o(327));var a=e.callbackNode;if(qo()&&e.callbackNode!==a)return null;var n=kt(e,e===Zl?to:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=Go(e,n);else{t=n;var r=Jl;Jl|=2;var l=jo();for(Zl===e&&to===t||(fo=null,go(),Uo(e,t));;)try{$o();break}catch(t){zo(e,t)}oa(),Yl.current=l,Jl=r,null!==eo?t=0:(Zl=null,to=0,t=ro)}if(0!==t){if(2===t&&0!==(r=Tt(e))&&(n=r,t=Ro(e,r)),1===t)throw a=lo,Uo(e,0),Do(e,n),Ao(e,Wt()),a;if(6===t)Do(e,n);else{if(r=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var n=0;n<a.length;n++){var r=a[n],l=r.getSnapshot;r=r.value;try{if(!$t(l(),r))return!1}catch(e){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=Go(e,n))&&0!==(l=Tt(e))&&(n=l,t=Ro(e,l)),1===t))throw a=lo,Uo(e,0),Do(e,n),Ao(e,Wt()),a;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(o(345));case 2:case 5:Yo(e,uo,fo);break;case 3:if(Do(e,n),(130023424&n)===n&&10<(t=mo+500-Wt())){if(0!==kt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){Po(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=G(Yo.bind(null,e,uo,fo),t);break}Yo(e,uo,fo);break;case 4:if(Do(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var c=31-Ft(n);l=1<<c,(c=t[c])>r&&(r=c),n&=~l}if(n=r,10<(n=(120>(n=Wt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Kl(n/1960))-n)){e.timeoutHandle=G(Yo.bind(null,e,uo,fo),n);break}Yo(e,uo,fo);break;default:throw Error(o(329))}}}return Ao(e,Wt()),e.callbackNode===a?No.bind(null,e):null}function Ro(e,t){var a=so;return e.current.memoizedState.isDehydrated&&(Uo(e,t).flags|=256),2!==(e=Go(e,t))&&(t=uo,uo=a,null!==t&&Lo(t)),e}function Lo(e){null===uo?uo=e:uo.push.apply(uo,e)}function Do(e,t){for(t&=~io,t&=~co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Ft(t),n=1<<a;e[a]=-1,t&=~n}}function _o(e){if(0!=(6&Jl))throw Error(o(327));qo();var t=kt(e,0);if(0==(1&t))return Ao(e,Wt()),null;var a=Go(e,t);if(0!==e.tag&&2===a){var n=Tt(e);0!==n&&(t=n,a=Ro(e,n))}if(1===a)throw a=lo,Uo(e,0),Do(e,t),Ao(e,Wt()),a;if(6===a)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yo(e,uo,fo),Ao(e,Wt()),null}function Bo(e){null!==yo&&0===yo.tag&&0==(6&Jl)&&qo();var t=Jl;Jl|=1;var a=Ql.transition,n=Nt;try{if(Ql.transition=null,Nt=1,e)return e()}finally{Nt=n,Ql.transition=a,0==(6&(Jl=t))&&Qt()}}function Wo(){ao=no.current,ct(no)}function Uo(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==$&&(e.timeoutHandle=$,V(a)),null!==eo)for(a=eo.return;null!==a;){var n=a;switch(za(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&gt();break;case 3:fn(),ct(dt),ct(ut),Fn();break;case 5:En(n);break;case 4:fn();break;case 13:case 19:ct(bn);break;case 10:ia(n.type._context);break;case 22:case 23:Wo()}a=a.return}if(Zl=e,eo=e=cc(e.current,null),to=ao=t,ro=0,lo=null,io=co=oo=0,uo=so=null,null!==ma){for(t=0;t<ma.length;t++)if(null!==(n=(a=ma[t]).interleaved)){a.interleaved=null;var r=n.next,l=a.pending;if(null!==l){var o=l.next;l.next=r,n.next=o}a.pending=n}ma=null}return e}function zo(e,t){for(;;){var a=eo;try{if(oa(),yn.current=gr,Pn){for(var n=Mn.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}Pn=!1}if(Cn=0,kn=wn=Mn=null,Tn=!1,In=0,ql.current=null,null===a||null===a.return){ro=1,lo=t,eo=null;break}e:{var l=e,c=a.return,i=a,s=t;if(t=to,i.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s,d=i,m=d.tag;if(0==(1&d.mode)&&(0===m||11===m||15===m)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Ir(c);if(null!==f){f.flags&=-257,xr(f,c,i,0,t),1&f.mode&&Tr(l,u,t),s=u;var g=(t=f).updateQueue;if(null===g){var E=new Set;E.add(s),t.updateQueue=E}else g.add(s);break e}if(0==(1&t)){Tr(l,u,t),Ho();break e}s=Error(o(426))}else if(Ga&&1&i.mode){var b=Ir(c);if(null!==b){0==(65536&b.flags)&&(b.flags|=256),xr(b,c,i,0,t),en(s);break e}}l=s,4!==ro&&(ro=2),null===so?so=[l]:so.push(l),s=vr(s,i),i=c;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,va(i,kr(0,s,t));break e;case 1:l=s;var h=i.type,v=i.stateNode;if(0==(128&i.flags)&&("function"==typeof h.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===vo||!vo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,va(i,Pr(i,l,t));break e}}i=i.return}while(null!==i)}Ko(a)}catch(e){t=e,eo===a&&null!==a&&(eo=a=a.return);continue}break}}function jo(){var e=Yl.current;return Yl.current=gr,null===e?gr:e}function Ho(){0!==ro&&3!==ro&&2!==ro||(ro=4),null===Zl||0==(268435455&oo)&&0==(268435455&co)||Do(Zl,to)}function Go(e,t){var a=Jl;Jl|=2;var n=jo();for(Zl===e&&to===t||(fo=null,Uo(e,t));;)try{Vo();break}catch(t){zo(e,t)}if(oa(),Jl=a,Yl.current=n,null!==eo)throw Error(o(261));return Zl=null,to=0,ro}function Vo(){for(;null!==eo;)Xo(eo)}function $o(){for(;null!==eo&&!_t();)Xo(eo)}function Xo(e){var t=Eo(e.alternate,e,ao);e.memoizedProps=e.pendingProps,null===t?Ko(e):eo=t,ql.current=null}function Ko(e){var t=e;do{var a=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(a=Dr(a,t,ao)))return void(eo=a)}else{if(null!==(a=il(a,t)))return a.flags&=32767,void(eo=a);if(null===e)return ro=6,void(eo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(eo=t);eo=t=e}while(null!==t);0===ro&&(ro=5)}function Yo(e,t,a){var n=Nt,r=Ql.transition;try{Ql.transition=null,Nt=1,function(e,t,a,n){do{qo()}while(null!==yo);if(0!=(6&Jl))throw Error(o(327));a=e.finishedWork;var r=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var l=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var r=31-Ft(a),l=1<<r;t[r]=0,n[r]=-1,e[r]=-1,a&=~l}}(e,l),e===Zl&&(eo=Zl=null,to=0),0==(2064&a.subtreeFlags)&&0==(2064&a.flags)||Fo||(Fo=!0,nc(jt,(function(){return qo(),null}))),l=0!=(15990&a.flags),0!=(15990&a.subtreeFlags)||l){l=Ql.transition,Ql.transition=null;var c=Nt;Nt=1;var i=Jl;Jl|=4,ql.current=null,function(e,t){for(D(e.containerInfo),ml=t;null!==ml;)if(t=(e=ml).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,ml=t;else for(;null!==ml;){e=ml;try{var a=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==a){var n=a.memoizedProps,r=a.memoizedState,l=e.stateNode,c=l.getSnapshotBeforeUpdate(e.elementType===e.type?n:ta(e.type,n),r);l.__reactInternalSnapshotBeforeUpdate=c}break;case 3:K&&we(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(t){Jo(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,ml=t;break}ml=e.return}a=gl,gl=!1}(e,a),xl(a,e),_(e.containerInfo),e.current=a,Al(a,e,r),Bt(),Jl=i,Nt=c,Ql.transition=l}else e.current=a;if(Fo&&(Fo=!1,yo=e,So=r),0===(l=e.pendingLanes)&&(vo=null),function(e){if(Vt&&"function"==typeof Vt.onCommitFiberRoot)try{Vt.onCommitFiberRoot(Gt,e,void 0,128==(128&e.current.flags))}catch(e){}}(a.stateNode),Ao(e,Wt()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)n(t[a]);if(bo)throw bo=!1,e=ho,ho=null,e;0!=(1&So)&&0!==e.tag&&qo(),0!=(1&(l=e.pendingLanes))?e===Mo?Co++:(Co=0,Mo=e):Co=0,Qt()}(e,t,a,n)}finally{Ql.transition=r,Nt=n}return null}function qo(){if(null!==yo){var e=Rt(So),t=Ql.transition,a=Nt;try{if(Ql.transition=null,Nt=16>e?16:e,null===yo)var n=!1;else{if(e=yo,yo=null,So=0,0!=(6&Jl))throw Error(o(331));var r=Jl;for(Jl|=4,ml=e.current;null!==ml;){var l=ml,c=l.child;if(0!=(16&ml.flags)){var i=l.deletions;if(null!==i){for(var s=0;s<i.length;s++){var u=i[s];for(ml=u;null!==ml;){var d=ml;switch(d.tag){case 0:case 11:case 15:El(8,d,l)}var m=d.child;if(null!==m)m.return=d,ml=m;else for(;null!==ml;){var p=(d=ml).sibling,f=d.return;if(vl(d),d===u){ml=null;break}if(null!==p){p.return=f,ml=p;break}ml=f}}}var g=l.alternate;if(null!==g){var E=g.child;if(null!==E){g.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(null!==E)}}ml=l}}if(0!=(2064&l.subtreeFlags)&&null!==c)c.return=l,ml=c;else e:for(;null!==ml;){if(0!=(2048&(l=ml).flags))switch(l.tag){case 0:case 11:case 15:El(9,l,l.return)}var h=l.sibling;if(null!==h){h.return=l.return,ml=h;break e}ml=l.return}}var v=e.current;for(ml=v;null!==ml;){var F=(c=ml).child;if(0!=(2064&c.subtreeFlags)&&null!==F)F.return=c,ml=F;else e:for(c=v;null!==ml;){if(0!=(2048&(i=ml).flags))try{switch(i.tag){case 0:case 11:case 15:bl(9,i)}}catch(e){Jo(i,i.return,e)}if(i===c){ml=null;break e}var y=i.sibling;if(null!==y){y.return=i.return,ml=y;break e}ml=i.return}}if(Jl=r,Qt(),Vt&&"function"==typeof Vt.onPostCommitFiberRoot)try{Vt.onPostCommitFiberRoot(Gt,e)}catch(e){}n=!0}return n}finally{Nt=a,Ql.transition=t}}return!1}function Qo(e,t,a){ba(e,t=kr(0,t=vr(a,t),1)),t=Po(),null!==(e=xo(e,1))&&(Ot(e,1,t),Ao(e,t))}function Jo(e,t,a){if(3===e.tag)Qo(e,e,a);else for(;null!==t;){if(3===t.tag){Qo(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===vo||!vo.has(n))){ba(t,e=Pr(t,e=vr(a,e),1)),e=Po(),null!==(t=xo(t,1))&&(Ot(t,1,e),Ao(t,e));break}}t=t.return}}function Zo(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),t=Po(),e.pingedLanes|=e.suspendedLanes&a,Zl===e&&(to&a)===a&&(4===ro||3===ro&&(130023424&to)===to&&500>Wt()-mo?Uo(e,0):io|=a),Ao(e,t)}function ec(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Mt,0==(130023424&(Mt<<=1))&&(Mt=4194304)));var a=Po();null!==(e=xo(e,t))&&(Ot(e,t,a),Ao(e,a))}function tc(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),ec(e,a)}function ac(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t),ec(e,a)}function nc(e,t){return Lt(e,t)}function rc(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lc(e,t,a,n){return new rc(e,t,a,n)}function oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function cc(e,t){var a=e.alternate;return null===a?((a=lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function ic(e,t,a,n,r,l){var c=2;if(n=e,"function"==typeof e)oc(e)&&(c=1);else if("string"==typeof e)c=5;else e:switch(e){case u:return sc(a.children,r,l,t);case d:c=8,r|=8;break;case m:return(e=lc(12,a,t,2|r)).elementType=m,e.lanes=l,e;case E:return(e=lc(13,a,t,r)).elementType=E,e.lanes=l,e;case b:return(e=lc(19,a,t,r)).elementType=b,e.lanes=l,e;case F:return uc(a,r,l,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case p:c=10;break e;case f:c=9;break e;case g:c=11;break e;case h:c=14;break e;case v:c=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=lc(c,a,t,r)).elementType=e,t.type=n,t.lanes=l,t}function sc(e,t,a,n){return(e=lc(7,e,n,t)).lanes=a,e}function uc(e,t,a,n){return(e=lc(22,e,n,t)).elementType=F,e.lanes=a,e.stateNode={},e}function dc(e,t,a){return(e=lc(6,e,null,t)).lanes=a,e}function mc(e,t,a){return(t=lc(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pc(e,t,a,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=r,q&&(this.mutableSourceEagerHydrationData=null)}function fc(e,t,a,n,r,l,o,c,i){return e=new pc(e,t,a,c,i),1===t?(t=1,!0===l&&(t|=8)):t=0,l=lc(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},fa(l),e}function gc(e){if(!e)return st;e:{if(w(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var a=e.type;if(ft(a))return bt(e,a,t)}return t}function Ec(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=T(t))?null:e.stateNode}function bc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function hc(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function vc(e){return null===(e=T(e))?null:e.stateNode}function Fc(){return null}return Eo=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||dt.current)Br=!0;else{if(0==(e.lanes&a)&&0==(128&t.flags))return Br=!1,function(e,t,a){switch(t.tag){case 3:Kr(t),Za();break;case 5:gn(t);break;case 1:ft(t.type)&&ht(t);break;case 4:pn(t,t.stateNode.containerInfo);break;case 10:ca(0,t.type._context,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(it(bn,1&bn.current),t.flags|=128,null):0!=(a&t.child.childLanes)?Zr(e,t,a):(it(bn,1&bn.current),null!==(e=cl(e,t,a))?e.sibling:null);it(bn,1&bn.current);break;case 19:if(n=0!=(a&t.childLanes),0!=(128&e.flags)){if(n)return ol(e,t,a);t.flags|=128}var r=t.memoizedState;if(null!==r&&(r.rendering=null,r.tail=null,r.lastEffect=null),it(bn,bn.current),n)break;return null;case 22:case 23:return t.lanes=0,Hr(e,t,a)}return cl(e,t,a)}(e,t,a);Br=0!=(131072&e.flags)}else Br=!1,Ga&&0!=(1048576&t.flags)&&Wa(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=pt(t,ut.current);ua(t,a),r=Nn(null,t,n,e,r,a);var l=Rn();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(n)?(l=!0,ht(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,fa(t),r.updater=Ma,t.stateNode=r,r._reactInternals=t,Ta(t,n,e,a),t=Xr(null,t,n,!0,l,a)):(t.tag=0,Ga&&l&&Ua(t),Wr(null,t,r,a),t=t.child),t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"==typeof e)return oc(e)?1:0;if(null!=e){if((e=e.$$typeof)===g)return 11;if(e===h)return 14}return 2}(n),e=ta(n,e),r){case 0:t=Vr(null,t,n,e,a);break e;case 1:t=$r(null,t,n,e,a);break e;case 11:t=Ur(null,t,n,e,a);break e;case 14:t=zr(null,t,n,ta(n.type,e),a);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Vr(e,t,n,r=t.elementType===n?r:ta(n,r),a);case 1:return n=t.type,r=t.pendingProps,$r(e,t,n,r=t.elementType===n?r:ta(n,r),a);case 3:e:{if(Kr(t),null===e)throw Error(o(387));n=t.pendingProps,r=(l=t.memoizedState).element,ga(e,t),Fa(t,n,null,a);var c=t.memoizedState;if(n=c.element,q&&l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Yr(e,t,n,a,r=Error(o(423)));break e}if(n!==r){t=Yr(e,t,n,a,r=Error(o(424)));break e}for(q&&(Ha=ze(t.stateNode.containerInfo),ja=t,Ga=!0,$a=null,Va=!1),a=on(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(Za(),n===r){t=cl(e,t,a);break e}Wr(e,t,n,a)}t=t.child}return t;case 5:return gn(t),null===e&&qa(t),n=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,c=r.children,j(n,r)?c=null:null!==l&&j(n,l)&&(t.flags|=32),Gr(e,t),Wr(e,t,c,a),t.child;case 6:return null===e&&qa(t),null;case 13:return Zr(e,t,a);case 4:return pn(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ln(t,null,n,a):Wr(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,Ur(e,t,n,r=t.elementType===n?r:ta(n,r),a);case 7:return Wr(e,t,t.pendingProps,a),t.child;case 8:case 12:return Wr(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,l=t.memoizedProps,ca(0,n,c=r.value),null!==l)if($t(l.value,c)){if(l.children===r.children&&!dt.current){t=cl(e,t,a);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var i=l.dependencies;if(null!==i){c=l.child;for(var s=i.firstContext;null!==s;){if(s.context===n){if(1===l.tag){(s=Ea(-1,a&-a)).tag=2;var u=l.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?s.next=s:(s.next=d.next,d.next=s),u.pending=s}}l.lanes|=a,null!==(s=l.alternate)&&(s.lanes|=a),sa(l.return,a,t),i.lanes|=a;break}s=s.next}}else if(10===l.tag)c=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(c=l.return))throw Error(o(341));c.lanes|=a,null!==(i=c.alternate)&&(i.lanes|=a),sa(c,a,t),c=l.sibling}else c=l.child;if(null!==c)c.return=l;else for(c=l;null!==c;){if(c===t){c=null;break}if(null!==(l=c.sibling)){l.return=c.return,c=l;break}c=c.return}l=c}Wr(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,ua(t,a),n=n(r=da(r)),t.flags|=1,Wr(e,t,n,a),t.child;case 14:return r=ta(n=t.type,t.pendingProps),zr(e,t,n,r=ta(n.type,r),a);case 15:return jr(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ta(n,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ft(n)?(e=!0,ht(t)):e=!1,ua(t,a),ka(t,n,r),Ta(t,n,r,a),Xr(null,t,n,!0,e,a);case 19:return ol(e,t,a);case 22:return Hr(e,t,a)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(Io(e,134217728,Po()),hc(e,134217728))},t.attemptDiscreteHydration=function(e){13===e.tag&&(Io(e,1,Po()),hc(e,1))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Po(),a=To(e);Io(e,a,t),hc(e,a)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=wt(t.pendingLanes);0!==a&&(At(t,1|a),Ao(t,Wt()),0==(6&Jl)&&(go(),Qt()))}break;case 13:var n=Po();Bo((function(){return Io(e,1,n)})),hc(e,1)}},t.batchedUpdates=function(e,t){var a=Jl;Jl|=1;try{return e(t)}finally{0===(Jl=a)&&(go(),Kt&&Qt())}},t.createComponentSelector=function(e){return{$$typeof:_l,value:e}},t.createContainer=function(e,t,a,n,r,l,o){return fc(e,t,!1,null,0,n,0,l,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Bl,value:e}},t.createHydrationContainer=function(e,t,a,n,r,l,o,c,i){return(e=fc(a,n,!0,e,0,l,0,c,i)).context=gc(null),a=e.current,(l=Ea(n=Po(),r=To(a))).callback=null!=t?t:null,ba(a,l),e.current.lanes=r,Ot(e,r,n),Ao(e,n),e},t.createPortal=function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}},t.createRoleSelector=function(e){return{$$typeof:Wl,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ul,value:e}},t.createTextSelector=function(e){return{$$typeof:zl,value:e}},t.deferredUpdates=function(e){var t=Nt,a=Ql.transition;try{return Ql.transition=null,Nt=16,e()}finally{Nt=t,Ql.transition=a}},t.discreteUpdates=function(e,t,a,n,r){var l=Nt,o=Ql.transition;try{return Ql.transition=null,Nt=1,e(t,a,n,r)}finally{Nt=l,Ql.transition=o,0===Jl&&go()}},t.findAllNodes=Xl,t.findBoundingRects=function(e,t){if(!ne)throw Error(o(363));t=Xl(e,t),e=[];for(var a=0;a<t.length;a++)e.push(le(t[a]));for(t=e.length-1;0<t;t--)for(var n=(a=e[t]).x,r=n+a.width,l=a.y,c=l+a.height,i=t-1;0<=i;i--)if(t!==i){var s=e[i],u=s.x,d=u+s.width,m=s.y,p=m+s.height;if(n>=u&&l>=m&&r<=d&&c<=p){e.splice(t,1);break}if(!(n!==u||a.width!==s.width||p<l||m>c)){m>l&&(s.height+=m-l,s.y=l),p<c&&(s.height=c-m),e.splice(t,1);break}if(!(l!==m||a.height!==s.height||d<n||u>r)){u>n&&(s.width+=u-n,s.x=n),d<r&&(s.width=r-u),e.splice(t,1);break}}return e},t.findHostInstance=Ec,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=P(e))?x(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return Ec(e)},t.flushControlled=function(e){var t=Jl;Jl|=1;var a=Ql.transition,n=Nt;try{Ql.transition=null,Nt=1,e()}finally{Nt=n,Ql.transition=a,0===(Jl=t)&&(go(),Qt())}},t.flushPassiveEffects=qo,t.flushSync=Bo,t.focusWithin=function(e,t){if(!ne)throw Error(o(363));for(t=$l(e=Hl(e),t),t=Array.from(t),e=0;e<t.length;){var a=t[e++];if(!ce(a)){if(5===a.tag&&se(a.stateNode))return!0;for(a=a.child;null!==a;)t.push(a),a=a.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Nt},t.getFindAllNodesFailureDescription=function(e,t){if(!ne)throw Error(o(363));var a=0,n=[];e=[Hl(e),0];for(var r=0;r<e.length;){var l=e[r++],c=e[r++],i=t[c];if((5!==l.tag||!ce(l))&&(Gl(l,i)&&(n.push(Vl(i)),++c>a&&(a=c)),c<t.length))for(l=l.child;null!==l;)e.push(l,c),l=l.sibling}if(a<t.length){for(e=[];a<t.length;a++)e.push(Vl(t[a]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?N(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:vc,findFiberByHostInstance:e.findFiberByHostInstance||Fc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Gt=t.inject(e),Vt=t}catch(e){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,a,n){if(!ne)throw Error(o(363));e=Xl(e,t);var r=ue(e,a,n).disconnect;return{disconnect:function(){r()}}},t.registerMutableSourceForHydration=function(e,t){var a=t._getVersion;a=a(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,a]:e.mutableSourceEagerHydrationData.push(t,a)},t.runWithPriority=function(e,t){var a=Nt;try{return Nt=e,t()}finally{Nt=a}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,a,n){var r=t.current,l=Po(),o=To(r);return a=gc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Ea(l,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ba(r,t),null!==(e=Io(r,o,l))&&ha(e,r,o),o},t}},32576:(e,t,a)=>{"use strict";e.exports=a(46511)},76525:(e,t,a)=>{"use strict";e.exports=a(67287)},52546:(e,t)=>{"use strict";function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<l(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,o=r>>>1;n<o;){var c=2*(n+1)-1,i=e[c],s=c+1,u=e[s];if(0>l(i,a))s<r&&0>l(u,i)?(e[n]=u,e[s]=a,n=s):(e[n]=i,e[c]=a,n=c);else{if(!(s<r&&0>l(u,a)))break e;e[n]=u,e[s]=a,n=s}}}return t}function l(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,i=c.now();t.unstable_now=function(){return c.now()-i}}var s=[],u=[],d=1,m=null,p=3,f=!1,g=!1,E=!1,b="function"==typeof setTimeout?setTimeout:null,h="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function F(e){for(var t=n(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,a(s,t)}t=n(u)}}function y(e){if(E=!1,F(e),!g)if(null!==n(s))g=!0,N(S);else{var t=n(u);null!==t&&R(y,t.startTime-e)}}function S(e,a){g=!1,E&&(E=!1,h(k),k=-1),f=!0;var l=p;try{for(F(a),m=n(s);null!==m&&(!(m.expirationTime>a)||e&&!I());){var o=m.callback;if("function"==typeof o){m.callback=null,p=m.priorityLevel;var c=o(m.expirationTime<=a);a=t.unstable_now(),"function"==typeof c?m.callback=c:m===n(s)&&r(s),F(a)}else r(s);m=n(s)}if(null!==m)var i=!0;else{var d=n(u);null!==d&&R(y,d.startTime-a),i=!1}return i}finally{m=null,p=l,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,M=!1,w=null,k=-1,P=5,T=-1;function I(){return!(t.unstable_now()-T<P)}function x(){if(null!==w){var e=t.unstable_now();T=e;var a=!0;try{a=w(!0,e)}finally{a?C():(M=!1,w=null)}}else M=!1}if("function"==typeof v)C=function(){v(x)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=x,C=function(){A.postMessage(null)}}else C=function(){b(x,0)};function N(e){w=e,M||(M=!0,C())}function R(e,a){k=b((function(){e(t.unstable_now())}),a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(s)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var a=p;p=t;try{return e()}finally{p=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=p;p=e;try{return t()}finally{p=a}},t.unstable_scheduleCallback=function(e,r,l){var o=t.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?o+l:o,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:l,expirationTime:c=l+c,sortIndex:-1},l>o?(e.sortIndex=l,a(u,e),null===n(s)&&e===n(u)&&(E?(h(k),k=-1):E=!0,R(y,l-o))):(e.sortIndex=c,a(s,e),g||f||(g=!0,N(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var a=p;p=t;try{return e.apply(this,arguments)}finally{p=a}}}},60373:(e,t,a)=>{"use strict";e.exports=a(52546)},72408:(e,t)=>{"use strict";var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),i=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,E={};function b(e,t,a){this.props=e,this.context=t,this.refs=E,this.updater=a||f}function h(){}function v(e,t,a){this.props=e,this.context=t,this.refs=E,this.updater=a||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=b.prototype;var F=v.prototype=new h;F.constructor=v,g(F,b.prototype),F.isPureReactComponent=!0;var y=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,l={},o=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!M.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(1===i)l.children=n;else if(1<i){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+2];l.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===l[r]&&(l[r]=i[r]);return{$$typeof:a,type:e,key:o,ref:c,props:l,_owner:C.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var P=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,r,l,o){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var i=!1;if(null===e)i=!0;else switch(c){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case a:case n:i=!0}}if(i)return o=o(i=e),e=""===l?"."+T(i,0):l,y(o)?(r="",null!=e&&(r=e.replace(P,"$&/")+"/"),I(o,t,r,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(i=0,l=""===l?".":l+":",y(e))for(var s=0;s<e.length;s++){var u=l+T(c=e[s],s);i+=I(c,t,r,u,o)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),s=0;!(c=e.next()).done;)i+=I(c=c.value,t,r,u=l+T(c,s++),o);else if("object"===c)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function x(e,t,a){if(null==e)return e;var n=[],r=0;return I(e,n,"","",(function(e){return t.call(a,e,r++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:C};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:x,forEach:function(e,t,a){x(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=r,t.Profiler=o,t.PureComponent=v,t.StrictMode=l,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),l=e.key,o=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,c=C.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(s in t)S.call(t,s)&&!M.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==i?i[s]:t[s])}var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){i=Array(s);for(var u=0;u<s;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:a,type:e.type,key:l,ref:o,props:r,_owner:c}},t.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,a){return A.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,a){return A.current.useReducer(e,t,a)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return A.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},67294:(e,t,a)=>{"use strict";e.exports=a(72408)},82838:()=>{},25752:()=>{},14290:()=>{},89592:()=>{},81442:(e,t,a)=>{"use strict";e.exports=a.p+"assets/animation-074ed0ba8c16bb30e36c.gif"}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/hbui/",window.HTMLIFrameElement=window.HTMLIFrameElement||function(){},(()=>{"use strict";var e={};a.r(e),a.d(e,{AccountUnlinkRoute:()=>SL,AddFriendRoute:()=>BD,ChooseRealmRoute:()=>R_,ChooseSlotRoute:()=>wW,CompareStatsRoute:()=>tU,CreatePreviewRealmWithOnlyOneSubscriptionRoute:()=>CH,EditWorldThumbnailRoute:()=>IH,ExportWorldRoute:()=>UY,GuidedCreateWorldRoute:()=>vq,JoinRealmsServerRoute:()=>_Q,JoinRealmsServerTransientRoute:()=>KQ,ManageShowcaseRoute:()=>eJ,MobileDataBlockedModalRoute:()=>tJ,OnlinePlayWarningTransientRoute:()=>cJ,PostToRealmStoriesRoute:()=>fJ,ProfileFollowersListRoute:()=>Mz,ProfileFriendsListRoute:()=>bz,ProfileRoute:()=>Tj,RealmsNewStoryRoute:()=>SJ,RealmsPDPRoute:()=>uD,RealmsPlanPickerInGameRoute:()=>KD,RealmsPlanPickerRoute:()=>XD,RealmsPurchaseSubscriptionRoute:()=>g_,RealmsStoriesCommentsRoute:()=>sW,RealmsStoriesOptedOutMembersRoute:()=>BW,RealmsStoriesReportFeedItemRoute:()=>oW,RealmsStoriesRoute:()=>pH,RealmsStoriesScreenshotGalleryRoute:()=>MH,RealmsStoriesSettingsRoute:()=>PH,RealmsStoriesTimelineRequiredRoute:()=>yH,ReportPlayerRoute:()=>YY,ScreenshotDetailsRoute:()=>sq,ScreenshotGalleryRoute:()=>hq,ScreenshotPicker:()=>dj,ScreenshotShowcaseRoute:()=>Mq,SeedTemplatesRoute:()=>Rq,SetWorldThumbnailRoute:()=>EQ,ShowcaseDetailsRoute:()=>QQ});var t={};a.r(t),a.d(t,{RealmsStoryEntryRoute:()=>IJ,RealmsStoryShareLinkModalRoute:()=>RJ});var n={};a.r(n),a.d(n,{useCurrentPlayerProfileFacet:()=>LO,useLoadPlayerProfile:()=>NO,usePlayerProfileFacet:()=>RO,usePlayerProfilesFacet:()=>DO});var r=a(67294),l=a(81971);const o=(0,r.createContext)((0,l.createStaticFacet)({length:1,action:"PUSH",list:[{pathname:"",search:"",hash:"",state:""}]})),c=(0,r.createContext)({push:()=>{},replace:()=>{},goBack:()=>{},go:()=>{}}),i=(0,r.createContext)((0,l.createStaticFacet)(!1)),s=(0,r.createContext)((0,l.createStaticFacet)(!1)),u=(0,r.createContext)((0,l.createStaticFacet)({}));(0,r.createContext)((0,l.createStaticFacet)(!0));var d={};try{!function(e,t){if(new e("q=%2B").get("q")!==t||new e({q:t}).get("q")!==t||new e([["q",t]]).get("q")!==t||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString()||"q=%25zx"!==new e({q:"%zx"}).toString())throw e;d.URLSearchParams=e}(URLSearchParams,"+")}catch(e){!function(e,t,a){var n=e.create,r=e.defineProperty,l=/[!'\(\)~]|%20|%00/g,o=/%(?![0-9a-fA-F]{2})/g,c=/\+/g,i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},s={append:function(e,t){f(this._ungap,e,t)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,a){this._ungap[e]=[t(a)]},forEach:function(e,a){var n=this;for(var r in n._ungap)n._ungap[r].forEach(l,r);function l(l){e.call(a,l,t(r),n)}},toJSON:function(){return{}},toString:function(){var e=[];for(var t in this._ungap)for(var a=E(t),n=0,r=this._ungap[t];n<r.length;n++)e.push(a+"="+E(r[n]));return e.join("&")}};for(var u in s)r(m.prototype,u,{configurable:!0,writable:!0,value:s[u]});function m(e){var t=n(null);switch(r(this,"_ungap",{value:t}),!0){case!e:break;case"string"==typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var l=e.split("&"),o=0,c=l.length;o<c;o++){var i=(s=l[o]).indexOf("=");-1<i?f(t,g(s.slice(0,i)),g(s.slice(i+1))):s.length&&f(t,g(s),"")}break;case a(e):for(o=0,c=e.length;o<c;o++){var s;f(t,(s=e[o])[0],s[1])}break;case"forEach"in e:e.forEach(p,t);break;default:for(var u in e)f(t,u,e[u])}}function p(e,t){f(this,t,e)}function f(e,t,n){var r=a(n)?n.join(","):n;t in e?e[t].push(r):e[t]=[r]}function g(e){return decodeURIComponent(e.replace(o,"%25").replace(c," "))}function E(e){return encodeURIComponent(e).replace(l,b)}function b(e){return i[e]}d.URLSearchParams=m}(Object,String,Array.isArray)}!function(e){var t=!1;try{t=!!Symbol.iterator}catch(e){}function a(e,a){var n=[];return e.forEach(a,n),t?n[Symbol.iterator]():{next:function(){var e=n.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,t){var a=this,n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(r){r.length&&!(r in n)&&(n[r]=a.getAll(r)).forEach((function(n){e.call(t,n,r,a)}))}))}),"keys"in e||(e.keys=function(){return a(this,(function(e,t){this.push(t)}))}),"values"in e||(e.values=function(){return a(this,(function(e,t){this.push(e)}))}),"entries"in e||(e.entries=function(){return a(this,(function(e,t){this.push([t,e])}))}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,a,n=this.entries(),r=n.next(),l=r.done,o=[],c=Object.create(null);!l;)t=(a=r.value)[0],o.push(t),t in c||(c[t]=[]),c[t].push(a[1]),l=(r=n.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,c[t].shift())}),function(t){var a=t.defineProperty,n=t.getOwnPropertyDescriptor,r=function(t){var a=t.append;t.append=e.append,URLSearchParams.call(t,t._usp.search.slice(1)),t.append=a},l=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},o=function(o){var c,i,s=o.prototype,u=n(s,"searchParams"),d=n(s,"href"),m=n(s,"search");!u&&m&&m.set&&(i=function(t){function n(a,n){e.append.call(this,a,n),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}function r(a){e.delete.call(this,a),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}function l(a,n){e.set.call(this,a,n),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}return function(e,t){return e.append=n,e.delete=r,e.set=l,a(e,"_usp",{configurable:!0,writable:!0,value:t})}}(m),c=function(e,t){return a(e,"_searchParams",{configurable:!0,writable:!0,value:i(t,e)}),t},t.defineProperties(s,{href:{get:function(){return d.get.call(this)},set:function(e){var t=this._searchParams;d.set.call(this,e),t&&r(t)}},search:{get:function(){return m.get.call(this)},set:function(e){var t=this._searchParams;m.set.call(this,e),t&&r(t)}},searchParams:{get:function(){return l(this,o),this._searchParams||c(this,new URLSearchParams(this.search.slice(1)))},set:function(e){l(this,o),c(this,e)}}}))};try{o(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&o(URL)}catch(e){}}(Object)}(d.URLSearchParams.prototype);const m=d.URLSearchParams,p=()=>(0,r.useContext)(c),f=()=>(0,r.useContext)(i),g=()=>(0,l.useFacetMemo)(((e,t)=>t?e:l.NO_VALUE),[],[(0,r.useContext)(u),f()]),E=()=>(0,l.useFacetMemo)((({list:e},t)=>t?e[e.length-1].pathname:l.NO_VALUE),[],[(0,r.useContext)(o),f()]),b=()=>(0,l.useFacetMemo)((({list:e},t)=>t?e[e.length-1].hash:l.NO_VALUE),[],[(0,r.useContext)(o),f()]),h=()=>{const e=(0,l.useFacetMap)((({list:e})=>e[e.length-1].search),[],[(0,r.useContext)(o)]);return(0,l.useFacetMemo)(((e,t)=>t?new m(e):l.NO_VALUE),[],[e,f()])};function v(e,t){void 0===t&&(t={});for(var a=function(e){for(var t=[],a=0;a<e.length;){var n=e[a];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:a,value:e[a++]});else{var r=1,l="";if("?"===e[c=a+1])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(0==--r){c++;break}}else if("("===e[c]&&(r++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));l+=e[c++]}else l+=e[c++]+e[c++];if(r)throw new TypeError("Unbalanced pattern at ".concat(a));if(!l)throw new TypeError("Missing pattern at ".concat(a));t.push({type:"PATTERN",index:a,value:l}),a=c}else{for(var o="",c=a+1;c<e.length;){var i=e.charCodeAt(c);if(!(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||95===i))break;o+=e[c++]}if(!o)throw new TypeError("Missing parameter name at ".concat(a));t.push({type:"NAME",index:a,value:o}),a=c}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}(e),n=t.prefixes,r=void 0===n?"./":n,l=t.delimiter,o=void 0===l?"/#?":l,c=[],i=0,s=0,u="",d=function(e){if(s<a.length&&a[s].type===e)return a[s++].value},m=function(e){var t=d(e);if(void 0!==t)return t;var n=a[s],r=n.type,l=n.index;throw new TypeError("Unexpected ".concat(r," at ").concat(l,", expected ").concat(e))},p=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},f=function(e){var t=c[c.length-1],a=e||(t&&"string"==typeof t?t:"");if(t&&!a)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!a||function(e){for(var t=0,a=o;t<a.length;t++){var n=a[t];if(e.indexOf(n)>-1)return!0}return!1}(a)?"[^".concat(y(o),"]+?"):"(?:(?!".concat(y(a),")[^").concat(y(o),"])+?")};s<a.length;){var g=d("CHAR"),E=d("NAME"),b=d("PATTERN");if(E||b){var h=g||"";-1===r.indexOf(h)&&(u+=h,h=""),u&&(c.push(u),u=""),c.push({name:E||i++,prefix:h,suffix:"",pattern:b||f(h),modifier:d("MODIFIER")||""})}else{var v=g||d("ESCAPED_CHAR");if(v)u+=v;else if(u&&(c.push(u),u=""),d("OPEN")){h=p();var F=d("NAME")||"",S=d("PATTERN")||"",C=p();m("CLOSE"),c.push({name:F||(S?i++:""),pattern:F&&!S?f(h):S,prefix:h,suffix:C,modifier:d("MODIFIER")||""})}else m("END")}}return c}function F(e,t){var a=[];return function(e,t,a){void 0===a&&(a={});var n=a.decode,r=void 0===n?function(e){return e}:n;return function(a){var n=e.exec(a);if(!n)return!1;for(var l=n[0],o=n.index,c=Object.create(null),i=function(e){if(void 0===n[e])return"continue";var a=t[e-1];"*"===a.modifier||"+"===a.modifier?c[a.name]=n[e].split(a.prefix+a.suffix).map((function(e){return r(e,a)})):c[a.name]=r(n[e],a)},s=1;s<n.length;s++)i(s);return{path:l,index:o,params:c}}}(C(e,a,t),a,t)}function y(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function S(e){return e&&e.sensitive?"":"i"}function C(e,t,a){return e instanceof RegExp?function(e,t){if(!t)return e;for(var a=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,r=a.exec(e.source);r;)t.push({name:r[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),r=a.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,a){var n=e.map((function(e){return C(e,t,a).source}));return new RegExp("(?:".concat(n.join("|"),")"),S(a))}(e,t,a):function(e,t,a){return function(e,t,a){void 0===a&&(a={});for(var n=a.strict,r=void 0!==n&&n,l=a.start,o=void 0===l||l,c=a.end,i=void 0===c||c,s=a.encode,u=void 0===s?function(e){return e}:s,d=a.delimiter,m=void 0===d?"/#?":d,p=a.endsWith,f="[".concat(y(void 0===p?"":p),"]|$"),g="[".concat(y(m),"]"),E=o?"^":"",b=0,h=e;b<h.length;b++){var v=h[b];if("string"==typeof v)E+=y(u(v));else{var F=y(u(v.prefix)),C=y(u(v.suffix));if(v.pattern)if(t&&t.push(v),F||C)if("+"===v.modifier||"*"===v.modifier){var M="*"===v.modifier?"?":"";E+="(?:".concat(F,"((?:").concat(v.pattern,")(?:").concat(C).concat(F,"(?:").concat(v.pattern,"))*)").concat(C,")").concat(M)}else E+="(?:".concat(F,"(").concat(v.pattern,")").concat(C,")").concat(v.modifier);else{if("+"===v.modifier||"*"===v.modifier)throw new TypeError('Can not repeat "'.concat(v.name,'" without a prefix and suffix'));E+="(".concat(v.pattern,")").concat(v.modifier)}else E+="(?:".concat(F).concat(C,")").concat(v.modifier)}}if(i)r||(E+="".concat(g,"?")),E+=a.endsWith?"(?=".concat(f,")"):"$";else{var w=e[e.length-1],k="string"==typeof w?g.indexOf(w[w.length-1])>-1:void 0===w;r||(E+="(?:".concat(g,"(?=").concat(f,"))?")),k||(E+="(?=".concat(g,"|").concat(f,")"))}return new RegExp(E,S(a))}(v(e,a),t,a)}(e,t,a)}function M(e,t){return e+(0===t.toString().length?"":`?${t.toString()}`)}const w=(0,l.createStaticFacet)(!1),k=({to:e,match:t=w,keepQuery:a=!1})=>{const n=(0,l.useFacetWrap)(t),c=p(),i=(0,r.useMemo)((()=>{return function(e,t){void 0===t&&(t={});var a=S(t),n=t.encode,r=void 0===n?function(e){return e}:n,l=t.validate,o=void 0===l||l,c=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),a)}));return function(t){for(var a="",n=0;n<e.length;n++){var l=e[n];if("string"!=typeof l){var i=t?t[l.name]:void 0,s="?"===l.modifier||"*"===l.modifier,u="*"===l.modifier||"+"===l.modifier;if(Array.isArray(i)){if(!u)throw new TypeError('Expected "'.concat(l.name,'" to not repeat, but got an array'));if(0===i.length){if(s)continue;throw new TypeError('Expected "'.concat(l.name,'" to not be empty'))}for(var d=0;d<i.length;d++){var m=r(i[d],l);if(o&&!c[n].test(m))throw new TypeError('Expected all "'.concat(l.name,'" to match "').concat(l.pattern,'", but got "').concat(m,'"'));a+=l.prefix+m+l.suffix}}else if("string"!=typeof i&&"number"!=typeof i){if(!s){var p=u?"an array":"a string";throw new TypeError('Expected "'.concat(l.name,'" to be ').concat(p))}}else{if(m=r(String(i),l),o&&!c[n].test(m))throw new TypeError('Expected "'.concat(l.name,'" to match "').concat(l.pattern,'", but got "').concat(m,'"'));a+=l.prefix+m+l.suffix}}else a+=l}return a}}(v(e,t),t);var t}),[e]),s=(0,l.useFacetMap)((e=>0!=e),[],[n]),u=(0,l.useFacetCallback)(((e,t)=>n=>{if(!n||0==e)return;const r=i(e.params);if(a){const e=t.list[t.list.length-1].search,a=new m(e);c.replace(M(r,a))}else c.replace(r)}),[c,i,a],[n,(0,r.useContext)(o)]);return(0,l.useFacetEffect)((e=>{u(e)}),[u],[s]),null},P=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.route)&&Boolean(t.component)},T=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.from)};function I({children:e,onNotFound:t}){const a=(0,r.useContext)(o),n=(0,l.useFacetMap)((e=>e.list[e.list.length-1].pathname),[],[a]),c=(0,l.useFacetMap)((({action:e})=>e),[],[a]),i=A(),s=(0,l.useFacetMemo)((t=>{let a=!1;return r.Children.forEach(e,((e,n)=>{if(0==a&&(0,r.isValidElement)(e)){if(P(e)){const r=i(e.props.route)(t);if(0!=r)return void(a={match:r,index:n})}if(T(e)){const r=i(e.props.from)(t);if(0!=r)return void(a={match:r,index:n})}}})),a}),[e,i],[n]),u=(0,l.useFacetMap)((e=>!1!==e),[],[s]);return r.createElement(r.Fragment,null,r.Children.map(e,((e,t)=>(0,r.isValidElement)(e)?P(e)||T(e)?r.createElement(O,{index:t,switchMatchResult:s,child:e,action:c}):r.createElement(l.Mount,{when:u},e):null)),r.createElement(x,{notFound:u,onNotFound:t}))}const x=({notFound:e,onNotFound:t})=>{const a=(0,l.useFacetUnwrap)(e);return(0,r.useEffect)((()=>{0==a&&null!=t&&t()}),[t,a]),null},O=({switchMatchResult:e,index:t,action:a,child:n})=>{const o=(0,l.useFacetMemo)((e=>!1!==e&&e.index===t&&e.match),[t],[e]);return r.cloneElement(n,{match:o,action:a})},A=()=>{const e=(0,r.useRef)(new Map);return(0,r.useCallback)((t=>{const a=e.current.get(t);if(a)return a;const n=F(t);return e.current.set(t,n),n}),[])};let N,R;!function(e){e.Overlay="overlay",e.Editor="editor",e.PassInputToGameplay="pass-input-to-gameplay",e.GrabMouse="grab-mouse",e.GameplayGridGamepad="gameplay-grid-gamepad"}(N||(N={})),function(e){e.XboxLive="xbox-live"}(R||(R={}));const L=({value:e,isInBackground:t,children:a})=>{const n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(null!=t&&t),c=(0,l.useFacetMap)((e=>!e),[],[n]);return r.createElement(D,{disabled:c},r.createElement(i.Provider,{value:n},null!=t?r.createElement(s.Provider,{value:o},a):a))},D=({children:e,disabled:t})=>{const a=(0,r.useContext)(c),n=(0,l.useFacetCallback)((e=>()=>{e||a.goBack()}),[a],[t]),o=(0,l.useFacetCallback)((e=>t=>{e||a.push(t)}),[a],[t]),i=(0,l.useFacetCallback)((e=>t=>{e||a.replace(t)}),[a],[t]),s=(0,l.useFacetCallback)((e=>t=>{e||a.go(t)}),[a],[t]),u=(0,r.useMemo)((()=>({goBack:n,push:o,replace:i,go:s})),[n,o,i,s]);return r.createElement(c.Provider,{value:u},e)};let _,B,W,U,z,j;!function(e){e[e.Unknown=-1]="Unknown",e[e.Initial=0]="Initial",e[e.FocusInput=1]="FocusInput",e[e.PointerInput=2]="PointerInput",e[e.DelegatingTreeMutation=3]="DelegatingTreeMutation",e[e.FocusPreservingTreeMutation=4]="FocusPreservingTreeMutation",e[e.URL=5]="URL",e[e.DebugTool=6]="DebugTool",e[e.ImperativeSetFocus=7]="ImperativeSetFocus",e[e.LandmarkController=8]="LandmarkController"}(_||(_={})),function(e){e[e.DefaultDelegation=0]="DefaultDelegation",e[e.FirstFoundDelegation=1]="FirstFoundDelegation",e[e.AliasDelegation=2]="AliasDelegation",e[e.MemoryDelegation=3]="MemoryDelegation",e[e.DelegationToSelf=5]="DelegationToSelf",e[e.DelegationToSameDescendant=6]="DelegationToSameDescendant"}(B||(B={})),function(e){e[e.InitializingTree=0]="InitializingTree",e[e.ItemAliasMutation=2]="ItemAliasMutation",e[e.FirstEnabledFocusableDescendantMounted=3]="FirstEnabledFocusableDescendantMounted",e[e.CurrentFocusedGettingDisabled=4]="CurrentFocusedGettingDisabled",e[e.CurrentFocusedAliasMutation=5]="CurrentFocusedAliasMutation",e[e.CurrentDelegatingLandmarkIdentityMutation=6]="CurrentDelegatingLandmarkIdentityMutation",e[e.BindingLandmarkAdded=7]="BindingLandmarkAdded",e[e.BindingLandmarkRemoved=8]="BindingLandmarkRemoved"}(W||(W={})),function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.MEMORY=1]="MEMORY",e[e.ALIAS=2]="ALIAS"}(U||(U={})),function(e){e[e.Unknown=-1]="Unknown",e[e.Mutation=1]="Mutation",e[e.UserInput=2]="UserInput"}(z||(z={})),function(e){e.A="A",e.B="B",e.X="X",e.Y="Y",e.START="START",e.SELECT="SELECT",e.XBOX="XBOX",e.RIGHT_TRIGGER="RT",e.LEFT_TRIGGER="LT",e.LEFT_BUMPER="LB",e.RIGHT_BUMPER="RB",e.L3="L3",e.R3="R3",e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.NEXT="NEXT",e.PREV="PREV",e.LEFT_ANALOG_LEFT="L_LEFT",e.LEFT_ANALOG_RIGHT="L_RIGHT",e.LEFT_ANALOG_UP="L_UP",e.LEFT_ANALOG_DOWN="L_DOWN",e.RIGHT_ANALOG_LEFT="R_LEFT",e.RIGHT_ANALOG_RIGHT="R_RIGHT",e.RIGHT_ANALOG_UP="R_UP",e.RIGHT_ANALOG_DOWN="R_DOWN",e[e.LEFT_HORIZONTAL_AXIS=0]="LEFT_HORIZONTAL_AXIS",e[e.LEFT_VERTICAL_AXIS=1]="LEFT_VERTICAL_AXIS",e[e.RIGHT_HORIZONTAL_AXIS=2]="RIGHT_HORIZONTAL_AXIS",e[e.RIGHT_VERTICAL_AXIS=3]="RIGHT_VERTICAL_AXIS",e.PSEUDO_BUTTON_1="PSEUDO_BUTTON_1",e.PSEUDO_BUTTON_2="PSEUDO_BUTTON_2",e.PSEUDO_BUTTON_3="PSEUDO_BUTTON_3",e.PSEUDO_BUTTON_4="PSEUDO_BUTTON_4",e.PSEUDO_BUTTON_5="PSEUDO_BUTTON_5",e.PSEUDO_BUTTON_6="PSEUDO_BUTTON_6",e.PSEUDO_BUTTON_7="PSEUDO_BUTTON_7",e.PSEUDO_BUTTON_8="PSEUDO_BUTTON_8",e.PSEUDO_BUTTON_9="PSEUDO_BUTTON_9",e.PSEUDO_BUTTON_10="PSEUDO_BUTTON_10"}(j||(j={}));const H="data-landmark-id",G="data-focusable-id",V="data-focusable-debug-id";let $,X,K;!function(e){e[e.ITEM=0]="ITEM",e[e.FOCUS_GROUP=1]="FOCUS_GROUP",e[e.LANDMARK=2]="LANDMARK",e[e.ROOT=3]="ROOT"}($||($={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(X||(X={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(K||(K={}));const Y=[j.A,j.B,j.LEFT,j.DOWN,j.RIGHT,j.UP];let q;!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(q||(q={}));const Q={[j.LEFT_ANALOG_UP]:q.UP,[j.UP]:q.UP,[j.LEFT_ANALOG_DOWN]:q.DOWN,[j.DOWN]:q.DOWN,[j.LEFT_ANALOG_LEFT]:q.LEFT,[j.LEFT]:q.LEFT,[j.LEFT_ANALOG_RIGHT]:q.RIGHT,[j.RIGHT]:q.RIGHT},J={3:j.B};let Z;!function(e){e[e.NEXT=-1]="NEXT",e[e.PREVIOUS=1]="PREVIOUS"}(Z||(Z={}));const ee=e=>e.type===$.ITEM||e.type===$.LANDMARK&&!0!==e.focusControlDisabled||e.type===$.ROOT,te=e=>ee(e)&&!e.disabled&&!e.hidden&&null!=e.ref,ae=e=>!e.disabled&&!e.hidden&&null!=e.ref,ne=e=>!e.disabled&&!e.hidden,re=e=>ee(e)?ae(e):ne(e),le=e=>null!=e&&e.type===$.ROOT,oe=e=>null!=e&&e.type===$.LANDMARK&&!0!==e.focusControlDisabled&&"getDelegatedFocus"in e,ce=e=>null!=e&&e.type===$.LANDMARK&&!0===e.isGrid,ie=e=>null!=e&&e.type===$.LANDMARK&&!0===e.isGrid&&null!=e.ref,se=e=>oe(e)&&"shouldBindFocus"in e&&!0===e.shouldBindFocus,ue=(j.LEFT_ANALOG_LEFT,j.LEFT_ANALOG_RIGHT,j.LEFT_ANALOG_UP,j.LEFT_ANALOG_DOWN,j.RIGHT_ANALOG_LEFT,j.RIGHT_ANALOG_RIGHT,j.RIGHT_ANALOG_UP,j.RIGHT_ANALOG_DOWN,j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.XBOX,j.RIGHT_TRIGGER,j.LEFT_TRIGGER,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.L3,j.R3,j.LEFT,j.RIGHT,j.UP,j.DOWN,j.PSEUDO_BUTTON_1,j.PSEUDO_BUTTON_2,j.PSEUDO_BUTTON_3,j.PSEUDO_BUTTON_4,j.PSEUDO_BUTTON_5,j.PSEUDO_BUTTON_6,j.PSEUDO_BUTTON_7,j.PSEUDO_BUTTON_8,j.PSEUDO_BUTTON_9,j.PSEUDO_BUTTON_10,j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.LEFT,j.RIGHT,j.UP,j.DOWN,j.L3,j.R3,j.LEFT_ANALOG_LEFT,j.RIGHT_ANALOG_LEFT,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,[j.A,j.B,j.X,j.Y,j.START,j.SELECT,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,j.R3,j.L3]),de=[j.A,j.B,j.X,j.Y,j.LEFT_BUMPER,j.RIGHT_BUMPER,j.LEFT_TRIGGER,j.RIGHT_TRIGGER,j.SELECT,j.START,j.L3,j.R3,j.UP,j.DOWN,j.LEFT,j.RIGHT,j.XBOX],me=[j.LEFT,j.RIGHT,j.UP,j.DOWN];let pe,fe;ue.map((e=>de.indexOf(e))),me.map((e=>de.indexOf(e))),function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PG_UP=33]="PG_UP",e[e.PG_DOWN=34]="PG_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.EQUALS=61]="EQUALS",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.MINUS=109]="MINUS",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.GRAVE=192]="GRAVE",e[e.MOUSE_MOVEMENT=195]="MOUSE_MOVEMENT",e[e.MOUSE_BUTTON_LEFT=196]="MOUSE_BUTTON_LEFT",e[e.MOUSE_BUTTON_MIDDLE=197]="MOUSE_BUTTON_MIDDLE",e[e.MOUSE_BUTTON_RIGHT=198]="MOUSE_BUTTON_RIGHT",e[e.MOUSE_WHEEL=199]="MOUSE_WHEEL",e[e.PSEUDO_KEY_1=201]="PSEUDO_KEY_1",e[e.PSEUDO_KEY_2=202]="PSEUDO_KEY_2",e[e.PSEUDO_KEY_3=203]="PSEUDO_KEY_3",e[e.PSEUDO_KEY_4=204]="PSEUDO_KEY_4",e[e.PSEUDO_KEY_5=205]="PSEUDO_KEY_5",e[e.PSEUDO_KEY_6=206]="PSEUDO_KEY_6",e[e.PSEUDO_KEY_7=207]="PSEUDO_KEY_7",e[e.PSEUDO_KEY_8=208]="PSEUDO_KEY_8",e[e.PSEUDO_KEY_9=209]="PSEUDO_KEY_9",e[e.PSEUDO_KEY_10=210]="PSEUDO_KEY_10",e[e.BRACKET_OPEN=219]="BRACKET_OPEN",e[e.BACKSLASH=220]="BACKSLASH",e[e.BRACKET_CLOSE=221]="BRACKET_CLOSE",e[e.APOSTROPHE=222]="APOSTROPHE"}(pe||(pe={})),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(fe||(fe={}));const ge={[j.A]:[pe.MOUSE_BUTTON_LEFT]},Ee={[j.B]:!0,[j.A]:!0},be={[j.UP]:[pe.UP],[j.DOWN]:[pe.DOWN],[j.LEFT]:[pe.LEFT],[j.RIGHT]:[pe.RIGHT],[j.X]:[pe.KEY_X],[j.Y]:[pe.KEY_Y],[j.A]:[pe.ENTER,pe.SPACE],[j.B]:[pe.ESCAPE,pe.BACKSPACE],[j.LEFT_TRIGGER]:[pe.KEY_Q],[j.RIGHT_TRIGGER]:[pe.KEY_Z],[j.LEFT_BUMPER]:[pe.BRACKET_OPEN],[j.RIGHT_BUMPER]:[pe.BRACKET_CLOSE],[j.LEFT_ANALOG_LEFT]:[pe.KEY_9],[j.RIGHT_ANALOG_LEFT]:[pe.KEY_0],[j.START]:[pe.F10],[j.SELECT]:[pe.F11],[j.XBOX]:[pe.F1],[j.L3]:[pe.F2],[j.R3]:[pe.F3],[j.PSEUDO_BUTTON_1]:[pe.PSEUDO_KEY_1],[j.PSEUDO_BUTTON_2]:[pe.PSEUDO_KEY_2],[j.PSEUDO_BUTTON_3]:[pe.PSEUDO_KEY_3],[j.PSEUDO_BUTTON_4]:[pe.PSEUDO_KEY_4],[j.PSEUDO_BUTTON_5]:[pe.PSEUDO_KEY_5],[j.PSEUDO_BUTTON_6]:[pe.PSEUDO_KEY_6],[j.PSEUDO_BUTTON_7]:[pe.PSEUDO_KEY_7],[j.PSEUDO_BUTTON_8]:[pe.PSEUDO_KEY_8],[j.PSEUDO_BUTTON_9]:[pe.PSEUDO_KEY_9],[j.PSEUDO_BUTTON_10]:[pe.PSEUDO_KEY_10]},he={[j.UP]:[pe.UP],[j.DOWN]:[pe.DOWN],[j.LEFT]:[pe.LEFT],[j.RIGHT]:[pe.RIGHT],[j.X]:[pe.KEY_X,pe.KEY_E],[j.Y]:[pe.KEY_Y],[j.A]:[pe.ENTER,pe.SPACE,pe.KEY_Q],[j.B]:[pe.ESCAPE,pe.BACKSPACE],[j.LEFT_TRIGGER]:[pe.PG_UP],[j.RIGHT_TRIGGER]:[pe.PG_DOWN],[j.LEFT_BUMPER]:[pe.BRACKET_OPEN],[j.RIGHT_BUMPER]:[pe.BRACKET_CLOSE],[j.LEFT_ANALOG_LEFT]:[pe.KEY_9],[j.RIGHT_ANALOG_LEFT]:[pe.KEY_0],[j.START]:[pe.F10],[j.SELECT]:[pe.F11],[j.XBOX]:[pe.F1],[j.L3]:[pe.F2],[j.R3]:[pe.F3],[j.PSEUDO_BUTTON_1]:[pe.PSEUDO_KEY_1],[j.PSEUDO_BUTTON_2]:[pe.PSEUDO_KEY_2],[j.PSEUDO_BUTTON_3]:[pe.PSEUDO_KEY_3],[j.PSEUDO_BUTTON_4]:[pe.PSEUDO_KEY_4],[j.PSEUDO_BUTTON_5]:[pe.PSEUDO_KEY_5],[j.PSEUDO_BUTTON_6]:[pe.PSEUDO_KEY_6],[j.PSEUDO_BUTTON_7]:[pe.PSEUDO_KEY_7],[j.PSEUDO_BUTTON_8]:[pe.PSEUDO_KEY_8],[j.PSEUDO_BUTTON_9]:[pe.PSEUDO_KEY_9],[j.PSEUDO_BUTTON_10]:[pe.PSEUDO_KEY_10]},ve=(0,l.createStaticFacet)(be),Fe=(0,r.createContext)([ve,()=>{}]),ye=()=>(0,r.useContext)(Fe),Se=(0,r.createContext)([]),{Provider:Ce,Consumer:Me}=Se,we=Se,ke=(0,r.createContext)((()=>()=>{})),Pe=()=>(0,r.useContext)(ke),Te=(0,r.createContext)((0,l.createStaticFacet)(_.Initial)),Ie=(0,l.createFacetContext)({isControllerHintsEnabled:!0,isKeyboardHintsEnabled:!1}),xe=()=>(0,r.useContext)(Ie),Oe=Ie.Provider,Ae=(Ie.Consumer,(0,r.createContext)((0,l.createStaticFacet)({swapABButtons:!1,swapXYButtons:!1}))),Ne=()=>(0,r.useContext)(Ae),Re=Ae.Provider,Le=(Ae.Consumer,()=>{}),De=(0,r.createContext)({current:{generateId:()=>(Le(),-1),press:()=>{},isFocused:()=>(Le(),!1),isFocusable:()=>(Le(),!1),putNode:Le,putShortcut:Le,removeNode:Le,removeShortcut:Le,getElement:()=>{Le()},isAncestorOf:()=>(Le(),!1),getBindingAncestorId:()=>(Le(),null),getDynasty:()=>{Le()},getEnabledBindingLandmarkDescendant:()=>{Le()},containerHasEnabledItems:()=>(Le(),!1),getClosestGrid:()=>(Le(),null),updateGridNodeDimensions:()=>{Le()}}}),{Provider:_e,Consumer:Be}=De,We=_e,Ue=(0,l.createFacetContext)({}),ze=()=>(0,r.useContext)(Ue),je=({value:e,children:t})=>r.createElement(Ue.Provider,{value:e},t),He=(0,r.createContext)(void 0),Ge=()=>(0,r.useContext)(He),Ve=({value:e,children:t})=>r.createElement(He.Provider,{value:e},t);let $e,Xe,Ke,Ye,qe,Qe;!function(e){e[e.TV_SCREEN_TYPE=0]="TV_SCREEN_TYPE",e[e.DESKTOP_SCREEN_TYPE=1]="DESKTOP_SCREEN_TYPE",e[e.HANDHELD_SCREEN_TYPE=2]="HANDHELD_SCREEN_TYPE"}($e||($e={})),function(e){e[e.PHONE=0]="PHONE",e[e.TABLET=1]="TABLET"}(Xe||(Xe={})),function(e){e[e.GAMEPAD=0]="GAMEPAD",e[e.TOUCH=1]="TOUCH",e[e.MOUSE=2]="MOUSE",e[e.MOTION=3]="MOTION",e[e.KEYBOARD=4]="KEYBOARD"}(Ke||(Ke={})),function(e){e[e.IOS=0]="IOS",e[e.GOOGLE=1]="GOOGLE",e[e.AMAZON_HANDHELD=2]="AMAZON_HANDHELD",e[e.UWP_GDK_PC=3]="UWP_GDK_PC",e[e.XBOX=4]="XBOX",e[e.NX_HANDHELD=5]="NX_HANDHELD",e[e.PS4=6]="PS4",e[e.WIN32=7]="WIN32",e[e.MACOS=8]="MACOS",e[e.NX_TV=9]="NX_TV",e[e.PS5=10]="PS5"}(Ye||(Ye={})),function(e){e[e.SCALE_100_PERCENT=4]="SCALE_100_PERCENT",e[e.SCALE_125_PERCENT=5]="SCALE_125_PERCENT",e[e.SCALE_150_PERCENT=6]="SCALE_150_PERCENT",e[e.SCALE_175_PERCENT=7]="SCALE_175_PERCENT",e[e.SCALE_200_PERCENT=8]="SCALE_200_PERCENT"}(qe||(qe={})),function(e){e[e.XBOX=0]="XBOX",e[e.PS=1]="PS",e[e.STEAM=2]="STEAM",e[e.SWITCH=3]="SWITCH",e[e.QUEST=4]="QUEST"}(Qe||(Qe={}));const Je=(0,r.createContext)({isPointerInputMouse:(0,l.createStaticFacet)(!1),isPointerInputTouch:(0,l.createStaticFacet)(!1),isPointerInputAvailable:(0,l.createStaticFacet)(!1),isFocusInputGamepad:(0,l.createStaticFacet)(!1),isFocusInputKeyboard:(0,l.createStaticFacet)(!1),isFocusInputAvailable:(0,l.createStaticFacet)(!1),isLastInputMouse:(0,l.createStaticFacet)(!1),isLastInputTouch:(0,l.createStaticFacet)(!1),isLastInputGamepad:(0,l.createStaticFacet)(!1),isLastInputKeyboard:(0,l.createStaticFacet)(!1),isLastInputPointer:(0,l.createStaticFacet)(!1),isLastInputFocus:(0,l.createStaticFacet)(!1),isGamepadSupported:(0,l.createStaticFacet)(!1),isKeyboardSupported:(0,l.createStaticFacet)(!1),isMouseSupported:(0,l.createStaticFacet)(!1),isTouchSupported:(0,l.createStaticFacet)(!1),isPointerSupported:(0,l.createStaticFacet)(!1),isFocusSupported:(0,l.createStaticFacet)(!1)}),Ze=(0,r.createContext)((0,l.createStaticFacet)(Ye.XBOX)),et=(0,r.createContext)((0,l.createStaticFacet)($e.TV_SCREEN_TYPE)),tt=(0,r.createContext)((0,l.createStaticFacet)(Qe.XBOX)),at=(0,r.createContext)((0,l.createStaticFacet)(!1)),nt=()=>(0,r.useContext)(Je).isPointerInputMouse,rt=()=>(0,r.useContext)(Je).isFocusInputGamepad,lt=()=>(0,r.useContext)(Je).isFocusInputKeyboard,ot=()=>(0,r.useContext)(Je).isFocusInputAvailable,ct=()=>(0,r.useContext)(Je).isLastInputMouse,it=()=>(0,r.useContext)(Je).isLastInputTouch,st=()=>(0,r.useContext)(Je).isLastInputGamepad,ut=()=>(0,r.useContext)(Je).isLastInputKeyboard,dt=()=>(0,r.useContext)(Je).isLastInputPointer,mt=()=>(0,r.useContext)(Je).isLastInputFocus,pt=()=>(0,r.useContext)(Ze);var ft=a(59270),gt=a.n(ft);function Et(e,t){const a=e.elements.get(t);if(null!=a&&ee(a))return null==a?void 0:a.alias}function bt(e,t){var a;if("string"==typeof t)return t;const n=e.elements.get(t);return null!=n&&ee(n)?null!==(a=null==n?void 0:n.alias)&&void 0!==a?a:n.id:t}function ht(e,t){var a;const n=null!==(a=e.children.get(t.id))&&void 0!==a?a:[];for(const t of n){const a=e.elements.get(t);if(a)switch(a.type){case $.LANDMARK:if(!re(a))continue;if(ht(e,a))return!0;break;case $.FOCUS_GROUP:if(a.disabled||a.hidden)continue;if(ht(e,a))return!0;break;case $.ITEM:if(ae(a))return!0;case $.ROOT:}}return!1}function vt(e,t){return"string"==typeof t?e.aliases.get(t):null!=t&&e.elements.has(t)?t:void 0}function Ft(e,t){const a=vt(e,t);if(null!=a)return e.elements.get(a)}function yt(e,t){const a=e.parents.get(t);return null==a?[]:[a,...yt(e,a)]}function St(e,t,a){const n=e.parents.get(a);return n===t||null!=n&&St(e,t,n)}function Ct(e,t){const a=e.parents.get(t);if(null==a)return null;const n=e.elements.get(a);return null==n?null:oe(n)||le(n)?n:Ct(e,a)}function Mt(e,t){const a=e.parents.get(t);if(null==a)return null;const n=e.elements.get(a);return null==n||oe(n)&&!ce(n)?null:ce(n)?n:Mt(e,a)}function wt(e,t){for(const a of t){const t=e.elements.get(a);if(t){if(oe(t)&&Lt(e,a))return!0;if(t.type===$.ITEM&&Lt(e,a))return!0}}return!1}const kt=e=>{const t=(a,n)=>{const r=a.parents.get(n);if(null==r)return null;const l=a.elements.get(r);return null==l?null:e(l)?r:t(a,r)};return t},Pt=(e,t,a)=>{const n=yt(e,a);return null!=kt((e=>oe(e)&&!gt()(e.id,n)))(e,t)},Tt=kt((e=>e.disabled||e.hidden)),It=(e,t)=>null!=Tt(e,t),xt=kt(se),Ot=kt((e=>e.type===$.LANDMARK&&null!=e.scrollAxis)),At=(e,t,a)=>{const n=e.parents.get(t);return null!=n&&(n===a||At(e,n,a))},Nt=(e,t)=>{const a=Rt(e,t);if(null!=a&&a.length>0){const t=Ft(e,a[0]);return null!=t&&se(t)?t:void 0}},Rt=(e,t)=>{const a=e.bindingLandmarkDescendants.get(t);if(null==a)return;const n=[];for(const t of a)Lt(e,t)&&n.push(t);return n};function Lt(e,t){const a=Ft(e,t);if(null==a)return!1;if(a.type===$.ROOT)return!0;if(!re(a))return!1;const n=yt(e,a.id);for(const t of n){const a=Ft(e,t);if(null==a)return!1;if(a.type===$.ROOT)return!0;if(!re(a))return!1}return!0}const Dt=(e,t,a)=>{const n=vt(e,t);if(null==n)return;const r=e.elements.get(n);if(null!=r){if(r.type===$.ROOT||oe(r)&&Lt(e,n)){const e=r.getDelegatedFocus({delegationOrigin:a});return e!=l.NO_VALUE?e:void 0}return Dt(e,e.parents.get(n),a)}};function _t(e,t,a){const n=e.elements.get(t);if(!n)return;if(Lt(e,t)){var r;const n=null===(r=e.shortcuts.get(t))||void 0===r?void 0:r.get(a);if(null!=n)return n}if(se(n))return;const l=e.parents.get(t);return null!=l?_t(e,l,a):void 0}function Bt(e,t,a){var n;return null===(n=_t(e,t,a))||void 0===n?void 0:n.callback}function Wt(e,t){const a=[],n=yt(e,t);for(const t of n){const n=Ft(e,t);if(null==n)return a;n.type!==$.LANDMARK&&n.type!==$.ROOT||!ae(n)||a.push(n)}return a}function Ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(a),!0).forEach((function(t){jt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ut(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function jt(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ht=(e,t)=>a=>{var n;const r=null!==(n=a.getAttribute(G))&&void 0!==n?n:a.getAttribute(H);if(null==r)return!1;const l=parseInt(r,10);return t===l||St(e,t,l)},Gt=(e,t)=>()=>{var a;const n=Nt(e,t);if(null!=n){const e=n.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=e&&e!==l.NO_VALUE)return zt(zt({},e),{},{reason:W.InitializingTree})}const r={id:t,delegationType:B.DefaultDelegation,reason:W.InitializingTree},o=e.dynasty.get(t),c=Array.from(null!==(a=window.document.body.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==a?a:[]);if(0===c.length)return r;for(let t=0;t<c.length;t++){const a=c[t].getAttribute(H),n=c[t].getAttribute(G);if(null!=a){const t=parseInt(a,10);if(null==o||!o.has(t))continue;const n=Ft(e,t);if(!oe(n))continue;if(!Lt(e,t))continue;const r=Ht(e,t),i=c.filter(r),s=n.getDelegatedFocus({cachedDescendantElements:i,delegationOrigin:z.Mutation});if(s!=l.NO_VALUE&&null!=s)return zt(zt({},s),{},{reason:W.InitializingTree})}else if(null!=n){const t=parseInt(n,10);if(null!=o&&o.has(t)&&Lt(e,t))return{id:t,delegationType:B.FirstFoundDelegation,reason:W.InitializingTree}}}return r},Vt={[q.UP]:Z.PREVIOUS,[q.DOWN]:Z.NEXT,[q.LEFT]:Z.PREVIOUS,[q.RIGHT]:Z.NEXT},$t={[q.UP]:q.DOWN,[q.DOWN]:q.UP,[q.LEFT]:q.RIGHT,[q.RIGHT]:q.LEFT},Xt={[q.UP]:X.VERTICAL,[q.DOWN]:X.VERTICAL,[q.LEFT]:X.HORIZONTAL,[q.RIGHT]:X.HORIZONTAL},Kt={[X.VERTICAL]:X.HORIZONTAL,[X.HORIZONTAL]:X.VERTICAL},Yt=(e,t)=>{switch(t){case q.DOWN:return e.top+e.height;case q.UP:return e.top;case q.RIGHT:return e.left+e.width;case q.LEFT:return e.left}},qt=e=>[e.left+e.width/2,e.top+e.height/2],Qt=(e,t,a)=>{switch(a){case X.HORIZONTAL:{const a=e.top+e.height,n=t.top+t.height,r=Math.max(t.top-e.top,0)+Math.max(a-n,0);return Math.max(e.height-r,0)/e.height}case X.VERTICAL:{const a=e.left+e.width,n=t.left+t.width,r=Math.max(t.left-e.left,0)+Math.max(a-n,0);return Math.max(e.width-r,0)/e.width}}};function Jt(e,t){var a;const n=e.elements.get(t);if(null!=n&&"ref"in n)return null==n||null===(a=n.ref)||void 0===a?void 0:a.getBoundingClientRect()}const Zt=e=>{let t=null,a=[1/0,1/0];for(const[r,l]of e.elements){var n;if(!ee(l))continue;const o=null===(n=l.ref)||void 0===n?void 0:n.getBoundingClientRect();if(null==o)continue;if(l.type!==$.ITEM)continue;if(It(e,l.id))continue;const c=qt(o),i=c[0]<a[0],s=c[0]===a[0]&&c[1]<a[1];(i||s)&&(t=r,a=c)}return t},ea=e=>{const t=e.getAttribute(G);if(null!=t)return parseInt(t)};function ta(e){const t={topLeftColumn:0,topLeftRow:0,columns:0,rows:0};if(0===e.length)return t;if(null==e)return t;const a=e.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0])),[n,r]=a[0],[l,o]=a[a.length-1];return t.topLeftColumn=r,t.topLeftRow=n,t.columns=o-r+1,t.rows=l-n+1,t}class aa{constructor(e=0,t=0){this._rows=e,this._columns=t,this._grid=new Array,this._itemIndices=new Map}_toIndex([e,t]){return e*this._columns+t}get columns(){return this._columns}_setColumns(e){if(!(e<=this._columns)){for(let e=this._grid.length-1;e>=0;e--)(e+1)%this._columns==0&&this._grid.splice(e,0,this._grid[e]);this._columns=e}}_setRows(e){if(e<=this._rows)return;const t=new Array(this._columns).fill(null).map(((e,t)=>{var a;return null!==(a=this._grid[this._grid.length-this._columns+t])&&void 0!==a?a:null}));this._grid.push(...t),this._rows=e}get rows(){return this._rows}get grid(){return this._grid}get itemIndices(){return this._itemIndices}getItemGridRect(e){const t=this._itemIndices.get(e);return null==t?{columns:0,rows:0,topLeftColumn:0,topLeftRow:0}:ta(t)}getItemCenterCoords(e){const t=this._itemIndices.get(e);if(null==t)return;const a=t.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0]));return a[Math.floor((a.length-1)/2)]}get isPopulated(){var e;return null!==(e=(this._rows>0||this._columns>0)&&this._grid.length>0&&null!=this._itemIndices&&this._itemIndices.size>0)&&void 0!==e&&e}get length(){return this._grid.length}getCoords(e){return this._itemIndices.get(e)}setItem(e,t){this.removeItem(t);const a=e.map((e=>this.getItem(e))).filter((t=>{if(null==t)return!1;const a=this._itemIndices.get(t);return null==a?void 0:a.every((t=>{return a=t,e.some((e=>e[0]===a[0]&&e[1]===a[0]));var a}))})),n=a.length>0;e.forEach((([e,a])=>{const r=this.getItem([e,a]);if(null!=r){var l;const t=null===(l=this.itemIndices.get(r))||void 0===l?void 0:l.filter((([t,a])=>!(t===e&&a==a)));null!=t&&this._itemIndices.set(r,t)}const o=this._toIndex([e,a]);this._setColumns(Math.max(this._columns,a+1)),this._setRows(Math.max(this._rows,e+1)),n?function(e,t,a){if(a<0||a>e.length)throw new Error("Index out of bounds");e.length+=1;for(let t=e.length-1;t>a;t--)e[t]=e[t-1];e[a]=t}(this._grid,t,o):this._grid[o]=t}))}getItem(e){if(Array.isArray(e)){const t=this._toIndex(e);return this._grid[t]}if("string"==typeof e){const t=this._itemIndices.get(e);if(t&&t.length>0){const[e,a]=t[0];return this.getItem([e,a])}}return null}removeItem(e){if(Array.isArray(e)){const t=this._toIndex(e),a=this._grid[t];null!=a&&this._itemIndices.delete(a),this._grid[t]=null}else{if("number"!=typeof e)throw new Error("Invalid arguments provided for removeItem");{const t=this._itemIndices.get(e);t&&(t.forEach((([e,t])=>{const a=this._toIndex([e,t]);this._grid[a]=null})),this._itemIndices.delete(e))}}}printGrid(e){}}const na={0:"topLeftRow",1:"topLeftColumn"};function ra(e,t){const a=e.grid.rows,n=e.grid.columns,r=t.grid.getCoords(e.nodeId);if(null==r)return[0,0];const l=ta(r),[o,c]=[l.rows/a,l.columns/n];return[o,c]}function la(e,t,a,n,r=0){if(null==t)return;const o=Mt(e,t);if(null!=o&&null!=o.ref){const c=e.grids.get(o.id);if(null==a&&(a=null==c?void 0:c.grid.getItemCenterCoords(t)),null==c)return;const i=oa(e,c,t,a,n,r);if(null!=i)return i;{const t=Mt(e,o.id);if(null==t)return;const i=e.grids.get(t.id);if(null==i)return;const s=a,u=function(e,t,a){const n=t.grid.getItemGridRect(e.nodeId),[r,l]=ra(e,t),[o,c]=null!=a?a:[0,0];return[Math.floor(o*r)+n.topLeftRow,Math.floor(c*l)+n.topLeftColumn]}(c,i,s),d=la(e,o.id,u,n,r);if(null==d)return;const[m,p]=d,f=e.elements.get(m);if(ce(f)){const t=e.grids.get(f.id);if(null!=t){const e=function(e,t,a,n,r,l){const o=[0,0],c=l.grid.getItemGridRect(r.nodeId),i=l.grid.getItemGridRect(n.nodeId);let s;switch(t){case q.DOWN:s=1;break;case q.UP:s=1,o[0]=r.grid.rows-1;break;case q.RIGHT:s=0;break;case q.LEFT:s=0,o[1]=r.grid.columns-1}if(null!=a){const e=a[s],t=ra(n,l),u=ra(r,l),d=t[s],m=u[s],p=c[na[s]]-i[na[s]],f=d/m;o[s]=Math.floor(e*d/m+p+f/2)}const u=r.grid.getItem(o);if(null!=u)return[u,o]}(0,n,s,c,t,i);if(null!=e)return e}}if(oe(f)){const t=f.getDelegatedFocus({delegationOrigin:z.UserInput});if(t!==l.NO_VALUE&&null!=t){const a=vt(e,t.id);if(null!=a)return[a,void 0]}}return[m,p]}}}function oa(e,t,a,n,r,l){const o=function(e,t,a,n,r){const l=null!=a?a:e.grid.getItemCenterCoords(t);if(null==l)return;const[o,c]=l,i=1+r;switch(n){case q.DOWN:{const t=[o+i,c];if(t[0]>e.grid.rows-1)return;return t}case q.UP:{const e=[o-i,c];if(e[0]<0)return;return e}case q.RIGHT:{const t=[o,c+i];if(t[1]>e.grid.columns-1)return;return t}case q.LEFT:{const e=[o,c-i];if(e[1]<0)return;return e}}}(t,a,null!=n&&function(e,t,a){const n=e.grid.getCoords(a);return null!=n&&n.some((e=>e[0]===t[0]&&e[1]===t[1]))}(t,n,a)?n:function(e,t){if(null==t)return;const a=vt(e,t);if(null==a)return;const n=Mt(e,a);if(null==n)return;const r=e.grids.get(n.id);return null!=r?r.grid.getItemCenterCoords(a):void 0}(e,a),r,l);if(null!=o){const i=t.grid.getItem(o);if(null!=i){const s=Ft(e,i);return null!=s&&(te(s)||ce(c=s)&&ne(c))&&s.id!==a?[i,o]:oa(e,t,a,n,r,l+1)}return oa(e,t,a,n,r,l+1)}var c}function ca(e){return Math.log(e/(1-e))}const ia=(e,t,a,n)=>{if(null==t)return 1;const r=e.elements.get(t);return null==r||r.type!==$.LANDMARK?1:At(e,a,t)&&r.scrollAxis==n?1e-6:1},sa=Math.PI/12*5;function ua(e,t,a=!1){if(null==t)return;const n=document.body.querySelectorAll("[data-focusable-id]"),r=document.body.querySelector(`[data-focusable-id='${t}']`),l=xt(e,t);if(null==r){const t=ea(n[0]);if(null==t)return;if(It(e,t))return;if(null!=l&&!At(e,t,l))return;return t}const o=((e,t)=>{for(let a=0;a<t.length;a++)if(e===t[a])return a;return null})(r,n);if(null==o)return ea(n[0]);let c=a?o-1:o+1;const i=()=>{a?c--:c++};for(;o!==c;){c<0&&(c=n.length-1),c>n.length-1&&(c=0);const t=ea(n[c]);if(null!=t){const a=e.elements.get(t);if(null==a||It(e,t)){i();continue}if(a.type!==$.ITEM||!0===a.disabled||!0===a.hidden){i();continue}if(null!=l&&!At(e,t,l)){i();continue}return t}i()}}const da=(e,t,a,n)=>{var r,o;if(null==t)return[null!==(o=Zt(e))&&void 0!==o?o:1,void 0];const c=e.elements.get(t);var i;if(null==c||!ee(c))return[null!==(i=Zt(e))&&void 0!==i?i:1,void 0];const s=null==c||null===(r=c.ref)||void 0===r?void 0:r.getBoundingClientRect();var u;if(null==s)return[null!==(u=Zt(e))&&void 0!==u?u:t,void 0];const d=la(e,t,a,n);if(null!=d)return d;const m=qt(s);let p=t,f=1/0;const g=Xt[n],E=n===q.LEFT||n===q.RIGHT?K.HORIZONTAL:K.VERTICAL,b=Kt[g],h=xt(e,t),v=Ot(e,t);(null==e.lastDirectionChange||!((e,t)=>{switch(e){case q.DOWN:case q.UP:return t===q.UP||t===q.DOWN;case q.RIGHT:case q.LEFT:return t===q.LEFT||t===q.RIGHT}})(e.lastDirectionChange[0],n)&&null!=t)&&(e.lastDirectionChange=[n,t]);for(const[a,r]of e.elements){var F,y;if(a===t)continue;if(!te(r))continue;if(r.type===$.LANDMARK&&!oe(r))continue;if(r.type===$.LANDMARK&&St(e,a,t))continue;if(null!=h&&!At(e,a,h))continue;if(It(e,a))continue;if(Pt(e,a,t))continue;if(r.type===$.LANDMARK&&oe(r)&&!ht(e,r))continue;const l=null===(F=r.ref)||void 0===F?void 0:F.getBoundingClientRect();if(null==l)continue;const o=null!==(y=Jt(e,e.lastDirectionChange[1]))&&void 0!==y?y:Jt(e,t);if(null==o)continue;const c=qt(o),i=qt(l),u=(m[g]-i[g])*Vt[n],d=(Yt(s,n)-Yt(l,$t[n]))*Vt[n],S=(Yt(s,n)-Yt(l,n))*Vt[n],C=d<0&&u>0?0:d;if(C<0)continue;const M=c[b]-i[b],w=m[b]-i[b],k=Math.max(C,1),P=Math.abs(u),T=Math.abs(M/(0===C?1:C)),I=Math.atan(T),x=Qt(s,l,g),O=1-x,A=Math.min(ca(O/2+.5),1e4),N=Qt(s,l,b),R=Math.min(ca(N/2+.5),7500),L=sa*N**3,D=T*O,_=(I+L)*O,B=Math.abs(w/P),W=Math.abs(w/(0===S?1:S)),U=Math.atan(B)+L,z=Math.atan(W),j=(S<0||z>=sa)&&0===x;if(_>=sa&&(U>=sa||j))continue;const H=(k+D+A+R)*ia(e,v,a,E);f>H&&(f=H,p=a)}const S=e.elements.get(p);if(oe(S)){const t=S.getDelegatedFocus({delegationOrigin:z.UserInput});if(t!==l.NO_VALUE&&null!=t){const a=vt(e,t.id);if(null!=a)return[a,void 0]}}return[p,void 0]};function ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(a),!0).forEach((function(t){fa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ga=(e,t)=>{if(!se(t))return;e.bindingLandmarkStack.push(t.id);const a=t.getDelegatedFocus({delegationOrigin:z.Mutation});return a===l.NO_VALUE||null==a?null:{id:a.id,delegationType:a.delegationType,reason:W.BindingLandmarkAdded}};function Ea(e,t,a,n){const r=re(t)&&Lt(e,n);return{isFocusableEnabled:r,isFocusableBecomingEnabled:null!=a&&r&&!re(a),isFocusableBeingAddedEnabled:null==a&&r}}function ba(e,t,a,n){const r=function(e,t,a,n){return null==a&&null!=n&&(oe(n)||le(n))?n:Ct(e,null==a&&null!=(null==n?void 0:n.id)?n.id:t.id)}(e,t,a,n),l=null!=r?e.dynasty.get(r.id):void 0;return{closestDelegatingAncestor:r,maybeDynasty:l,closestDelegatingAncestorDynastyHasNoEnabledItems:null==l||!wt(e,l),closestDelegatingLandmark:oe(r)?r:void 0}}function ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(a),!0).forEach((function(t){Fa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ha(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ya=e=>{const t=e.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=t&&t!==l.NO_VALUE)return t};function Sa(e,t,a,n,r,o,c,i,s){const{isFocusableEnabled:u,isFocusableBecomingEnabled:d,isFocusableBeingAddedEnabled:m}=Ea(e,t,a,null==n?void 0:n.id),p=null==o||!wt(e,o);return{delegateFocusOnBindingLandmarkCase:function(){const r=re(t)&&Lt(e,null==n?void 0:n.id),o=null==a&&r,i=re(t)&&Lt(e,null==n?void 0:n.id),u=null!=a&&!te(t)&&te(a),d=function(e,t,a,n,r){if(!r)return null;const{newStack:o,discardedStack:c}=function(e,t){const a=[],n=new Set;return e.bindingLandmarkStack.forEach((r=>{St(e,t,r)||t===r?n.add(r):a.push(r)})),{newStack:a,discardedStack:n}}(e,t.id);if(e.bindingLandmarkStack=o,n){const n=function(e,t,a){if(null!=t)for(const n of a)if(St(e,n,t)&&e.bindingLandmarkStack.length>0){const t=Ft(e,e.bindingLandmarkStack[e.bindingLandmarkStack.length-1]);if(null!=t&&se(t)){const e=t.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=e&&e!==l.NO_VALUE)return e}}}(e,a,c);if(n)return pa(pa({},n),{},{reason:W.BindingLandmarkRemoved});if(function(e,t,a){if(null==t)return!1;const n=t===a;return St(e,a,t)||n}(e,a,t.id)){const a=Dt(e,t.id,z.Mutation);return null==a?null:pa(pa({},a),{},{reason:W.BindingLandmarkRemoved})}}}(e,t,c,s,u);if(null!=d)return d;const m=function(e,t,a,n,r){return a&&(n||r)?function(e,t){return ga(e,t)||function(e,t){const a=Rt(e,t.id);if(null!=a&&a.length>0){const t=Ft(e,a[0]);if(null!=t&&ee(t))return ga(e,t)}return null}(e,t)||null}(e,t):null}(e,t,s,i,o);return m||void 0},delegateFocusOnLandmarkIdentityChanged:function(){const n=s&&null!=c&&null!=a&&oe(t)&&oe(a),r=c===t.id;if(n){const n=i.origin===_.FocusPreservingTreeMutation||i.origin===_.DelegatingTreeMutation,o=a.delegateFocusByAlias!==t.delegateFocusByAlias,s=t.landmarkKey!==a.landmarkKey;if((o&&n||s)&&(r||St(e,t.id,c))){const e=t.getDelegatedFocus({delegationOrigin:z.Mutation});return null!=e&&e!==l.NO_VALUE?va(va({},e),{},{reason:W.CurrentDelegatingLandmarkIdentityMutation}):{id:t.id,delegationType:B.DelegationToSelf,reason:W.CurrentDelegatingLandmarkIdentityMutation}}}},delegateFocusIfFocusableAliasChanged:function(){const n=oe(r)?r:void 0;if((null==a||ee(a))&&s&&u&&i.origin===_.DelegatingTreeMutation&&null!=c&&ee(t)&&(null==a||a.alias!==t.alias||d||m)&&null!=n&&(null!=n.delegateFocusByAlias||null!=n.delegationMemoryStack)&&(n.id===c||St(e,n.id,c))){const e=n.getDelegatedFocus({delegationOrigin:z.Mutation,noDefaultDelegation:!0});if(null!=e&&e!==l.NO_VALUE)return va(va({},e),{},{reason:W.ItemAliasMutation})}},delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(s&&(d||m)&&p&&null!=r&&null!=c&&r.id===c){const e=ya(r);return null==e?void 0:va(va({},e),{},{reason:W.FirstEnabledFocusableDescendantMounted})}}}}function Ca(e){var t,a;const n=e.id.toString(),r=e.type===$.LANDMARK;var l;null===(t=e.ref)||void 0===t||t.removeAttribute(r?G:H),null===(a=e.ref)||void 0===a||a.setAttribute(r?H:G,n),null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&(null===(l=e.ref)||void 0===l||l.setAttribute(V,n))}function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(a),!0).forEach((function(t){ka(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ka(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Pa=e=>wa(wa({},e),{},{height:e.height,width:e.width,x:e.x,y:e.y,left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Ta=(e,t,a)=>wa(wa({},e),{},{height:e.height,width:e.width,x:e.x-t.x+a.scrollLeft,y:e.y-t.y+a.scrollTop,left:e.left-t.left+a.scrollLeft,top:e.top-t.top+a.scrollTop,right:e.right-t.left+a.scrollLeft,bottom:e.bottom-t.top+a.scrollTop});function Ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(a),!0).forEach((function(t){Oa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oa(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Aa(e,t){var a;const n=new Set([...t.keys()].map((e=>e)));return{nodeId:e.id,grid:new aa,itemElementsDimensions:t,dynasty:n,gridElementDomRef:null!==(a=e.ref)&&void 0!==a?a:void 0,resolution:{width:0,height:0},gridElementDimensions:void 0}}function Na(e,t,a){var n,r;const{resolution:l,gridElementDimensions:o}=function(e,t){var a,n,r,l;const o=Pa(e.ref.getBoundingClientRect()),c={width:0,height:0,gapHorizontal:0,gapVertical:0,offsetHorizontal:0,offsetVertical:0};if(c.width=null!=e.gridColumns?Math.ceil(o.width)/e.gridColumns:c.width,c.width=null!==(a=e.gridCellWidth)&&void 0!==a?a:c.width,c.height=null!=e.gridRows?Math.ceil(o.height)/e.gridRows:c.height,c.height=null!==(n=e.gridCellHeight)&&void 0!==n?n:c.height,c.offsetHorizontal=null!==(r=e.gridOffsetHorizontal)&&void 0!==r?r:0,c.offsetVertical=null!==(l=e.gridOffsetVertical)&&void 0!==l?l:0,e.gridCellSizeAuto&&null!=t&&t.size>0){var i,s;const a=[...t.values()],n=0===c.width||null==e.gridCellWidth&&a.some((e=>e.width<c.width)),r=0===c.height||null==e.gridCellHeight&&a.some((e=>e.height<c.height));(n||r)&&(c.width=n?Math.min(...a.map((e=>e.width))):c.width,c.height=r?Math.min(...a.map((e=>e.height))):c.height);const l={horizontal:0,vertical:0};if(0===c.offsetHorizontal||0===c.offsetVertical){const e=function(e){const t=e.sort(((e,t)=>e.x-t.x))[0],a=e.sort(((e,t)=>e.y-t.y))[0];return{offsetX:t.x,offsetY:a.y}}(a);c.offsetHorizontal=e.offsetX,c.offsetVertical=e.offsetY}c.gapHorizontal=null!==(i=l.horizontal)&&void 0!==i?i:0,c.gapVertical=null!==(s=l.vertical)&&void 0!==s?s:0}return{resolution:c,gridElementDimensions:o}}(t,a);e.resolution=l,e.gridElementDimensions=o;const c=null!==(n=e.resolution.gapVertical)&&void 0!==n?n:0,i=null!==(r=e.resolution.gapHorizontal)&&void 0!==r?r:0,s=e.resolution.height+c,u=e.resolution.width+i,d=0!==s?Math.floor(o.height/s):0,m=0!==s?Math.floor(o.width/u):0;return e.grid=new aa(d,m),xa(xa({},e),{},{resolution:l,gridElementDimensions:o,gridElementDomRef:t.ref})}function Ra(e,t){if(null!=t)return[...t].reduce(((t,a)=>{const n=e.elements.get(a);return null!=n&&"ref"in n&&null!=n.ref?(t.set(a,Pa(n.ref.getBoundingClientRect())),t):t}),new Map);console.warn("Grid has no dynasty")}function La(e,t,a=!1){const n=e.grids.get(t.id);if(ie(t)||null==n||e.grids.delete(t.id),ie(t)){if(null!=n&&n.grid.isPopulated&&!a)return;const r=Ra(e,null==n?void 0:n.dynasty);if(null==r)return;Da(e,t,r)}}const Da=function(e,t,a={}){const n=new Map,{leading:r=!1,trailing:l=!0}=a;return function(a,o,c){const i=o.id,s=Date.now();let u=n.get(i);null==u&&(u={timeoutId:null,lastArgs:null,invokedLeading:!1,lastCallTime:null},n.set(i,u));const d=u;d.lastArgs=[a,o,c],(null==d.lastCallTime||s-d.lastCallTime>=t)&&r&&!d.invokedLeading&&(d.invokedLeading=!0,e(...d.lastArgs)),null!=d.timeoutId&&clearTimeout(d.timeoutId),l?d.timeoutId=setTimeout((()=>{(t=>{const a=n.get(t);null!=a&&a.lastArgs&&(e(...a.lastArgs),a.invokedLeading=!1,a.lastCallTime=Date.now()),null!=a&&n.set(t,xa(xa({},a),{},{timeoutId:null}))})(i)}),t):r||(d.lastCallTime=s),n.set(i,d)}}((function(e,t,a){const n=function(e,t,a){var n;const r=Aa(t,a);r.itemElementsDimensions=null!==(n=Ra(e,r.dynasty))&&void 0!==n?n:r.itemElementsDimensions;let l=Na(r,t,r.itemElementsDimensions);return l=function(e,t){return e.resolution.width<=0||e.resolution.height<=0?(console.warn("Tried to add items to grid with zero resolution"),e):(new Set([...t.keys()].map((e=>e))).forEach((a=>{const n=t.get(a);if(null==n)return;e.dynasty.has(a)||e.dynasty.add(a);const{startRow:r,startCol:l,endRow:o,endCol:c}=((e,t)=>{var a,n,r,l;if(0===e.resolution.height||0===e.resolution.width)return{startRow:0,startCol:0,endRow:0,endCol:0};const o=null!==(a=e.resolution.gapVertical)&&void 0!==a?a:0,c=null!==(n=e.resolution.gapHorizontal)&&void 0!==n?n:0,i=null!==(r=e.resolution.offsetVertical)&&void 0!==r?r:0,s=null!==(l=e.resolution.offsetHorizontal)&&void 0!==l?l:0,u=Math.floor(t.left-s),d=Math.floor(t.top-i),m=Math.floor(e.resolution.height+o),p=Math.floor(e.resolution.width+c),f=Math.min(t.height,m)/2,g=Math.min(t.width,p)/2,E=Math.floor((d+f)/m),b=Math.floor((u+g)/p),h=Math.floor((d+Math.floor(t.height)-f)/m),v=Math.floor((u+Math.floor(t.width)-g)/p);return{startRow:E<0?0:E,startCol:b<0?0:b,endRow:h<0?0:h,endCol:v<0?0:v}})(e,n),i=[];for(let e=r;e<=o;e++)for(let t=l;t<=c;t++)i.push([e,t]);e.grid.setItem(i,a),e.grid.itemIndices.set(a,i)})),e)}(l,l.itemElementsDimensions),l}(e,t,a);n.grid.printGrid(t.id),e.grids.set(t.id,n)}),100,{trailing:!0,leading:!1});function _a(e,t,a,n,r){if(null==(null==t?void 0:t.ref))return;if(!ce(a))return;const l=[t.id,null!=n?n:Pa(t.ref.getBoundingClientRect())];let o=e.grids.get(null==a?void 0:a.id);if(null==o&&(o=Aa(a,new Map([l])),e.grids.set(null==a?void 0:a.id,o)),o.dynasty.has(t.id)||(o.dynasty.add(t.id),o.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==a?void 0:a.id,o)),!ie(a))return;let c=(i=o).resolution.width>0&&i.resolution.height>0&&null!=i.gridElementDimensions&&null!=i.gridElementDomRef?o:null;var i;null==c&&(c=Na(o,a,o.itemElementsDimensions),e.grids.set(null==a?void 0:a.id,c));const s=l[1],u=c.grid.itemIndices.has(t.id),d=c.itemElementsDimensions.get(t.id),m=null!=d&&((e,t,a,n)=>{const r=Ta(e,a,n),l=Ta(t,a,n);return["top","left","width","height"].every((e=>Math.floor(r[e])===Math.floor(l[e])))})(s,d,c.gridElementDimensions,c.gridElementDomRef);var p,f;return null!=d&&m||(c.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==a?void 0:a.id,c)),(a.gridCellSizeAuto||r)&&(s.width<c.resolution.width||s.height<c.resolution.height||0===c.resolution.width||0===c.resolution.height||r)?(c.itemElementsDimensions=null!==(p=Ra(e,c.dynasty))&&void 0!==p?p:new Map,void Da(e,a,c.itemElementsDimensions)):u&&m?void 0:(c.itemElementsDimensions=null!==(f=Ra(e,c.dynasty))&&void 0!==f?f:new Map,void Da(e,a,c.itemElementsDimensions))}function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(a),!0).forEach((function(t){Ua(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ua(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function za(e,t,a,n,r,l,o,c){const i=function(e,t,a){let n;if("alias"in t&&null!=t.alias){const a=e.aliases.get(t.alias);if(null!=a&&a!==t.id){const t=e.elements.get(a);null!=t&&e.elements.set(a,Wa(Wa({},t),{},{alias:void 0}))}}null==a&&"alias"in t&&null!=t.alias&&e.aliases.set(t.alias,t.id);const r="alias"in t?t.alias:void 0;if(a!==r){null!=a&&e.aliases.delete(a);const l=null!=r;l&&e.aliases.set(r,t.id),n=l?r:t.id}return n}(t,a,Et(t,a.id));if(t.elements.set(a.id,a),null!=r){var s;const n=null!==(s=t.children.get(r))&&void 0!==s?s:new Set;n.add(a.id),t.children.set(r,n),t.parents.set(a.id,r),function(e,t,a,n){e&&se(e)&&!se(t)?function(e,t){for(let a=e;null!=a;a=t.parents.get(a)){const e=t.elements.get(a);if(null==e)break;if(t.bindingLandmarkDescendants.delete(e.id),se(e))break}}(a,n):se(t)&&function(e,t,a){for(let r=t;null!=r;r=a.parents.get(r)){var n;const t=a.elements.get(r);if(null==t)break;const l=null!==(n=a.bindingLandmarkDescendants.get(t.id))&&void 0!==n?n:new Set;if(l.add(e.id),a.bindingLandmarkDescendants.set(t.id,l),se(t))break}}(t,a,n)}(e,a,r,t)}return function(e,t,a,n,r){if(null!=e&&ee(t)){const l=null!=a?a:new Set;l.add(t.id),n.dynasty.set(e.id,l),e.type===$.LANDMARK&&e.onDynastyUpdated(r)}}(l,a,o,t,c),function(e,t,a,n){null==t?e&&oe(a)&&ja(a,n):(e&&oe(t)&&!oe(a)&&n.dynasty.delete(a.id),e&&!oe(t)&&oe(a)&&ja(a,n))}(n,e,a,t),i}function ja(e,t){const a=t.children.get(e.id);if(null!=a){var n;const r=null!==(n=t.dynasty.get(e.id))&&void 0!==n?n:new Set,l=e=>{if(null!=e)for(const a of e){r.has(a)||r.add(a);const e=t.elements.get(a);if(!oe(e)){const e=t.children.get(a);l(e)}}};l(a),t.dynasty.set(e.id,r)}}function Ha(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(a),!0).forEach((function(t){Va(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ha(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Va(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $a(e){e.lastDirectionChange=void 0}const Xa=function(){const e=new Map;return(t,a,n)=>(a.forEach((a=>{var r,l,o,c;const i=a;if(i.type===$.ROOT)return;if(null==i.scrollAxis||!0===t.disableScrollIntoView)return;if(null==t.ref)return;if(null==i.ref)return;const s=e.get(i.id);s&&(s(),e.delete(i.id));const{scrollIntoView:u,stopScrolling:d}=function({disabledTransition:e=!1,speedFactor:t=1,align:a="center",scrollOffset:n=0,axis:r="y"}={}){let l,o,c,i,s;const u=300/t,d=()=>{if(!o)return;const t=Date.now()-s,a=t/u,n=t>u||e;o["x"===r?"scrollLeft":"scrollTop"]=Math.round(c+function(e){return--e*e*e+1}(n?1:a)*i),n||window.requestAnimationFrame(d)};return{scrollIntoView(e,t){o=e,l=t;const u=o.getBoundingClientRect(),m=u["x"===r?"width":"height"],p=l.getBoundingClientRect(),f="center"===a?m/2:0;i=("x"===r?p.left:p.top)-("x"===r?u.left:u.top)+("center"===a?p["x"===r?"width":"height"]/2:0)-f+n,c=o["x"===r?"scrollLeft":"scrollTop"],s=Date.now(),Math.abs(i)<5||window.requestAnimationFrame(d)},scrollTo(e,t){o=e,c=o["x"===r?"scrollLeft":"scrollTop"],i=t-c,s=Date.now(),window.requestAnimationFrame(d)},stopScrolling(){o=null,l=null}}}({disabledTransition:n,speedFactor:null!==(r=null!==(l=t.scrollSpeedFactor)&&void 0!==l?l:i.scrollIntoViewSpeedFactor)&&void 0!==r?r:1,align:(t.scrollAlign?t.scrollAlign:i.scrollIntoViewAlign)||"center",scrollOffset:(null!==(o=i.scrollIntoViewOffset)&&void 0!==o?o:0)+(null!==(c=t.scrollOffset)&&void 0!==c?c:0),axis:i.scrollAxis===K.HORIZONTAL?"x":"y"});u(i.ref,t.ref),e.set(i.id,d)})),()=>{for(const t of e.values())t();e.clear()})}();function Ka(e,t){if(null==t)return{};const a=vt(e,t),n={};if(null==a)return n;const r=[a,...yt(e,a)];for(let a=0;a<r.length;a++){const l=r[a],o=e.shortcuts.get(l),c=e.elements.get(l);if(!c){console.error(`Missing element for id ${l} while constructing Input Legends after ${t} was focused`);break}if(null!=o){for(const[e,t]of o)e in n||(n[e]=t.inputLegend);if(se(c))break}}return n}const Ya=(0,r.createContext)([(0,l.createStaticFacet)(!0),()=>{}]),qa=()=>(0,r.useContext)(Ya),Qa=({isNavigationDisabledFacet:e,setIsNavigationDisabled:t,children:a})=>{const n=(0,r.useMemo)((()=>[e,t]),[e,t]);return r.createElement(Ya.Provider,{value:n},a)},Ja=(0,r.createContext)((0,l.createStaticFacet)(1)).Provider;var Za=a(93096),en=a.n(Za);function tn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function an(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(a),!0).forEach((function(t){nn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function nn(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const rn=[1];function ln({children:e,driver:t,initialFocusTree:a,initialFocusedId:n,notifyFocusRequest:o,onFocusedIdChange:c,onFocusTreeChange:i,onFocusedIdChangeFail:s,navigateToDirection:u=da,isControllerHintsEnabled:d=(0,l.createStaticFacet)(!0),isKeyboardHintsEnabled:m=(0,l.createStaticFacet)(!1),swapABButtons:p=(0,l.createStaticFacet)(!1),swapXYButtons:f=(0,l.createStaticFacet)(!1),disabledTransition:g=(0,l.createStaticFacet)(!1),keyboardGamepadMap:E,setKeyboardGamepadMap:b}){const h=(0,r.useRef)(2),[v,F]=(0,l.useFacetState)(!1),y=(0,l.useFacetWrap)(E),S={id:null!=n?n:1,gridCell:void 0,origin:_.Initial},[C,M]=(0,l.useFacetState)(S),w=(0,r.useRef)(S),k=(0,r.useCallback)(((e,t,a)=>{const n={id:e,gridCell:t,origin:a};w.current=n,M(n)}),[w,M]),P=(0,l.useFacetMap)((e=>e.origin),[],[C]),T=(0,r.useMemo)((()=>null==a?(()=>{const e={elements:new Map,candidates:new Set,children:new Map,parents:new Map,aliases:new Map,shortcuts:new Map,history:[],bindingLandmarkStack:[],dynasty:new Map,grids:new Map,bindingLandmarkDescendants:new Map},t={type:$.ROOT,id:1,alias:void 0,disabled:!1,hidden:!1,ref:null,scrollAxis:null,onDown:void 0,onUp:void 0,onRight:void 0,onLeft:void 0,onBlur:void 0,onFocus:void 0,disableScrollIntoView:void 0,getDelegatedFocus:Gt(e,1)};return e.elements.set(1,t),e})():a),[a]),[I,x]=(0,l.useFacetState)(T),[O,A]=(0,l.useFacetState)(Ka(T,n)),N=(0,l.useFacetRef)(O),R=(0,l.useFacetMap)((e=>Object.entries(e).reduce(((e,[t,a])=>{const n=a.reduce(((e,a)=>an(an({},e),{},{[a]:t})),{});return an(an({},e),n)}),{})),[],[y]),L=(0,r.useRef)(void 0);(0,l.useFacetEffect)((e=>{L.current=e}),[],[R]);const D=mt(),U=(0,r.useCallback)((e=>{const t=Ka(T,e);N.current!==l.NO_VALUE&&function(e,t){for(const a in e)if(!(a in t)||e[a]!==t[a])return!1;for(const a in t)if(!(a in e)||e[a]!==t[a])return!1;return!0}(t,N.current)||(A(t),N.current=t)}),[T,N,A]),H=(0,l.useFacetCallback)(((e,t)=>(a,n,r,l)=>{if(null!=a&&w.current.id!==a){const o=vt(T,w.current.id);k(a,n,r),null==c||c(a),((e,t,a,n)=>{const r=vt(e,t);if(null==r)return;let l;for(let o=e.parents.get(r);null!=o;o=e.parents.get(o)){const r=e.elements.get(o);if(oe(r)){if(null==l){const l=bt(e,t);r.onFocusableOfDynastyFocused(l,a,n)}else{const t=e.elements.get(l),o=null!=t&&ee(t)?null==t?void 0:t.alias:void 0;r.onFocusableOfDynastyFocused(null!=o?o:l,a,n)}l=o}}})(T,a,r,l),((e,t,a)=>{const n=vt(e,a),r=null!=t?e.elements.get(t):void 0;var l;null!=r&&ee(r)&&r.id!==n&&(null===(l=r.onBlur)||void 0===l||l.call(r));const o=null!=n?e.elements.get(n):void 0;var c;null!=o&&ee(o)&&(null===(c=o.onFocus)||void 0===c||c.call(o))})(T,o,a),U(a),e&&(ne.current=((e,t,a)=>{if(null==t)return;const n=vt(e,t);if(null==n)return;const r=e.elements.get(n);if(!r||r.type==$.ROOT||!ee(r))return;const l=Wt(e,n);return Xa(r,l,a)})(T,a,t))}}),[k,c,T,w,U],[D,g]),G=(0,l.useFacetCallback)((e=>(t,a,n)=>{var r;$a(T);const l=Y.current.getEnabledBindingLandmarkDescendant(1),o=vt(T,t),c=Y.current.getBindingAncestorId(o);if(null!=l&&null==c)return()=>{};if(n){const t=Ft(T,e.id);if(null!=t&&ee(t)&&Lt(T,e.id))return()=>{}}const i="number"==typeof t&&null!==(r=Et(T,t))&&void 0!==r?r:t;return H(i,void 0,a),()=>{$a(T);const t=Ft(T,e.id);null!=t&&ee(t)&&Lt(T,e.id)&&H(e.id,e.gridCell,e.origin)}}),[H,T],[C]),V=(0,r.useCallback)(((e,t,a=_.ImperativeSetFocus)=>{const n=Ft(T,e);return null!=n&&!ee(n)||!Lt(T,e)?()=>{}:G(e,a,t)}),[G,T,w]),X=(0,r.useMemo)((()=>{const e=e=>{null==i||i(e)};return{generateId:()=>h.current++,press(e,t){const a=vt(T,w.current.id);if(null!=a){const t=((e,t,a)=>{const n="string"==typeof t?e.aliases.get(t):t;if(null==n)return!1;const r=Bt(e,n,a);return null!=r&&(r(),!0)})(T,a,e);if(t)return}if(e in Q){const r=Q[e];if(null!=r){var n;if(null!=a){const e=((e,t,a)=>{const n="string"==typeof t?e.aliases.get(t):t;if(null==n)return!1;const r=e.elements.get(n);if(null==r||!ee(r))return!1;switch(a){case q.LEFT:if(r.onLeft&&r.onLeft())return!0;break;case q.RIGHT:if(r.onRight&&r.onRight())return!0;break;case q.UP:if(r.onUp&&r.onUp())return!0;break;case q.DOWN:if(r.onDown&&r.onDown())return!0}return!1})(T,a,r);if(e)return}const[e,l]=u(T,a,w.current.gridCell,r);e===a&&null!=s&&1!==e&&s();const o=null!==(n=Et(T,e))&&void 0!==n?n:e;H(o,l,t)}}else switch(e){case j.A:return void((e,t)=>{if(null==t)return;const a=e.elements.get(t);var n,r;null!=a&&a.type===$.ITEM&&(null===(n=e.shortcuts.get(t))||void 0===n||null===(r=n.get(j.A))||void 0===r||r.callback())})(T,a);case j.B:return;case j.NEXT:{const e=ua(T,a,!1);return void(null!=e&&H(e,void 0,_.FocusInput))}case j.PREV:{const e=ua(T,a,!0);return void(null!=e&&H(e,void 0,_.FocusInput))}}},putNode(t,a){const n=w.current,r=!(null!=n.id&&1!=n.id&&(n.origin===_.URL||n.origin===_.Initial))||null!=n.id,l=function(e,t,a,n,r){return ee(t)?function(e,t,a,n,r){const l=Ft(e,t.id),o=vt(e,n.id),c=Ft(e,a),{closestDelegatingAncestor:i,maybeDynasty:s}=ba(e,t,l,c),{delegateFocusOnLandmarkIdentityChanged:u,delegateFocusOnBindingLandmarkCase:d,delegateFocusIfFocusableAliasChanged:m,delegateFocusOnDelegatingAncestorHasNoEnabledChildren:p}=Sa(e,t,l,c,i,s,o,n,r);let f;switch(t.type){case $.LANDMARK:{f=za(l,e,t,!0,a,i,s,n),Ca(t),ce(t)&&requestAnimationFrame((()=>{La(e,t)}));const r=Mt(e,t.id);ce(r)&&requestAnimationFrame((()=>{_a(e,t,r)}));const o=u();if(null!=o)return o;const c=d();if(null!=c)return c;break}case $.ITEM:{Ca(t),f=za(l,e,t,!1,a,i,s,n);const r=Mt(e,t.id);ce(r)&&requestAnimationFrame((()=>{_a(e,t,r)}));break}}const g=m();if(g)return g;const E=p();if(E)return E;const b=function(e,t,a,n){const r=a===t.id;if(e&&r&&null!=n)return{id:n,delegationType:B.DelegationToSameDescendant,reason:W.CurrentFocusedAliasMutation}}(r,t,o,f);return null!=b?b:void 0}(e,t,a,n,r):function(e,t,a,n,r){const l=vt(e,n.id),o=Ft(e,t.id),c=Ft(e,a),{closestDelegatingAncestor:i,maybeDynasty:s}=ba(e,t,o,c),{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:u}=function(e,t,a,n,r,l,o,c,i){const{isFocusableBecomingEnabled:s,isFocusableBeingAddedEnabled:u}=Ea(e,t,a,null==n?void 0:n.id),d=null==l||!wt(e,l);return{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(i&&(s||u)&&d&&null!=r&&null!=o&&r.id===o){const e=ya(r);return null==e?null:va(va({},e),{},{reason:W.FirstEnabledFocusableDescendantMounted})}}}}(e,t,o,c,i,s,l,0,r),d=null!=o&&(p=t,!1===(m=o).disabled&&!0===p.disabled||!1===m.hidden&&!0===p.hidden);var m,p;const f=null!=l&&St(e,t.id,l);if(za(o,e,t,!1,a,i,s,n),ce(t)){requestAnimationFrame((()=>{La(e,t)}));const a=Mt(e,t.id);a&&requestAnimationFrame((()=>{_a(e,t,a)}))}const g=u();if(g)return g;if(r&&d&&f&&null!=i){const e=ya(i);return null==e?null:Ga(Ga({},e),{},{reason:W.CurrentFocusedGettingDisabled})}}(e,t,a,n,r)}(T,t,a,w.current,r);if(null!=l){const e=n.origin===_.Initial||n.origin===_.DelegatingTreeMutation||l.reason===W.CurrentDelegatingLandmarkIdentityMutation?_.DelegatingTreeMutation:_.FocusPreservingTreeMutation;H(l.id,void 0,e,l.reason)}e(T)},updateGridNodeDimensions(t,a){const n=T.elements.get(t);if(null==n||n.type!==$.ITEM&&n.type!==$.LANDMARK)return;const r=Mt(T,t);ce(r)&&requestAnimationFrame((()=>{_a(T,n,r,a),e(T)}))},putShortcut(t,a,n){!function(e,t,a,n){var r;const{shortcuts:l}=e;l.get(t)||l.set(t,new Map),null===(r=l.get(t))||void 0===r||r.set(a,n)}(T,t,a,n),U(w.current.id),e(T)},removeNode(t){const a=w.current,n=function(e,t,a){const n=e.elements.get(t);if(!n)return;const r=e.parents.get(t),o=Mt(e,t),c=function(e,t,a,n){const r=a.id,l=vt(e,r),o=null!=l&&St(e,t.id,l),c=l===t.id;return()=>{if(null!=n&&(o||c)){const t=Dt(e,n,z.Mutation);if(null!=t)return va(va({},t),{},{reason:W.CurrentFocusedGettingDisabled})}}}(e,n,a,r);if(ee(n)&&null!=n.alias&&e.aliases.delete(n.alias),null!=r){const a=e.children.get(r);null!=a&&a.delete(t),e.parents.delete(t),function(e,t,a){if(ie(a)){const n=e.grids.get(a.id);if(null==n)return;n.grid.removeItem(t.id),n.dynasty.delete(t.id),n.grid.itemIndices.delete(t.id),n.itemElementsDimensions.delete(t.id),e.grids.set(a.id,n),n.grid.printGrid(a.id)}}(e,n,o),ie(n)&&e.grids.delete(t),function(e,t){const a=Ct(e,t.id);if(null!=a){const n=e.dynasty.get(a.id);null!=n&&n.delete(t.id)}null!=a&&a.type!==$.ROOT&&null!=a.delegationMemoryStack&&a.delegationMemoryStack.forEach((e=>{const a=e.indexOf(t.id);e.splice(a,1)}))}(e,n),n.type===$.LANDMARK&&function(e,t){if(e.bindingLandmarkDescendants.delete(t.id),se(t))for(const[a,n]of e.bindingLandmarkDescendants)n.delete(t.id)}(e,n)}if(e.parents.delete(t),e.elements.delete(t),e.shortcuts.delete(t),se(n)){const t=e.bindingLandmarkStack.indexOf(n.id);if(-1!==t){const a=t===e.bindingLandmarkStack.length-1;if(e.bindingLandmarkStack.splice(t),a&&e.bindingLandmarkStack.length>0){const t=e.bindingLandmarkStack.filter((t=>Lt(e,t))),a=function(e){if(null!=e&&se(e)){const t=e.getDelegatedFocus({delegationOrigin:z.Mutation});if(null!=t&&t!==l.NO_VALUE)return t}}(Ft(e,t[e.bindingLandmarkStack.length-1]));if(null!=a)return Ga(Ga({},a),{},{reason:W.BindingLandmarkRemoved})}}}const i=c();return null!=i?i:void 0}(T,t,w.current);if(null!=n){const e=a.origin===_.Initial||a.origin===_.DelegatingTreeMutation||n.reason===W.CurrentDelegatingLandmarkIdentityMutation?_.DelegatingTreeMutation:_.FocusPreservingTreeMutation;H(n.id,void 0,e,n.reason)}e(T)},removeShortcut(t,a){!function(e,t,a){const n=e.shortcuts.get(t);n&&(n.delete(a),0===n.size&&e.shortcuts.delete(t))}(T,t,a),U(w.current.id),e(T)},isFocused:(e,t)=>e===w.current.id||null!=t&&t===w.current.id,isFocusable:e=>{const t=Ft(T,e);return null!=t&&ee(t)&&Lt(T,e)},containerHasEnabledItems:e=>{const t=Ft(T,e);return!(null==t||!(e=>e.type===$.LANDMARK||e.type===$.FOCUS_GROUP)(t))&&ht(T,t)},getElement:e=>Ft(T,vt(T,e)),getBindingAncestorId:e=>xt(T,e),isAncestorOf:(e,t)=>St(T,e,t),getDynasty:e=>T.dynasty.get(e),getEnabledBindingLandmarkDescendant:e=>Nt(T,e),getClosestGrid:e=>Mt(T,e)}}),[w,T,H,u,s,i,x,U]),Y=(0,r.useRef)(X),J=(0,l.useFacetMap)((e=>e.id),[],[C]);(0,r.useCallback)((e=>H(e,void 0,_.DebugTool)),[H]);const Z=(0,r.useRef)([]),te=(0,r.useRef)([]),ae=(0,r.useCallback)((e=>{const t=w.current,a=vt(T,t.id);if(null==a)return;const n=Bt(T,a,e);null==n||n()}),[T]),ne=(0,r.useRef)(void 0),re=(0,r.useCallback)(((e,t=_.Unknown)=>{te.current.forEach((t=>t(e))),X.press(e,t)}),[X]),le=(0,r.useCallback)(en()((e=>{X.press(e,_.FocusInput)}),125),[X]),ue=(0,r.useCallback)((e=>{Z.current.forEach((t=>t(e)));const t=((e,t,a,n)=>{if(null==t)return!1;const r=a[j.RIGHT_VERTICAL_AXIS],l=a[j.RIGHT_HORIZONTAL_AXIS];if(0===r&&0===l)return!1;const o=vt(e,t);if(null==o)return!1;const c=Wt(e,o).filter((e=>null!=e.scrollAxis));if(0===c.length)return!1;const i=c[0],s=i.scrollAxis===K.HORIZONTAL?l:r,u=i.scrollAxis===K.HORIZONTAL?"scrollLeft":"scrollTop";if(null==i.ref)return!1;if(!i.shouldScrollWithAnalog){if(i.scrollAxis===K.HORIZONTAL)return s>=0?"right":"left";if(i.scrollAxis===K.VERTICAL)return s>=0?"down":"up"}return i.ref[u]+=20*s,"scroll"})(T,w.current.id,e);!1!==t?("scroll"===t&&ne.current&&ne.current(),"down"===t?le(j.LEFT_ANALOG_DOWN):"up"===t?le(j.LEFT_ANALOG_UP):"left"===t?le(j.LEFT_ANALOG_LEFT):"right"===t&&le(j.LEFT_ANALOG_RIGHT)):le.cancel()}),[T,Z,w,le]);(0,l.useFacetLayoutEffect)(((e,a,n)=>e?void 0:t(re,ue,a,n,L)),[t,ue,re,p,f,L],[v,p,f]);const de=(0,l.useFacetMap)(((e,t)=>({swapABButtons:e,swapXYButtons:t})),[],[p,f]),me=(0,r.useMemo)((()=>[y,b]),[y,b]),pe=(0,l.useFacetMap)(((e,t)=>({isControllerHintsEnabled:e,isKeyboardHintsEnabled:t})),[],[d,m]);return(0,r.useLayoutEffect)((()=>null==o?()=>{}:o((e=>G(e,_.URL)))),[G,o]),r.createElement(Qa,{isNavigationDisabledFacet:v,setIsNavigationDisabled:F},r.createElement(we.Provider,{value:rn},r.createElement(Fe.Provider,{value:me},r.createElement(ke.Provider,{value:V},r.createElement(Te.Provider,{value:P},r.createElement(Oe,{value:pe},r.createElement(Re,{value:de},r.createElement(We,{value:Y},r.createElement(je,{value:O},r.createElement(Ve,{value:ae},r.createElement(Ja,{value:J},e)))))))))))}a(33434);const on=(0,l.createFacet)({initialValue:l.NO_VALUE}),cn=(0,r.createContext)((()=>on)),sn=(0,r.createContext)((()=>({id:-1,callable:()=>{console.warn("CQRSCommandDriverContext.Provider not configured")}}))),un=({queryDriver:e,commandDriver:t,children:a})=>{const n=(0,r.useRef)(new Map),l=(0,r.useCallback)(((t,a)=>{const r=((e,t)=>{const a=((e,t)=>t.sort(((e,t)=>e>t?1:0)).reduce(((e,t)=>`${e}-${t}`),e))(e,t);return(e=>{let t=0;for(let a=0;a<e.length;++a)t=e.charCodeAt(a)+(t<<5)-t;return Math.abs(t)})(a)})(t,a),l=r.toString(),o=n.current.get(l);if(null!=o)return o;const c=e(t,a,r,(()=>{n.current.delete(l)}));return n.current.set(l,c),c}),[e]);return r.createElement(sn.Provider,{value:t},r.createElement(cn.Provider,{value:l},a))};function dn(e,...t){const a=(0,r.useContext)(cn);return(0,r.useMemo)((()=>a(e,t)),[e,...t,a])}function mn(e,t){const a=(0,r.useContext)(sn),{callable:n}=a(e,t);return n}let pn,fn;!function(e){e[e.Idle=0]="Idle",e[e.Working=1]="Working",e[e.Done=2]="Done"}(pn||(pn={})),function(e){e[e.Invalid=-1]="Invalid",e[e.Success=0]="Success",e[e.Fail=1]="Fail"}(fn||(fn={}));const gn=()=>dn("core.input");let En;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(En||(En={}));const bn=()=>dn("core.splitScreen"),hn=()=>dn("core.animation"),vn=window.engine;function Fn(e,t){const a=t;return vn.on(e,a),()=>vn.off(e,a)}const yn=(e,t,a,n,r)=>{const l=Sn(e,t),o=t=>{var a;if(document.activeElement!==document.body||null==r)return;const n=null===(a=r.current)||void 0===a?void 0:a[t.keyCode];return null!=n?(t.preventDefault(),void e(n,_.FocusInput)):t.keyCode===pe.TAB?(t.preventDefault(),void e(t.shiftKey?j.PREV:j.NEXT,_.FocusInput)):void 0},c=t=>{const a=J[t.button];null!=a&&e(a,_.PointerInput)};return document.addEventListener("keydown",o),document.addEventListener("mousedown",c),()=>{document.removeEventListener("keydown",o),l(),document.removeEventListener("mousedown",c)}},Sn=(e,t)=>{const a=Fn("engine:gamepad:onPress",(t=>{e(de[t],_.FocusInput)})),n=Fn("engine:gamepad:onJoystickMovement",((e,a,n,r)=>{t([e,a,n,r])}));return()=>{a(),n()}};let Cn,Mn;function wn({notifyFocusRequest:e,onFocusedIdChange:t,onFocusedIdChangeFail:a,children:n,keyboardGamepadMap:o,isKeyboardHintsEnabled:c=(0,l.createStaticFacet)(!1)}){const i=bn(),s=hn(),u=gn(),d=(0,l.useFacetMap)((e=>e.swapABButtons),[],[u]),m=(0,l.useFacetMap)((e=>e.swapXYButtons),[],[u]),p=(0,l.useFacetMap)((e=>e.enableControllerHints),[],[u]),f=(0,l.useFacetMap)((e=>e.keyboardType),[],[u]),g=(0,l.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t.numActivePlayers>1),[],[s,i]),[E,b]=(0,l.useFacetState)(o);return(0,l.useFacetEffect)((e=>b(e===Mn.FullKeyboard?he:o)),[o,b],[f]),r.createElement(ln,{notifyFocusRequest:e,onFocusedIdChange:t,onFocusedIdChangeFail:a,swapABButtons:d,swapXYButtons:m,disabledTransition:g,keyboardGamepadMap:E,setKeyboardGamepadMap:b,isControllerHintsEnabled:p,isKeyboardHintsEnabled:c,driver:yn},n)}var kn;!function(e){e.InGame="in-game",e.OutOfGame="out-of-game"}(Cn||(Cn={})),(kn=Mn||(Mn={}))[kn.Standard=0]="Standard",kn[kn.FullKeyboard=1]="FullKeyboard";const Pn=(0,r.createContext)((()=>()=>{})),{Provider:Tn,Consumer:In}=Pn,xn=()=>(0,r.useContext)(Pn),On="react-sound-effect.NoSound";function An(){const e=xn();return(0,r.useCallback)(((t,a=0,n=1,r=1)=>{t!==On&&t&&e(t,a,n,r)}),[e])}const Nn=(0,r.createContext)(!0),Rn=Nn.Provider,Ln=()=>(0,r.useContext)(Nn),Dn=["neutral","neutral20","neutral50","neutral60","neutral80","neutral100","primary","primaryTint","secondary","tertiary","success","successTint","destructive","destructiveTint","informative","informativeTint","notice","noticeTint","PDPCore","PDPPlus","dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07","dataVizLine","paper","neutralAlpha60"],_n="regular",Bn=["dimmest","dimmer","stronger","strongest","reversed"],Wn=[_n,...Bn],Un=["text","icon","border","caret"],zn=["specular","bevel"],jn=[...Un,"background","shadow","outline","overlay","dropShadow",...zn,"highlight"],Hn="default",Gn="hovered",Vn="pressed",$n="disabled",Xn="selected",Kn="focused",Yn=[Xn,Kn,Gn,Vn,$n],qn=["default",...Yn],Qn="base",Jn="hover",Zn="press",er="disable",tr="select",ar="focus",nr="interactive",rr=[Jn,Zn,er,tr,ar,Qn],lr=[...rr,nr],or={[Hn]:Qn,[Gn]:Jn,[Vn]:Zn,[Kn]:ar,[Xn]:tr,[$n]:er},cr={[Qn]:Hn,[Jn]:Gn,[Zn]:Vn,[ar]:Kn,[tr]:Xn,[er]:$n},ir={button:["text"],pressable:["main","border","text"],panel:["main"],inputLegend:["sideContainer","inputHint"]},sr=Object.keys(ir),ur=["reject","click","press","focus","hover","hoverExit","contract","expand","toggle","lift"],dr=e=>Un.includes(e),mr=e=>zn.includes(e),pr=(e,t="regular")=>void 0!==e&&t in e,fr=e=>{if(null==e||"object"!=typeof e)return!1;const t=Object.keys(e);return t.length>0&&t.every((e=>qn.includes(e)))},gr="semantic-tokens-collection-id-";function Er(e){if(e!==nr)return cr[e]}function br(e){return or[e]}const hr=(e,t,a)=>{switch(t){case"background":case"icon":case"shadow":case"highlight":case"overlay":case"dropShadow":return`${e} { background-color: ${a}; }`;case"border":case"outline":return`${e} { border-color: ${a}; }`;case"text":return`${e} { color: ${a}; }`;case"specular":case"bevel":const{top:t,bottom:n}=a;return e.includes("reversed")?`${e} { border-top-color: ${n}; border-left-color: ${n}; border-bottom-color: ${t};  border-right-color: ${t} }`:`${e} { border-top-color: ${t}; border-left-color: ${t}; border-bottom-color: ${n};  border-right-color: ${n} }`;case"caret":return`${e} { caret-color: ${a}; }`}},vr=e=>e.map((({path:e,value:t})=>{if((e=>5===e.length&&sr.includes(e[1]))(e)){if((e=>null!=e&&"object"==typeof e)(t))return((e,t)=>{const a=e.slice(0,-1).join("-"),n=e.slice(0,-1).concat("interactive").join("-"),r=e[e.length-1],l=Er(r);let o,c=("base"===r?`.${a},.${n}`:`.${a}.${l},.${l} .${a},.${n}.${l},.${l} .${n}`)+" {";for(o in t){const e=o.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`));switch(o){case"borderImageSource":case"backgroundImage":c+=`${e}: url(${t[o]});\n`,c+="image-rendering: pixelated;\n","borderImageSource"===o&&(c+="border-width: 0;\n");break;case"color":c+=`color: ${t[o]};\n`,c+="text-shadow: none;\n";break;default:c+=`${e}: ${t[o]};\n`}}return c+="}",c})(e,t)}else if((e=>Dn.includes(e[1]))(e)){if(!(e=>"object"==typeof e&&"top"in e&&"bottom"in e)(t)&&"string"!=typeof t)throw new Error(`Expected ${JSON.stringify(e)}'s value "${t}" to be of type "string" or "LightingEffectType"`);return((e,t)=>{const{element:a,selector:n}=(e=>{const t=e[2],a=dr(t),n=mr(t),r=e[e.length-1],l=Er(r),o=a?e.splice(3,1)[0]:void 0,c=e.join("-"),i=e.slice(0,-1).join("-"),s=e.slice(0,-1).concat("interactive").join("-");if(n)return{element:t,selector:["base"===r?`.${i},.${s}`:`.${c}.${l},.${l} .${c},.${s}.${l},.${l} .${s}`,"base"===r?`.${i}.reversed,.${s}.reversed`:`.${c}.reversed.${l},.${l} .${c}.reversed,.${s}.reversed.${l},.${l} .${s}.reversed`]};const u=null==o||"regular"===o?"":`.${o}`;return{element:t,selector:"base"===r?`.${i}${u},.${s}${u}`:`.${c}${u}.${l},.${l} .${c}${u},.${s}${u}.${l},.${l} .${s}${u}`}})(e);return Array.isArray(n)?n.map((e=>hr(e,a,t))).join(""):hr(n,a,t)})(e,t)}throw new Error(`Unknown path ${JSON.stringify(e)} and value "${JSON.stringify(t)}"`)})).join(""),Fr=(0,r.createContext)("neutral"),yr=()=>(0,r.useContext)(Fr),Sr=({children:e,role:t})=>"inherit"===t?r.createElement(r.Fragment,null,e):r.createElement(Fr.Provider,{value:t},e),Cr=(()=>{const e={};for(const t of Yn)e[t]=t;return e})(),Mr=(()=>{const e={};for(const t of Bn)e[t]=t;return e})(),wr={},kr=(e,t)=>{const a=((e,t)=>{const a={};for(const c of Dn){var n;a[c]={};const i=null==t||null===(n=t.sound)||void 0===n?void 0:n[c];for(const t of ur){var r,l,o;a[c][t]=null!==(r=null==e||null===(l=e.sound)||void 0===l||null===(o=l[c])||void 0===o?void 0:o[t])&&void 0!==r?r:null==i?void 0:i[t]}}return a})(e,t),{color:n,rawColor:r}=((e,t)=>{const a={color:{},rawColor:{}},n=null==e?null:e.id;for(const F of Dn){a.color[F]={},a.rawColor[F]={};for(const y of jn){var r,l;const S=null==e||null===(r=e.color)||void 0===r||null===(l=r[F])||void 0===l?void 0:l[y];if(null!=S||null==t){if(a.rawColor[F][y]={},dr(y))for(const t of Wn){var o,c,i;a.rawColor[F][y][t]={};const n=null==e||null===(o=e.color)||void 0===o||null===(c=o[F])||void 0===c||null===(i=c[y])||void 0===i?void 0:i[t];for(const e of qn)a.rawColor[F][y][t][e]=null==n?void 0:n[e]}else if(mr(y))for(const t of qn){var s,u,d,m,p,f,g,E;a.rawColor[F][y][t]={},a.rawColor[F][y][t].top=null==e||null===(s=e.color)||void 0===s||null===(u=s[F])||void 0===u||null===(d=u[y])||void 0===d||null===(m=d[t])||void 0===m?void 0:m.top,a.rawColor[F][y][t].bottom=null==e||null===(p=e.color)||void 0===p||null===(f=p[F])||void 0===f||null===(g=f[y])||void 0===g||null===(E=g[t])||void 0===E?void 0:E.bottom}else for(const t of qn){var b,h,v;a.rawColor[F][y][t]=null==e||null===(b=e.color)||void 0===b||null===(h=b[F])||void 0===h||null===(v=h[y])||void 0===v?void 0:v[t]}a.color[F][y]={};for(const e of lr)a.color[F][y][e]="base"===e?null!=S?`${n}-${F}-${y}`:void 0:null!=S?`${n}-${F}-${y}-${e}`:void 0}else a.color[F][y]=t.color[F][y],a.rawColor[F][y]=t.rawColor[F][y]}}return a})(e,t),l=(e=>{const t={},a=null==e?null:e.id;for(const i of sr){t[i]={};for(const s of Dn){t[i][s]={};for(const u of ir[i]){var n,r;t[i][s][u]={};const d=null==e||null===(n=e.component)||void 0===n||null===(r=n[i])||void 0===r?void 0:r[s],m=(c=u,null!=(o=d)&&Object.prototype.hasOwnProperty.call(o,c));t[i][s][u]={},m&&fr(null==d?void 0:d[u])?t[i][s][u].interactive=`${a}-${i}-${s}-${u}-interactive`:t[i][s][u].interactive=void 0;for(const e of rr){var l;const n=Er(e);null!=n&&(m&&null!=(null==d||null===(l=d[u])||void 0===l?void 0:l[n])?t[i][s][u][e]="base"===e?`${a}-${i}-${s}-${u}`:`${a}-${i}-${s}-${u}-${e}`:t[i][s][u][e]=void 0)}}}}var o,c;return t})(e);return{color:n,component:l,variant:Mr,modifier:Cr,rawColor:r,sound:a}},Pr=kr(null);function Tr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ir(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(a),!0).forEach((function(t){xr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Or=(0,r.createContext)({registerCollection:()=>{}}),Ar={id:void 0,tokens:Pr},Nr=(0,r.createContext)(Ar),Rr=()=>{const e=(0,r.useContext)(Nr);return null==e.id&&console.error("Trying to use tokens context outside of provider."),e.tokens},Lr=Array.from(document.querySelectorAll(`head style[id^="${gr}"]`)).reduce(((e,t)=>Ir(Ir({},e),{},{[t.id.replace(gr,"")]:t})),{}),Dr=({children:e})=>{const t=(0,r.useRef)(Lr),a=(0,r.useRef)({}),n=(0,r.useMemo)((()=>({registerCollection:e=>{if(null!=t.current[e.id])return;const n=(r=e.id,`${gr}${r}`);var r;const l=document.querySelector(`head style[id="${n}"]`);null!=l&&document.head.removeChild(l);const o=document.createElement("style");o.id=n,o.innerHTML=(e=>{const t=(e=>{const t=[],a=(e,n)=>{if(null!=e&&"object"==typeof e)if(fr(e))qn.forEach((a=>{null!=e[a]&&t.push({path:[...n,br(a)],value:e[a]})}));else for(const t in e)a(e[t],[...n,t])};return a(e.color,[e.id]),a(e.component,[e.id]),t})(e);return vr(t)})(e),document.head.appendChild(o),t.current[e.id]=o,a.current[e.id]=e}})),[]);return r.createElement(Or.Provider,{value:n},e)},_r=({collection:e,children:t})=>{const a=(0,r.useContext)(Or),n=null==a?void 0:a.registerCollection,l=(0,r.useContext)(Nr);(0,r.useMemo)((()=>{null!=e&&null!=n&&n(e)}),[e,n]);const o=(0,r.useMemo)((()=>{const t=((e,t)=>{if(null==e)return Pr;const a=e.id;return null==wr[a]&&(wr[a]=kr(e,t)),wr[a]})(e,l.tokens);return{id:null==e?void 0:e.id,tokens:t}}),[e,l]);return null==e?r.createElement(r.Fragment,null,t):r.createElement(Nr.Provider,{value:o},t)},Br=e=>{const t={id:e.id,color:{},component:e.component,sound:{}};for(const f of Dn){var a,n;if(t.sound[f]=(null===(a=e.sound)||void 0===a?void 0:a[f])||(null===(n=e.sound)||void 0===n?void 0:n.neutral)||{},e.color[f]){t.color[f]={};for(const a of jn){var r;const n=e.color[f],g=null===(r=e.color)||void 0===r?void 0:r.neutral,E=null==n?void 0:n[a];if(dr(a)){for(const e of Wn)if(pr(E,e)||null==E&&e===_n){var l,o,c,i,s,u;t.color[f][a]=null!==(l=t.color[f][a])&&void 0!==l?l:{};const n=null==E?void 0:E[e],r=null==E?void 0:E.regular,d=(null==g||null===(o=g[a])||void 0===o?void 0:o[e])||(null==g||null===(c=g[a])||void 0===c?void 0:c.regular);t.color[f][a][e]=null!==(i=null!=n?n:r)&&void 0!==i?i:d;const m=null!==(s=null!==(u=null==n?void 0:n.disabled)&&void 0!==u?u:null==r?void 0:r.disabled)&&void 0!==s?s:null==d?void 0:d.disabled;null!=m&&(t.color[f][a][e].disabled=m)}}else if(n){const e=null!=E?E:null==g?void 0:g[a];if(fr(e)){var d,m,p;t.color[f][a]=null!==(d=t.color[f][a])&&void 0!==d?d:{},t.color[f][a]=e;const n=null!==(m=null==e?void 0:e.disabled)&&void 0!==m?m:null==g||null===(p=g[a])||void 0===p?void 0:p.disabled;null!=n&&(t.color[f][a].disabled=n)}}}}}return t};function Wr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ur(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(a),!0).forEach((function(t){zr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const jr=e=>{const t=qn.reduce(((t,a)=>Ur(Ur({},t),{},{[a]:e})),{});return jn.reduce(((e,a)=>dr(a)?Ur(Ur({},e),{},{[a]:Wn.reduce(((e,a)=>Ur(Ur({},e),{},{[a]:t})),{})}):Ur(Ur({},e),{},{[a]:t})),{})},Hr=(e,t)=>ur.reduce(((a,n)=>Ur(Ur({},a),{},{[n]:`${e}.${t}.${n}`})),{}),Gr=e=>Dn.reduce(((t,a)=>{const n=Array.isArray(ir[e])?ir[e]:[];return Ur(Ur({},t),{},{[a]:n.reduce(((e,t)=>Ur(Ur({},e),{},{[t]:{}})),{})})}),{}),Vr=({defineComponentsCollection:e})=>{const t="mockTokens",a=e?sr.reduce(((e,t)=>Ur(Ur({},e),{},{[t]:Gr(t)})),{}):void 0;return Br({id:t,color:Dn.reduce(((e,t)=>Ur(Ur({},e),{},{[t]:jr("mock")})),{}),sound:Dn.reduce(((e,a)=>Ur(Ur({},e),{},{[a]:Hr(t,a)})),{}),component:a})};function $r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(a),!0).forEach((function(t){Kr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Kr(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yr(e){const t=Rr(),a=yr(),n="inherit"===e?a:e;return null==n?Xr(Xr({},t.color),{},{inherit:t.color[a]}):t.color[n]}function qr(e){const t=Rr(),a=yr(),n="inherit"===e?a:e;return null==n?Xr(Xr({},t.rawColor),{},{inherit:t.rawColor[a]}):t.rawColor[n]}function Qr(e){const t=Rr(),a=yr(),n="inherit"===e?a:e;return null==n?Xr(Xr({},t.sound),{},{inherit:t.sound[a]}):t.sound[n]}function Jr(e,t){const a=Rr(),n=yr(),r="inherit"===t?n:t;return null==r?Xr(Xr({},a.component[e]),{},{inherit:a.component[e][n]}):a.component[e][r]}function Zr(){return Rr().variant}function el(){return Rr().modifier}Vr({defineComponentsCollection:!1}),Vr({defineComponentsCollection:!0}),Br({id:"example",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"random.click"}},color:{neutral:{background:{default:"red",hovered:"red",pressed:"red",disabled:"red"},text:{dimmer:{default:"red",disabled:"red"},dimmest:{default:"red"},regular:{default:"red",disabled:"red"}},shadow:{default:"red",disabled:"red"},dropShadow:{default:"red"},icon:{regular:{default:"red",disabled:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"},overlay:{default:"red"}},neutral20:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},outline:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},neutral50:{background:{default:"red",hovered:"red",pressed:"red"},border:{regular:{default:"red",disabled:"red"}},overlay:{default:"red"}},neutral60:{background:{default:"red",hovered:"red",pressed:"red"},border:{dimmest:{default:"red"}},text:{regular:{default:"red"}}},neutral80:{background:{default:"red",hovered:"red",selected:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},caret:{regular:{default:"red"}},bevel:{default:{top:"red",bottom:"red"},hovered:{top:"red",bottom:"red"},pressed:{top:"red",bottom:"red"},selected:{top:"red",bottom:"red"}}},neutral100:{background:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}}},primary:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},primaryTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},secondary:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},success:{background:{default:"red"},text:{regular:{default:"red"}}},successTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informative:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informativeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},destructive:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},destructiveTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},notice:{background:{default:"red"}},noticeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},paper:{background:{default:"red"},text:{regular:{default:"red",disabled:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"}}},component:{panel:{neutral:{main:{default:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"},hovered:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"}}}},pressable:{primary:{main:{default:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDefault"},hovered:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryHovered"},pressed:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryPressed"},disabled:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDisabled"},focused:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryFocused"}}}}}});const tl=({state:e,api:t,children:a})=>r.createElement(c.Provider,{value:t},r.createElement(o.Provider,{value:e},a)),al=(0,l.sharedFacet)("core.router"),nl=(e,...t)=>vn.trigger(e,...t);function rl({children:e,keyboardGamepadMap:t,isKeyboardHintsEnabled:a}){const n=(0,l.useSharedFacet)(al),o=(0,r.useRef)(""),c=(0,r.useRef)(""),i=(0,r.useRef)(!1);(0,l.useFacetEffect)((e=>{if(!i.current){const t=e.history.action;if("POP"===t)o.current=c.current,c.current="";else if("PUSH"===t){const t=e.history.list.length,a=e.history.list[t-1];a&&(c.current=a.pathname,o.current="")}}i.current=!1}),[],[n]);const s=(0,l.useFacetMap)((e=>{const t=e.history.list;return{length:e.history.length,action:e.history.action,list:0===t.length?[{pathname:"/__INVALID_ROUTE__",hash:"",search:"",state:""}]:t}}),[],[n]),u=(0,l.useFacetRef)((0,l.useFacetMap)((e=>{const t=e.history.list,a=t[t.length-1];return null==a?"":a.pathname}),[],[n]),""),d=(0,l.useFacetCallback)((({history:e})=>()=>{u.current!=o.current?(o.current=u.current,c.current="",i.current=!0,e.goBack()):console.warn("JAVASCRIPT:Attempting to go back from the same location multiple times consecutively.")}),[o,u],[n]),p=(0,l.useFacetCallback)((({history:e})=>t=>{const a=(e=>{const t=e.indexOf("?"),a=e.indexOf("#");let n=-1;return-1!==t?n=t:-1!==a&&(n=a),-1!==n?e.substring(0,n):e})(t);a!=c.current?(c.current=a,o.current="",i.current=!0,e.push(t)):console.warn("JAVASCRIPT:Attempting to push the same route multiple times consecutively.")}),[],[n]),f=(0,l.useFacetCallback)((({history:e})=>t=>{e.replace(t)}),[],[n]),g=(0,l.useFacetCallback)((({history:e})=>t=>{u.current!=o.current?(o.current=u.current,c.current="",e.go(t)):console.warn("Attempting to go back from the same location multiple times consecutively.")}),[o,u],[n]),E=(0,r.useMemo)((()=>({goBack:d,push:p,replace:f,go:g})),[d,p,f,g]),b=(0,r.useCallback)((()=>{nl("core:telemetry:eventfulNavigation")}),[]),h=An(),v=Ln(),F=Qr("neutral"),y=null==F?void 0:F.reject,S=(0,r.useCallback)((()=>{v&&null!=y&&(h(y,0,.5,.75),nl("core:telemetry:uneventfulNavigation"))}),[v,h,y]),C=(0,r.useCallback)((e=>s.observe((({list:t})=>{const a=t[t.length-1];if(null==a)return;const n=function(e,t=!1){const a=new m(t?e.hash:e.search),n=a.get("alias");if("string"==typeof n&&0!==n.length)return n;const r=a.get("nodeId");return null!=r?parseInt(r,10):void 0}(a);null!=n&&e(n)}))),[s]);return r.createElement(wn,{notifyFocusRequest:C,onFocusedIdChangeFail:S,onFocusedIdChange:b,keyboardGamepadMap:t,isKeyboardHintsEnabled:(0,l.useFacetWrap)(null!=a&&a)},r.createElement(tl,{state:s,api:E},e))}const ll=(0,l.createStaticFacet)("PUSH"),ol=(0,l.createStaticFacet)(!1),cl=({route:e,component:t,transitionComponent:a,alwaysMounted:n,disabledCached:o,match:c=ol,action:i=ll})=>{const s=(0,l.useFacetWrap)(c),d=(0,l.useFacetMap)((e=>0!=e),[],[s]),m=t,p=a;return r.createElement(il,{route:e},r.createElement(u.Provider,{value:(0,l.useFacetMap)((e=>0!=e?e.params:l.NO_VALUE),[],[s])},r.createElement(L,{value:d},r.createElement(p,{visible:d,alwaysMounted:n,unmountOnExit:(0,l.useFacetMap)((e=>!!o||"POP"===e),[o],[i]),contentComponent:m,inverse:(0,l.useFacetMap)((e=>"POP"===e),[],[i])}))))},il=({route:e,children:t})=>{const a=(0,r.useContext)(o),n=(0,r.useMemo)((()=>F(e)),[e]),c=(0,l.useFacetMemo)((({list:e})=>null!=e.find((({pathname:t},a)=>a!=e.length-1&&!1!==n(t)))),[n],[a]);return r.createElement(s.Provider,{value:c},t)},sl={base:"aa9f1da77302d6e19240",inlineLayout:"aafce835e18c9eb76562",exited:"f0744a18c5633935e209"};var ul=a(94184),dl=a.n(ul);const ml=()=>f(),pl=(0,r.createContext)({block:()=>{},unblock:()=>{},contentfulPaint:()=>{},meaningfulPaint:()=>{}});function fl(){return(0,r.useContext)(pl)}let gl=0;function El({type:e,renderingCompleted:t}){const a=fl(),n=ml(),o=(0,r.useMemo)((()=>gl++),[]);return(0,l.useFacetEffect)(((t,n)=>{if(!t)return a.unblock(o,e);n?a.unblock(o,e):a.block(o,e)}),[o,a,e],[n,(0,l.useFacetWrap)(t)]),null}function bl(e){if(!e.map((e=>e.get())).reduce(((e,t)=>e&&t!==l.NO_VALUE),!0))return l.NO_VALUE}const hl=({children:e,disabled:t,hidden:a})=>{const n=(0,r.useContext)(De),o=(0,r.useMemo)((()=>n.current.generateId()),[n]),c=(0,l.useFacetWrap)(t),i=(0,l.useFacetWrap)(a),s=(0,r.useContext)(we),u=s[s.length-1],d=(0,r.useRef)();(0,r.useMemo)((()=>{var e;if(bl([c,i])===l.NO_VALUE&&!n.current.getElement(o)){const e={id:o,type:$.FOCUS_GROUP,disabled:!0,hidden:!0};n.current.putNode(e,u)}null===(e=d.current)||void 0===e||e.call(d),d.current=(0,l.multiObserve)(((e,t)=>{const a={id:o,type:$.FOCUS_GROUP,disabled:!0===e,hidden:!0===t};n.current.putNode(a,u)}),[c,i])}),[o,n,u,c,i]),(0,r.useEffect)((()=>()=>{var e;null===(e=d.current)||void 0===e||e.call(d)}),[]),(0,r.useEffect)((()=>()=>n.current.removeNode(o)),[n,o]);const m=[...s,o],p=(0,r.useMemo)((()=>({children:e})=>r.createElement(we.Provider,{value:m},e)),m);return r.createElement(p,null,e)},vl=(0,l.createStaticFacet)(!1);function Fl({visible:e,unmountOnExit:t=vl,alwaysMounted:a,inlineLayout:n,contentComponent:o}){const c=(0,l.useFacetWrap)(e),i=(0,l.useFacetMap)((e=>!e),[],[c]),s=(0,r.useMemo)((()=>r.memo(o)),[o]),u=(0,r.useRef)(!1),d=(0,l.useFacetCallback)((e=>t=>{const n=a||(e?t:u.current||t);return u.current=n,n}),[a],[(0,l.useFacetWrap)(t)]),m=(0,l.useFacetMap)((e=>d(e)),[d],[c]);return r.createElement(l.Mount,{when:m},r.createElement(L,{value:c},r.createElement(hl,{disabled:i},r.createElement(yl,{visible:c,inlineLayout:n},r.createElement(s,null)),r.createElement(El,{type:"contentful",renderingCompleted:c}))))}const yl=({children:e,inlineLayout:t,visible:a})=>r.createElement(l.Unwrap,{data:a},(a=>r.createElement("fast-div",{className:dl()({[sl.base]:!t,[sl.inlineLayout]:t,[sl.entered]:a,[sl.exited]:!a})},e)));function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sl.apply(null,arguments)}const Cl=()=>p(),Ml=()=>{const e=(0,l.useFacetUnwrap)(g());return e===l.NO_VALUE?{}:e},wl=e=>{var t;return r.createElement(cl,Sl({},e,{transitionComponent:null!==(t=e.transitionComponent)&&void 0!==t?t:Fl}))},kl={[Ye.IOS]:$e.HANDHELD_SCREEN_TYPE,[Ye.GOOGLE]:$e.HANDHELD_SCREEN_TYPE,[Ye.AMAZON_HANDHELD]:$e.HANDHELD_SCREEN_TYPE,[Ye.UWP_GDK_PC]:$e.DESKTOP_SCREEN_TYPE,[Ye.XBOX]:$e.TV_SCREEN_TYPE,[Ye.NX_HANDHELD]:$e.HANDHELD_SCREEN_TYPE,[Ye.PS4]:$e.TV_SCREEN_TYPE,[Ye.WIN32]:$e.DESKTOP_SCREEN_TYPE,[Ye.MACOS]:$e.DESKTOP_SCREEN_TYPE,[Ye.NX_TV]:$e.TV_SCREEN_TYPE,[Ye.PS5]:$e.TV_SCREEN_TYPE},Pl={[Ye.IOS]:Qe.XBOX,[Ye.GOOGLE]:Qe.XBOX,[Ye.AMAZON_HANDHELD]:Qe.XBOX,[Ye.UWP_GDK_PC]:Qe.XBOX,[Ye.XBOX]:Qe.XBOX,[Ye.NX_HANDHELD]:Qe.SWITCH,[Ye.PS4]:Qe.PS,[Ye.WIN32]:Qe.XBOX,[Ye.MACOS]:Qe.XBOX,[Ye.NX_TV]:Qe.SWITCH,[Ye.PS5]:Qe.PS},Tl=e=>e===Ke.GAMEPAD||e===Ke.KEYBOARD,Il=e=>e===Ke.MOUSE||e===Ke.TOUCH,xl=(0,l.createStaticFacet)(!1);function Ol({lastInputMethodUsed:e,supportedInputMethods:t,platform:a,interactionModelLocked:n=xl,children:o}){const c=((e,t,a)=>{const n=((e,t)=>{const[a,n]=(0,l.useFacetState)(null),o=(0,r.useRef)(!1);return(0,l.useFacetEffect)(((e,t,a)=>{o.current||null!=t?Il(e)&&t!=e&&n(e):(o.current=!0,n(((e,t)=>{if(Il(e))return e;switch(t){case Ye.WIN32:case Ye.MACOS:return Ke.MOUSE;case Ye.NX_HANDHELD:case Ye.IOS:case Ye.GOOGLE:case Ye.AMAZON_HANDHELD:return Ke.TOUCH;default:return null}})(e,a)))}),[n],[e,a,t]),a})(e,a),o=((e,t)=>{const[a,n]=(0,l.useFacetState)(null),o=(0,r.useRef)(!1);return(0,l.useFacetEffect)(((e,t,a)=>{o.current||null!=t?Tl(e)&&t!=e&&n(e):(o.current=!0,n(((e,t)=>{if(Tl(e))return e;switch(t){case Ye.WIN32:case Ye.MACOS:case Ye.UWP_GDK_PC:return Ke.KEYBOARD;case Ye.XBOX:case Ye.NX_HANDHELD:case Ye.PS4:case Ye.NX_TV:case Ye.PS5:return Ke.GAMEPAD;default:return null}})(e,a)))}),[n],[e,a,t]),a})(e,a);return{isPointerInputMouse:(0,l.useFacetMemo)((e=>e===Ke.MOUSE),[],[n]),isPointerInputTouch:(0,l.useFacetMemo)((e=>e===Ke.TOUCH),[],[n]),isPointerInputAvailable:(0,l.useFacetMemo)((e=>null!=e),[],[n]),isFocusInputGamepad:(0,l.useFacetMemo)((e=>e===Ke.GAMEPAD),[],[o]),isFocusInputKeyboard:(0,l.useFacetMemo)((e=>e===Ke.KEYBOARD),[],[o]),isFocusInputAvailable:(0,l.useFacetMemo)((e=>null!=e),[],[o]),isLastInputMouse:(0,l.useFacetMemo)((e=>e===Ke.MOUSE),[],[e]),isLastInputTouch:(0,l.useFacetMemo)((e=>e===Ke.TOUCH),[],[e]),isLastInputGamepad:(0,l.useFacetMemo)((e=>e===Ke.GAMEPAD),[],[e]),isLastInputKeyboard:(0,l.useFacetMemo)((e=>e===Ke.KEYBOARD),[],[e]),isLastInputPointer:(0,l.useFacetMemo)((e=>e===Ke.MOUSE||e===Ke.TOUCH),[],[e]),isLastInputFocus:(0,l.useFacetMemo)((e=>e===Ke.KEYBOARD||e===Ke.GAMEPAD),[],[e]),isGamepadSupported:(0,l.useFacetMemo)((e=>e.includes(Ke.GAMEPAD)),[],[t]),isKeyboardSupported:(0,l.useFacetMemo)((e=>e.includes(Ke.KEYBOARD)),[],[t]),isMouseSupported:(0,l.useFacetMemo)((e=>e.includes(Ke.MOUSE)),[],[t]),isTouchSupported:(0,l.useFacetMemo)((e=>e.includes(Ke.TOUCH)),[],[t]),isPointerSupported:(0,l.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(Il(e[t]))return!0;return!1}),[],[t]),isFocusSupported:(0,l.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(Tl(e[t]))return!0;return!1}),[],[t])}})(e,t,a),i=(0,l.useFacetMemo)((e=>function(e){return kl[e]}(e)),[],[a]),s=(0,l.useFacetMemo)((e=>function(e){return Pl[e]}(e)),[],[a]);return function(e){(0,l.useFacetEffect)((e=>{e===Ke.MOUSE?document.body.style.cursor="auto":document.body.style.cursor="none"}),[],[e])}(e),r.createElement(Je.Provider,{value:c},r.createElement(Ze.Provider,{value:a},r.createElement(et.Provider,{value:i},r.createElement(tt.Provider,{value:s},r.createElement(at.Provider,{value:n},o)))))}const Al=[pe.LEFT,pe.UP,pe.RIGHT,pe.DOWN,pe.TAB];const Nl=(e,t,a,n,r=!1)=>(0,l.useFacetMap)(((t,a)=>r||n.current===e&&t===Ke.KEYBOARD&&a.includes(e)),[e,n,r],[t,a]),Rl=(e,t,a)=>{const{supportedInputMethods:n,setKeyboardIsSupported:o}=(e=>{const[t,a]=(0,l.useFacetState)([]),n=(0,r.useRef)(!1),o=(0,l.useFacetCallback)((e=>()=>{if(!n.current){n.current=!0;const t=Array.from(e);t.push(Ke.KEYBOARD),a(t)}}),[a],[t]);return(0,l.useFacetEffect)(((e,t)=>{if((n.current?e.length-1:e.length)!==t.length||!t.every((t=>e.includes(t)))){const e=Array.from(t);n.current&&e.push(Ke.KEYBOARD),a(e)}}),[a],[t,e]),{supportedInputMethods:t,setKeyboardIsSupported:o}})(t),[c,i,s]=(e=>{const t=(0,l.useFacetState)(null),[a,n]=t,o=(0,r.useRef)(null),c=(0,r.useCallback)((e=>{n((t=>t===e?t:(t!==l.NO_VALUE&&(o.current=t),e)))}),[n]);return(0,l.useFacetEffect)((e=>{null!=e&&c(e)}),[c],[e]),[a,c,o]})(e),u=Nl(Ke.MOUSE,c,n,s,null==a?void 0:a.trackAllUserInput),d=Nl(Ke.TOUCH,c,n,s,null==a?void 0:a.trackAllUserInput),m=Nl(Ke.GAMEPAD,c,n,s,null==a?void 0:a.trackAllUserInput),p=(0,l.useFacetMap)((e=>e!==Ke.KEYBOARD),[],[c]);var f,g;return function(e,t,a){const n=(e=>{const t=(0,r.useRef)(-1);return(0,l.useFacetEffect)((e=>{if(!e)return;const a=e=>{t.current=e.timeStamp};return window.addEventListener("touchend",a),()=>{window.removeEventListener("touchend",a)}}),[],[e]),t})((0,l.useFacetMap)((e=>e.includes(Ke.MOUSE)&&e.includes(Ke.TOUCH)),[],[a])),o=(0,r.useRef)(null);(0,l.useFacetEffect)((e=>{if(!e)return void(o.current=null);const a=e=>n.current===e.timeStamp,r=e=>{const n=[e.clientX,e.clientY];if(!o.current)return void(o.current=n);const r=Math.abs(n[0]-o.current[0]),l=Math.abs(n[1]-o.current[1]);if(Math.sqrt(Math.pow(r,2)+Math.pow(l,2))>10){if(o.current=null,a(e))return;t()}},l=e=>{3!==e.button&&(a(e)||t())},c=()=>{t()};return window.addEventListener("mousemove",r),window.addEventListener("mousedown",l),window.addEventListener("wheel",c),()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mousedown",l),window.removeEventListener("wheel",c)}}),[t,n],[e])}(u,(()=>{i(Ke.MOUSE)}),t),f=d,g=()=>{i(Ke.TOUCH)},(0,l.useFacetEffect)((e=>{if(e)return window.addEventListener("touchstart",g),window.addEventListener("touchend",g),()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchend",g)}}),[g],[f]),((e,t)=>{(0,l.useFacetEffect)((e=>{if(!e)return;const a=e=>{const a=e.keyCode;Al.includes(a)&&t()};return window.addEventListener("keyup",a),()=>{window.removeEventListener("keyup",a)}}),[t],[e])})(p,(()=>{o(),i(Ke.KEYBOARD)})),function(e,t){(0,l.useFacetEffect)((e=>{if(e)return(e=>{const t=Fn("engine:gamepad:onPress",(()=>{e()})),a=Fn("engine:gamepad:onJoystickMovement",(()=>{e()}));return()=>{t(),a()}})(t)}),[t],[e])}(m,(()=>{i(Ke.GAMEPAD)})),{lastInputMethodUsed:c,supportedInputMethods:n}};let Ll,Dl;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.APPDATA=2]="APPDATA"}(Ll||(Ll={})),function(e){e[e.XboxLive=0]="XboxLive",e[e.Nintendo=1]="Nintendo",e[e.AdHoc=2]="AdHoc",e[e.Playstation=3]="Playstation",e[e.EDU=4]="EDU",e[e.Mock=5]="Mock",e[e.Undefined=-1]="Undefined"}(Dl||(Dl={}));const _l=(0,l.sharedFacet)("core.deviceInformation");function Bl(e){let{children:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children"]);const n=(0,l.useSharedFacet)(_l),o=gn(),c=(0,l.useFacetMap)((e=>e.currentInputType),[],[o]),i=(0,l.useFacetMap)((e=>e.inputMethods),[],[n]),s=(0,l.useFacetMap)((e=>e.platform),[],[n]),{lastInputMethodUsed:u,supportedInputMethods:d}=Rl(c,i,a),m=(0,l.useFacetMap)((e=>e.interactionModelLocked),[],[o]);return r.createElement(Ol,{platform:s,lastInputMethodUsed:u,supportedInputMethods:d,interactionModelLocked:m},t)}function Wl({children:e,errorComponent:t,dismissTimeout:a}){const[n,l]=(0,r.useState)(null),o=(0,r.useCallback)((e=>{l(e),vn.trigger("core:exception")}),[]),c=(0,r.useCallback)((()=>{l(null)}),[]);return null==t?r.createElement(r.Fragment,null,"children"):r.createElement(Ul,{onError:o},n?r.createElement(zl,{dismissTimeout:null!=a?a:4e4,errorMessage:void 0,errorComponent:t,onDismiss:c}):e)}(0,l.sharedSelector)((e=>e.platform===Ye.PS4||e.platform===Ye.PS5),[_l]);class Ul extends r.Component{static getDerivedStateFromError(){}componentDidCatch(e){this.props.onError(e)}render(){return this.props.children}}function zl({errorComponent:e,errorMessage:t,onDismiss:a,dismissTimeout:n}){const o=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(al)),c=(0,r.useCallback)((()=>{null!=o&&o!==l.NO_VALUE&&o.history.goBack(),requestAnimationFrame(a)}),[o,a]);return(0,r.useEffect)((()=>{if(null!=n&&n!==Number.POSITIVE_INFINITY){const e=setTimeout(c,n);return()=>clearTimeout(e)}}),[o,c,n]),r.createElement(e,{errorMessage:t,onDismiss:c})}const jl=(0,r.createContext)([]),Hl=jl.Provider;Hl.displayName="FeatureFlagsProvider";const Gl="vanilla.settings.unlockRecipes",Vl=(0,l.sharedFacet)("core.featureFlags");function $l({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(Vl)),a=t===l.NO_VALUE?[]:t.flags;return r.createElement(Hl,{value:a},e)}const Xl=e=>`${e}`,Kl=(0,r.createContext)({translationPrefix:"hbui",translate:e=>e,formatDate:Xl,getHowLongAgoAsString:Xl,locale:"en-US"});function Yl({translationPrefix:e,translate:t,formatDate:a,getHowLongAgoAsString:n,children:l,locale:o}){const c=(0,r.useMemo)((()=>({translationPrefix:e,translate:t,formatDate:a,getHowLongAgoAsString:n,locale:o})),[e,t,a,n,o]);return r.createElement(Kl.Provider,{value:c},l)}const ql=(0,l.sharedFacet)("core.locale"),Ql=(0,l.sharedSelector)((e=>({set locale(t){null!=e&&(e.locale=t)},get locale(){return e.locale},translate:e.translate.bind(e),translateWithParameters:e.translateWithParameters.bind(e),formatDate:e.formatDate.bind(e),getHowLongAgoAsString:e.getHowLongAgoAsString.bind(e)})),[ql]);function Jl({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(Ql)),a=(0,r.useCallback)(((e,a)=>t===l.NO_VALUE?e:null!=a?t.translateWithParameters(e,a):t.translate(e)),[t]);return t!==l.NO_VALUE?r.createElement(Yl,{translationPrefix:"hbui",locale:t.locale,translate:a,formatDate:t.formatDate,getHowLongAgoAsString:t.getHowLongAgoAsString},e):null}const Zl=(0,r.createContext)({previousAncestryRef:{current:[]},narrationTree:{},generateId:()=>"0",readById:()=>{},readText:()=>{},clear:()=>{}}),eo=Zl.Provider,to=(0,r.createContext)((()=>{console.warn("resetNarrationContext not provided")})),ao=()=>(0,r.useContext)(to),no=({children:e,disabled:t=!1,narrationTree:a,driver:n,isIdle:o=!0,shouldUseQueueSystem:c,shouldInterrupt:i})=>{const s=(0,r.useRef)(0),u=(0,l.useFacetWrap)(t),d=(0,l.useFacetRef)(u),[m,p]=(0,l.useFacetState)([]),f=(0,l.useFacetWrap)(o),g=(0,l.useFacetWrap)(null!=c&&c),E=(0,l.useFacetWrap)(null!=i&&i),b=(0,r.useRef)({root:{text:"",parentNarrationId:""}}),h=(0,r.useRef)([]),v=(0,r.useRef)([]),F=a||b.current;(0,l.useFacetEffect)(((e,t)=>{if(t.length>0&&(e||!e&&t[0].itemShouldInterrupt)){const[e,...a]=t;e.run(),p(a)}}),[p,d,n],[f,m]);const y=(0,r.useCallback)((()=>""+s.current++),[]),S=(0,l.useFacetCallback)((e=>()=>{e||n.clear()}),[n],[u]),C=(0,l.useFacetCallback)(((e,t,a)=>(r,o={outOfGame:!0,inGame:!0},c=!0,i=!1,s=!1)=>{if(a)return;const u={run:()=>{n.read(r,o,c,i,s)},itemShouldInterrupt:t};if(e){if(t)return void p([u]);p((e=>e!==l.NO_VALUE?[...e,u]:[u]))}else u.run()}),[n,p],[g,E,u]),M=(0,l.useFacetCallback)(((e,t,a)=>(r,o={outOfGame:!0,inGame:!0},c=!0,i=!1,s=!1)=>{if(e)return;const u={run:()=>{const e=F[r];if(null==e)return;const t=h.current,a=((e,t)=>{const a=[];let n=t;for(;null!=n;){const t=e[n];if(null==t)break;a.push(n),n=null==t?void 0:t.parentNarrationId}return a.reverse()})(F,r);h.current=a;const u=((e,t)=>t.map((t=>{const a=e[t];if(null==a)return"";if(null!=a.text)return a.text.trim();const{getText:n}=a;if(null==n)return"";const r=n();return(r===l.NO_VALUE?"":r).trim()})).filter(Boolean))(F,a),d=((e,t,a,n)=>{if(0===t.length)return e;if(e.length<=t.length&&e.every(((e,a)=>e===t[a]))){if(a.length<=n.length&&a.every(((e,t)=>e===n[t])))return[e[e.length-1]];let t=0;for(;t<a.length&&t<n.length&&a[t]===n[t];)t++;return e.slice(t)}let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return e.length<t.length&&r>=t.length-1?[e[e.length-1]]:e.slice(r)})(u,v.current,a,t).join(" . ");v.current=u;const{getSuffix:m}=e,p=null!=m?m():"",f=p===l.NO_VALUE?"":p,g=""!==f?d+" . "+f:d;n.read(g,o,c,i,s)},itemShouldInterrupt:a};if(t){if(a)return void p([u]);p((e=>e!==l.NO_VALUE?[...e,u]:[u]))}else u.run()}),[n,F,p],[u,g,E]),w=(0,r.useCallback)((()=>{h.current=[]}),[]);return(0,l.useFacetEffect)((e=>{!0===e&&S()}),[S],[u]),r.createElement(to.Provider,{value:w},r.createElement(eo,{value:(0,r.useMemo)((()=>({previousAncestryRef:h,narrationTree:F,generateId:y,readById:M,readText:C,clear:S})),[F,S,y,M,C])},r.createElement(l.Unwrap,{data:u},(t=>r.createElement(Rn,{value:!t},e)))))};let ro;!function(e){e[e.NONE=0]="NONE",e[e.UI_FRONT_END=1]="UI_FRONT_END",e[e.UI_IN_GAME=2]="UI_IN_GAME",e[e.ALL_UI=e.UI_FRONT_END|e.UI_IN_GAME]="ALL_UI",e[e.IN_GAME_CHAT=4]="IN_GAME_CHAT",e[e.IN_GAME_ITEMS=8]="IN_GAME_ITEMS",e[e.IN_GAME_NAME=16]="IN_GAME_NAME",e[e.ALL=e.UI_FRONT_END|e.UI_IN_GAME|e.IN_GAME_CHAT|e.IN_GAME_ITEMS|e.IN_GAME_NAME]="ALL"}(ro||(ro={}));const lo=(0,l.sharedFacet)("core.screenReader"),oo=e=>(t,a,n,r,l,o)=>{e.read(t,a,{__Type:"core.screenReaderOptions",canBeInterrupted:n,isRequired:r,shouldPlayInBackground:l,shouldPlayWhenPlatformTTSEnabled:o})};function co({children:e,shouldUseQueueSystem:t,narrationTree:a}){const n=(0,l.useSharedFacet)(lo),o=(0,l.useFacetMap)((e=>e.isUITextToSpeechEnabled),[],[n]),c=(0,l.useFacetMap)((e=>e.isIdle),[],[n]),i=(0,l.useFacetCallback)(oo,[],[n]),s=(0,l.useFacetCallback)((e=>()=>e.clear()),[],[n]),u=(0,r.useContext)(Te),d=(0,l.useFacetMap)((e=>e===_.FocusInput||e===_.PointerInput||e===_.URL),[],[u]),m=(0,l.useFacetCallback)((e=>(t,a,n,r,l)=>{Boolean(e)&&i(t,function(e){let t=0;return e.outOfGame&&(t+=ro.UI_FRONT_END),e.inGame&&(t+=ro.UI_IN_GAME),e.inGameChat&&(t+=ro.IN_GAME_CHAT),e.inGameItem&&(t+=ro.IN_GAME_ITEMS),e.inGameName&&(t+=ro.IN_GAME_NAME),t}(a),n,r,l,!0)}),[i],[o]),p=(0,r.useMemo)((()=>({read:m,clear:()=>s()})),[m,s]),f=(0,l.useFacetMap)((e=>!e),[],[o]);return r.createElement(no,{driver:p,disabled:f,isIdle:c,shouldUseQueueSystem:!0===t,shouldInterrupt:d,narrationTree:a},r.createElement(io,null),e)}function io(){return(()=>{const e=ao(),t=(0,l.useFacetMap)((e=>e.history.list),[],[(0,l.useSharedFacet)(al)],(0,l.createUniformArrayEqualityCheck)(l.shallowObjectEqualityCheck));(0,l.useFacetEffect)((()=>{e()}),[e],[t])})(),null}function so({children:e,driver:t}){return r.createElement(Tn,{value:t.play},e)}const uo="soundCommandGroup";function mo(e,t){const a=(0,r.useContext)(sn),{callable:n}=a(e,t);return n}function po({children:e}){const t=mo(uo,"play"),a=mo(uo,"fadeOut"),n=mo(uo,"isPlaying"),l={play(e,r,l=1,o=1){let c,i;const s=()=>{c=t(e,l,o)};return r>0?i=setTimeout(s,r):s(),()=>{null!=i&&clearTimeout(i),n(c)&&a(c,0)}}};return r.createElement(so,{driver:l},e)}const fo=(0,r.createContext)({top:0,bottom:0,left:0,right:0}),go=()=>(0,r.useContext)(fo);let Eo;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Eo||(Eo={}));const bo=(0,r.createContext)({numActivePlayers:1,direction:Eo.HORIZONTAL,position:0});function ho({children:e,numActivePlayers:t,direction:a=Eo.HORIZONTAL,position:n}){const l=(0,r.useMemo)((()=>({numActivePlayers:t,direction:a,position:n})),[t,a,n]);return r.createElement(bo.Provider,{value:l},e)}function vo(e,t,a){return Math.min(Math.max(e,t),a)}var Fo;function yo(e,t,a){switch(e){case 2:return 0===t||1===t&&a===Fo.VERTICAL;case 3:case 4:return 0===t||1===t;default:return!0}}function So(e,t,a){switch(e){case 2:return 1===t||0===t&&a===Fo.VERTICAL;case 3:return 2===t;case 4:return 2===t||3===t;default:return!0}}function Co(e,t,a){switch(e){case 2:return 0===t||1===t&&a===Fo.HORIZONTAL;case 3:case 4:return 0===t||2===t;default:return!0}}function Mo(e,t,a){switch(e){case 2:return 1===t||0===t&&a===Fo.HORIZONTAL;case 3:return 1===t;case 4:return 1===t||3===t;default:return!0}}function wo({children:e,safeAreaX:t,safeAreaY:a,screenPositionX:n,screenPositionY:l}){const o=function(e,t,a,n){const l=(0,r.useContext)(bo),o=(0,r.useCallback)((()=>function(e,t,a,n){const r=vo(e,.9,1),l=vo(t,.9,1),o=vo(a,-.1,.1),c=vo(n,-.1,.1),i=window.innerWidth,s=window.innerHeight;return{top:Math.round((1-l+c)/2*s),bottom:Math.round((1-l-c)/2*s),left:Math.round((1-r+o)/2*i),right:Math.round((1-r-o)/2*i)}}(e,t,a,n)),[e,t,a,n]),c=(0,r.useCallback)((()=>function({top:e,bottom:t,left:a,right:n},{numActivePlayers:r,direction:l,position:o}){return{top:yo(r,o,l)?e:0,bottom:So(r,o,l)?t:0,left:Co(r,o,l)?a:0,right:Mo(r,o,l)?n:0}}(o(),l)),[o,l]),[i,s]=(0,r.useState)(c);return(0,r.useEffect)((()=>{s(c);const e=()=>s(c);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[c]),i}(t,a,n,l);return r.createElement(fo.Provider,{value:o},e)}!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Fo||(Fo={}));const ko=(0,l.sharedFacet)("core.safeZone");function Po({children:e}){const t=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(ko));return null!=t&&t!==l.NO_VALUE?r.createElement(wo,{safeAreaX:t.safeAreaX,safeAreaY:t.safeAreaY,screenPositionX:t.screenPositionX,screenPositionY:t.screenPositionY},e):null}function To({children:e}){const t=(0,l.useFacetUnwrap)(bn());return null!=t&&t!==l.NO_VALUE?r.createElement(ho,{numActivePlayers:t.numActivePlayers,direction:t.splitScreenDirection,position:t.splitScreenPosition},e):null}const Io=(0,r.createContext)((0,l.createFacet)({initialValue:!0})),xo=Io.Provider,Oo=()=>(0,r.useContext)(Io),Ao=(0,r.createContext)({theme:"vanilla",onSetTheme:()=>{}}).Provider,No=(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[]),Ro=(No({},{},{},{},{},{}),No({},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),Lo=(Ro({},{},{},{},{},{}),Ro({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),Do=(Lo({}),Lo({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),_o=(Do({}),Do({}),"#a0e081"),Bo="#6cc349",Wo="#3c8527",Uo="#1d4d13",zo="#ffffff",jo="#000000",Ho="#d0d1d4",Go="#b1b2b5",Vo="#8c8d90",$o="#58585a",Xo="#48494a",Ko="#313233",Yo="#242425",qo="#1e1e1f",Qo="#ad1d1d",Jo="#ffe866",Zo="rgba(0, 0, 0, 0.1)",ec="rgba(0, 0, 0, 0.25)",tc="rgba(0, 0, 0, 0.3)",ac="rgba(0, 0, 0, 0.4)",nc="rgba(0, 0, 0, 0.8)",rc="rgba(255, 255, 255, 0.1)",lc="rgba(255, 255, 255, 0.2)",oc="rgba(255, 255, 255, 0.4)",cc="rgba(255, 255, 255, 0.6)",ic="#FB95E2",sc="#AC90F3",uc="#4A1CAC",dc="rgba(5, 0, 41, 0.5)";function mc({children:e}){return r.createElement(Ao,{value:{theme:"vanilla",onSetTheme:()=>{}}},e)}let pc;function fc({guiScale:e,onGuiScaleApplied:t,accessibleGuiScale:a=!1,children:n}){const[o,c]=(0,l.useFacetState)(10),i=(0,l.useFacetWrap)(a);return(0,l.useFacetEffect)((e=>{c(2.5*e)}),[c],[e]),(0,l.useFacetEffect)(((e,a)=>{const n=document.getElementsByTagName("html")[0],r=document.body;n.style.fontSize=`${a}px`,r.style.setProperty("--baseFontSize",`${a}px`);const l=gc(e);r.style.setProperty("--base2Scale",`${l}px`),r.style.setProperty("--base2ScaleNeg",`-${l}px`);const o=Ec(e);r.style.setProperty("--base1Scale",`${o}px`),r.style.setProperty("--base1ScaleNeg",`-${o}px`),t()}),[t],[e,o]),r.createElement(hc.Provider,{value:e},r.createElement(bc.Provider,{value:o},r.createElement(vc.Provider,{value:i},n)))}!function(e){e[e.SCALING_25=1]="SCALING_25",e[e.SCALING_50=2]="SCALING_50",e[e.SCALING_75=3]="SCALING_75",e[e.SCALING_100=4]="SCALING_100",e[e.SCALING_125=5]="SCALING_125",e[e.SCALING_150=6]="SCALING_150",e[e.SCALING_175=7]="SCALING_175",e[e.SCALING_200=8]="SCALING_200"}(pc||(pc={}));const gc=e=>Math.max(Math.round(e/4*2),1),Ec=e=>Math.max(Math.round(e/4),1),bc=(0,r.createContext)((0,l.createFacet)({initialValue:10})),hc=(0,r.createContext)((0,l.createFacet)({initialValue:4})),vc=(0,r.createContext)((0,l.createFacet)({initialValue:!1})),Fc=e=>{const t=(0,l.useFacetUnwrap)((0,r.useContext)(bc));return e*(t===l.NO_VALUE?10:t)},yc=e=>(0,l.useFacetMap)(((e,t)=>e*t),[],[(0,l.useFacetWrap)(e),(0,r.useContext)(bc)]),Sc=(e=70,t=128)=>{const a=Fc(e),n=Fc(t),l=(0,r.useCallback)((()=>{const e=window.innerWidth;return e<a?"narrow":e<n?"tablet":"desktop"}),[a,n]),[o,c]=(0,r.useState)(l());return(0,r.useEffect)((()=>{const e=()=>c(l());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[l]),o},Cc=(e=99.9)=>{const t=Fc(e),a=(0,r.useCallback)((()=>window.innerWidth<=t),[t]),[n,l]=(0,r.useState)(a());return(0,r.useEffect)((()=>{const e=()=>l(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a]),n},Mc=(e=99.9)=>{const t=yc(e),a=(0,l.useFacetCallback)((e=>()=>window.innerWidth<=e),[],[t],!1),[n,o]=(0,l.useFacetState)(a());return(0,r.useEffect)((()=>{const e=()=>o(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a,o]),n},wc="unmounted",kc="exited",Pc="entering",Tc="entered",Ic="exiting",xc=(0,l.createFacetContext)(wc),Oc=(0,l.createStaticFacet)(!1);function Ac({visible:e=Oc,alwaysMounted:t,inverse:a=Oc,appear:n,unmountOnExit:o=Oc,children:c,onStatusChange:i}){const s=(0,l.useFacetWrap)(e),u=(0,l.useFacetWrap)(a),d=(0,l.useFacetWrap)(!t&&o),[m,p]=(0,l.useFacetState)(l.NO_VALUE),f=(0,l.useFacetCallback)(((e,a)=>r=>{p((o=>{if(r){const[t]=o===l.NO_VALUE?[n?kc:Tc,e]:o;return t===Tc?[Tc,e]:[Pc,e]}{const[n]=o===l.NO_VALUE?[t?kc:wc,e]:o;return n===kc?[a?wc:kc,e]:n===wc?[wc,e]:[Ic,e]}}))}),[p,n,t],[u,d]);(0,l.useFacetEffect)((e=>{f(e)}),[f],[s]),(0,l.useFacetEffect)((e=>{null==i||i(e[0])}),[i],[m]);const g=(0,l.useFacetMap)((e=>e[0]),[],[m]),E=(0,l.useFacetCallback)(((e,t)=>()=>{t===Pc&&p((e=>e===l.NO_VALUE?l.NO_VALUE:[Tc,e[1]])),t===Ic&&p((t=>t===l.NO_VALUE?l.NO_VALUE:[e?wc:kc,t[1]])),t===kc&&e&&p((e=>e===l.NO_VALUE?l.NO_VALUE:[wc,e[1]]))}),[p],[d,g]);return r.createElement(xc.Provider,{value:g},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e!==wc),[],[g])},c(m,E)))}const Nc=new Map,Rc=new Map;let Lc,Dc=null;const _c=e=>{const[t,a]=(0,l.useFacetState)(l.NO_VALUE);return Bc(e,a),t},Bc=(e,t,a=(0,l.createStaticFacet)(!1))=>{const n=(0,l.useFacetMap)((e=>e==Pc),[],[(0,r.useContext)(xc)]),o=(0,l.useFacetWrap)(a);return(0,l.useFacetEffect)(((a,n)=>{if(n)return;if(a)return;const r=e.current;return null!=r?Uc(r,t):void 0}),[e,t],[o,n]),null!=e.current&&Rc.has(e.current)?Rc.get(e.current):null};function Wc(e,t){Rc.set(e,t);const a=Nc.get(e);if(a&&!zc(t))for(let e=0;e<a.length;e++){var n;null===(n=a[e])||void 0===n||n.call(a,t)}}const Uc=(e,t)=>{null==Dc&&(Dc=new ResizeObserver((e=>{null!=Dc&&(cancelAnimationFrame(Lc),Lc=requestAnimationFrame((()=>{for(let t=0;t<e.length;t++){const a=e[t];Wc(a.target,a.contentRect)}})))})));const a=Nc.get(e)||[];let n;return a.includes(t)||a.push(t),Nc.set(e,a),1===a.length&&(Dc.observe(e),n=requestAnimationFrame((()=>{Wc(e,e.getBoundingClientRect())}))),()=>{var a;cancelAnimationFrame(n);const r=(null===(a=Nc.get(e))||void 0===a?void 0:a.filter((e=>e!==t)))||[];var l,o;Nc.set(e,r),0===r.length&&(null===(l=Dc)||void 0===l||l.unobserve(e),Nc.delete(e),Rc.delete(e)),0===Nc.size&&(null===(o=Dc)||void 0===o||o.disconnect(),Dc=null,cancelAnimationFrame(Lc))}},zc=e=>0===e.width&&0===e.height&&0===e.top&&0===e.left&&0===e.right&&0===e.bottom&&0===e.x&&0===e.y;let jc=0;const Hc=(0,r.createContext)(-1),Gc=(0,l.createStaticFacet)(0),Vc=(0,l.createStaticFacet)(!1),$c=({margin:e=Gc,offset:t=Gc,maxWidth:a=Gc,children:n,TooltipComponent:o})=>{const c=(0,r.useMemo)((()=>jc++),[]),i=(0,r.useContext)(Xc);return(0,l.useFacetEffect)(((e,t,a)=>(i.updateComponentDefinition(c,{margin:e,offset:t,maxWidth:a,TooltipComponent:o}),()=>{i.removeComponentDefinition(c)})),[c,o,i],[e,t,a]),r.createElement(Hc.Provider,{value:c},n)},Xc=(0,r.createContext)({updateComponentDefinition:()=>{},removeComponentDefinition:()=>{},update:()=>{},remove:()=>{}}),Kc=({targetRef:e,visible:t,priority:a=Vc,text:n})=>{const o=(0,r.useMemo)((()=>jc++),[]),c=(0,r.useContext)(Hc),i=(0,r.useContext)(Xc);return(0,l.useFacetEffect)(((t,a,n)=>{const r=e.current;if(t&&null!=n&&""!=n&&r)return i.update(o,{text:n,priority:a,targetElement:r,componentId:c}),()=>{i.remove(o)}}),[e,i,o,c],[t,(0,l.useFacetWrap)(a),(0,l.useFacetWrap)(n)]),null},Yc=({children:e})=>{const t=(0,r.useMemo)((()=>new Map),[]),a=(0,r.useMemo)((()=>new Map),[]),[n,o]=(0,l.useFacetState)(null),[c,i]=(0,l.useFacetState)(""),[s,u]=(0,l.useFacetState)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useMemo)((()=>{let e,n;const r=(t,r)=>{var l;a.has(r.componentId)&&(u(r.componentId),(e=>{clearTimeout(n),n=setTimeout((()=>o(e)),400)})(t),l=r.text,clearTimeout(e),e=setTimeout((()=>i(l)),200))};return()=>{for(const[e,a]of t.entries())if(a.priority)return void r(e,a);const a=t.entries().next().value;if(null==a)o(null),clearTimeout(n),clearTimeout(e);else{const[e,t]=a;r(e,t)}}}),[a,u,o,i,t]),f=(0,r.useMemo)((()=>({updateComponentDefinition(e,t){a.set(e,t),1===a.size&&u(e)},removeComponentDefinition(e){a.delete(e)},update:(e,a)=>{t.set(e,a),p()},remove:e=>{t.delete(e),p()}})),[a,u,t,p]);(0,l.useFacetEffect)((e=>{if(null==e)return;const n=t.get(e);if(null==n)return;const r=n.targetElement;if(null==r)return;const l=d.current,o=m.current;if(null==l||null==o)return;const c=a.get(n.componentId);if(null==c)return;let i;{const e=()=>{((e,t,a,n,r,l)=>{const o=e.getBoundingClientRect(),c=a.getBoundingClientRect(),i=Math.min(window.innerWidth-o.width-n,Math.max(n,c.x-o.width/2+c.width/2)),s=c.y-o.height-r,u=c.y+c.height+r,d=s>n?s:u;t.maxWidthPX=(l>0?l:window.innerWidth)-2*n,t.topPX=Math.round(d),t.leftPX=Math.round(i)})(l,o,r,c.margin,c.offset,c.maxWidth),i=requestAnimationFrame(e)};e(),o.opacity="1"}return()=>{o.opacity="0",cancelAnimationFrame(i),clearTimeout(void 0)}}),[a,t,d],[n]);const g=(0,r.useCallback)((e=>{null!=e&&(d.current=e,m.current=e.style,m.current.zIndex="10",m.current.opacity="0",m.current.position="absolute",p())}),[p]);return r.createElement(Xc.Provider,{value:f},e,r.createElement(l.Unwrap,{data:(0,l.useFacetMemo)((e=>{if(null==e)return l.NO_VALUE;const t=a.get(e);return null==t?l.NO_VALUE:t.TooltipComponent}),[a],[s])},(e=>r.createElement(e,{innerRef:g,text:c}))))},qc="Noto Sans",Qc="Noto Sans JP",Jc="Noto Sans TC",Zc="Noto Sans SC",ei="Noto Sans KR",ti="Noto Sans AR",ai=["Noto Sans Mongolian","Noto Sans Syriac","Noto Sans TamilSupplement"];var ni=a(91296),ri=a.n(ni);let li;!function(e){e[e.VISUAL=0]="VISUAL",e[e.GRID=1]="GRID"}(li||(li={}));const oi=(0,l.createFacetContext)(li.VISUAL),ci=oi,ii=oi.Provider;function si(e,t,a,n){const o=(0,r.useContext)(De),c=(0,r.useMemo)((()=>o.current.generateId()),[o]);null!=n&&(n.current=c);const i=(0,l.useFacetWrap)(e),s=Pe(),u=(0,r.useContext)(we),[d,m]=(0,l.useFacetState)(!1),p=(0,r.useCallback)(((e=_.Unknown)=>{s(c,!1,e)}),[s,c]);(0,l.useFacetEffect)((e=>{const n=t=>{e.onFocusChanged&&e.onFocusChanged(t),m(t)},r={type:$.ITEM,id:c,alias:e.alias,key:e.key,ref:a.current,disabled:e.disabled||!1,hidden:e.hidden||!1,scrollSpeedFactor:e.scrollIntoViewSpeedFactor,scrollAlign:e.scrollIntoViewAlign,scrollOffset:e.scrollIntoViewOffset,onFocus:()=>{n(!0)},onBlur:()=>{n(!1)},onRight:e.onRight,onLeft:e.onLeft,onUp:e.onUp,onDown:e.onDown};o.current.putNode(r,u[u.length-1]),o.current.putShortcut(c,j.A,{callback:t,inputLegend:e.inputLegend}),m(o.current.isFocused(c,e.alias))}),[m,o,u,c,t,a],[i]),(0,r.useEffect)((()=>{const e=o.current;return()=>e.removeNode(c)}),[o,c]);const f=(0,r.useMemo)((()=>ri()((()=>{null!=o.current.getClosestGrid(c)&&null!=o.current.getElement(c)&&o.current.updateGridNodeDimensions(c)}),500,{trailing:!0,leading:!1})),[o,c]),g=(0,r.useContext)(ci),E=(0,l.useFacetMap)((e=>e===li.VISUAL),[],[g]);return Bc(a,f,E),(0,r.useLayoutEffect)((()=>{const e=a.current;if(null==e)return;const t=()=>{s(c)};return e.addEventListener("focusin",t),()=>{e.removeEventListener("focusin",t)}}),[a,c,o,s]),{isFocused:d,onFocus:p}}const ui=(0,r.createContext)(null),di=()=>(0,r.useContext)(ui),mi=(ui.Provider,"f82ea65ad661a51782ff"),pi="a7239f57cb2b7e0f5da7";function fi(){let e,t="",a=0;for(;a<arguments.length;)(e=arguments[a++])&&"string"==typeof e&&(t&&(t+=" "),t+=e);return t}const gi=({interactivePrimitiveRef:e,tooltip:t,isFocusedFacet:a,isHoveredFacet:n,isPressedFacet:o,isLastInputKeyboard:c,isLastInputGamepad:i,isLastInputTouch:s})=>{const u=(0,l.useFacetMemo)(((e,t,a,n,r,l)=>n||r?e:l?a:t),[],[a,n,o,c,i,s]);return r.createElement(Kc,{targetRef:e,text:t,visible:u})};let Ei;!function(e){e.NORMAL="normal",e.DRAGGING="dragging"}(Ei||(Ei={}));const bi=r.createContext({pointerState:(0,l.createStaticFacet)(Ei.NORMAL),setPointerState:()=>{}});function hi({children:e}){const[t,a]=(0,l.useFacetState)(Ei.NORMAL),n=(0,r.useMemo)((()=>({pointerState:t,setPointerState:a})),[t,a]);return r.createElement(bi.Provider,{value:n},e)}function vi(){const e=r.useContext(bi),{pointerState:t}=e;return t}const Fi=(0,r.createContext)((()=>{console.log("HapticsProvider has not been setup.")})),yi=Fi.Provider,Si=(0,r.createContext)({current:!1}),Ci=()=>(0,r.useContext)(Si);function Mi({interactivePrimitiveRef:e,onLongPressStart:t,onLongPressMove:a,onLongPressEnd:n}){const o=(0,r.useContext)(Fi),c=Ci(),i=it(),s=(0,l.useFacetRef)(yc(2.2));return(0,l.useFacetEffect)((r=>{if(!r)return;const l=e.current;if(null==l)return;let i,u,d;const m=e=>{i=setTimeout((()=>{let e=!1;t({cancel:()=>{e=!0}}),e||(c.current=!0,o(20))}),500),u=e.touches[0].clientX,d=e.touches[0].clientY},p=e=>{const t=e.touches[0].clientX,n=e.touches[0].clientY,r=s.current,l=t-u,o=n-d;!c.current&&(Math.abs(l)>r||Math.abs(o)>r)&&clearTimeout(i),c.current&&a({deltaX:l,deltaY:o})},f=()=>{c.current?(c.current=!1,n()):clearTimeout(i)};return l.addEventListener("touchstart",m),l.addEventListener("touchmove",p),l.addEventListener("touchend",f),()=>{f(),l.removeEventListener("touchstart",m),l.removeEventListener("touchmove",p),l.removeEventListener("touchend",f)}}),[n,a,t,e,s,o,c],[i]),null}const wi=(0,r.createContext)("root"),ki=wi.Provider,Pi=()=>{const e=(0,r.useRef)(),t=(0,r.useContext)(wi),{readById:a,narrationTree:n}=(0,r.useContext)(Zl);return{narrateCurrentContext:(0,r.useCallback)(((r,l=!0,o,c)=>{Object.keys(n).length>0&&(e.current=setTimeout((()=>{a(t,r||void 0,l,o,c)}),200))}),[a,n,t]),preventNarrateCurrentContext:(0,r.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[])}},Ti=()=>{const e=(0,r.useRef)(),{readById:t}=(0,r.useContext)(Zl);return{narrateById:(0,r.useCallback)(((a,n=!0,r,l,o)=>{e.current=setTimeout((()=>{t(a,r,n,l,o)}),200)}),[t]),preventNarrateById:(0,r.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[])}},Ii=(0,r.createContext)(!0),xi=Ii.Provider,Oi=(e,t)=>{const a=(0,r.useContext)(wi),n=(0,r.useContext)(Zl),o=(0,r.useMemo)((()=>n.generateId()),[n]),c=(0,r.useContext)(Ii),i=(0,r.useMemo)((()=>({parentNarrationId:a})),[a]),{narrateById:s,preventNarrateById:u}=Ti(),d=(0,r.useMemo)((()=>{const t=e=>{const t=i.text;i.text=e,c&&null!=t&&t!==e&&n.previousAncestryRef.current.includes(o)&&s(o)};if((0,l.isFacet)(e))return e.observe(t);"string"==typeof e?t(e):i.getText=e}),[e,i,s,o,n,c]);return i.getSuffix=t,n.narrationTree[o]=i,(0,r.useEffect)((()=>(n.narrationTree[o]=i,()=>{delete n.narrationTree[o],null==d||d(),u()})),[d,u,i,n,o]),o},Ai=(0,r.createContext)((0,l.createStaticFacet)({keyboard:{},gamepad:{}})),Ni=Y.map((e=>`${e}`)),Ri=e=>{const{interactivePrimitiveRef:t}=e,a=(0,l.useFacetWrap)(e.disabled),n=(0,l.useFacetWrap)("narrationText"in e?e.narrationText:""),o=ut(),c=(0,l.useFacetRef)(o),i=ze(),s=(0,l.useFacetRef)(i),u=(0,r.useContext)(Ai),d=(0,l.useFacetRef)(u),m=(0,r.useContext)(tt),p=(0,l.useFacetRef)(m),{narrateCurrentContext:f,preventNarrateCurrentContext:g}=Pi(),{narrateById:E,preventNarrateById:b}=Ti(),[h]=ye(),v=(0,l.useFacetRef)(h),F="getNarrationText"in e?e.getNarrationText:void 0,y=(0,r.useCallback)((()=>{const e=s.current,t=d.current,a=p.current,n=v.current;if(e===l.NO_VALUE||t===l.NO_VALUE||a===l.NO_VALUE||n===l.NO_VALUE)return"";let r="";return Li(e,((e,l)=>{var o;if(-1!==Ni.indexOf(e))return;if(null==l)return;const i=n[e],s=!0===c.current?t.keyboard[i[0]]:null===(o=t.gamepad[e])||void 0===o?void 0:o[a];null!=s&&(r+=`${s}: ${l} . `)})),r}),[s,d,p,v,c]),S=(0,l.useFacetMap)((e=>"string"==typeof e?e:""),[],[n]),C=Oi(null!=F?F:S,y),M=(0,l.useFacetMap)((e=>!1===e),[],[n]),w=(0,l.useFacetCallback)((e=>()=>{e?f():E(C)}),[f,E,C],[M]),k=(0,l.useFacetCallback)((e=>()=>{e||(g(),b())}),[g,b],[a]);return(0,r.useEffect)((()=>{const e=t.current;if(null!=e)return e.addEventListener("mouseleave",k),()=>{e.removeEventListener("mouseleave",k)}})),(0,l.useFacetEffect)((e=>{!0===e?w():(g(),b())}),[w,f,b,g],[e.isFocusedFacet]),null},Li=(e,t)=>{for(const a in e)t(a,e[a])};function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Di.apply(null,arguments)}const _i=(0,r.createContext)((function(){})),Bi=150;function Wi(e){const{onFocusChanged:t,onGamepadOrKeyboardSelect:a,onHoverChanged:n,onClick:o,onClickSecondary:c,onDoubleClick:i,onPressChanged:s,onMouseDown:u,onLongPressStart:d,onLongPressMove:m,onLongPressEnd:p,onUp:f,onDown:g,onLeft:E,onRight:b,touchDetectionDelay:h=Bi,focusRefOverride:v,nodeIdRef:F}=e,y=vi(),S=(0,l.useFacetWrap)(e.className),C=(0,l.useFacetWrap)(e["data-testid"]),M=(0,l.useFacetWrap)(e.classNameFocused),w=(0,l.useFacetWrap)(e.classNameHovered),k=(0,l.useFacetWrap)(e.classNamePressed),P=(0,l.useFacetWrap)(e.classNameDisabled),T=(0,l.useFacetWrap)(e.delayedClick),I=(0,l.useFacetWrap)(e.disabled),x=(0,l.useFacetWrap)(e.nonFocusable),O=(0,l.useFacetWrap)(e.hidden),A=(0,l.useFacetWrap)(e.disableScrollIntoView),N=(0,l.useFacetWrap)(e.gamepadAlias),R=(0,l.useFacetWrap)(e.focusGridIndex),L=(0,l.useFacetWrap)(e.inputLegend),D=(0,l.useFacetWrap)(e.pressDuration),B=(0,l.useFacetWrap)(e.soundEffectFocused),W=(0,l.useFacetWrap)(e.soundEffectHovered),U=(0,l.useFacetWrap)(e.soundEffectPressed),z=ct(),j=it(),H=st(),G=ut(),V=(0,r.useRef)(null),$=e.innerRef||V,X=(0,r.useRef)({x:0,y:0}),K=di(),Y=(()=>{const e=(0,r.useRef)([]),t=(0,r.useCallback)((()=>{e.current.forEach(clearTimeout),e.current=[]}),[e]),a=(0,r.useCallback)((a=>{t();let n=0;a.forEach((t=>{"number"==typeof t?n+=t:0===n?t():e.current.push(setTimeout((()=>t()),n))}))}),[t]);return(0,r.useEffect)((()=>t),[t]),a})(),q=An(),[Q,J]=(0,l.useFacetState)(!1),[Z,ee]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>{e||J(!1)}),[J],[z]);const te=(0,l.useFacetCallback)((e=>()=>{J(!1),ee(!1),e||null==n||n(!1)}),[J,ee,n],[I]),ae=(0,l.useFacetCallback)(((e,t)=>(a,n)=>{t||(!n&&u&&u(a),a&&null!=a.button&&a.button>0||(ee(!0),null!=e&&q(e),null==s||s(!0)))}),[u,ee,s,q],[U,I]),ne=(0,l.useFacetCallback)((e=>(t,a)=>{e&&ae(t,a)}),[ae],[z]),re=(0,l.useFacetCallback)((e=>t=>{ee(!1),e||(null!=t&&t.button===fe.Right&&c&&c(),t&&t.button>0||null==s||s(!1,t))}),[ee,c,s],[I]),le=(0,l.useFacetCallback)((e=>t=>{e&&re(t)}),[re],[z,I]),oe=(0,l.useFacetCallback)((e=>t=>{if(t.stopPropagation(),!(e||null==o||t.button>0))return o(t)}),[o],[I]),ce=(0,l.useFacetCallback)(((e,t)=>a=>{e&&!t&&(X.current.x=a.touches[0].clientX,X.current.y=a.touches[0].clientY,Y([h,()=>ae({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY})]),null==s||s(!0))}),[h,Y,ae,s],[j,I]),ie=(0,l.useFacetCallback)(((e,t)=>a=>{e&&!t&&(Math.abs(X.current.x-a.touches[0].clientX)>3||Math.abs(X.current.y-a.touches[0].clientY)>3)&&Y([re])}),[Y,re],[j,I]),se=(0,l.useFacetCallback)(((e,t)=>()=>{e&&!t&&(Y([re]),null==s||s(!1))}),[Y,re,s],[j,I]),ue=(0,r.useRef)(0),de=(0,r.useCallback)((()=>{const e=Date.now()-ue.current<500&&ue.current>0;return ue.current=Date.now(),e}),[]),me=(0,l.useFacetCallback)(((e,t,a)=>n=>{if(a||null==o&&null==i)return;n.stopPropagation();const r=[ae];null!=o&&(t?r.push(null!=e?e:150,re,o):r.push(o,re)),null!=i&&de()&&(n.preventDefault(),r.push(i)),Y(r)}),[o,i,ae,de,Y,re],[D,T,I]),pe=(0,l.useFacetCallback)(((e,t,n)=>()=>{if(n||null==o&&null==i)return;const r=a||o,l=[()=>ae(void 0,!0)],c=[];null!=r&&c.push(r),null!=i&&de()&&c.push(i),t?l.push(null!=e?e:150,re,...c):l.push(...c,null!=e?e:150,re),Y(l)}),[o,i,a,de,Y,ae,re],[D,T,I]),ge=(0,r.useRef)(),Ee=null!=F?F:ge,{isFocused:be,onFocus:he}=si((0,l.useFacetMap)(((e,a,n,r,l,o,c)=>({focusGridIndex:null!=e?e:0,alias:a,inputLegend:!1===n||""===n?void 0:n,disabled:r,hidden:l||o,disableScrollIntoView:c,onFocusChanged:t,onUp:f,onDown:g,onLeft:E,onRight:b})),[t,f,g,E,b],[R,N,L,I,O,x,A]),pe,null!=(null==v?void 0:v.current)?v:$,Ee);!function(e){const t=(0,r.useContext)(_i);(0,l.useFacetEffect)((e=>{if(e)return t()}),[t],[e])}((0,l.useFacetMap)(((e,t)=>!0!==e&&!0!==t),[],[I,O]));const ve=Ci(),Fe=(0,l.useFacetCallback)(((e,t,a,r,l,o,c,i,s,u)=>()=>{(e||t)&&(o||s||c&&i||u===Ei.DRAGGING||(i||(J(!0),null==l||c||q(l),null==n||n(!0)),c||a||r||ve.current||he(_.PointerInput)))}),[ve,he,J,n,q],[z,j,G,H,W,I,be,Q,O,y]),ye=(0,l.useFacetCallback)(((e,t)=>a=>!0===e?oe(a):!0===t?me(a):void 0),[oe,me],[z,j]),Se=(0,l.useFacetMap)(((e,t)=>{if(!0===e)return t}),[],[be,B]);(0,l.useFacetEffect)((e=>{null!=e&&q(e)}),[q],[Se]);const Ce=(0,l.useFacetMap)(((e,t,a,n,r,l,c,i,s,u,d)=>{const m=K?K.hovered:c,p=null!=o&&(K?"pressed"===K.pressState:i),f=s&&(u||d),g=null==e||""===e?"":` ${e}`,E=m?` ${Cr.hovered}${null!=t?` ${t}`:""}`:"",b=p?` ${Cr.pressed}${null!=a?` ${a}`:""}`:"",h=(f||null!=K&&K.focused)&&null!=n?` ${Cr.focused}${null!=n?` ${n}`:""}`:"",v=!0===l?" a7239f57cb2b7e0f5da7"+(Cr.disabled!==pi?" "+Cr.disabled:""):"";return`${mi}${g}${E}${b}${h}${v}${!0===l&&null!=r&&r!=pi?` ${r}`:""}`}),[K,o],[S,w,k,M,P,I,Q,Z,be,G,H]),Me=(0,l.useFacetCallback)(((e,t)=>a=>{if(a.stopPropagation(),t&&!e&&null!=i&&!(null!=a.button&&a.button>0))return i(a)}),[i],[I,z]);(0,r.useEffect)((()=>{const e=$.current;return null==e||e.addEventListener("dblclick",Me),()=>null==e?void 0:e.removeEventListener("dblclick",Me)}),[$,Me]);const we=null!=e.tooltip?r.createElement(gi,{interactivePrimitiveRef:$,tooltip:e.tooltip,isFocusedFacet:be,isHoveredFacet:Q,isPressedFacet:Z,isLastInputKeyboard:G,isLastInputGamepad:H,isLastInputTouch:j}):null,ke=null==d||null==m||null==p?null:r.createElement(Mi,{onLongPressStart:d,onLongPressMove:m,onLongPressEnd:p,interactivePrimitiveRef:$}),Pe=Ln()?r.createElement(Ri,{narrationText:"narrationText"in e?e.narrationText:"",getNarrationText:"getNarrationText"in e?e.getNarrationText:void 0,hiddenFacet:O,disabled:I,isFocusedFacet:be,isHoveredFacet:Q,interactivePrimitiveRef:$}):null;return"span"===e.tag?r.createElement("fast-span",{ref:$,className:Ce,style:e.style,"data-testid":C,onClick:ye,onTouchStart:ce,onTouchMove:ie,onTouchEnd:se,onMouseDown:ne,onMouseUp:le,onMouseMove:Fe,onMouseLeave:te},Pe,ke,we,e.children):r.createElement("fast-div",{ref:$,className:Ce,style:e.style,"data-testid":C,onClick:ye,onTouchStart:ce,onTouchMove:ie,onTouchEnd:se,onMouseDown:ne,onMouseUp:le,onMouseMove:Fe,onMouseLeave:te},Pe,ke,we,e.children)}Y.map((e=>`${e}`));const Ui=e=>{let{isInteractive:t,children:a,onClick:n,inputLegend:o,innerRef:c,className:i,classNameDisabled:s,disabled:u,style:d}=e,m=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["isInteractive","children","onClick","inputLegend","innerRef","className","classNameDisabled","disabled","style"]);const p=(0,l.useFacetWrap)(u),f=(0,l.useFacetWrap)(i),g=(0,l.useFacetWrap)(s),E=(0,l.isFacet)(a)?r.createElement("fast-text",{text:a}):r.createElement(r.Fragment,null,a),b=(0,l.useFacetMap)(((e,t,a)=>fi(e,!0===t&&Cr.disabled!==pi?Cr.disabled:"",!0===t&&a!==pi?a:"",!0===t?pi:"")),[],[f,p,g]);return!0===(0,l.useFacetUnwrap)(t)?r.createElement(Wi,Di({onClick:n,inputLegend:null!=o&&o,innerRef:c,className:f,classNameDisabled:g,disabled:p},m),E):r.createElement("fast-div",{ref:c,className:b,style:d},E)};Wi.displayName="InteractivePrimitive",Wi.Maybe=Ui,Wi.HapticsProvider=yi,Wi.LongPressSupportProvider=({children:e})=>{const t=(0,r.useRef)(!1);return r.createElement(Si.Provider,{value:t},e)};const zi="e41d8159223d4eea19af",ji=({children:e,innerRef:t,className:a})=>r.createElement("fast-div",{ref:t,className:dl()(zi,"",a)},r.createElement("fast-text",{text:(0,l.useFacetWrap)(e)}));ji.WithTooltip=({children:e,innerRef:t,className:a})=>{const n=(0,r.useRef)(null),[o,c]=(0,l.useFacetState)(!1),i=(0,r.useRef)(null),s=t||i,u=(0,l.useFacetWrap)(e);return(0,r.useEffect)((()=>{const e=s.current,t=n.current,a=()=>{if(e&&t){const a=t.offsetWidth>e.offsetWidth;c(a)}};let r;const l=()=>{r&&cancelAnimationFrame(r),r=requestAnimationFrame((()=>{r=requestAnimationFrame(a)}))};return l(),null==e||e.addEventListener("resize",l),()=>{null==e||e.removeEventListener("resize",l),r&&cancelAnimationFrame(r)}}),[c,s]),r.createElement(r.Fragment,null,r.createElement(Wi,{innerRef:s,className:dl()(zi,"",a),inputLegend:!1,narrationText:e,disabled:(0,l.useFacetMap)((e=>!e),[],[o]),tooltip:(0,l.useFacetMap)(((e,t)=>e?t:void 0),[],[o,u])},r.createElement("fast-text",{text:u})),r.createElement(ji,{innerRef:n,className:dl()("c57cdaa2a51573c7dae9",a)},e))};const Hi={center:"a1a125f3b6ff4c4d736c",right:"c4a1e90396397a78757e",left:"b535741189680a9a94a6",verticalCenter:"ce044945e76fc9fcdb40",Typography:"c11f18516a133c0590ea",header1:"edb8f38e17182815ae41",header2:"ec434039e129005e6803",header3:"f1af6eebb71e0d9a8a73",header4A:"a138948daea77e0646d6",header4B:"eb822ef5dd3bad563f3b",header5A:"bb757715d5fe9b10e439",header5B:"d6e62706875e51a9fa20",sectionHeader:"e7a4b308889c682b9fc5",subtitle1:"f23c994f3927c4295a37",subtitle2:"b6dff8612117d5806177",body:"bcd956e248e044dfd9a3",paragraphs:"ab01850891350dd43fc1",accessibleGuiScale:"e0b2d80b156fa5b83268",captionTiny:"dc7e3221280328dadee9",captionShort:"fc77bf1310dc483c1eba",captionLong:"ca10912c2f0c2597320b",editorCaption:"c9c7a63979e94267547a",editorHeader:"f610c41e63d117cbdf23",primaryButton:"aadfd1b152d5fc2dcd89",secondaryButton:"bd670b871808c3e54a54",destructiveButton:"f52f54fc2a093e859865",shadow:"b9797457116d476d894a",fontWeightNormal:"c38a1215cae33f907c58",fontWeightBold:"f8379bb59b31ea63f708",fontWeightBolder:"c2634180cba5423b362f",fontWeightLighter:"b8dd6192d47ecf6d94a3",fontWeightInitial:"eea2ad7d9fe9305d46b3",fontWeightInherit:"b8dde57e1512d8f12ca0",whiteSpaceNormal:"b6c7ee566349f80ce04e",whiteSpaceNoWrap:"e20e3eff879b3857d589",whiteSpacePre:"c1b6646be3d25f9ac403",whiteSpacePreWrap:"fc55afcc69924c83777b",breakWord:"d20c8ad068fc66f542b3",indent:"dc5eb0592f4e25470dad",listItemContainer:"d7726638046ace1384df",ellipsis:"b8d213f86067230ef76a"},Gi={size1:"a17dba60872574056173",size2:"d9ad4620f18da1de508b",size3:"b1a10fdc7747f617af6c",size4:"b4b5f22ad1474c9e663b",size5:"b734f0c17226c57415cc",size6:"f532c4aed48e2f5b9d2f",size7:"d2594d2f138e34342801",size8:"a4c2481588c45a5d8307"};function Vi({size:e}){return r.createElement("div",{className:Gi[`size${e}`]})}let $i;Vi.displayName="Spacing",Vi.Facet=function({size:e}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>Gi[`size${e}`]),[],[e])})},function(e){e[e.REGULAR=0]="REGULAR",e[e.OBFUSCATED=1]="OBFUSCATED"}($i||($i={})),$i.OBFUSCATED;const Xi={"0":{foreground:"#000000",background:"#000000"},"1":{foreground:"#0000AA",background:"#00002A"},"2":{foreground:"#00AA00",background:"#002A00"},"3":{foreground:"#00AAAA",background:"#002A2A"},"4":{foreground:"#AA0000",background:"#2A0000"},"5":{foreground:"#AA00AA",background:"#2A002A"},"6":{foreground:"#FFAA00",background:"#402A00"},"7":{foreground:"#AAAAAA",background:"#2A2A2A"},"8":{foreground:"#555555",background:"#151515"},"9":{foreground:"#5555FF",background:"#15153F"},"a":{foreground:"#55FF55",background:"#153F15"},"b":{foreground:"#55FFFF",background:"#153F3F"},"c":{foreground:"#FF5555",background:"#3F1515"},"d":{foreground:"#FF55FF",background:"#3F153F"},"e":{foreground:"#FFFF55",background:"#3F3F15"},"f":{foreground:"#FFFFFF",background:"#3F3F3F"},"g":{foreground:"#DDD605",background:"#373501"},"h":{foreground:"#E3D4D1",background:"#383534"},"i":{foreground:"#CECACA",background:"#333232"},"j":{foreground:"#443A3B",background:"#110E0E"},"m":{foreground:"#971607",background:"#250501"},"n":{foreground:"#B4684D",background:"#2D1A13"},"p":{foreground:"#DEB12D",background:"#372C0B"},"q":{foreground:"#47A036",background:"#04280D"},"s":{foreground:"#2CBAA8",background:"#0B2E2A"},"t":{foreground:"#21497B",background:"#08121E"},"u":{foreground:"#9A5CC6",background:"#261731"}},Ki=new RegExp("(l)|(o)","g");function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Yi.apply(null,arguments)}let qi;!function(e){e[e.Normal=0]="Normal",e[e.Bold=1]="Bold",e[e.Bolder=2]="Bolder",e[e.Lighter=3]="Lighter",e[e.Initial=4]="Initial",e[e.Inherit=5]="Inherit"}(qi||(qi={}));const Qi={[qi.Normal]:Hi.fontWeightNormal,[qi.Bold]:Hi.fontWeightBold,[qi.Bolder]:Hi.fontWeightBolder,[qi.Lighter]:Hi.fontWeightLighter,[qi.Initial]:Hi.fontWeightInitial,[qi.Inherit]:Hi.fontWeightInherit},Ji={normal:Hi.whiteSpaceNormal,nowrap:Hi.whiteSpaceNoWrap,pre:Hi.whiteSpacePre,preWrap:Hi.whiteSpacePreWrap};function Zi({children:e,role:t="inherit",interactive:a,disableable:n,variant:o,align:c,verticalAlign:i="top",type:s,shadow:u,tag:d,fontWeight:m,shouldNarrate:p,whiteSpace:f,className:g,innerRef:E,overflowWrap:b,indent:h,overflowEllipsis:v,"data-narrate-after":F}){const y=(0,l.useFacetWrap)(c),S=(0,l.useFacetWrap)(u),C=(0,l.useFacetWrap)(s),M=(0,l.useFacetWrap)(i),w=(0,l.useFacetWrap)(m),k=(0,l.useFacetWrap)(f),P=(0,l.useFacetWrap)(g),T=(0,l.useFacetWrap)(t),I=(0,l.useFacetWrap)(o),x=(0,l.useFacetWrap)(a),O=(0,l.useFacetWrap)(n),A=(0,l.useFacetWrap)(b),N=(0,l.useFacetWrap)(h),R=(0,l.useFacetWrap)(v),L=(0,l.useFacetMap)(((e,t)=>{if(!0===e)return[nr];const a=[Qn];return t&&a.push(er),a}),[],[x,O]),D=(0,r.useContext)(vc),_=Yr(),B=d||("paragraphs"===s?"p":"div"),W=(0,l.useFacetMap)(((e,t,a,n,r,l,o,c,i,s,u,d,m,p)=>{const f=a?Hi[a]:null,g="center"===t?Hi.center:"right"===t?Hi.right:"left"===t?Hi.left:null,E="center"===n?Hi.verticalCenter:null,b=null!=r?Qi[r]:null,h=l?Ji[l]:null,v=e?Hi.shadow:null,F="break-word"===i?Hi.breakWord:null,y=d?Hi.indent:null;let S=s.length?"":null;for(let e=0;e<s.length;e++)S+=0==e?`${_[o].text[s[e]]}`:` ${_[o].text[s[e]]}`;return fi(Hi.Typography,f,g,E,v,b,h,S,c,F,u,y,p?Hi.ellipsis:null,m?Hi.accessibleGuiScale:null)}),[_],[S,y,C,M,w,k,T,I,A,L,P,N,D,R]),U=null!=p?{"data-narrate":p,"data-narrate-after":F}:{};return(0,l.isFacet)(e)?"div"===B?r.createElement("fast-div",Yi({ref:E,className:W},U),r.createElement("fast-text",{text:e})):"p"===B?r.createElement("fast-p",Yi({ref:E,className:W},U),r.createElement("fast-text",{text:e})):r.createElement("fast-span",Yi({ref:E,className:W},U),r.createElement("fast-text",{text:e})):"div"===B?r.createElement("fast-div",Yi({ref:E,className:W},U),e):"p"===B?r.createElement("fast-p",Yi({ref:E,className:W},U),e):r.createElement("fast-span",Yi({ref:E,className:W},U),e)}const es=({items:e,item:t,index:a})=>{const n=(0,l.useFacetMap)((e=>e.length-1!==a),[a],[e]);return r.createElement(r.Fragment,null,r.createElement(ts,{text:t}),r.createElement(l.Mount,{when:n},r.createElement(Vi,{size:2})))},ts=({text:e})=>r.createElement("div",{className:Hi.listItemContainer},r.createElement(Zi,{type:"body"},""),r.createElement(Zi,{type:"paragraphs",indent:!0},e));Zi.FontWeight=qi,Zi.List=({items:e})=>{const t=(0,l.useFacetWrap)(e);return r.createElement(r.Fragment,null,r.createElement(l.Map,{array:t},((e,a)=>r.createElement(es,{items:t,item:e,index:a}))))},Zi.FormattingCodes=({children:e,type:t,shadow:a,align:n})=>{const o=(0,r.useRef)(null);return function(e,t){(0,l.useFacetEffect)((t=>{const a=e.current;if(null!=a)return a.setAttribute("cohinline",""),((e,t)=>{let a=!0,n=!1,r=!1,l=[0,null];const o=[],c=a=>{const[c,i]=l;let s=e.slice(c,a);if(n&&(s=(e=>e.replace(Ki,""))(s)),0!==s.length)if(s=0!=r?((e,t,a)=>{let n="";for(let r=0;r<e.length;r++)r>=t&&r<t+2||(n+=r>=t&&r<a?".":e[r]);return n})(s,r-c,s.length):s,null!=i){const e=document.createElement("span");e.style.color=i.foreground,e.style.textShadow=`0.2rem 0.2rem 0rem ${i.background}`,e.appendChild(document.createTextNode(s)),t.appendChild(e),o.push(e)}else{const e=document.createTextNode(s);t.appendChild(e),o.push(e)}n=!1};for(let t=0;t<e.length;t++){const o=`${e[t]}${e[t+1]}`,i=Xi[o];null!=i&&(c(t),t+=1,l=[t+1,i],a=!1),"k"===o&&(r=t,t+=1,a=!1),"r"===o&&(c(t),t+=1,l=[t+1,null],r=!1,a=!1),"l"!==o&&"o"!==o||(n=!0,a=!1)}if(a){const a=document.createTextNode(e);t.appendChild(a),o.push(a)}else c(e.length);return()=>{o.forEach((e=>{t.removeChild(e)}))}})(`${t}`,a)}),[e],[t])}(o,(0,l.useFacetWrap)(e)),r.createElement(Zi,{type:t,shadow:a,align:n,innerRef:o,tag:"p"})};const as=({text:e,innerRef:t})=>{const{background:a}=Yr("neutral100");return r.createElement("fast-div",{ref:t,className:"e9e0558842a18962eeed"},r.createElement("fast-div",{className:dl()("d8c2e8bb03a523894380",a.base)},r.createElement(Zi,{type:"body"},r.createElement(ji,null,e))),r.createElement("fast-div",{className:"dd59e5fd39820048dc0f"}))};function ns({children:e,guiScale:t,onGuiScaleApplied:a=rs,screenAnimationEnabled:n,accessibleGuiScale:l,locale:o}){return function(e){(0,r.useEffect)((()=>{const t=function(e){return e.startsWith("ja")?[Qc,Jc,Zc,ei,qc,...ai]:"zh_TW"===e?[Jc,Zc,Qc,ei,qc,...ai]:"zh_CN"===e?[Zc,Jc,Qc,ei,qc,...ai]:e.startsWith("ko")?[ei,Jc,Zc,Qc,qc,...ai]:e.startsWith("ar_")?[ti,qc,ei,Jc,Zc,Qc,...ai]:[qc,Zc,Jc,Qc,ei,ti,...ai]}(e);document.body.style.setProperty("--localeSpecificNotoSansFonts",t.join(","))}),[e])}(o),r.createElement(xo,{value:n},r.createElement(fc,{guiScale:t,onGuiScaleApplied:a,accessibleGuiScale:l},r.createElement(mc,null,r.createElement(Yc,null,r.createElement(as.Provider,null,e)))))}as.Provider=({children:e})=>{const t=yc(1.6);return r.createElement($c,{margin:t,TooltipComponent:as},e)};const rs=()=>{},ls=(0,l.sharedFacet)("core.customScaling");function os(e){return Math.ceil(1.25*e)}const cs={compat:{[$e.DESKTOP_SCREEN_TYPE]:qe.SCALE_100_PERCENT,[$e.TV_SCREEN_TYPE]:qe.SCALE_100_PERCENT,[$e.HANDHELD_SCREEN_TYPE]:{[Xe.PHONE]:qe.SCALE_100_PERCENT,[Xe.TABLET]:qe.SCALE_100_PERCENT}},legacy:{[$e.DESKTOP_SCREEN_TYPE]:qe.SCALE_175_PERCENT,[$e.TV_SCREEN_TYPE]:qe.SCALE_175_PERCENT,[$e.HANDHELD_SCREEN_TYPE]:{[Xe.PHONE]:qe.SCALE_100_PERCENT,[Xe.TABLET]:qe.SCALE_150_PERCENT}},default:{[$e.DESKTOP_SCREEN_TYPE]:qe.SCALE_125_PERCENT,[$e.TV_SCREEN_TYPE]:qe.SCALE_175_PERCENT,[$e.HANDHELD_SCREEN_TYPE]:{[Xe.PHONE]:qe.SCALE_100_PERCENT,[Xe.TABLET]:qe.SCALE_100_PERCENT}},fixed:{[$e.DESKTOP_SCREEN_TYPE]:qe.SCALE_100_PERCENT,[$e.TV_SCREEN_TYPE]:qe.SCALE_100_PERCENT,[$e.HANDHELD_SCREEN_TYPE]:{[Xe.PHONE]:qe.SCALE_100_PERCENT,[Xe.TABLET]:qe.SCALE_100_PERCENT}}},is=6.417322835;function ss({children:e,scalingMode:t}){const a=(0,l.useSharedFacet)(_l),n=(0,l.useSharedFacet)(ls),o=hn(),c=(0,l.useFacetMap)((e=>null!=e.scalingModeOverride&&e.scalingModeOverride&&e.scalingModeOverride.length>0?e.scalingModeOverride:t),[t],[n]),i=(0,l.useFacetMap)((e=>e.fixedGuiScaleModifier),[],[n]),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.guiAccessibilityScaling)&&void 0!==t&&t}),[],[n]),u=(0,l.useFacetMap)((()=>!0),[],[a,o,i,c,s]),d=(0,l.useFacetMap)((e=>e.screenAnimationEnabled),[],[o]),m=mn("coreHapticsCommandGroup","vibrate");return r.createElement(l.Mount,{when:u},r.createElement(us,{deviceInformationFacet:a,scalingMode:c,screenAnimationEnabled:d,fixedGuiScaleModifier:i,accessibleGuiScale:s},r.createElement(Wi.LongPressSupportProvider,null,r.createElement(Wi.HapticsProvider,{value:m},e))))}function us({scalingMode:e,children:t,deviceInformationFacet:a,screenAnimationEnabled:n,fixedGuiScaleModifier:o,accessibleGuiScale:c}){const i=function(e,t,a,n,o){const c=(0,l.useFacetMap)(((e,t,a)=>"fixed"==a?t:e.guiScaleModifier),[],[a,n,e]),i=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>function(e,t,a,n,r,l,o){if("fixed"===e)return function(e,t){const a=qe.SCALE_100_PERCENT+e;return!0===t?os(a):a}(a,o);const c=cs[e][t];return t===$e.HANDHELD_SCREEN_TYPE?function(e,t,a,n,r,l,o){const c=n/is,i=t[r/c>1e3&&l/c>700?Xe.TABLET:Xe.PHONE],s=Math.round(c*i)+Math.round(c*a);return!0===o?os(s):s}(0,c,a,l,n,r,o):function(e,t,a,n,r,l){const o=n/1920,c=r/1080,i=Math.min(c,o),s=Math.round(i*t)+Math.round(i*a);return!0===l?os(s):s}(0,c,a,n,r,o)}(e,t,n,window.innerWidth,window.innerHeight,a.pixelsPerMillimeter,r)),[],[e,t,a,c,o]),[s,u]=(0,l.useFacetState)(i());return(0,r.useEffect)((()=>{const e=()=>u(i);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[i,u]),(0,l.useFacetEffect)((()=>{u(i)}),[u,i],[a,n,o]),s}(e,(0,r.useContext)(et),a,o,c),s=(0,r.useContext)(Kl).locale,u=(0,r.useCallback)((()=>{vn.trigger("core:gui:resize-hack")}),[]);return r.createElement(ns,{guiScale:i,accessibleGuiScale:c,onGuiScaleApplied:u,screenAnimationEnabled:n,locale:s},t)}const ds=(0,r.createContext)(null),ms=ds.Provider;function ps({children:e}){const t={changedCB:(0,r.useCallback)((e=>Fn("core:keyboard:changed",(t=>{e({addedChars:t.addedChars+"",removedChars:t.removedChars+"",invalidChars:t.invalidChars+"",index:t.index+0})}))),[]),submittedCB:(0,r.useCallback)((e=>Fn("core:keyboard:submitted",e)),[]),dismissedCB:(0,r.useCallback)((e=>Fn("core:keyboard:dismissed",e)),[]),tabbedCB:(0,r.useCallback)((e=>Fn("core:keyboard:tabbed",e)),[])};return r.createElement(ms,{value:t},e)}let fs;!function(e){e.FIRST_MEANINGFUL_PAINT="core:telemetry:firstMeaningfulPaint",e.FIRST_CONTENTFUL_PAINT="core:telemetry:firstContentfulPaint"}(fs||(fs={}));const gs=()=>new Map;function Es({children:e,triggerEvent:t}){const a=(0,r.useMemo)(gs,[]),n=(0,r.useMemo)(gs,[]),l=(0,r.useRef)(!1),o=(0,r.useRef)(!1),c=(0,r.useMemo)((()=>{const e=()=>{0===a.size&&0===n.size&&l.current&&(t(fs.FIRST_MEANINGFUL_PAINT),l.current=!1)},r=()=>{0===a.size&&o.current&&(t(fs.FIRST_CONTENTFUL_PAINT),o.current=!1),e()};return{block:(e,t)=>{("contentful"===t?a:n).set(e,!0)},unblock:(t,l)=>{("contentful"===l?a:n).delete(t),"contentful"===l?r():e()},meaningfulPaint:()=>{l.current=!0,e()},contentfulPaint:()=>{o.current=!0,r()}}}),[t,a,n]);return r.createElement(pl.Provider,{value:c},e)}function bs({children:e}){const t=(0,r.useMemo)((()=>vn.trigger.bind(vn)),[]);return r.createElement(Es,{triggerEvent:t},e)}const hs=new Map,vs=new Map,Fs=new Map;function ys(e,t,a,n){var r;const l=Fs.get(e);if(null!=l)return t(l),()=>{};const o=r=>{"activate-facet-not-found"===r&&null!=a?(Fs.set(e,a),t(a)):n?n(r):(t=>{console.warn(`Error "${t}" while using facet ${e}`)})(r)},c=a=>{vs.set(e,a),t(a)},i=null!==(r=hs.get(e))&&void 0!==r?r:0,s=vs.get(e);return vn.on(`facet:updated:${e}`,c),vn.on(`facet:error:${e}`,o),0===i?vn.trigger("facet:request",e,e,{}):null!=s&&t(s),hs.set(e,i+1),()=>{var t;const a=null!==(t=hs.get(e))&&void 0!==t?t:0;vn.off(`facet:updated:${e}`,c),vn.off(`facet:error:${e}`,o),1===a&&(vn.trigger("facet:discard",e),vs.delete(e)),a>0&&hs.set(e,a-1)}}const Ss=(e,t,a,n)=>(0,l.createFacet)({initialValue:l.NO_VALUE,startSubscription:r=>(vn.on(`query:subscribed/${a}`,r),vn.on(`query:updated/${a}`,r),vn.trigger(`query:subscribe/${e}`,a,...t),()=>{vn.off(`query:subscribed/${a}`,r),vn.off(`query:updated/${a}`,r),vn.trigger("query:unsubscribe",a),n()})}),Cs=(e,t)=>{var a,n,r,l;const{id:o,callable:c}=null!==(a=null===(n=window)||void 0===n||null===(r=n.__commands__)||void 0===r||null===(l=r[e])||void 0===l?void 0:l[t])&&void 0!==a?a:{};var i,s,u;return Boolean(o)?{callable:c.bind(null===(i=window)||void 0===i||null===(s=i.__commands__)||void 0===s||null===(u=s[e])||void 0===u?void 0:u[t]),id:o}:(console.log(`Command not found: ${e}.${t}`),{callable:()=>{console.error(`Cannot call function missing on window: ${t}`)},id:0})};function Ms(e,t,a){return`${e}${""!==e?".":""}${t}${a}`}function ws(e){const{translationPrefix:t,translate:a,formatDate:n,getHowLongAgoAsString:l}=(0,r.useContext)(Kl);return(0,r.useMemo)((()=>({f:{formatDate:n,getHowLongAgoAsString:l},t:(n,r)=>{const l=Ms(t,e,n),o=a(l,r);return null!=o?o:l}})),[t,e,a,n,l])}const ks=({children:e})=>{const{t}=ws("ControllerSpecificButtonNarration"),a=(0,r.useMemo)((()=>({gamepad:{[j.A]:{[Qe.XBOX]:t(".Gamepad.A.XBOX"),[Qe.PS]:t(".Gamepad.A.PS"),[Qe.STEAM]:t(".Gamepad.A.STEAM"),[Qe.SWITCH]:t(".Gamepad.A.SWITCH"),[Qe.QUEST]:t(".Gamepad.A.QUEST")},[j.B]:{[Qe.XBOX]:t(".Gamepad.B.XBOX"),[Qe.PS]:t(".Gamepad.B.PS"),[Qe.STEAM]:t(".Gamepad.B.STEAM"),[Qe.SWITCH]:t(".Gamepad.B.SWITCH"),[Qe.QUEST]:t(".Gamepad.B.QUEST")},[j.X]:{[Qe.XBOX]:t(".Gamepad.X.XBOX"),[Qe.PS]:t(".Gamepad.X.PS"),[Qe.STEAM]:t(".Gamepad.X.STEAM"),[Qe.SWITCH]:t(".Gamepad.Y.SWITCH"),[Qe.QUEST]:t(".Gamepad.X.QUEST")},[j.Y]:{[Qe.XBOX]:t(".Gamepad.Y.XBOX"),[Qe.PS]:t(".Gamepad.Y.PS"),[Qe.STEAM]:t(".Gamepad.Y.STEAM"),[Qe.SWITCH]:t(".Gamepad.X.SWITCH"),[Qe.QUEST]:t(".Gamepad.Y.QUEST")},[j.START]:{[Qe.XBOX]:t(".Gamepad.START.XBOX"),[Qe.PS]:t(".Gamepad.START.PS"),[Qe.STEAM]:t(".Gamepad.START.STEAM"),[Qe.SWITCH]:t(".Gamepad.START.SWITCH"),[Qe.QUEST]:t(".Gamepad.START.QUEST")},[j.SELECT]:{[Qe.XBOX]:t(".Gamepad.SELECT.XBOX"),[Qe.PS]:t(".Gamepad.SELECT.PS"),[Qe.STEAM]:t(".Gamepad.SELECT.STEAM"),[Qe.SWITCH]:t(".Gamepad.SELECT.SWITCH"),[Qe.QUEST]:t(".Gamepad.SELECT.QUEST")},[j.XBOX]:{[Qe.XBOX]:t(".Gamepad.XBOX.XBOX"),[Qe.PS]:t(".Gamepad.XBOX.PS"),[Qe.STEAM]:t(".Gamepad.XBOX.STEAM"),[Qe.SWITCH]:t(".Gamepad.XBOX.SWITCH"),[Qe.QUEST]:t(".Gamepad.XBOX.QUEST")},[j.RIGHT_TRIGGER]:{[Qe.XBOX]:t(".Gamepad.RT.XBOX"),[Qe.PS]:t(".Gamepad.RT.PS"),[Qe.STEAM]:t(".Gamepad.RT.STEAM"),[Qe.SWITCH]:t(".Gamepad.RT.SWITCH"),[Qe.QUEST]:t(".Gamepad.RT.QUEST")},[j.LEFT_TRIGGER]:{[Qe.XBOX]:t(".Gamepad.LT.XBOX"),[Qe.PS]:t(".Gamepad.LT.PS"),[Qe.STEAM]:t(".Gamepad.LT.STEAM"),[Qe.SWITCH]:t(".Gamepad.LT.SWITCH"),[Qe.QUEST]:t(".Gamepad.LT.QUEST")},[j.LEFT_BUMPER]:{[Qe.XBOX]:t(".Gamepad.LB.XBOX"),[Qe.PS]:t(".Gamepad.LB.PS"),[Qe.STEAM]:t(".Gamepad.LB.STEAM"),[Qe.SWITCH]:t(".Gamepad.LB.SWITCH"),[Qe.QUEST]:t(".Gamepad.LB.QUEST")},[j.RIGHT_BUMPER]:{[Qe.XBOX]:t(".Gamepad.RB.XBOX"),[Qe.PS]:t(".Gamepad.RB.PS"),[Qe.STEAM]:t(".Gamepad.RB.STEAM"),[Qe.SWITCH]:t(".Gamepad.RB.SWITCH"),[Qe.QUEST]:t(".Gamepad.RB.QUEST")},[j.L3]:{[Qe.XBOX]:t(".Gamepad.L3.XBOX"),[Qe.PS]:t(".Gamepad.L3.PS"),[Qe.STEAM]:t(".Gamepad.L3.STEAM"),[Qe.SWITCH]:t(".Gamepad.L3.SWITCH"),[Qe.QUEST]:t(".Gamepad.L3.QUEST")},[j.R3]:{[Qe.XBOX]:t(".Gamepad.R3.XBOX"),[Qe.PS]:t(".Gamepad.R3.PS"),[Qe.STEAM]:t(".Gamepad.R3.STEAM"),[Qe.SWITCH]:t(".Gamepad.R3.SWITCH"),[Qe.QUEST]:t(".Gamepad.R3.QUEST")},[j.LEFT]:{[Qe.XBOX]:t(".Gamepad.LEFT.XBOX"),[Qe.PS]:t(".Gamepad.LEFT.PS"),[Qe.STEAM]:t(".Gamepad.LEFT.STEAM"),[Qe.SWITCH]:t(".Gamepad.LEFT.SWITCH"),[Qe.QUEST]:t(".Gamepad.LEFT.QUEST")},[j.RIGHT]:{[Qe.XBOX]:t(".Gamepad.RIGHT.XBOX"),[Qe.PS]:t(".Gamepad.RIGHT.PS"),[Qe.STEAM]:t(".Gamepad.RIGHT.STEAM"),[Qe.SWITCH]:t(".Gamepad.RIGHT.SWITCH"),[Qe.QUEST]:t(".Gamepad.RIGHT.QUEST")},[j.UP]:{[Qe.XBOX]:t(".Gamepad.UP.XBOX"),[Qe.PS]:t(".Gamepad.UP.PS"),[Qe.STEAM]:t(".Gamepad.UP.STEAM"),[Qe.SWITCH]:t(".Gamepad.UP.SWITCH"),[Qe.QUEST]:t(".Gamepad.UP.QUEST")},[j.DOWN]:{[Qe.XBOX]:t(".Gamepad.DOWN.XBOX"),[Qe.PS]:t(".Gamepad.DOWN.PS"),[Qe.STEAM]:t(".Gamepad.DOWN.STEAM"),[Qe.SWITCH]:t(".Gamepad.DOWN.SWITCH"),[Qe.QUEST]:t(".Gamepad.DOWN.QUEST")},[j.NEXT]:{[Qe.XBOX]:t(".Gamepad.NEXT.XBOX"),[Qe.PS]:t(".Gamepad.NEXT.PS"),[Qe.STEAM]:t(".Gamepad.NEXT.STEAM"),[Qe.SWITCH]:t(".Gamepad.NEXT.SWITCH"),[Qe.QUEST]:t(".Gamepad.NEXT.QUEST")},[j.PREV]:{[Qe.XBOX]:t(".Gamepad.PREV.XBOX"),[Qe.PS]:t(".Gamepad.PREV.PS"),[Qe.STEAM]:t(".Gamepad.PREV.STEAM"),[Qe.SWITCH]:t(".Gamepad.PREV.SWITCH"),[Qe.QUEST]:t(".Gamepad.PREV.QUEST")},[j.LEFT_ANALOG_LEFT]:{[Qe.XBOX]:t(".Gamepad.L_LEFT.XBOX"),[Qe.PS]:t(".Gamepad.L_LEFT.PS"),[Qe.STEAM]:t(".Gamepad.L_LEFT.STEAM"),[Qe.SWITCH]:t(".Gamepad.L_LEFT.SWITCH"),[Qe.QUEST]:t(".Gamepad.L_LEFT.QUEST")},[j.LEFT_ANALOG_RIGHT]:{[Qe.XBOX]:t(".Gamepad.L_RIGHT.XBOX"),[Qe.PS]:t(".Gamepad.L_RIGHT.PS"),[Qe.STEAM]:t(".Gamepad.L_RIGHT.STEAM"),[Qe.SWITCH]:t(".Gamepad.L_RIGHT.SWITCH"),[Qe.QUEST]:t(".Gamepad.L_RIGHT.QUEST")},[j.LEFT_ANALOG_UP]:{[Qe.XBOX]:t(".Gamepad.L_UP.XBOX"),[Qe.PS]:t(".Gamepad.L_UP.PS"),[Qe.STEAM]:t(".Gamepad.L_UP.STEAM"),[Qe.SWITCH]:t(".Gamepad.L_UP.SWITCH"),[Qe.QUEST]:t(".Gamepad.L_UP.QUEST")},[j.LEFT_ANALOG_DOWN]:{[Qe.XBOX]:t(".Gamepad.L_DOWN.XBOX"),[Qe.PS]:t(".Gamepad.L_DOWN.PS"),[Qe.STEAM]:t(".Gamepad.L_DOWN.STEAM"),[Qe.SWITCH]:t(".Gamepad.L_DOWN.SWITCH"),[Qe.QUEST]:t(".Gamepad.L_DOWN.QUEST")},[j.RIGHT_ANALOG_LEFT]:{[Qe.XBOX]:t(".Gamepad.R_LEFT.XBOX"),[Qe.PS]:t(".Gamepad.R_LEFT.PS"),[Qe.STEAM]:t(".Gamepad.R_LEFT.STEAM"),[Qe.SWITCH]:t(".Gamepad.R_LEFT.SWITCH"),[Qe.QUEST]:t(".Gamepad.R_LEFT.QUEST")},[j.RIGHT_ANALOG_RIGHT]:{[Qe.XBOX]:t(".Gamepad.R_RIGHT.XBOX"),[Qe.PS]:t(".Gamepad.R_RIGHT.PS"),[Qe.STEAM]:t(".Gamepad.R_RIGHT.STEAM"),[Qe.SWITCH]:t(".Gamepad.R_RIGHT.SWITCH"),[Qe.QUEST]:t(".Gamepad.R_RIGHT.QUEST")},[j.RIGHT_ANALOG_UP]:{[Qe.XBOX]:t(".Gamepad.R_UP.XBOX"),[Qe.PS]:t(".Gamepad.R_UP.PS"),[Qe.STEAM]:t(".Gamepad.R_UP.STEAM"),[Qe.SWITCH]:t(".Gamepad.R_UP.SWITCH"),[Qe.QUEST]:t(".Gamepad.R_UP.QUEST")},[j.RIGHT_ANALOG_DOWN]:{[Qe.XBOX]:t(".Gamepad.R_DOWN.XBOX"),[Qe.PS]:t(".Gamepad.R_DOWN.PS"),[Qe.STEAM]:t(".Gamepad.R_DOWN.STEAM"),[Qe.SWITCH]:t(".Gamepad.R_DOWN.SWITCH"),[Qe.QUEST]:t(".Gamepad.R_DOWN.QUEST")},[j.LEFT_HORIZONTAL_AXIS]:{[Qe.XBOX]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.XBOX"),[Qe.PS]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.PS"),[Qe.STEAM]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.STEAM"),[Qe.SWITCH]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.SWITCH"),[Qe.QUEST]:t(".Gamepad.LEFT_HORIZONTAL_AXIS.QUEST")},[j.LEFT_VERTICAL_AXIS]:{[Qe.XBOX]:t(".Gamepad.LEFT_VERTICAL_AXIS.XBOX"),[Qe.PS]:t(".Gamepad.LEFT_VERTICAL_AXIS.PS"),[Qe.STEAM]:t(".Gamepad.LEFT_VERTICAL_AXIS.STEAM"),[Qe.SWITCH]:t(".Gamepad.LEFT_VERTICAL_AXIS.SWITCH"),[Qe.QUEST]:t(".Gamepad.LEFT_VERTICAL_AXIS.QUEST")},[j.RIGHT_HORIZONTAL_AXIS]:{[Qe.XBOX]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.XBOX"),[Qe.PS]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.PS"),[Qe.STEAM]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.STEAM"),[Qe.SWITCH]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.SWITCH"),[Qe.QUEST]:t(".Gamepad.RIGHT_HORIZONTAL_AXIS.QUEST")},[j.RIGHT_VERTICAL_AXIS]:{[Qe.XBOX]:t(".Gamepad.RIGHT_VERTICAL_AXIS.XBOX"),[Qe.PS]:t(".Gamepad.RIGHT_VERTICAL_AXIS.PS"),[Qe.STEAM]:t(".Gamepad.RIGHT_VERTICAL_AXIS.STEAM"),[Qe.SWITCH]:t(".Gamepad.RIGHT_VERTICAL_AXIS.SWITCH"),[Qe.QUEST]:t(".Gamepad.RIGHT_VERTICAL_AXIS.QUEST")},[j.PSEUDO_BUTTON_1]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_1.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_1.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_1.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_1.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_1.QUEST")},[j.PSEUDO_BUTTON_2]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_2.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_2.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_2.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_2.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_2.QUEST")},[j.PSEUDO_BUTTON_3]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_3.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_3.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_3.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_3.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_3.QUEST")},[j.PSEUDO_BUTTON_4]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_4.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_4.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_4.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_4.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_4.QUEST")},[j.PSEUDO_BUTTON_5]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_5.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_5.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_5.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_5.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_5.QUEST")},[j.PSEUDO_BUTTON_6]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_6.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_6.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_6.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_6.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_6.QUEST")},[j.PSEUDO_BUTTON_7]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_7.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_7.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_7.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_7.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_7.QUEST")},[j.PSEUDO_BUTTON_8]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_8.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_8.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_8.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_8.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_8.QUEST")},[j.PSEUDO_BUTTON_9]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_9.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_9.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_9.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_9.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_9.QUEST")},[j.PSEUDO_BUTTON_10]:{[Qe.XBOX]:t(".Gamepad.PSEUDO_BUTTON_10.XBOX"),[Qe.PS]:t(".Gamepad.PSEUDO_BUTTON_10.PS"),[Qe.STEAM]:t(".Gamepad.PSEUDO_BUTTON_10.STEAM"),[Qe.SWITCH]:t(".Gamepad.PSEUDO_BUTTON_10.SWITCH"),[Qe.QUEST]:t(".Gamepad.PSEUDO_BUTTON_10.QUEST")}},keyboard:{[pe.BACKSPACE]:t(".Keyboard.BACKSPACE"),[pe.TAB]:t(".Keyboard.TAB"),[pe.ENTER]:t(".Keyboard.ENTER"),[pe.SHIFT]:t(".Keyboard.SHIFT"),[pe.CTRL]:t(".Keyboard.CTRL"),[pe.ALT]:t(".Keyboard.ALT"),[pe.ESCAPE]:t(".Keyboard.ESCAPE"),[pe.SPACE]:t(".Keyboard.SPACE"),[pe.LEFT]:t(".Keyboard.LEFT"),[pe.UP]:t(".Keyboard.UP"),[pe.RIGHT]:t(".Keyboard.RIGHT"),[pe.DOWN]:t(".Keyboard.DOWN"),[pe.INSERT]:t(".Keyboard.INSERT"),[pe.DELETE]:t(".Keyboard.DELETE"),[pe.KEY_0]:t(".Keyboard.KEY_0"),[pe.KEY_1]:t(".Keyboard.KEY_1"),[pe.KEY_2]:t(".Keyboard.KEY_2"),[pe.KEY_3]:t(".Keyboard.KEY_3"),[pe.KEY_4]:t(".Keyboard.KEY_4"),[pe.KEY_5]:t(".Keyboard.KEY_5"),[pe.KEY_6]:t(".Keyboard.KEY_6"),[pe.KEY_7]:t(".Keyboard.KEY_7"),[pe.KEY_8]:t(".Keyboard.KEY_8"),[pe.KEY_9]:t(".Keyboard.KEY_9"),[pe.KEY_A]:t(".Keyboard.KEY_A"),[pe.KEY_B]:t(".Keyboard.KEY_B"),[pe.KEY_C]:t(".Keyboard.KEY_C"),[pe.KEY_D]:t(".Keyboard.KEY_D"),[pe.KEY_E]:t(".Keyboard.KEY_E"),[pe.KEY_F]:t(".Keyboard.KEY_F"),[pe.KEY_G]:t(".Keyboard.KEY_G"),[pe.KEY_H]:t(".Keyboard.KEY_H"),[pe.KEY_I]:t(".Keyboard.KEY_I"),[pe.KEY_J]:t(".Keyboard.KEY_J"),[pe.KEY_K]:t(".Keyboard.KEY_K"),[pe.KEY_L]:t(".Keyboard.KEY_L"),[pe.KEY_M]:t(".Keyboard.KEY_M"),[pe.KEY_N]:t(".Keyboard.KEY_N"),[pe.KEY_O]:t(".Keyboard.KEY_O"),[pe.KEY_P]:t(".Keyboard.KEY_P"),[pe.KEY_Q]:t(".Keyboard.KEY_Q"),[pe.KEY_R]:t(".Keyboard.KEY_R"),[pe.KEY_S]:t(".Keyboard.KEY_S"),[pe.KEY_T]:t(".Keyboard.KEY_T"),[pe.KEY_U]:t(".Keyboard.KEY_U"),[pe.KEY_V]:t(".Keyboard.KEY_V"),[pe.KEY_W]:t(".Keyboard.KEY_W"),[pe.KEY_X]:t(".Keyboard.KEY_X"),[pe.KEY_Y]:t(".Keyboard.KEY_Y"),[pe.KEY_Z]:t(".Keyboard.KEY_Z"),[pe.F1]:t(".Keyboard.F1"),[pe.F2]:t(".Keyboard.F2"),[pe.F3]:t(".Keyboard.F3"),[pe.F4]:t(".Keyboard.F4"),[pe.F5]:t(".Keyboard.F5"),[pe.F6]:t(".Keyboard.F6"),[pe.F7]:t(".Keyboard.F7"),[pe.F8]:t(".Keyboard.F8"),[pe.F9]:t(".Keyboard.F9"),[pe.F10]:t(".Keyboard.F10"),[pe.F11]:t(".Keyboard.F11"),[pe.F12]:t(".Keyboard.F12"),[pe.MOUSE_MOVEMENT]:t(".Keyboard.MOUSE_MOVEMENT"),[pe.MOUSE_BUTTON_LEFT]:t(".Keyboard.MOUSE_BUTTON_LEFT"),[pe.MOUSE_BUTTON_MIDDLE]:t(".Keyboard.MOUSE_BUTTON_MIDDLE"),[pe.MOUSE_BUTTON_RIGHT]:t(".Keyboard.MOUSE_BUTTON_RIGHT"),[pe.MOUSE_WHEEL]:t(".Keyboard.MOUSE_WHEEL"),[pe.BRACKET_OPEN]:t(".Keyboard.BRACKET_OPEN"),[pe.BRACKET_CLOSE]:t(".Keyboard.BRACKET_CLOSE"),[pe.PSEUDO_KEY_1]:t(".Keyboard.PSEUDO_KEY_1"),[pe.PSEUDO_KEY_2]:t(".Keyboard.PSEUDO_KEY_2"),[pe.PSEUDO_KEY_3]:t(".Keyboard.PSEUDO_KEY_3"),[pe.PSEUDO_KEY_4]:t(".Keyboard.PSEUDO_KEY_4")}})),[t]),n=(0,l.useFacetWrap)(a);return r.createElement(Ai.Provider,{value:n},e)},Ps=(0,r.createContext)({showModal:()=>{},hideModal:()=>{},updateModal:()=>{}}),Ts={component:null,payload:null};function Is({children:e,ModalContainerWrapper:t}){const a=(0,r.useRef)([]),[n,o]=(0,l.useFacetState)(Ts),c=(0,r.useCallback)((()=>{if(a.current.length<=0)o(Ts);else{const e=a.current[a.current.length-1];o({component:e.component,payload:e.payload})}}),[o]),i=(0,r.useMemo)((()=>({showModal:(e,t)=>{a.current.push({component:e,payload:t}),c()},updateModal:(e,t,n)=>{if(a.current.length<=0)return;const r=a.current.findIndex((({component:a,payload:n})=>a===e&&n===t));-1!==r&&(a.current[r]={component:e,payload:n},c())},hideModal:(e,t)=>{if(!(a.current.length<=0)){if(null!=e&&"function"==typeof e){const n=a.current.findIndex((({component:a,payload:n})=>a===e&&n===t));if(-1===n)return;a.current.splice(n,1)}else a.current.splice(a.current.length-1,1);c()}}})),[c]),s=null!=t?t:r.Fragment;return r.createElement(Ps.Provider,{value:i},e,r.createElement(s,null,r.createElement(xs,{modalAndPayload:n})))}function xs({modalAndPayload:e}){const t=(0,l.useFacetUnwrap)(e);if(t===l.NO_VALUE)return null;const{component:a,payload:n}=t;return null==a?null:r.createElement(a,null!=n?n:{})}const Os=()=>(0,r.useContext)(Ps).hideModal,As=e=>({useShowModal:()=>{const t=(0,r.useContext)(Ps);return(0,r.useCallback)(((...a)=>{t.showModal(e,a[0])}),[t])},useModal:(e=!1)=>{const[t,a]=(0,l.useFacetState)(e);return(0,r.useMemo)((()=>({isVisible:t,show:()=>a(!0),hide:()=>a(!1)})),[t,a])},Component:(...t)=>{const a=(0,r.useContext)(Ps),n=(0,r.useRef)(t[0]);let l=!1;if("object"==typeof n.current)if("object"!=typeof t[0])l=!0;else for(const e in n.current)if(t[0][e]!=n.current[e]){l=!0;break}return(0,r.useEffect)((()=>{l&&a.updateModal(e,n.current,t[0])}),[a,l,t]),(0,r.useEffect)((()=>{const t=n.current;return a.showModal(e,t),()=>{a.hideModal(e,t)}}),[a]),null}}),Ns="a03fec9c005568844722";function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Rs.apply(null,arguments)}function Ls(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ds=({interactive:e=!0,role:t="inherit",className:a,withoutBorders:n,inset:l,hasTexture:o=!1})=>{const{outline:c}=Yr(t),i=fi("ac9c0d1f696ff511ac47",o?void 0:e?c.interactive:c.base,a,n?"daca347e1eec2b94ba00":void 0,l?"e39bd92b784fc9db81d3":void 0,o?"f9e66fb25766a8c4a680":void 0);return r.createElement("div",{className:i})},_s=e=>{let{disabled:t}=e,a=Ls(e,["disabled"]);const n=(0,l.useFacetUnwrap)(t);return n!==l.NO_VALUE&&n?null:r.createElement(Ds,a)},Bs=e=>{let{className:t}=e,a=Ls(e,["className"]);const n=null!=t?`${t} ${Ns}`:Ns;return null==a.disabled?r.createElement(Ds,Rs({className:n},a)):r.createElement(_s,Rs({className:n},a))},Ws="c6f59fe283487df5f5e4",Us=({narrationText:e,inputLegend:t,disabled:a,onClick:n,children:o,focusGridIndex:c,gamepadAlias:i,role:s="inherit",soundEffectPressed:u,className:d,selected:m,testId:p})=>{const f=(0,l.useFacetWrap)(a),g=Yr(s),E=Qr(s),b=el();return r.createElement(Wi,{narrationText:e,className:(0,l.useFacetMap)((e=>dl()("c564453585834147ee4f",g.background.interactive,g.text.interactive,d,{[b.selected]:e})),[d,g,b],[(0,l.useFacetWrap)(null!=m&&m)]),classNameFocused:Ws,classNameDisabled:"a55cb4a126c9d6692714",focusGridIndex:c,gamepadAlias:i,inputLegend:t,onClick:n,disabled:f,soundEffectPressed:null!=u?u:E.press,"data-testid":p},o,r.createElement(Bs,{inset:!0,role:s}))},zs="c6ae1983d450584a1c36";function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},js.apply(null,arguments)}function Hs(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Gs=({thin:e,top:t=!0,bottom:a=!0,left:n=!0,right:o=!0,className:c,hide:i,semanticStyles:s})=>{const u=(0,l.useFacetMap)((t=>fi("f6d6aa66f29a3c0f94bb",t,c,e&&"c2235a8375f34bb0fea1")),[c,e],[(0,l.useFacetWrap)(s)]);return r.createElement(r.Fragment,null,r.createElement("fast-div",{className:(0,l.useFacetMap)(((e,a)=>fi(a,t&&"cfbbe67a68e01c72251d",n&&"e330140e5778ef5ffd98",e&&zs)),[t,n],[i,u])}),r.createElement("fast-div",{className:(0,l.useFacetMap)(((e,t)=>fi(t,a&&"e8da1b678c205785e29c",o&&"a7ab6099734cdd6115c8",e&&zs)),[a,o],[i,u])}))},Vs=e=>{let{children:t}=e,a=Hs(e,["children"]);return r.createElement(r.Fragment,null,r.createElement(Gs,a),t)},$s=e=>{let{disabled:t,children:a}=e,n=Hs(e,["disabled","children"]);const o=(0,l.useFacetMap)((e=>!1===(null!=e&&e)),[],[(0,l.useFacetWrap)(null!=t&&t)]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(Gs,n)),a)},Xs=(0,l.createStaticFacet)(!1),Ks=e=>{let{effect:t="specular",reversed:a,role:n="inherit",interactive:o=!0,hide:c=Xs}=e,i=Hs(e,["effect","reversed","role","interactive","hide"]);const{[t]:s}=Yr(n),u=Zr(),d=(0,l.useFacetMap)((e=>fi(e?s.interactive:s.base,a&&u.reversed)),[s,u,a],[(0,l.useFacetWrap)(o)]);return null!=i.disabled?r.createElement($s,js({semanticStyles:d,hide:c},i)):r.createElement(Vs,js({semanticStyles:d,hide:c},i))},Ys=(0,r.createContext)(!1),qs=(Ys.Provider,Ys.Consumer,(0,l.createFacetContext)(void 0)),Qs=(qs.Provider,qs.Consumer,(0,r.createContext)({delegationEvent:(0,l.createStaticFacet)(void 0)})),Js=()=>{const[e,t]=(0,l.useFacetState)({date:0,event:void 0}),a=()=>t({date:Date.now(),event:void 0});return a.first=()=>t({date:Date.now(),event:U.FIRST_CHILD}),a.memory=()=>t({date:Date.now(),event:U.MEMORY}),a.alias=e=>t({date:Date.now(),event:U.ALIAS,alias:e}),{delegationEventFacet:e,delegateFocus:a}},Zs=Qs.Provider,eu=({delegationEvent:e,children:t})=>r.createElement(Zs,{value:{delegationEvent:e}},t);function tu(e,t){if("string"==typeof t)return t;const a=e.getElement(t);return null==a?t:"alias"in a&&null!==(n=a.alias)&&void 0!==n?n:a.id;var n}const au=(e,t)=>a=>{var n;const r=null!==(n=a.getAttribute(G))&&void 0!==n?n:a.getAttribute(H);if(null==r)return!1;const l=parseInt(r,10);return e===l||t.current.isAncestorOf(e,l)};function nu({delegatingLandmark:e,focusTreeAPIRef:t,delegationOrigin:a,dynasty:n,cachedDescendantElements:r,renderFocusable:o}){var c,i;const s=null!==(c=null==e?void 0:e.landmarkKey)&&void 0!==c?c:"NO_LANDMARK_KEY",u=null==e||null===(i=e.delegationMemoryStack)||void 0===i?void 0:i.get(s);if(null!=u){let e;for(let a=0;a<u.length;a++){const r=u[a];"string"==typeof r&&(null==o||o({alias:r}));const l=t.current.getElement(r);if(null!=l&&t.current.isFocusable(l.id)&&null!=n&&n.has(l.id)){e=l;break}}if(null!=e){const n=oe(e)?e:void 0;if(null==n)return{id:tu(t.current,e.id),delegationType:B.MemoryDelegation};{const e=null==r?void 0:r.filter(au(n.id,t)),o=n.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:a});if(null!=o&&o!=l.NO_VALUE)return o}}}}function ru({delegatingLandmark:e,focusTreeAPIRef:t,delegationOrigin:a,dynasty:n,cachedDescendantElements:r,delegateFocusByAlias:o,renderFocusable:c}){var i;const s="string"==typeof o?o:null!==(i=e.delegateFocusByAlias)&&void 0!==i?i:"";null==c||c({alias:s});const u=t.current.getElement(s);if(null!=u&&null!=n&&n.has(u.id)&&t.current.isFocusable(u.id)){if(!oe(u))return{id:tu(t.current,u.id),delegationType:B.AliasDelegation};{const e=null==r?void 0:r.filter(au(u.id,t)),n=u.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:a});if(null!=n&&n!==l.NO_VALUE)return n}}}function lu({delegatingLandmark:e,containerRef:t,focusTreeAPIRef:a,delegationOrigin:n,dynasty:r,cachedDescendantElements:o,renderFocusable:c}){var i,s;const u=null==e||!0===e.hidden||!0===e.disabled?void 0:e.id;null==c||c({order:0});const d=null!=u?{id:tu(a.current,u),delegationType:B.DefaultDelegation}:void 0,m=null!=o?o:Array.from(null!==(i=null===(s=t.current)||void 0===s?void 0:s.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==i?i:[]);if(0===m.length)return d;for(let e=0;e<m.length;e++){const t=m[e].getAttribute(H),o=m[e].getAttribute(G);if(null!=t){const e=parseInt(t,10);if(null==r||!r.has(e))continue;const o=a.current.getElement(e);if(!oe(o))continue;if(!a.current.isFocusable(e))continue;if(n!==z.Mutation&&!a.current.containerHasEnabledItems(e))continue;const c=au(e,a),i=m.filter(c),s=o.getDelegatedFocus({cachedDescendantElements:i,delegationOrigin:n});if(s!=l.NO_VALUE&&null!=s)return s}else if(null!=o){const e=parseInt(o,10);if(null!=r&&r.has(e)&&a.current.isFocusable(e))return{id:tu(a.current,e),delegationType:B.FirstFoundDelegation}}}return d}function ou(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(a),!0).forEach((function(t){iu(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ou(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function iu(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const su=(0,l.createStaticFacet)(void 0),uu=({children:e,disabled:t,hidden:a,focusControlDisabled:n,alias:o,scrollAxis:c,scrollOptions:i,shouldBindFocus:s,containerRef:u,delegateFocusFromMemory:d,delegateFocusByAlias:m,renderFocusable:p,landmarkKey:f,isGrid:g,gridCellWidth:E,gridCellHeight:b,gridColumns:h,gridOffsetVertical:v,gridOffsetHorizontal:F,gridRows:y,gridCellSizeAuto:S})=>{const C=(0,r.useContext)(De),M=(0,r.useMemo)((()=>C.current.generateId()),[C]),w=(0,l.useFacetWrap)(t),k=(0,l.useFacetWrap)(a),P=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(n)]),T=(0,l.useFacetWrap)(d),I=(0,l.useFacetWrap)(m),x=(0,l.useFacetWrap)(c),O=(0,l.useFacetWrap)(o),A=(0,l.useFacetWrap)(i),N=(0,l.useFacetWrap)(s),R=(0,l.useFacetWrap)(f),L=(0,l.useFacetWrap)(g),D=(0,l.useFacetMap)((e=>!0===e?li.GRID:li.VISUAL),[],[L]),B=(0,l.useFacetWrap)(E),j=(0,l.useFacetWrap)(b),X=(0,l.useFacetWrap)(h),K=(0,l.useFacetWrap)(y),Y=(0,l.useFacetWrap)(S),q=(0,l.useFacetWrap)(v),Q=(0,l.useFacetWrap)(F),J=(0,r.useContext)(Ys),Z=(0,r.useContext)(we),ee=(0,r.useContext)(qs),{delegationEventFacet:te}=(()=>{const{delegationEvent:e}=(0,r.useContext)(Qs);return{delegationEventFacet:e}})(),ae=Z[Z.length-1],ne=(0,l.useFacetMap)(((e,t)=>{if(!t)return e}),[],[te,P]),re=(0,l.useFacetMap)((e=>null!=e),[],[ne]),le=Pe(),ce=(0,r.useCallback)((e=>t=>{var a;const n=null!==(a=t.getAttribute(G))&&void 0!==a?a:t.getAttribute(H);if(null==n)return!1;const r=parseInt(n,10);return e===r||C.current.isAncestorOf(e,r)}),[C]),ie=(0,l.useFacetCallback)((()=>({delegateFocusByAlias:e,delegateFocusFromMemory:t,noDefaultDelegation:a,cachedDescendantElements:n,delegationOrigin:r})=>{!0===P.get()&&console.warn("Asked a FocusControlDisabled Landmark to delegate, abort mission. (find out why)");const o=C.current.getEnabledBindingLandmarkDescendant(M);if(null!=o){const e=null==n?void 0:n.filter(ce(o.id)),t=o.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=t&&t!==l.NO_VALUE)return t}const c=C.current.getElement(M),i=C.current.getDynasty(M),s=oe(c)?c:void 0;if(null==s)return;if(t){const e=nu({delegatingLandmark:s,focusTreeAPIRef:C,delegationOrigin:r,dynasty:i,cachedDescendantElements:n});if(null!=e)return e}if(null!=e){const t=ru({delegatingLandmark:s,focusTreeAPIRef:C,delegationOrigin:r,dynasty:i,cachedDescendantElements:n,delegateFocusByAlias:e,renderFocusable:p});if(null!=t)return t}if(!0===a)return;const d=function({delegatingLandmark:e,containerRef:t,focusTreeAPIRef:a,delegationOrigin:n,dynasty:r,cachedDescendantElements:l}){return lu({delegatingLandmark:e,containerRef:t,focusTreeAPIRef:a,delegationOrigin:n,dynasty:r,cachedDescendantElements:l})}({delegatingLandmark:s,containerRef:u,focusTreeAPIRef:C,delegationOrigin:r,dynasty:i,cachedDescendantElements:n});return d||void 0}),[u,ce,P,C,M,p],[]),se=(0,l.useFacetCallback)((e=>({cachedDescendantElements:t,delegationOrigin:a,noDefaultDelegation:n})=>{var r;return ie({delegateFocusFromMemory:e,delegateFocusByAlias:oe(fe.current)?null===(r=fe.current)||void 0===r?void 0:r.delegateFocusByAlias:void 0,cachedDescendantElements:t,delegationOrigin:a,noDefaultDelegation:n})}),[ie],[T]),ue=(0,r.useCallback)((e=>{var t;if(!oe(fe.current)||null==e||0===e.date)return;let a;const n=C.current.getDynasty(M);switch(e.event){case U.FIRST_CHILD:a=lu({delegatingLandmark:fe.current,containerRef:u,focusTreeAPIRef:C,delegationOrigin:z.UserInput,dynasty:n,renderFocusable:p});break;case U.MEMORY:a=nu({delegatingLandmark:fe.current,focusTreeAPIRef:C,delegationOrigin:z.UserInput,dynasty:n,renderFocusable:p});break;case U.ALIAS:const r=null!==(t=e.alias)&&void 0!==t?t:fe.current.delegateFocusByAlias;a=ru({delegatingLandmark:fe.current,focusTreeAPIRef:C,delegationOrigin:z.UserInput,dynasty:n,delegateFocusByAlias:r,renderFocusable:p});break;default:a=se({delegationOrigin:z.UserInput})}null!=a&&a!==l.NO_VALUE&&null!=a.id&&le(tu(C.current,a.id),!1,_.LandmarkController)}),[se,le,C,u,M,p]);(0,l.useFacetEffect)((e=>{ue(e)}),[ue],[ne]);const de=(0,r.useCallback)(((e,t,a)=>{if(t===_.DelegatingTreeMutation||t===_.FocusPreservingTreeMutation&&a!==W.CurrentFocusedAliasMutation)return;const n=C.current.getElement(M),r=oe(n)?n:void 0;if(null!=(null==r?void 0:r.delegationMemoryStack)){var l;const t=null!==(l=null==r?void 0:r.landmarkKey)&&void 0!==l?l:"NO_LANDMARK_KEY",a=r.delegationMemoryStack.get(t)||[];if(null!=a){const n=a.indexOf(e);-1!==n&&a.splice(n,1),a.unshift(e),r.delegationMemoryStack.set(t,a)}}}),[C,M]),me=(0,l.useFacetCallback)((e=>t=>{t.origin===_.LandmarkController&&ue(e)}),[ue],[ne]),pe=(0,r.useRef)(),fe=(0,r.useRef)(void 0),ge=(0,r.useRef)(!1);(0,r.useMemo)((()=>{var e;if(bl([w,k,P,x,O,A,N,I,T,R,L,B,j,X,K,q,Q,Y])===l.NO_VALUE&&!C.current.getElement(M)){const e={scrollAxis:void 0,type:$.LANDMARK,id:M,ref:u.current,alias:void 0,scrollIntoViewAlign:void 0,scrollIntoViewOffset:void 0,scrollIntoViewSpeedFactor:void 0,shouldScrollWithAnalog:void 0,disabled:!0,hidden:!0,focusControlDisabled:!0,isGrid:!1,onFocusableOfDynastyFocused:de,getDelegatedFocus:se,onDynastyUpdated:me,delegateFocusByAlias:void 0,landmarkKey:void 0,delegationMemoryStack:void 0};fe.current=e,C.current.putNode(e,ae)}null===(e=pe.current)||void 0===e||e.call(pe),pe.current=(0,l.multiObserve)(((e,t,a,n,r,l,o,c,i,s,d,m,p,f,g,E,b,h)=>{const v=C.current.getElement(M),F=cu(cu({scrollAxis:n,type:$.LANDMARK,id:M,ref:u.current,alias:r,scrollIntoViewAlign:null==l?void 0:l.scrollIntoViewAlign,scrollIntoViewOffset:null==l?void 0:l.scrollIntoViewOffset,scrollIntoViewSpeedFactor:null==l?void 0:l.scrollIntoViewSpeedFactor,shouldScrollWithAnalog:null==l?void 0:l.shouldScrollWithAnalog,disabled:!0===e,hidden:!0===t,focusControlDisabled:!0===a,isGrid:!0===d,gridCellWidth:m,gridCellHeight:p,gridColumns:f,gridRows:g,gridOffsetVertical:E,gridOffsetHorizontal:b,gridCellSizeAuto:h,onFocusableOfDynastyFocused:de,getDelegatedFocus:se,onDynastyUpdated:me},!J&&o?{shouldBindFocus:!0}:{}),{},{delegateFocusByAlias:c,landmarkKey:s,delegationMemoryStack:!0===i?oe(v)&&null!=v.delegationMemoryStack?v.delegationMemoryStack:new Map:void 0});fe.current=F,ge.current=null==u.current,C.current.putNode(F,ae)}),[w,k,P,x,O,A,N,I,T,R,L,B,j,X,K,q,Q,Y])}),[M,C,ae,de,u,se,J,w,k,P,x,O,A,N,I,T,R,me,L,B,j,X,K,q,Q,Y]);const Ee=(0,r.useMemo)((()=>ri()((()=>{null!=C.current.getClosestGrid(M)&&null!=C.current.getElement(M)&&C.current.updateGridNodeDimensions(M)}),500,{trailing:!0,leading:!1})),[C,M]),be=(0,l.useFacetMap)((e=>!0!==e),[],[L]);Bc(u,Ee,be),(0,r.useEffect)((()=>()=>{var e;null===(e=pe.current)||void 0===e||e.call(pe)}),[]),(0,r.useEffect)((()=>{if(!ge.current)return;if(null==u.current||null==fe.current)return;const e=cu(cu({},fe.current),{},{ref:u.current});C.current.putNode(e,ae)}),[]),(0,l.useFacetEffect)((e=>{if(null==fe.current||fe.current.hidden||fe.current.disabled||null==e)return;const t=se({delegationOrigin:z.Mutation});null!=t&&t!==l.NO_VALUE&&null!=t.id&&le(t.id,!1)}),[se,le],[ee]),(0,r.useEffect)((()=>{const e=C.current;return()=>e.removeNode(M)}),[C,M]);const he=[...Z,M],ve=(0,r.useMemo)((()=>({children:e})=>r.createElement(we.Provider,{value:he},r.createElement(ii,{value:D},e))),he);return(0,r.useEffect)((()=>{null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&null!=u.current&&(u.current.setAttribute(V,`${M}`),u.current.setAttribute(V,`${M}`))}),[M,u]),(0,l.useFacetEffect)((e=>{null!=window.Cypress&&null!=u.current&&(u.current.setAttribute("data-testid",`${e}`),u.current.setAttribute("data-focusable-alias",`${e}`))}),[u],[O]),r.createElement(du,{shouldResetDelegationEvent:re},r.createElement(ve,null,e))},du=({shouldResetDelegationEvent:e,children:t})=>r.createElement(l.Unwrap,{data:e},(e=>null==e?r.createElement(r.Fragment,null,t):r.createElement(eu,{delegationEvent:su},t)));function mu(e){return e.height/e.width*100+"%"}function pu({className:e,src:t,imageRendering:a,height:n,width:o,aspectRatio:c,paddingTopPercentage:i,cover:s,isGrayscale:u=!1,isAnimated:d=!1}){const m=(0,l.useFacetWrap)(a),p=(0,l.useFacetWrap)(t),f=null!=c||null!=i,g=(0,l.useFacetWrap)(d),E=(0,l.useFacetMap)(((e,t,a)=>dl()("d19a0d297b4747373c45",e,{ad6e9e9be54237702c89:f&&!a,b6c0a46fe0111fcf753e:t})),[f],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(u),g]),b=(0,l.useFacetMap)((e=>null!=c?mu(c):null!=e?`${e}%`:void 0),[c],[(0,l.useFacetWrap)(null!=i?i:void 0)]);return!0===s||f?r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement(fu,{aspectRatio:c,paddingTop:b,src:p,className:E,imageRendering:m,height:n,width:o})),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(gu,{paddingTop:b,src:p,className:E,imageRendering:m,height:n,width:o}))):r.createElement("fast-img",{src:p,className:E,style:{height:n,width:o,imageRendering:m,paddingTop:b}})}function fu({aspectRatio:e,className:t,src:a,imageRendering:n,width:o,height:c,paddingTop:i}){const[s,u]=(0,l.useFacetState)({width:1,height:1});(0,l.useFacetEffect)((e=>{const t=document.createElement("img");t.onload=()=>u({width:t.width,height:t.height}),t.src=e}),[u],[a]);const d=(0,l.useFacetMap)((t=>null==e||t.width/t.height<e.width/e.height?"100%":e.height/t.height*(t.width/e.width)*100+"%"),[e],[s]),m=(0,l.useFacetMap)((t=>null!=e&&t.width/t.height<e.width/e.height?e.width/t.width*(t.height/e.height)*100+"%":"100%"),[e],[s]);return r.createElement("fast-div",{className:t,style:{height:c,width:o,paddingTop:i}},r.createElement("fast-div",{className:"f562be89fa1db08e17e0"},r.createElement("fast-img",{src:a,style:{height:m,width:d,imageRendering:n}})))}function gu({className:e,src:t,imageRendering:a,width:n,height:o,paddingTop:c}){const i=(0,l.useFacetMap)((e=>`url(${e})`),[],[t]);return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()("b86424395a97c332f9a1",e)),[],[(0,l.useFacetWrap)(e)]),style:{width:n,height:o,paddingTop:c,backgroundImage:i,imageRendering:a}})}pu.AspectRatio={"16:9":{width:16,height:9},"10:3":{width:10,height:3},"1:1":{width:1,height:1}},pu.aspectRatioToPercentage=mu;const Eu=a.p+"assets/arrowBackWhite-2eb911f920897a21e30e.png",bu=(e,t)=>{const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetWrap)(t),r=(0,l.useFacetMap)(((e,t)=>null==e&&null==t?l.NO_VALUE:null==e?t:null==t?e:`${e} ${t}`),[],[a,n]);return r};function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hu.apply(null,arguments)}const vu=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("ea706a2485225266f56c",t);return r.createElement(pu,hu({},a,{className:n,src:Eu,imageRendering:"pixelated"}))},Fu=a.p+"assets/crossWhite-0f6ce1fda32c98dfb02d.png";function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yu.apply(null,arguments)}const Su=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("b035489ed0b6edafd54f",t);return r.createElement(pu,yu({},a,{className:n,src:Fu,imageRendering:"pixelated"}))},Cu="a555c5e3763cd3724c54",Mu={Back:{useLocalization:()=>ws("TitleBar.Buttons.Back"),Component:({onClick:e,gamepadAlias:t})=>{const{t:a}=Mu.Back.useLocalization();return r.createElement(Us,{role:"neutral",inputLegend:a(".inputLegend"),narrationText:a(".narration"),onClick:e,gamepadAlias:t,className:Cu},r.createElement(vu,null))}},Close:{useLocalization:()=>ws("TitleBar.Buttons.Close"),Component:({onClick:e,gamepadAlias:t,narrationSuffix:a,narrationPrefix:n,testId:o,inputLegend:c,disabled:i=(0,l.createStaticFacet)(!1)})=>{const{t:s}=Mu.Close.useLocalization(),u=(0,l.useFacetMap)(((e,t)=>[e,s(".narration"),t].filter((e=>e)).join(" . ")),[s],[(0,l.useFacetWrap)(null!=n?n:""),(0,l.useFacetWrap)(null!=a?a:"")]);return r.createElement(Us,{testId:o,role:"neutral",inputLegend:null!=c?c:s(".inputLegend"),narrationText:u,onClick:e,gamepadAlias:t,className:Cu,disabled:i},r.createElement(Su,null))}}},wu=({children:e,gamepadAlias:t,role:a="inherit",left:n,right:l})=>{const o=Yr(a),c=(0,r.useRef)(null);return r.createElement(uu,{containerRef:c,alias:t},r.createElement("div",{ref:c,className:dl()("f06087f305a4fa961ad3",o.background.base,o.text.base)},r.createElement(Ks,{effect:"specular"}),r.createElement("div",{className:"c27f215f02438fa1a4ab"},n),e,r.createElement("div",{className:"c671fd983b4dbd789f28"},l)),r.createElement("div",{className:dl()("d509ca0c64e1ff0785a3",o.shadow.base)}))};wu.Buttons=Mu;const ku=(0,r.createContext)((0,l.createFacet)({initialValue:!1})),Pu=()=>(0,r.useContext)(ku),Tu=()=>{},Iu=({children:e,onChildFocusableMounted:t})=>r.createElement(_i.Provider,{value:t},e),xu=()=>{const e=(0,r.useContext)(_i),[t,a]=(0,l.useFacetState)(0);return{hasChildFocusable:(0,l.useFacetMap)((e=>e>0),[],[t]),numberOfChildFocusables:t,onChildFocusableMounted:(0,r.useCallback)((()=>(e(),a((e=>e===l.NO_VALUE?e:e+1)),()=>{a((e=>e===l.NO_VALUE?e:e-1))})),[e,a])}},Ou=({children:e})=>r.createElement(_i.Provider,{value:Tu},e),Au="daab5f42167232886416",Nu="fb0930ba4b3a0b1e0717",Ru="e9ebc4cb64f386079907";function Lu(e,t,a,n,o,c=!1,i=0,s,u){const[d,m]=(0,l.useFacetState)(!1),[p,f]=(0,l.useFacetState)(!1),g=(0,l.useFacetWrap)(null==n||n),E=(0,r.useRef)(!0),b=rt(),h=Fc(4)+i,v=Fc(8),F=(0,r.useMemo)((()=>ri()((()=>m(!0)),500,{leading:!0,trailing:!1})),[m]),y=(0,r.useMemo)((()=>en()((()=>{null==u||u()}),500)),[u]),S=(0,r.useMemo)((()=>ri()((()=>m(!1)),500,{leading:!1,trailing:!0})),[m]),C=(0,r.useMemo)((()=>null!=u?()=>{F(),y(),S()}:()=>{F(),S()}),[u,F,S,y]);(0,r.useEffect)((()=>{let e=null;return e=setTimeout((()=>{if(!o||!o.current||c)return;if(!0!==b.get())return f(!1);const e=window.innerHeight-o.current.getBoundingClientRect().bottom-v<h;f(e)}),250),()=>{e&&window.clearTimeout(e)}}),[f,v,h,b,o,e,c]);const M=(0,r.useRef)(null),w=(0,r.useMemo)((()=>{let n=null,r=null,l=null,o=null,i=null,u=!0;return()=>{var d,m;const f=!0===p.get(),g=e.current,b=t.current,v=a.current;if(!g||!b||!v)return;const F=c?g.scrollLeft:g.scrollTop,y=c?window.innerWidth:window.innerHeight,S=c?g.scrollWidth:g.scrollHeight;if(u){const e=g.getBoundingClientRect();if(0!==e.width&&0!==e.height){const t=f?h:0,a=c?e.width:e.height,n=a-t,r=S-(c?e.width:e.height),i=Math.min(1,F/r),d=c?g.getBoundingClientRect().left-e.left:v.getBoundingClientRect().top-e.top,m=n/S*n-2*Math.max(d,0),p=40,E=16,y=12,C=Math.max(n>p+y?p:E,c?Math.min(.4*n-2*d,m):m);if(c)b.style.left=100*i+"%",b.style.widthPX=C,b.style.marginLeft=-C/2+"px",v.style.leftPX=C/2,v.style.rightPX=C/2;else{const e=i*(n-C-2*d);b.style.topPX=Math.max(0,e),b.style.heightPX=C,v.style.bottomPX=t}u=!1,s&&(l=a,o=S)}}if(f!==n&&(n=f,u=!0),F!==i&&(E.current?E.current=!1:C(),i=F,u=!0),y!==r&&(r=y,u=!0),s&&!E.current){let e=!1;const t=o!==S,a=g.getBoundingClientRect();if(!(a.width<=0||a.height<=0)){const t=c?a.width:a.height;l!==t&&(e=!0)}(t||e)&&(u=!0)}M.current=null===(d=(m=window).requestAnimationFrame)||void 0===d?void 0:d.call(m,w)}}),[p,e,t,a,c,s,h,C]);return(0,l.useFacetEffect)((e=>(e&&w(),()=>{var e,t;null!=M.current&&(null===(e=(t=window).cancelAnimationFrame)||void 0===e||e.call(t,M.current)),S.cancel(),y.cancel(),F.cancel()})),[w,F,S,s,e,y],[g]),d}var Du=a(88572);const _u=(0,r.createContext)({forceImmediateMount:!1});function Bu({children:e,frameTimeBudget:t=16}){const[a,n]=(0,Du.useFacetState)(!0),[l,o]=(0,Du.useFacetState)(!1),c=(0,r.useRef)(!1),i=(0,r.useRef)([]),s=(0,r.useCallback)((e=>(o(!0),i.current.push(e),()=>{if(0===i.current.length&&!c.current)return;const t=i.current.indexOf(e);-1!==t&&i.current.splice(t,1)})),[o]);return(0,Du.useFacetEffect)((e=>{if(!e&&0===i.current.length&&!c.current)return;const a=e=>{const l=i.current;r=l.length>0||c.current?window.requestAnimationFrame(a):-1;let s=0,u=e;for(;l.length>0&&u-e+s<t&&!c.current;){const e=u,t=l.shift()(!1),n=performance.now();s=n-e,u=n,"function"==typeof t&&(c.current=!0,t((()=>{c.current=!1,-1===r&&(r=window.requestAnimationFrame(a))})))}0!==l.length||c.current||(n(!1),o(!1))};let r=window.requestAnimationFrame(a);return()=>{window.cancelAnimationFrame(r)}}),[t,n,o],[l]),r.createElement(Xu.Provider,{value:a},r.createElement($u.Provider,{value:s},e))}function Wu(e){return(0,r.useContext)(_u).forceImmediateMount?r.createElement(r.Fragment,null,e.children):r.createElement(Bu,e)}const Uu=function({children:e}){const t=(0,r.useContext)($u),[a,n]=(0,r.useState)(null!=t);return(0,r.useEffect)((()=>{t&&t(n)}),[t]),a?null:e},zu=(0,r.createContext)((()=>{})),ju=()=>(0,r.useContext)(zu),Hu=function({children:e}){const t=(0,r.useContext)($u),[a,n]=(0,r.useState)(null!=t),l=(0,r.useRef)(),o=(0,r.useRef)(!1),c=(0,r.useCallback)((()=>{null!=l.current?l.current():o.current=!0}),[]);return(0,r.useEffect)((()=>{t&&t((e=>t=>{n(e),o.current?t():l.current=t}))}),[t,c]),a?null:r.createElement(zu.Provider,{value:c},e)};function Gu(){return(0,r.useContext)(Xu)}function Vu(){return(0,r.useContext)(Ku)}const $u=(0,r.createContext)(void 0),Xu=(0,r.createContext)((0,Du.createFacet)({initialValue:!1})),Ku=(0,r.createContext)(!1);function Yu({paused:e,children:t}){const a=(0,r.useRef)(!e);return(0,r.useEffect)((()=>{e||(a.current=!0)}),[e]),r.createElement(Ku.Provider,{value:!a.current&&e},t)}function qu(e,t=!1,a){const[n,o]=(0,l.useFacetState)(!1),c=(0,r.useRef)(!1),i=(0,r.useRef)(0),s=(0,r.useRef)(0),u=(0,r.useRef)(0),d=Vu();return(0,r.useEffect)((()=>{if(d)return;const n=()=>{const r=e.current;if(!r)return;const{scrollWidth:d,scrollHeight:m}=r;if(0===m)return;const{width:p,height:f}=r.getBoundingClientRect();if(a)return o(t?d>Math.ceil(p):m>Math.ceil(f));o((e=>{if(e===l.NO_VALUE)return l.NO_VALUE;const a=t?d:m,r=t?p:f,o=a>Math.ceil(r),g=t?window.innerWidth:window.innerHeight;return!e&&o&&(u.current=g,requestAnimationFrame(n)),e&&!c.current&&(i.current=a,s.current=f),c.current=e,!(!e||o||a!==i.current||r!==s.current||g!==u.current)||o}))};n();const r=setInterval(n,1e3);return()=>clearInterval(r)}),[a,t,e,o,d]),n}function Qu({scrollingContainerRef:e,horizontal:t,stopCheckingForScroll:a,onScroll:n,floating:o,stopTrackingScrollDimensions:c,checkForDynamicScrollArea:i,darkTheme:s,minimalTheme:u,safeZonePadding:d,backgroundRole:m="neutral60",className:p}){const{handlerRef:f,railRef:g}=Zu(e,t),E=Ju(e,g,t),b=qu(e,t,o||c),h=(0,l.useFacetWrap)(null!=a&&a),v=(0,l.useFacetMap)(((e,t)=>e&&!t),[],[b,h]),{background:{base:F}}=Yr(m);ed(e,t,i),Lu(e,f,g,v,void 0,t,d,i,n);const y=(0,l.useFacetMap)((e=>dl()(p,{fcbb3131c78bc5f09d64:!t,aa292ecddeb7027209b1:t,e76ef6144fe43104e70c:!e,f34ee9e247cf2912c450:o})),[t,o,p],[b]);return r.createElement("fast-div",{className:y,onClick:E},r.createElement("div",{className:dl()("ba6a99366a124e254097",{[Ru]:t,[Au]:u,[Nu]:s})}),r.createElement("div",{className:dl()("a6736b5cc7560c2a73b9",F,{[Au]:u})}),r.createElement("div",{className:"cfdbe0e22ac8e4c12a1f",ref:g},r.createElement("div",{className:"c2111d6c73db18cc62d4",ref:f},r.createElement("div",{className:"e231ca9014311c2d3817"},r.createElement(Ks,{role:"secondary"})),r.createElement("div",{className:"f73bbcf8ed7d0001323b"}))),r.createElement("div",{className:dl()("e8623610980c9f5ef2a1",{[Ru]:t,[Au]:u,[Nu]:s})}))}const Ju=(e,t,a)=>(0,r.useCallback)((n=>{const r=e.current,l=t.current;if(!r||!l)return;const o=l.getBoundingClientRect(),c=r.getBoundingClientRect();if(a){const e=(n.clientX-o.left)/o.width;r.scrollLeft=e*(r.scrollWidth-c.width)}else{const e=(n.clientY-o.top)/o.height;r.scrollTop=e*(r.scrollHeight-c.height)}}),[e,t,a]),Zu=(e,t=!1)=>{const a=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const r=a.current,l=e.current,o=n.current;if(!r||!l||!o)return;let c=!1,i=0;const s=e=>{c=!0;const a=r.getBoundingClientRect();i=t?e.clientX-a.left:e.clientY-a.top},u=()=>{c=!1,i=0},d=e=>{if(!c)return;const a=o.getBoundingClientRect(),n=r.getBoundingClientRect(),s=l.getBoundingClientRect(),u=t?(e.clientX-i-a.left)/(a.width-n.width):(e.clientY-i-a.top)/(a.height-n.height);t?l.scrollLeft=u*(l.scrollWidth-s.width):l.scrollTop=u*(l.scrollHeight-s.height)},m=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),r.addEventListener("mousedown",s),r.addEventListener("click",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),r.removeEventListener("mousedown",s),r.removeEventListener("click",m)}}),[a,e,n,t]),{handlerRef:a,railRef:n}},ed=(e,t,a)=>{(0,r.useEffect)((()=>{const n=e.current;if(a&&!t&&n){const e=e=>{e.deltaY>0&&(n.scrollTop+=2)};return n.addEventListener("wheel",e),()=>n.removeEventListener("wheel",e)}}),[a,t,e])};function td({scrollingContainerRef:e,horizontal:t,stopCheckingForScroll:a,onScroll:n,alwaysVisible:o,safeZonePadding:c}){const i=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=ad(e),m=(0,l.useFacetWrap)(null!=a&&a),p=qu(e,t),f=Lu(e,i,s,(0,l.useFacetMap)(((e,t)=>e&&!t),[],[p,m]),u,t,c,void 0,n),g=dl()({ef189058575a7f01048f:!t,ff1fe6a65b8a8d609e34:t}),E=(0,l.useFacetMap)(((e,t,a)=>"f2bb989b06e886e3e559 "+(a&&(t||e||o)?"b190ef7e4fe4244959a5":"c5ead43212c3b0359be9")),[o],[d,f,p]);return r.createElement("div",{className:g,ref:u},r.createElement("div",{className:"b4a640e8f4b927166e2e",ref:s},r.createElement("fast-div",{className:E,ref:i})))}const ad=e=>{const[t,a]=(0,l.useFacetState)(!1);return(0,r.useEffect)((()=>{var t;const n=()=>a(!0),r=()=>a(!1),l=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:window;return l.addEventListener("touchstart",n),l.addEventListener("touchend",r),()=>{l.removeEventListener("touchstart",n),l.removeEventListener("touchend",r)}}),[e,a]),t};function nd({scrollingContainerRef:e,stopCheckingForScroll:t,onScroll:a,alwaysVisible:n,horizontal:o=!1,floating:c,stopTrackingScrollDimensions:i,checkForDynamicScrollArea:s,darkTheme:u,minimalTheme:d,backgroundRole:m,className:p}){const f=go();return r.createElement(l.Unwrap,{data:nt()},(l=>l?r.createElement(Qu,{horizontal:o,scrollingContainerRef:e,stopCheckingForScroll:t,onScroll:a,safeZonePadding:f.bottom,floating:c,stopTrackingScrollDimensions:i,checkForDynamicScrollArea:s,darkTheme:u,minimalTheme:d,backgroundRole:m,className:p}):r.createElement(td,{horizontal:o,scrollingContainerRef:e,stopCheckingForScroll:t,onScroll:a,safeZonePadding:f.bottom,alwaysVisible:n})))}const rd="e1cc8900472413622677",ld="bc2443f790568cd90859",od="dce4cdccf7cdebbedc22",cd=a(81442);function id(){return r.createElement(pu,{src:cd,className:"ed618c1f0ad81ad31820",imageRendering:"pixelated"})}const sd=({interruptible:e=!0,playInBackground:t=!1,profanityFilterContext:a={outOfGame:!0,inGame:!0},required:n=!1}={})=>{const l=(0,r.useRef)(),{readText:o}=(0,r.useContext)(Zl);return{narrateText:(0,r.useCallback)((r=>{l.current=setTimeout((()=>{o(r,a,e,n,t)}),200)}),[o,a,e,n,t]),preventNarrateText:(0,r.useCallback)((()=>{l.current&&clearTimeout(l.current)}),[])}},ud=({children:e,alwaysVisibleChildren:t,loading:a,renderTracker:n,focusGridIndex:o,scrollIntoViewAlign:c="center",scrollIntoViewSpeedFactor:i,horizontal:s=!1,innerRef:u,floating:d,stopTrackingScrollDimensions:m,checkForDynamicScrollArea:p,darkTheme:f,minimalTheme:g,padSpinnerVertically:E,spinnerBackgroundColor:b,disableScrolling:h,showSpinnerBorder:v,stopCheckingForScroll:F,onScroll:y,emptyFocusableGamepadAlias:S,emptyFocusableNarrationText:C,gamepadAlias:M,renderFocusable:w,delegateFocusByAlias:k,delegateFocusFromMemory:P,flexShrinkWrapper:T,scrollbarBackgroundRole:I,scrollbarClassName:x,focusControlDisabled:O,disabled:A,shouldScrollWithAnalog:N=!0,isGrid:R,gridCellWidth:L,gridCellHeight:D,gridColumns:_,gridRows:B,gridCellSizeAuto:W})=>{const U=(0,r.useRef)(null),z=u||U,[j,H]=(0,r.useState)(!1),G=(0,l.useFacetWrap)(a),V=qu(z,s,d||m),$=Ln(),X=vi(),Y=it(),q=(0,l.useFacetWrap)(null!=h&&h),Q=(0,l.useFacetMap)(((e,a,n,r)=>dl()(s?"a1119639fed32881e1e8":"d62d29d55d18e631abca",e||a&&null!=t?"e707c1bf3d08cc04cdf1":null,"b5b35bf116b049dca4ae",s?ld:rd,{eef00564092206847e38:n===Ei.DRAGGING&&r})),[s,t],[q,G,X,Y]),J=j&&!0===d,Z=(0,l.useFacetMap)((e=>dl()("f19aa1a094307f536de2",{[Ws]:e&&J})),[J],[mt()]),ee=(0,r.useRef)(null),[te,ae]=(0,l.useFacetState)(0);(0,l.useFacetEffect)((e=>{let t;const a=()=>{const n=ee.current;if(null==n)return;const r=n.getBoundingClientRect(),l=s?r.width:r.height;ae(l),e&&(t=requestAnimationFrame(a))};return a(),()=>{cancelAnimationFrame(t)}}),[ae,ee,s],[G]);const ne=(0,l.useFacetMap)((e=>null==e||!e),[],[G]),re=(0,r.useRef)(null),le=(0,l.useFacetMap)((e=>A||!0===e),[A],[G]),oe=(0,l.useFacetWrap)({scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:i,shouldScrollWithAnalog:N}),{hasChildFocusable:ce,onChildFocusableMounted:ie}=xu(),se=(0,l.useFacetMap)(((e,t)=>$&&!e||!e&&t),[$],[ce,V]);return r.createElement(Iu,{onChildFocusableMounted:ie},r.createElement(ku.Provider,{value:ce},r.createElement(uu,{containerRef:re,focusControlDisabled:O},r.createElement("div",{ref:re,className:dl()(s?"bef8e2f939e1ae592f1c":"b92db1c183535113af4b",{c9562e41a99cf41c2beb:T})},r.createElement(dd,{focusGridIndex:o,hidden:ne,renderTracker:n,padSpinnerVertically:E,spinnerBackgroundColor:b,showBorder:v,spinnerOffsetPosition:te,horizontal:s}),r.createElement(l.Mount,{when:se},r.createElement("fast-div",{className:Z},r.createElement(Bs,{inset:!0}))),r.createElement("fast-div",{className:Q,ref:z,"data-testid":"scroll-view"},r.createElement(uu,{disabled:le,scrollOptions:oe,containerRef:z,scrollAxis:s?K.HORIZONTAL:K.VERTICAL,alias:M,delegateFocusFromMemory:P,delegateFocusByAlias:k,renderFocusable:w,focusControlDisabled:O,isGrid:R,gridCellWidth:L,gridCellHeight:D,gridColumns:_,gridRows:B,gridCellSizeAuto:W},r.createElement("div",{ref:ee},t),r.createElement("fast-div",{className:(0,l.useFacetMap)(((e,t)=>dl()(s?"d97dda66dc548fa28683":"d075f2acb70ea54cbd4b",s?ld:rd,{a4fe6ee335efe711b2ae:e,[od]:t})),[s],[G,Oo()])},r.createElement(r.Fragment,null,e,r.createElement(l.Mount,{when:se},r.createElement(gd,{onFocusChanged:H,gamepadAlias:S,narrationText:C})))))),r.createElement(l.Mount,{when:ne},r.createElement(nd,{stopTrackingScrollDimensions:m,checkForDynamicScrollArea:p,floating:d,horizontal:s,scrollingContainerRef:z,stopCheckingForScroll:F,onScroll:y,alwaysVisible:j,darkTheme:f,minimalTheme:g,backgroundRole:I,className:x}))))))};function dd({hidden:e,renderTracker:t,spinnerBackgroundColor:a,padSpinnerVertically:n,showBorder:o=!0,focusGridIndex:c,spinnerOffsetPosition:i,horizontal:s}){const u=(0,l.useFacetMap)((e=>!1===e),[],[e]),[d,m]=(0,l.useFacetState)(!1),p=(0,r.useCallback)((e=>{t&&"unmounted"===e&&m(!0)}),[m,t]);return r.createElement(r.Fragment,null,r.createElement(Ac,{unmountOnExit:!0,visible:u,onStatusChange:p},((e,t)=>r.createElement(pd,{status:e,focusGridIndex:c,padSpinnerVertically:n,showBorder:o,spinnerBackgroundColor:a,spinnerOffsetPosition:i,horizontal:s,handleAnimationEnded:t}))),r.createElement(l.Mount,{when:d},r.createElement(md,{renderTracker:t})))}const md=({renderTracker:e})=>r.createElement(r.Fragment,null,e?e(!0):null),pd=({focusGridIndex:e,padSpinnerVertically:t,showBorder:a,spinnerBackgroundColor:n,spinnerOffsetPosition:o,horizontal:c,status:i,handleAnimationEnded:s})=>{const{t:u}=ws("ScrollView"),{narrateText:d}=sd(),[m,p]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>{let t;return e?t=setInterval(d.bind(null,u(".loadingState")),1e4):null!=t&&clearInterval(t),()=>null!=t&&clearInterval(t)}),[d,u,1e4],[m]);const f=(0,l.useFacetMap)((([e])=>"exiting"===e),[],[i]),g=(0,r.useRef)(null),E=Oo();return(0,l.useFacetEffect)(((e,t)=>{if(!t&&e)return void s();const a=g.current,n=()=>{e&&s()};return null==a||a.addEventListener("transitionend",n),()=>{null==a||a.removeEventListener("transitionend",n)}}),[s],[f,E]),r.createElement(Wi,{innerRef:g,focusGridIndex:e,narrationText:[u(".narrationScrollViewComponentType"),u(".loadingState")].join(" . "),className:(0,l.useFacetMap)(((e,n)=>dl()("d6ef6aad726e68dac761",{c7ce357001669e5195d8:t,c335d1e85684057d9d1f:e,cb68f17a28738f82b315:a,[od]:!0===n})),[a,t],[f,E]),classNameFocused:Ws,onFocusChanged:p,onHoverChanged:p,style:{backgroundColor:null!=n?n:"rgba(0, 0, 0, 0.4)",topPX:c?0:o,leftPX:c?o:0},inputLegend:!1,onClick:()=>{},disabled:f},r.createElement(Bs,{inset:!0}),r.createElement(id,null))},fd=()=>{},gd=({onFocusChanged:e,gamepadAlias:t,narrationText:a=!1})=>r.createElement(Ou,null,r.createElement(Wi,{"data-testid":"empty-focusable",className:"f603cc5da9c0c340dacb",onClick:fd,onFocusChanged:e,inputLegend:!1,gamepadAlias:t,narrationText:a}));function Ed({options:e,onClick:t}){return function(e,t){const a=(0,l.useFacetWrap)(e),n=(0,r.useContext)(De),o=(0,r.useContext)(we);o.length;const c=o[o.length-1],i=a.get();i===l.NO_VALUE||i.disabled||n.current.putShortcut(c,i.button,{callback:t,inputLegend:i.inputLegend}),(0,l.useFacetEffect)((e=>{const a=o[o.length-1];if(!e.disabled){const r=n.current;return r.putShortcut(a,e.button,{callback:t,inputLegend:e.inputLegend}),()=>{r.removeShortcut(a,e.button)}}}),[t,n,o],[a])}(e,t),null}ud.SiblingState=({callback:e})=>{const t=Pu();return(0,l.useFacetEffect)((t=>{e(t)}),[e],[t]),null},ud.useHasScrollbar=qu;const bd=e=>{let{children:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children"]);const n=(0,l.useFacetWrap)("text"in a?a.text:""),o="getText"in a?a.getText:void 0,c=Oi(null!=o?o:n);return r.createElement(ki,{value:c},t)},hd="d369b0b0b55e7eeafba5",vd="a317f2d9709303f25f9a",Fd=a.p+"assets/checkGrey-a9d8c1986ac15e9d8b5f.png";function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yd.apply(null,arguments)}const Sd=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("f1be031367b262e35198",t);return r.createElement(pu,yd({},a,{className:n,src:Fd,imageRendering:"pixelated"}))},Cd=a.p+"assets/checkWhite-bcfbfc531a61d1dd813c.png";function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Md.apply(null,arguments)}const wd=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("fbe42a93eff006ac46fc",t);return r.createElement(pu,Md({},a,{className:n,src:Cd,imageRendering:"pixelated"}))};function kd({value:e,disabled:t,narrationText:a,onClick:n,soundEffectPressed:o,checkedRole:c="primary",uncheckedRole:i="neutral50",mountFocusBorder:s=!0}){const u=Yr(c),d=Yr(i),m=Qr("inherit"),p=(0,l.useFacetWrap)(e),f=(0,l.useFacetWrap)(t),g=(0,l.useFacetWrap)(s),E=(0,l.useFacetCallback)((e=>()=>null==n?void 0:n(!e)),[n],[p]),b=(0,l.useFacetMap)((e=>dl()("c4582a72af4df98e4d0d",e?[u.background.interactive,u.border.interactive]:[d.background.interactive,d.border.interactive])),[u,d],[p]),h=(0,l.useFacetMap)(((e,t)=>e||!t),[],[f,g]);return r.createElement(Wi.Maybe,{narrationText:a,isInteractive:"function"==typeof n,classNameFocused:Ws,classNameDisabled:"d2c0ea83cecdb4ae0bbd",disabled:t,onClick:E,soundEffectPressed:null!=o?o:m.toggle},r.createElement("fast-div",{className:b},r.createElement(Bs,{disabled:h}),r.createElement(Ks,{disabled:t}),r.createElement("fast-div",{style:{display:(0,l.useFacetMap)((e=>e?"flex":"none"),[],[p])},className:"d770548a03cd4c45cf3b"},r.createElement("fast-div",{style:{display:(0,l.useFacetMap)((e=>e?"flex":"none"),[],[f])}},r.createElement(Sd,null)),r.createElement("fast-div",{style:{display:(0,l.useFacetMap)((e=>e?"none":"flex"),[],[f])}},r.createElement(wd,null)))))}const Pd=()=>{};function Td({onChange:e=Pd,value:t,title:a,description:n,disabled:o,small:c=!1,hintNarration:i,soundEffectPressed:s,wrapperRole:u="neutral"}){const d=Yr(u),m=Qr(u),p=(0,l.useFacetWrap)(a),f=(0,l.useFacetWrap)(null!=n?n:""),g=(0,l.useFacetWrap)(t),E=(0,l.useFacetWrap)(o),b=(0,l.useFacetCallback)((t=>()=>e(!t)),[e],[g]),{t:h}=ws("Checkbox"),v=(0,l.useFacetMap)(((e,t,a,n)=>[h(".elementType"),t,a,h(e?".labelChecked":".labelUnChecked"),n].filter((e=>e)).join(" . ")),[h],[g,p,f,(0,l.useFacetWrap)(null!=i?i:"")]),F=(0,l.useFacetWrap)(dl()("b483bc36c72906cad66b",d.background.base,{d6c489696ebd15bfc27b:c}));return r.createElement(Sr,{role:u},r.createElement(Wi,{className:F,inputLegend:h(".toggle"),onClick:b,disabled:E,narrationText:v,soundEffectPressed:null!=s?s:m.toggle,classNameFocused:Ws},r.createElement(Ks,{role:u,effect:"bevel",left:!1,right:!1}),r.createElement(Vi,{size:2}),r.createElement("div",{className:"f23c35837ba49e5a930d"},r.createElement(kd,{value:g,narrationText:!1,disabled:E}),r.createElement("div",{className:dl()("c19d596d70f31af84890")},r.createElement(Zi,{type:"body",role:u,variant:(0,l.useFacetMap)((e=>e?"dimmer":void 0),[],[E])},p),Boolean(n)&&r.createElement("div",{className:dl()("bc4b19cac0a2ffbcb943")},r.createElement(Zi,{type:"captionShort",role:u,variant:"dimmer"},f)))),r.createElement(Vi,{size:2})))}const Id=a.p+"assets/magnifyingGlass-52f96e5f47f42e682a00.png";function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xd.apply(null,arguments)}const Od=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("b88b4eda13565cc77eb0",t);return r.createElement(pu,xd({},a,{className:n,src:Id,imageRendering:"pixelated"}))},Ad=(0,r.createContext)(null),Nd=(Ad.Provider,{textFieldWrapper:"a89270b9f3281b5d91a5",textField:"abe919f17fb78dc5e81a",textFieldWrapperShadow:"e53bfb9be15fee4b394f",textFieldBrowserOnly:"dd154ccc09fdbff9d44e",textFieldType:"f8ff4ced1d6da7eeb6f7",textFieldPlaceholder:"e128132ae5572aec6aeb",textFieldTextArea:"a58305b66fa904cdeb8f",disabled:"ca42d14eb4bf862989a1",placeholderAdjustedWithIcon:"e36c115516d838ca9a35",textFieldContentWrapper:"c0d59d992b2c24e8507d",textFieldIcon:"f1d541e90be456c2494a",textFieldClearInteractive:"a62088682ab27300c266",pointerAuto:"c94e6fa728712ddc69e0"});function Rd(e){return-1!=(0,r.useContext)(jl).indexOf(e)}let Ld;!function(e){e[e.MagnifyingGlass=0]="MagnifyingGlass"}(Ld||(Ld={}));const Dd=e=>(Ld.MagnifyingGlass,r.createElement(Od,null));function _d(e){const{gamepadAlias:t,value:a,disabled:n=!1,label:o,className:c,maxLength:i,narrationText:s,onBlur:u,onFocus:d,onHover:m,onChange:p,onSelectedChange:f,placeholder:g="",rows:E=1,disableBlurOnDeselect:b,onClick:h,onTab:v,isNumber:F,selectOnFirstFocus:y,placeholderIcon:S,showClearOptionWhenValueExists:C,onClear:M,hasShadow:w=!0,role:k="neutral80"}=e,{t:P}=ws("BaseTextField"),[T,I]=(0,l.useFacetState)(!1),[x,O]=(0,l.useFacetState)(!1),A=(0,l.useFacetMap)((e=>e.slice(0,i)),[i],[(0,l.useFacetWrap)(a)]),N=(0,l.useFacetUnwrap)(n),{narrateText:R,preventNarrateText:L}=sd(),D=(0,l.useFacetWrap)(di()),_=(0,r.useContext)(Ad),B=(0,l.useFacetWrap)(c),W=(0,l.useFacetMap)((e=>e?"number":"text"),[],[(0,l.useFacetWrap)(F)]),U=(0,l.useFacetWrap)(y),z=Rd("core.textfield.pointerAuto"),H=Yr(k),G=Zr(),V=(0,r.useRef)(null),$=(0,r.useRef)(null),X=(0,r.useRef)(!1),K=(0,r.useRef)(!1);(0,l.useFacetEffect)(((e,t)=>{e&&!X.current?(X.current=!0,R(`${P(".selected")} . ${P(".hint",[`${t}`])}`)):e||(X.current=!1)}),[R,P],[T,(0,l.useFacetWrap)(null!=o?o:"")]);const Y=(0,r.useContext)(ds),q=(0,r.useCallback)((e=>{if(V.current&&document.activeElement===V.current){const t=Bd(V.current.value,null!=e?e:_,P);L(),null!=t&&R(t),document.activeElement===V.current&&p&&p(V.current.value,null!=e?e:_)}}),[p,_,R,P,L]);(0,l.useFacetEffect)((e=>{if(null==V.current)return;const t=V.current.value!==e,a=V.current.value.length>0&&0===e.length;(t||a)&&(V.current.value=e)}),[N],[A]);const Q=(0,r.useCallback)((()=>{V.current&&document.activeElement===V.current&&v&&v()}),[v]),[J,Z]=(0,l.useFacetState)(!1),ee=(0,l.useFacetCallback)(((e,t)=>a=>{O(a),f&&f(a),b||a||!V.current||V.current.blur(),a&&!t&&e&&null!=V.current&&(V.current.focus(),Z(!0))}),[O,f,b,Z],[U,J]),te=(0,r.useCallback)((e=>{if(V.current){if(I(!1),null!=u){const e=(e="")=>{V.current&&(V.current.value=e,null!=p&&p(e,null!=_?_:{addedChars:"",removedChars:"",invalidChars:"",index:-1}))};u(V.current.value,e)}Boolean(e)?ee(!0):ee(!1)}}),[u,I,ee,p,_]),ae=(0,r.useCallback)((()=>{V.current&&document.activeElement===V.current&&(V.current.blur(),te(!0))}),[te]),ne=(0,r.useCallback)((()=>{V.current&&document.activeElement===V.current&&ae()}),[ae]);(0,r.useEffect)((()=>{if(!Y)return;const e=[Y.changedCB(q),Y.tabbedCB(Q),Y.submittedCB(ne),Y.dismissedCB(ae)];return()=>{e.forEach((e=>e()))}}),[Y,q,ae,Q,ne]);const re=(0,r.useCallback)((()=>{V.current&&(V.current.focus(),null==h||h())}),[h]),le=(0,l.useFacetMap)(((e,t,a)=>{const n=t&&t.focused||e;return dl()(Nd.textField,Nd.textFieldType,H.border.interactive,H.text.interactive,H.caret.base,a,{[Nd.textFieldBrowserOnly]:!1,[Nd.textFieldFocused]:n,[Cr.selected]:n,[Nd.disabled]:N,[Nd.textFieldTextArea]:E>1,[Nd.pointerAuto]:z})}),[N,E,H,z],[T,D,B]),oe=(0,l.useFacetMap)(((e,t,a)=>dl()({[Ws]:a&&a.focused||t&&!e})),[],[T,x,D]),ce=(0,r.useCallback)((()=>{I(!0),d&&d(),ee(!0)}),[d,I,ee]),ie=(0,l.useFacetMap)((e=>({button:j.B,inputLegend:P(".deselect"),disabled:!e})),[P],[T]),se=(0,l.useFacetMap)((e=>null!=e&&""!==e),[],[A]),ue=(0,l.useFacetMap)(((e,t)=>null!=e&&""!==e||t?"none":"flex"),[],[A,T]),de=r.createElement("fast-div",{className:dl()(Nd.textFieldType,Nd.textFieldPlaceholder,H.text.interactive,G.dimmest,{[Nd.placeholderAdjustedWithIcon]:null!=S}),style:{display:ue}},null!=S?r.createElement("div",{className:Nd.textFieldContentWrapper},r.createElement("div",{className:Nd.textFieldIcon},Dd()),r.createElement(ji,null,g)):r.createElement(ji,null,g)),me=E>1?r.createElement("fast-textarea",{ref:V,rows:E,className:le,maxLength:i,onFocus:ce,onBlur:()=>{!1===K.current&&te(!1)}}):r.createElement("fast-input",{ref:V,type:W,className:le,maxLength:i,onFocus:ce,onBlur:()=>{!1===K.current&&te(!1)}});return r.createElement(uu,{containerRef:$,shouldBindFocus:T},r.createElement("div",{className:Nd.textFieldWrapper,ref:$},r.createElement(Ed,{options:ie,onClick:()=>{V.current&&document.activeElement===V.current&&(V.current.blur(),te(!0))}}),N!==l.NO_VALUE&&N?r.createElement(Wi,{className:dl()(Nd.textFieldWrapper,H.background.interactive,{[Nd.disabled]:N}),"data-testid":e["data-testid"],key:"disabled",narrationText:s,inputLegend:!1,disabled:!0,onFocusChanged:ee,onClick:re,gamepadAlias:t},r.createElement("div",{className:dl()(w?H.shadow.interactive:void 0,{[Nd.textFieldWrapperShadow]:w})}),de,r.createElement("fast-div",{className:le},r.createElement(ji,null,A))):r.createElement(Wi,{key:"enabled",className:dl()(Nd.textFieldWrapper,H.background.base,H.background.disable),"data-testid":e["data-testid"],narrationText:s,inputLegend:P(".select"),onFocusChanged:ee,classNameFocused:oe,onClick:re,gamepadAlias:t,onHoverChanged:m,onPressChanged:e=>{K.current=!!e}},r.createElement("div",{className:dl()(w?H.shadow.interactive:void 0,{[Nd.textFieldWrapperShadow]:w})}),de,me,r.createElement(Bs,{role:k}),C&&r.createElement(l.Mount,{when:se},r.createElement(Wi,{className:Nd.textFieldClearInteractive,narrationText:!1,inputLegend:"",onClick:()=>null!=M&&M()},r.createElement(Su,null))))))}const Bd=(e,t,a)=>{const n=t.addedChars.split("").join(" "),r=t.removedChars.split("").join(" "),l=t.invalidChars.split("").join(" "),o=""!==l?` ${l} ${a(".invalidNarration")}`:"",c=0!==e.length?` . . ${e}`:"";return""!==n?""!==r?`${r} ${a(".replacedNarration")} ${n}${o}${c}`:`${n} ${a(".addedNarration")}${o}${c}`:""!==r?`${r} ${a(".removedNarration")}${c}`:null};function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wd.apply(null,arguments)}function Ud(e){let{children:t,isTransparent:a,compact:n=!1,focusable:o=!1,narrationText:c=!1,inputLegend:i=!1,shouldDisplayFocus:s=!0,onClick:u,role:d="neutral",disabled:m,border:p=!1,indented:f=!1,"data-testid":g}=e,E=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","isTransparent","compact","focusable","narrationText","inputLegend","shouldDisplayFocus","onClick","role","disabled","border","indented","data-testid"]);const b=(0,l.useFacetWrap)(o),h=(0,l.useFacetWrap)(c),v=(0,l.useFacetWrap)(m),{background:F,border:y}=Yr(d),S=Jr("panel",d),C=null!=S.main.base,M=(0,l.useFacetWrap)(a),w=(0,l.useFacetMap)((e=>dl()("b9a5bc43d761ce775811",{b00ed8278fa6db4f0ca5:e,e8e0efcb8b8262fc05c7:n,b3bb545604df6673122d:p,e934527bca2094c1a1ef:f,[`${y.base}`]:p||f},F.base,S.main.base,S.main.hover)),[n,F,S,y,p,f],[M]),k=(0,l.useFacetMap)((e=>dl()(e,Ws)),[],[w]),P=r.createElement(Sr,{role:d},!n&&!C&&!f&&r.createElement(Ks,{interactive:!1,effect:"bevel",left:!1,right:!1}),!n&&r.createElement(Vi,{size:3}),t,!n&&r.createElement(Vi,{size:3})),T=(0,l.useFacetMap)(((e,t,a)=>null!=u&&!0!==a||!0===e&&null!=t),[u],[b,h,v]),I=(0,l.useFacetMap)((e=>!e),[],[(0,l.useFacetWrap)(s)]),x=(0,l.useFacetMap)((e=>0==e?"":e),[],[h]);return r.createElement(bd,{text:x},r.createElement(Wi.Maybe,Wd({"data-testid":g,isInteractive:T,className:w,classNameFocused:k,narrationText:!1,inputLegend:i,onClick:null!=u?u:zd},E),P,r.createElement(Bs,{className:"ab1f99cee76692a4e70a",interactive:!1,disabled:I,role:d})))}function zd(){}function jd({children:e,disabled:t,role:a="inherit",className:n}){const{text:o}=Yr(a),c=el(),i=Zr(),s=(0,l.useFacetWrap)(e),u=(0,l.useFacetWrap)(t),d=(0,l.useFacetWrap)(n),m=(0,l.useFacetMap)(((e,t)=>dl()("ce8c4be1ddc9476d017f",o.base,{[c.disabled]:e,[i.dimmer]:e},t)),[c,o,i],[u,d]);return r.createElement("fast-span",{className:m},r.createElement("fast-text",{text:s}))}const Hd=({children:e,disabled:t,role:a="inherit"})=>{const{text:n}=Yr(a),o=Zr(),c=el(),i=(0,l.useFacetWrap)(e),s=(0,l.useFacetWrap)(t),u=(0,l.useFacetMap)((e=>dl()("d0a4b3633729acae2e4d",n.base,o.dimmer,{[c.disabled]:e})),[c,n,o],[s]);return r.createElement("fast-div",{className:u},r.createElement("fast-text",{text:i}))};function Gd({disabled:e,label:t,description:a,children:n,focusGridIndex:o,transparent:c,disabledNarrationText:i}){const s=Ln(),u=(0,l.useFacetMap)((e=>e&&s),[s],[e]),d=(0,l.useFacetMap)(((e,t)=>e&&t?t:""),[],[e,(0,l.useFacetWrap)(null!=i?i:"")]);return r.createElement(Ud,{focusable:u,focusGridIndex:o,isTransparent:c,narrationText:d},r.createElement(jd,{disabled:e},t),r.createElement(Vi,{size:1}),n,r.createElement(Vi,{size:1}),r.createElement(Hd,{disabled:e},a))}const Vd={labelContainer:"edd18a6c5d3a0b4b3fef",container:"ceffc043dc1e3017c109",focused:"fdf1118a1f5447938a11",elevated:"eda16dccc59b819e5216",elevatedAndPressed:"d82e5d78a22cf3c330e3",image:"fcfb8a0556885f267e05",imageWithChildren:"b1d2ed7077a067dbb326"},$d={box:"f788ea777bcda202844a",elevated:"a1dc0e7849913d1f87a0",elevatedAndPressed:"d0af48e73c5124b65356",boxWrapper:"a2bfd53fb1c3b9ec3883",horizontal:"b16025ad1315984b6f1c",raised:"e02375698e7784613ee0",boxBorder:"a0ff505383aeda2eaf50",shine:"fb2da9d57eb02ac7826c",shineText:"bf9b74e7dcdd85ac9aa8",bottomOffset:"af8186092a5fd8ba51fb",borderMargin:"b705ea7427bac875f359"};function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Xd.apply(null,arguments)}function Kd(e){const t=(0,r.useRef)(e);t.current=e;const a=fi($d.box,$d.boxBorder,(0,l.isFacet)(t.current.className)?void 0:t.current.className),n=fi(Ws,(0,l.isFacet)(t.current.classNameFocused)?void 0:t.current.classNameFocused),o=(0,l.isFacet)(t.current.classNameHovered)?void 0:t.current.classNameHovered,c=(0,l.isFacet)(t.current.classNamePressed)?void 0:t.current.classNamePressed;return r.createElement(Wi,Xd({disabled:t.current.disabled,disableScrollIntoView:t.current.disableScrollIntoView,className:a,"data-testid":t.current["data-testid"],classNameFocused:n,classNameHovered:o,classNamePressed:c,classNameDisabled:t.current.classNameDisabled,delayedClick:t.current.delayedClick,gamepadAlias:t.current.gamepadAlias,focusGridIndex:t.current.focusGridIndex,inputLegend:t.current.inputLegend,innerRef:t.current.innerRef,onClick:t.current.onClick,onFocusChanged:t.current.onFocusChanged,onHoverChanged:t.current.onHoverChanged,onPressChanged:t.current.onPressChanged,soundEffectHovered:t.current.soundEffectHovered,soundEffectFocused:t.current.soundEffectFocused,soundEffectPressed:t.current.soundEffectPressed,pressDuration:t.current.pressDuration,tooltip:t.current.tooltip},"narrationText"in t.current?{narrationText:t.current.narrationText}:{getNarrationText:t.current.getNarrationText}),e.children)}const Yd=({borderTexture:e,variant:t,isDisabledFacet:a})=>null!=e?r.createElement(Ds,{className:e,withoutBorders:!0,hasTexture:!0,role:t}):r.createElement(Bs,{role:t,disabled:a});function qd(e){var t,a,n,o,c,i,s,u;const d=(0,r.useRef)(e);d.current=e;const m=(0,r.useRef)(null),p=null!==(t=d.current.classNameElevated)&&void 0!==t?t:$d.elevated,{shadow:f,background:g,text:E,border:b}=Yr(d.current.variant),h=Qr(d.current.variant),v=Jr("pressable",d.current.variant),F=v.main.interactive,y=null!=F,S=v.border.interactive,C=!0!==d.current.shouldNotDepressWhenPressed&&!1===y?null!==(a=d.current.classNameElevatedAndPressed)&&void 0!==a?a:$d.elevatedAndPressed:void 0,M=fi($d.boxWrapper,d.current.horizontal?$d.horizontal:void 0),w=d.current.isElevated&&!1===y?p:void 0,k=d.current.horizontal?$d.horizontal:void 0,P=!1===y&&null!==(n=f.interactive)&&void 0!==n?n:void 0,T=null==S&&null!==(o=b.interactive)&&void 0!==o?o:void 0,I=null!=S?$d.borderMargin:void 0,x=fi(E.interactive,F,w,k,P,T,I,d.current.containerClassName),O=fi($d.shine,$d.shineBackground,$d.shineText,(0,l.isFacet)(d.current.className)?void 0:d.current.className,y?void 0:g.interactive),A=fi(Ws,(0,l.isFacet)(d.current.classNameFocused)?void 0:d.current.classNameFocused),N=Ln(),R=(0,l.useFacetWrap)(e.disabled),L=(0,l.useFacetWrap)("narrationText"in e?e.narrationText:"function"==typeof e.getNarrationText),D=(0,l.useFacetMap)((e=>!1===e),[],[L]),_=(0,l.useFacetMap)(((e,t)=>!!e&&!t&&N),[N],[R,D]),B=d.current.focusStateOnElevatedFace?r.createElement("div",{className:$d.bottomOffset},r.createElement(Yd,{borderTexture:S,variant:d.current.variant})):r.createElement(Yd,{borderTexture:S,variant:d.current.variant});return r.createElement(Kd,Xd({disabled:d.current.disabled,disableScrollIntoView:d.current.disableScrollIntoView,className:x,classNameFocused:A,classNameHovered:d.current.classNameHovered,"data-testid":d.current["data-testid"],classNamePressed:d.current.isElevated?C:void 0,delayedClick:d.current.delayedClick,gamepadAlias:d.current.gamepadAlias,focusGridIndex:d.current.focusGridIndex,innerRef:m,inputLegend:d.current.inputLegend,onClick:d.current.onClick,onFocusChanged:d.current.onFocusChanged,onHoverChanged:d.current.onHoverChanged,soundEffectHovered:null!==(c=d.current.soundEffectHovered)&&void 0!==c?c:h.hover,soundEffectFocused:null!==(i=d.current.soundEffectFocused)&&void 0!==i?i:h.focus,soundEffectPressed:null!==(s=d.current.soundEffectPressed)&&void 0!==s?s:h.press,pressDuration:d.current.pressDuration,tooltip:d.current.tooltip},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),r.createElement(l.Mount,{when:_},r.createElement(Wi,Xd({classNameFocused:Ws,className:M,inputLegend:!1,tooltip:d.current.tooltip},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),B)),B,r.createElement("div",{className:O,style:null!=d.current.height?{height:`${d.current.height}rem`}:void 0},r.createElement(Ks,Xd({effect:d.current.reflection,disabled:y||d.current.disabled,role:d.current.variant},null!==(u=d.current.reflectionConfig)&&void 0!==u?u:{})),r.createElement("div",{className:`${$d.raised} ${$d.shine}`},e.children)))}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Qd.apply(null,arguments)}function Jd(e){let{imageSource:t,icon:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["imageSource","icon"]);const o=(0,l.useFacetWrap)(t),c=(0,l.useFacetWrap)(a);return r.createElement(r.Fragment,null,r.createElement(l.With,{data:o},(e=>r.createElement(pu,Qd({imageRendering:"pixelated"},n,{src:e})))),r.createElement(l.With,{data:c},(e=>{const t=(a=e,e=>{const t=(0,l.useFacetUnwrap)(a);return t===l.NO_VALUE?null:r.createElement(t,e)});var a;return r.createElement(t,n)})))}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Zd.apply(null,arguments)}const em=()=>{},tm=(e,t=!1)=>{switch(e){case"primary":case"secondary":return"secondaryButton";case"destructive":return"destructiveButton";default:return t?"secondaryButton":"primaryButton"}},am=(e="secondary")=>"hero"!==e?e:"primary",nm=e=>{const{children:t,variant:a="secondary",onClick:n=em,narrationPrefix:o="",narrationSuffix:c="",disabled:i,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,delayedClick:m,horizontal:p,isElevated:f=!0,gamepadAlias:g,disableScrollIntoView:E,inputLegend:b,onFocusChanged:h,tooltip:v}=e,{t:F}=ws("Button"),y=(0,l.useFacetMap)(((e,t)=>`${e} . ${F(".button")} . ${t}`),[F],[(0,l.useFacetWrap)(o),(0,l.useFacetWrap)(c)]);return r.createElement(qd,{isElevated:f,delayedClick:m,narrationText:y,className:Vd.container,"data-testid":e["data-testid"],classNameHovered:Vd.hovered,classNameFocused:Vd.focused,classNamePressed:Vd.pressed,classNameElevated:Vd.elevated,classNameElevatedAndPressed:Vd.elevatedAndPressed,disabled:i,inputLegend:b,gamepadAlias:g,disableScrollIntoView:E,onClick:n,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,horizontal:p,variant:am(a),onFocusChanged:h,tooltip:v},t)},rm=e=>{var t,a;const{children:n,buttonVariant:l="secondary",typeVariant:o,Icon:c,imgSrc:i,linebreak:s=!1,disabledTextOverride:u,role:d="inherit",hasShadow:m,disabled:p}=e,f=null!=n,g=Jr("button",d),E=null!=(null===(t=g.text)||void 0===t?void 0:t.interactive);return r.createElement("fast-div",{className:Vd.labelContainer},r.createElement(Sr,{role:d},r.createElement(Jd,{icon:c,imageSource:i,className:f?Vd.imageWithChildren:Vd.image,disabled:p})),f&&r.createElement(Zi,{align:s?"center":void 0,role:d,type:tm(l,E),variant:o,className:null===(a=g.text)||void 0===a?void 0:a.interactive,shadow:m,children:s?null!=u?u:n:r.createElement(ji,null,null!=u?u:n),interactive:!0}))},lm=e=>{let{children:t,imgSrc:a,Icon:n,linebreak:o=!1,disabledTextOverride:c,disabled:i,variant:s="secondary",narrationPrefix:u}=e,d=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix"]);const m=(0,l.useFacetWrap)(i),p=(0,l.useFacetMap)((e=>"hero"===s&&!e),[s],[m]);return r.createElement(nm,Zd({disabled:i,variant:s,narrationPrefix:null!=u?u:t},d),r.createElement(rm,{buttonVariant:s,imgSrc:a,Icon:n,linebreak:o,disabledTextOverride:c,disabled:i,hasShadow:p,role:am(s)},t))};let om;!function(e){e[e.HORIZONTAL_SHAKE=0]="HORIZONTAL_SHAKE"}(om||(om={}));const cm={[om.HORIZONTAL_SHAKE]:{className:"feb4b4d6efff64a2713d",duration:200}};function im(e=om.HORIZONTAL_SHAKE){const[t,a]=(0,l.useFacetState)(""),n=(0,r.useRef)(),o=(0,r.useCallback)((()=>{const t=cm[e];a(t.className),n.current=setTimeout((()=>{a("")}),t.duration)}),[e,a]);return(0,r.useEffect)((()=>()=>clearTimeout(n.current)),[]),[o,t]}let sm;!function(e){e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID"}(sm||(sm={}));const um=(0,l.createStaticFacet)("");function dm(e,t,a,n,r,o,c=um){return(0,l.useFacetMap)(((t,a,n,r,l)=>""!=r?r:[t,e(".narrationComponentType"),e(".disabled"),a||null!=o&&o||e(".empty"),n,l].filter((e=>null!=e)).join(" . ")),[e,o],[t,a,n,r,c])}function mm(e,t,a,n,r,o,c=um){return(0,l.useFacetMap)(((t,a,n,r,l)=>""!=r?r:[t,e(".narrationComponentType"),a||null!=o&&o||e(".empty"),n,l].filter((e=>null!=e&&""!=e)).join(" . ")),[e,o],[t,a,n,r,c])}const pm=()=>{},fm=()=>{};function gm({gamepadAlias:e,value:t,disabled:a=!1,maxLength:n,onChange:o=fm,onBlur:c,placeholder:i,description:s="",narrationOverride:u="",disabledNarrationOverride:d="",label:m,rows:p=1,focusGridIndex:f,disabledNarrationSuffix:g,isNumber:E,transparent:b,onKeyDown:h,onKeyUp:v,"data-testid":F}){const{t:y}=ws("TextField"),S=(0,l.useFacetWrap)(t),C=(0,l.useFacetWrap)(u),M=(0,l.useFacetWrap)(d),w=(0,l.useFacetWrap)(null!=g?g:""),k=(0,l.useFacetWrap)(s),P=(0,l.useFacetWrap)(m),T=(0,l.useFacetWrap)(a),I=(0,l.useFacetWrap)(b),[x,O]=im(om.HORIZONTAL_SHAKE),A=mm(y,P,S,k,C,i),N=dm(y,P,S,k,M,i,w),R=(0,r.useCallback)(((e,t)=>{null!=c&&c(e,t)===sm.INVALID&&x()}),[c,x]);return r.createElement(Gd,{disabled:T,label:P,focusGridIndex:f,description:k,transparent:I,disabledNarrationText:N},r.createElement(_d,{className:O,placeholder:i,disabled:a,label:P,gamepadAlias:e,maxLength:n,narrationText:A,value:t,onChange:o,rows:p,onBlur:R,isNumber:E,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,onKeyDown:h,onKeyUp:v,"data-testid":F}))}gm.WithButton=function({gamepadAlias:e,value:t,disabled:a=!1,label:n,maxLength:o,onChange:c=pm,onBlur:i,placeholder:s,description:u="",narrationOverride:d="",disabledNarrationOverride:m="",rows:p=1,focusGridIndex:f,buttonNarrationHint:g,disabledNarrationSuffix:E,isNumber:b,textDisabled:h=!1,buttonText:v,buttonInputLegend:F="",buttonDisabled:y=!1,buttonOnClick:S=pm,soundEffectButtonPressed:C,buttonVariant:M="secondary",buttonDisabledNarrationHint:w="","data-testid":k}){const{t:P}=ws("TextField"),{t:T}=ws("TextFieldWithButton"),I=(0,l.useFacetWrap)(t),x=(0,l.useFacetWrap)(d),O=(0,l.useFacetWrap)(m),A=(0,l.useFacetWrap)(null!=E?E:""),N=(0,l.useFacetWrap)(n),R=(0,l.useFacetWrap)(a),L=(0,l.useFacetWrap)(u),D=(0,l.useFacetMap)((e=>`${e} . ${T(".navigationHint")}`),[T],[L]),_=(0,l.useFacetWrap)(h),B=(0,l.useFacetWrap)(y),W=(0,l.useFacetWrap)(w),U=(0,l.useFacetMap)(((e,t)=>e?t:""),[],[B,W]),[z,j]=im(om.HORIZONTAL_SHAKE),H=mm(P,N,I,D,x,s,U),G=dm(P,N,I,D,O,s,A),V=(0,r.useCallback)(((e,t)=>{null!=i&&i(e,t)===sm.INVALID&&z()}),[i,z]);return r.createElement(Gd,{disabled:R,label:N,focusGridIndex:f,description:L,disabledNarrationText:G},r.createElement("div",{className:"faba1fd97ab8bd192937"},r.createElement("div",{className:"e17a439b8211de78184e"},r.createElement(_d,{className:j,placeholder:s,disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[_,R]),label:N,gamepadAlias:e,maxLength:o,narrationText:H,value:t,onChange:c,onBlur:V,isNumber:b,rows:p,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,"data-testid":k})),r.createElement(Vi,{size:2}),r.createElement("div",{className:"fd941bacc47184252757"},r.createElement(lm,{inputLegend:F,disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[B,R]),onClick:S,soundEffectPressed:C,narrationSuffix:g,variant:M},v))))},gm.ValidationResult=sm;const Em="fac195f34f14cfea3122";function bm({percentage:e,tall:t=!1,fillColor:a="#2e6be5",fillColorThresholds:n,fillComplement:o=!1}){const c=(0,l.useFacetWrap)(e),i=(0,l.useFacetWrap)(t);(e<0||e>1)&&console.warn("Percentage needs to be a valid number from 0 to 1");const s=(0,r.useMemo)((()=>null!=n?Object.keys(n).map((e=>e)).sort(((e,t)=>e>t?1:-1)):void 0),[n]),u=(0,l.useFacetMap)(((e,t)=>{if(null==s||null==n)return e;if(0===s.length)return console.warn("Empty thresholds object passed to ProgressBar."),e;for(let e=s.length;e>=0;e--)if(t>=s[e])return n[s[e]];return e}),[n,s],[(0,l.useFacetWrap)(a),c]),d=(0,l.useFacetMap)((e=>"string"==typeof e?e:!0===e?"#ffb366":void 0),[],[(0,l.useFacetWrap)(o)]),m=!1===(0,l.useFacetUnwrap)(o);return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()("faaebecc5575e2689c18",{[Em]:e})),[],[i]),style:{backgroundColor:d}},r.createElement(Ks,{effect:"bevel",thin:!0,reversed:m}),r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()("a0e0648835365998d124",{[Em]:e})),[],[i]),style:{width:(0,l.useFacetMap)((e=>`${Math.max(Math.min(Math.round(100*e),100),0)}%`),[],[c]),backgroundColor:u}},r.createElement(Ks,{effect:"bevel",thin:!0,right:!1})))}const hm={InputLegend:"f87c6d96fce29c72e780",hidden:"db6551e5cddd84e76296"},vm={XboxButtonA:"afe67c02db7a57de48a4",XboxButtonB:"e0d84e276b0c71b387c3",XboxButtonX:"c8875e9fe08b2bb47e51",XboxButtonY:"a713e4f64d6683c2609a",XboxButtonStart:"a0308dd232b262e3d85e",XboxButtonLT:"b2ca8298f683abd13b7d",XboxButtonRT:"e163f0c40f69b6661008",XboxButtonLB:"e74f85e196f7a9482ff0",XboxButtonRB:"ab3aaf81d8e22d6f07f8",XboxButtonLeft:"e77a4384b58ed30f0157",XboxButtonRight:"c0add7777e914bca8e09",XboxButtonUp:"e5bcd069f9225412b708",XboxButtonDown:"dc9f4cb44a635f349ad0",XboxButtonSelect:"f088c322dbbfdae9e0a8",XboxButtonL3:"a768905b8568f91751b6",XboxButtonR3:"caa5450a0ae056f67f23",XboxButtonLS:"bf409ee525127b6fb0a7",XboxButtonRS:"b8b953a11bab33f7a3d8",iconSize:"ae2cb63a450487413c6d",ABXY:"b1119f0598339a1c426f",triggers:"d54a1359b15864be8020",bumpers:"f7b926186c8f61e2da8f",flatTriggers:"fd4fef9fb9e76ff679ba",dButton:"c4de96422b272f4c2ab9",startXbox:"a480981df030298f61ad",toggleViewXbox:"a966f37c8875d36ce2f8",stick:"c2eb2d01cf55c81a9285"},Fm={[j.A]:dl()(vm.iconSize,vm.XboxButtonA,vm.ABXY),[j.B]:dl()(vm.iconSize,vm.XboxButtonB,vm.ABXY),[j.X]:dl()(vm.iconSize,vm.XboxButtonX,vm.ABXY),[j.Y]:dl()(vm.iconSize,vm.XboxButtonY,vm.ABXY),[j.START]:dl()(vm.iconSize,vm.XboxButtonStart,vm.startXbox),[j.LEFT_TRIGGER]:dl()(vm.iconSize,vm.XboxButtonLT,vm.triggers),[j.RIGHT_TRIGGER]:dl()(vm.iconSize,vm.XboxButtonRT,vm.triggers),[j.LEFT_BUMPER]:dl()(vm.iconSize,vm.XboxButtonLB,vm.bumpers),[j.RIGHT_BUMPER]:dl()(vm.iconSize,vm.XboxButtonRB,vm.bumpers),[j.LEFT]:dl()(vm.iconSize,vm.XboxButtonLeft,vm.dButton),[j.RIGHT]:dl()(vm.iconSize,vm.XboxButtonRight,vm.dButton),[j.UP]:dl()(vm.iconSize,vm.XboxButtonUp,vm.dButton),[j.DOWN]:dl()(vm.iconSize,vm.XboxButtonDown,vm.dButton),[j.SELECT]:dl()(vm.iconSize,vm.XboxButtonSelect,vm.toggleViewXbox),[j.L3]:dl()(vm.iconSize,vm.XboxButtonL3,vm.stick),[j.R3]:dl()(vm.iconSize,vm.XboxButtonR3,vm.stick),[j.LEFT_ANALOG_LEFT]:dl()(vm.iconSize,vm.XboxButtonLS,vm.stick),[j.RIGHT_ANALOG_LEFT]:dl()(vm.iconSize,vm.XboxButtonRS,vm.stick),large:vm.large,small:vm.small},ym={PS4ButtonA:"b1a4434b6e7870bc1210",PS4ButtonB:"ead56b4dd880469962c0",PS4ButtonX:"e35abb7ff949223142c7",PS4ButtonY:"bb99de3e78fdee0b40c8",PS4ButtonStart:"ab752c155af571abc4b7",PS4ButtonLT:"dc90529c346ab247b171",PS4ButtonRT:"f78458019505c56292aa",PS4ButtonLB:"ab30b9cb8a7102cf14ed",PS4ButtonRB:"f06e7c7509096864c2fe",PS4ButtonLeft:"e7e86e366f085a2b8e53",PS4ButtonRight:"f3c24723f4eaba209c5c",PS4ButtonUp:"bc99da8cb377cbd51c9a",PS4ButtonDown:"c4449719d30731ffdb94",PS4ButtonTouchpad:"d12e744a4d6c9fb98edf",PS4ButtonL3:"a1cbf43b66b82d426300",PS4ButtonR3:"e56ff4bc570300022afc",PS4ButtonLS:"f2d71f0e3f956e9fd7f5",PS4ButtonRS:"db123b7575ff71977118",iconSize:"bbfeac4de1c9bc92bd1b",ABXY:"addf03d8bfe270d0c78b",triggers:"f73e21b88cfd660ec741",bumpers:"c1b4aa2c4d40b8b27c7e",flatTriggers:"d2aed7627f9d239911f1",dButton:"a5d126ea0403c3233ba5",optionsPS4:"ef02012a8dec2a729af8",sharePS4:"f3d4db353ec9c332bf8a",stick:"e859056b0a432d7e8fb8"},Sm={[j.A]:dl()(ym.iconSize,ym.PS4ButtonA,ym.ABXY),[j.B]:dl()(ym.iconSize,ym.PS4ButtonB,ym.ABXY),[j.X]:dl()(ym.iconSize,ym.PS4ButtonX,ym.ABXY),[j.Y]:dl()(ym.iconSize,ym.PS4ButtonY,ym.ABXY),[j.START]:dl()(ym.iconSize,ym.PS4ButtonStart,ym.optionsPS4),[j.LEFT_TRIGGER]:dl()(ym.iconSize,ym.PS4ButtonLT,ym.flatTriggers),[j.RIGHT_TRIGGER]:dl()(ym.iconSize,ym.PS4ButtonRT,ym.flatTriggers),[j.LEFT_BUMPER]:dl()(ym.iconSize,ym.PS4ButtonLB,ym.bumpers),[j.RIGHT_BUMPER]:dl()(ym.iconSize,ym.PS4ButtonRB,ym.bumpers),[j.LEFT]:dl()(ym.iconSize,ym.PS4ButtonLeft,ym.dButton),[j.RIGHT]:dl()(ym.iconSize,ym.PS4ButtonRight,ym.dButton),[j.UP]:dl()(ym.iconSize,ym.PS4ButtonUp,ym.dButton),[j.DOWN]:dl()(ym.iconSize,ym.PS4ButtonDown,ym.dButton),[j.SELECT]:dl()(ym.iconSize,ym.PS4ButtonTouchpad,ym.sharePS4),[j.L3]:dl()(ym.iconSize,ym.PS4ButtonL3,ym.stick),[j.R3]:dl()(ym.iconSize,ym.PS4ButtonR3,ym.stick),[j.LEFT_ANALOG_LEFT]:dl()(ym.iconSize,ym.PS4ButtonLS,ym.stick),[j.RIGHT_ANALOG_LEFT]:dl()(ym.iconSize,ym.PS4ButtonRS,ym.stick),large:ym.large,small:ym.small},Cm={PS5ButtonA:"dace5605f129b53aeb88",PS5ButtonB:"afeee0aff6987ce54646",PS5ButtonX:"eb9ef1f7458594b16027",PS5ButtonY:"ada70555f962dceafc1a",PS5ButtonStart:"a0e0d0e13a9055a9d463",PS5ButtonLT:"c3ec480c113fcdd0c3e4",PS5ButtonRT:"f656676e990180af7826",PS5ButtonLB:"b47066162b6813e54514",PS5ButtonRB:"f59ec2e0973fbac27fc4",PS5ButtonLeft:"e843b1df3452c1913504",PS5ButtonRight:"e3100b9f242e02d766c9",PS5ButtonUp:"a69fe669c6ce663bb24d",PS5ButtonDown:"ddff13639de975cc7f90",PS5ButtonTouchpad:"f6620c1f5b6c497c5720",PS5ButtonL3:"ab16bc4bc1455f167b91",PS5ButtonR3:"a117988a82bd495ea12b",PS5ButtonLS:"f7b9445854cbfb072089",PS5ButtonRS:"c32d04f44c87f78178c4",iconSize:"a18a681897d0917cbf59",ABXY:"ae0410cb8d390bd8d37e",triggers:"d21b0ea4a2aa7e4b8015",bumpers:"c68b3d6dcd1227038d79",flatTriggers:"d66b7beee38c4b2d7ef2",dButton:"e47886ff69e96decbe0b",optionsPS5:"d0cd8ead3e51c4467e93",sharePS5:"fabacb42ded5932c417e",stick:"da5398f927d9e86c80c5"},Mm={[j.A]:dl()(Cm.iconSize,Cm.PS5ButtonA,Cm.ABXY),[j.B]:dl()(Cm.iconSize,Cm.PS5ButtonB,Cm.ABXY),[j.X]:dl()(Cm.iconSize,Cm.PS5ButtonX,Cm.ABXY),[j.Y]:dl()(Cm.iconSize,Cm.PS5ButtonY,Cm.ABXY),[j.START]:dl()(Cm.iconSize,Cm.PS5ButtonStart,Cm.optionsPS5),[j.LEFT_TRIGGER]:dl()(Cm.iconSize,Cm.PS5ButtonLT,Cm.flatTriggers),[j.RIGHT_TRIGGER]:dl()(Cm.iconSize,Cm.PS5ButtonRT,Cm.flatTriggers),[j.LEFT_BUMPER]:dl()(Cm.iconSize,Cm.PS5ButtonLB,Cm.bumpers),[j.RIGHT_BUMPER]:dl()(Cm.iconSize,Cm.PS5ButtonRB,Cm.bumpers),[j.LEFT]:dl()(Cm.iconSize,Cm.PS5ButtonLeft,Cm.dButton),[j.RIGHT]:dl()(Cm.iconSize,Cm.PS5ButtonRight,Cm.dButton),[j.UP]:dl()(Cm.iconSize,Cm.PS5ButtonUp,Cm.dButton),[j.DOWN]:dl()(Cm.iconSize,Cm.PS5ButtonDown,Cm.dButton),[j.SELECT]:dl()(Cm.iconSize,Cm.PS5ButtonTouchpad,Cm.sharePS5),[j.L3]:dl()(Cm.iconSize,Cm.PS5ButtonL3,Cm.stick),[j.R3]:dl()(Cm.iconSize,Cm.PS5ButtonR3,Cm.stick),[j.LEFT_ANALOG_LEFT]:dl()(Cm.iconSize,Cm.PS5ButtonLS,Cm.stick),[j.RIGHT_ANALOG_LEFT]:dl()(Cm.iconSize,Cm.PS5ButtonRS,Cm.stick),large:Cm.large,small:Cm.small},wm={NintendoButtonA:"a9168fe814e1aba70bb5",NintendoButtonB:"ea98e29807574275f9da",NintendoButtonX:"ebf307c2c9f919004174",NintendoButtonY:"f41e6b560f54280bea82",NintendoButtonStart:"b29de75a7345cd747791",NintendoButtonLT:"f1575aa232480af6ab2a",NintendoButtonRT:"fceed6ee129743bc9e54",NintendoButtonLB:"d284166ff79b5960d37b",NintendoButtonRB:"bb5f985684091594d4ad",NintendoButtonLeft:"e2d911521420ce990792",NintendoButtonRight:"b7851b0092cbac0a709b",NintendoButtonUp:"df39cc800872cd0089c6",NintendoButtonDown:"be86db6d0e0f17b322bc",NintendoButtonSelect:"f203b23e1fce0c4af72b",NintendoButtonL3:"e1e8d3839e4e09c832af",NintendoButtonR3:"c088759cadc69f5a9042",NintendoButtonLS:"bb10d4d2ed3384c1b792",NintendoButtonRS:"e11044bc2dc175439a5d",iconSize:"bf51c6fc184cc74276f2",ABXY:"e782a105e336f6661239",triggers:"d32ff0cc1c95db095797",bumpers:"ebe621f1a993f4c05ed3",flatTriggers:"f5d90d7ea58a0e7416db",dButton:"e242e308920227ee6839",homeNintendo:"f4129dc529044d63f13c",minusNintendo:"a66eac5d4880b0cecf61",stick:"e00a679155f4b33f0bd2"},km={[j.A]:dl()(wm.iconSize,wm.NintendoButtonA,wm.ABXY),[j.B]:dl()(wm.iconSize,wm.NintendoButtonB,wm.ABXY),[j.X]:dl()(wm.iconSize,wm.NintendoButtonX,wm.ABXY),[j.Y]:dl()(wm.iconSize,wm.NintendoButtonY,wm.ABXY),[j.START]:dl()(wm.iconSize,wm.NintendoButtonStart,wm.homeNintendo),[j.LEFT_TRIGGER]:dl()(wm.iconSize,wm.NintendoButtonLT,wm.flatTriggers),[j.RIGHT_TRIGGER]:dl()(wm.iconSize,wm.NintendoButtonRT,wm.flatTriggers),[j.LEFT_BUMPER]:dl()(wm.iconSize,wm.NintendoButtonLB,wm.bumpers),[j.RIGHT_BUMPER]:dl()(wm.iconSize,wm.NintendoButtonRB,wm.bumpers),[j.LEFT]:dl()(wm.iconSize,wm.NintendoButtonLeft,wm.dButton),[j.RIGHT]:dl()(wm.iconSize,wm.NintendoButtonRight,wm.dButton),[j.UP]:dl()(wm.iconSize,wm.NintendoButtonUp,wm.dButton),[j.DOWN]:dl()(wm.iconSize,wm.NintendoButtonDown,wm.dButton),[j.SELECT]:dl()(wm.iconSize,wm.NintendoButtonSelect,wm.minusNintendo),[j.L3]:dl()(wm.iconSize,wm.NintendoButtonL3,wm.stick),[j.R3]:dl()(wm.iconSize,wm.NintendoButtonR3,wm.stick),[j.LEFT_ANALOG_LEFT]:dl()(wm.iconSize,wm.NintendoButtonLS,wm.stick),[j.RIGHT_ANALOG_LEFT]:dl()(wm.iconSize,wm.NintendoButtonRS,wm.stick),large:wm.large,small:wm.small},Pm=new Set([pe.BACKSPACE,pe.TAB,pe.ENTER,pe.SHIFT,pe.CTRL,pe.ALT,pe.CAPS_LOCK,pe.ESCAPE,pe.SPACE,pe.PG_UP,pe.PG_DOWN,pe.END,pe.HOME,pe.LEFT,pe.UP,pe.RIGHT,pe.DOWN,pe.INSERT,pe.DELETE,pe.F1,pe.F3,pe.F4,pe.F5,pe.F6,pe.F7,pe.F8,pe.F9,pe.F10,pe.F11,pe.F12]),Tm=new Map([[pe.BRACKET_OPEN,"fa5a07fb783bccb0ba32"],[pe.BRACKET_CLOSE,"a08fd360394baef4205d"],[pe.F2,"dd4a19c42f7537e63bb3"],[pe.KEY_A,"fdc99418a0f178041158"],[pe.KEY_B,"f46ffde80e7e9f49fb42"],[pe.KEY_C,"d435e3be8e30125d8b8c"],[pe.KEY_D,"cd531cf667ed41c81678"],[pe.KEY_E,"d771c9e703c6ed363817"],[pe.KEY_F,"c767e092c56cccd6114d"],[pe.KEY_G,"e3338926d1c8f81e8425"],[pe.KEY_H,"eb0359f84be7039ff103"],[pe.KEY_I,"da956a2fa386ddf05f0b"],[pe.KEY_J,"ffea797ac48a4f26f30b"],[pe.KEY_K,"b230747dac4848d2afe6"],[pe.KEY_L,"b41d146dd975973f021d"],[pe.KEY_M,"fc934853a3c8577eb305"],[pe.KEY_N,"eed5db5dc4c8b6fd0872"],[pe.KEY_O,"a16d8dab4d3c9217729c"],[pe.KEY_P,"efc2713c8ada5232d265"],[pe.KEY_Q,"b211db580d466bf0e718"],[pe.KEY_R,"c20489070daed5596361"],[pe.KEY_S,"e55c85744d60c646c882"],[pe.KEY_T,"e0af6e4bf0118d979515"],[pe.KEY_U,"bfb375846bdcff84c67d"],[pe.KEY_V,"f4232d427b39f62ae5f9"],[pe.KEY_W,"b779714f3e379358bb60"],[pe.KEY_X,"f5df01e436466cb481a8"],[pe.KEY_Y,"a9ac6ac5e30bee5bdc53"],[pe.KEY_Z,"b98faf7802f743fd9c85"],[pe.SLASH,"c43361adda9ca914115d"],[pe.ALT,"d2eef99cf749a9363141"],[pe.DOWN,"d48ee3bb14dfac89bdc6"],[pe.LEFT,"b1b7f6359b6ef61ffa9b"],[pe.RIGHT,"d1810448df742780088d"],[pe.UP,"a15428c38e3885b7d4fd"],[pe.CTRL,"a54f927509b32b0c7666"],[pe.ENTER,"c0f6b48b8d3114b1ac7b"],[pe.ESCAPE,"b67f30734171c112412f"],[pe.SHIFT,"f033c0518daaaa86bfea"],[pe.SPACE,"e56640e9ca89f08f1416"],[pe.TAB,"e26a1a62c131310b2dc6"]]),Im=new Map([[pe.MOUSE_MOVEMENT,"ecb6b8f8c9e422fe0c8a"],[pe.MOUSE_BUTTON_LEFT,"cd27cfd786c7e24de2c4"],[pe.MOUSE_BUTTON_RIGHT,"c18a49075fd030190a2d"],[pe.MOUSE_BUTTON_MIDDLE,"f4521892dbfc4391b5c1"],[pe.MOUSE_WHEEL,"a83863f57c6a42f87e6f"]]),xm=function({button:e}){const t=pt(),a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)(((e,t)=>{const a=(n=t)===Ye.XBOX?Fm:n===Ye.PS4?Sm:n===Ye.PS5?Mm:n===Ye.NX_HANDHELD||n===Ye.NX_TV?km:Fm;var n;return a[e]?a[e]:""}),[],[a,t]);return r.createElement("fast-div",{className:n})},Om=({keyCode:e})=>{const{t}=ws("ButtonIcon.Keyboard"),a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)((e=>Tm.has(e)?Tm.get(e):"e5eef829eeb09ab9fc14"),[],[a]),o=(0,l.useFacetMap)((e=>Pm.has(e)?t(`.${e}`):Tm.has(e)?"":String.fromCharCode(e)),[t],[a]);return r.createElement("fast-div",{className:n},r.createElement("fast-text",{text:o}))},Am=({mouseButton:e})=>{const t=(0,l.useFacetWrap)(e);return r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>Boolean(e)),[],[t])},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>Im.get(e)),[],[t])}))};function Nm(e){return"button"in e?r.createElement(xm,{button:e.button}):"mouseButton"in e?r.createElement(Am,{mouseButton:e.mouseButton}):r.createElement(Om,{keyCode:e.keyCode})}function Rm(e){const{label:t,hidden:a=!1,onClick:n,onHoverChanged:o}=e,c=(0,l.useFacetMap)((e=>dl()("af6ad01c65ecda6576cd",{bea4a7f60b16cd3e977e:e})),[],[(0,l.useFacetWrap)(a)]),i=r.createElement(r.Fragment,null,r.createElement("div",{className:"f57ec2e97674c0e073c4"},r.createElement(Nm,e)),r.createElement("span",{className:"ed879074c54b7697cd93"},r.createElement("fast-text",{text:t})));return n?r.createElement(Wi,{narrationText:t,inputLegend:t,onHoverChanged:o,onClick:n,className:c,classNameHovered:"dcb274811c2195fa6287",classNamePressed:"c88a1db8c444e2b461d6",nonFocusable:!0},i):r.createElement("fast-div",{className:c},i)}function Lm({enableMouseInputLegend:e=!1,enableKeyboardInputLegend:t=!1,isClickable:a=!1,ignoreList:n,presentation:o}){var c,i;const[s]=qa(),u=xe();return r.createElement(r.Fragment,null,r.createElement(Dm,{ignoreList:null!==(c=null==n?void 0:n.keyboard)&&void 0!==c?c:{},presentation:o,isClickable:a,enableMouse:e,visible:(0,l.useFacetMap)(((e,a,n)=>e&&!a&&!0===n.isKeyboardHintsEnabled&&!0===t),[t],[lt(),s,u])}),r.createElement(_m,{ignoreList:null!==(i=null==n?void 0:n.gamepad)&&void 0!==i?i:{},presentation:o,isClickable:a,visible:(0,l.useFacetMap)(((e,t,a)=>e&&!t&&!0===a.isControllerHintsEnabled),[],[rt(),s,u])}))}function Dm({presentation:e,enableMouse:t,isClickable:a,visible:n,ignoreList:o}){const c=Ne(),i=(0,l.useFacetMap)((({swapABButtons:e})=>e),[],[c]),s=(0,l.useFacetMap)((({swapXYButtons:e})=>e),[],[c]),u=ze(),d=Ge(),[m]=ye(),p=(0,l.useFacetUnwrap)(m),f=p===l.NO_VALUE?be:p,g=(0,l.useFacetMap)((e=>({[j.B]:null==e[j.B]||!0===o[j.B],[j.LEFT]:null==e[j.LEFT]||!0===o[j.LEFT],[j.RIGHT]:null==e[j.RIGHT]||!0===o[j.RIGHT],[j.UP]:null==e[j.UP]||!0===o[j.UP],[j.DOWN]:null==e[j.DOWN]||!0===o[j.DOWN],[j.X]:null==e[j.X]||!0===o[j.X],[j.Y]:null==e[j.Y]||!0===o[j.Y],[j.START]:null==e[j.START]||!0===o[j.START],[j.A]:t||null==e[j.A]||!0===o[j.A],Mouse_A:!t||null==e[j.A]})),[t,o],[u]),E=(0,l.useFacetMap)((e=>{let t=!0;const a=Object.keys(e);for(let n=0;n<a.length;n++)if(!e[a[n]]){t=!1;break}return t}),[],[g]);return r.createElement("fast-div",{className:(0,l.useFacetMap)(((e,t)=>e&&!t?hm.InputLegend:hm.hidden),[],[n,E])},r.createElement(Lm.Wrapper,{presentation:e,left:r.createElement(Rm,{keyCode:(0,l.useFacetMap)((e=>f[e?j.A:j.B][0]),[f],[i]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.B])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.B):void 0,hidden:(0,l.useFacetMap)((e=>e[j.B]),[],[g])}),right:r.createElement(r.Fragment,null,r.createElement(Rm,{keyCode:f[j.LEFT][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.LEFT):void 0,hidden:(0,l.useFacetMap)((e=>e[j.LEFT]),[],[g])}),r.createElement(Rm,{keyCode:f[j.RIGHT][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.RIGHT):void 0,hidden:(0,l.useFacetMap)((e=>e[j.RIGHT]),[],[g])}),r.createElement(Rm,{keyCode:f[j.UP][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.UP])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.UP):void 0,hidden:(0,l.useFacetMap)((e=>e[j.UP]),[],[g])}),r.createElement(Rm,{keyCode:f[j.DOWN][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.DOWN])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.DOWN):void 0,hidden:(0,l.useFacetMap)((e=>e[j.DOWN]),[],[g])}),r.createElement(Rm,{keyCode:(0,l.useFacetMap)((e=>f[e?j.Y:j.X][0]),[f],[s]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.X])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.X):void 0,hidden:(0,l.useFacetMap)((e=>e[j.X]),[],[g])}),r.createElement(Rm,{keyCode:(0,l.useFacetMap)((e=>f[e?j.X:j.Y][0]),[f],[s]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.Y])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.Y):void 0,hidden:(0,l.useFacetMap)((e=>e[j.Y]),[],[g])}),r.createElement(Rm,{keyCode:f[j.START][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.START])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.START):void 0,hidden:(0,l.useFacetMap)((e=>e[j.START]),[],[g])}),r.createElement(Rm,{keyCode:(0,l.useFacetMap)((e=>f[e?j.B:j.A][0]),[f],[i]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[u]),onClick:a?()=>null==d?void 0:d(j.A):void 0,hidden:(0,l.useFacetMap)((e=>e[j.A]),[],[g])}),r.createElement(Rm,{mouseButton:ge[j.A][0],label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[u]),hidden:(0,l.useFacetMap)((e=>e.Mouse_A),[],[g])}))}))}function _m({presentation:e,isClickable:t,visible:a}){const n=Ne(),o=(0,l.useFacetMap)((({swapABButtons:e})=>e),[],[n]),c=(0,l.useFacetMap)((({swapXYButtons:e})=>e),[],[n]),i=ze(),s=Ge();return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e?hm.InputLegend:hm.hidden),[],[a])},r.createElement(Lm.Wrapper,{presentation:e,left:r.createElement(Rm,{button:(0,l.useFacetMap)((e=>e?j.A:j.B),[],[o]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.B])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.A):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.B]),[],[i])}),right:r.createElement(r.Fragment,null,r.createElement(Rm,{button:j.LEFT,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.LEFT):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.LEFT]),[],[i])}),r.createElement(Rm,{button:j.LEFT_TRIGGER,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.LEFT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.LEFT_TRIGGER):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.LEFT_TRIGGER]),[],[i])}),r.createElement(Rm,{button:j.RIGHT_TRIGGER,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.RIGHT_TRIGGER):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.RIGHT_TRIGGER]),[],[i])}),r.createElement(Rm,{button:j.RIGHT,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.RIGHT):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.RIGHT]),[],[i])}),r.createElement(Rm,{button:j.UP,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.UP])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.UP):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.UP]),[],[i])}),r.createElement(Rm,{button:j.DOWN,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.DOWN):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.DOWN]),[],[i])}),r.createElement(Rm,{button:(0,l.useFacetMap)((e=>e?j.Y:j.X),[],[c]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.X])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.X):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.X]),[],[i])}),r.createElement(Rm,{button:(0,l.useFacetMap)((e=>e?j.X:j.Y),[],[c]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.Y])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.Y):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.Y]),[],[i])}),r.createElement(Rm,{button:(0,l.useFacetMap)((e=>e?j.B:j.A),[],[o]),label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.A])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.A):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.A]),[],[i])}),r.createElement(Rm,{button:j.START,label:(0,l.useFacetMap)((e=>{var t;return null!==(t=e[j.START])&&void 0!==t?t:""}),[],[i]),onClick:t?()=>null==s?void 0:s(j.START):void 0,hidden:(0,l.useFacetMap)((e=>null==e[j.START]),[],[i])}))}))}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bm.apply(null,arguments)}Lm.displayName="InputLegend",Lm.Wrapper=function({safeZone:e,left:t,right:a,presentation:n}){const l=go(),o=e||l;return r.createElement("div",{className:dl()("ef62c8b87039fdf5a5f2",n),style:{height:`calc(4rem + ${o.bottom}px)`}},r.createElement("div",{className:"fa24c9ff1e95542b55c4",style:{height:"4rem",paddingRight:o.right+"px",paddingLeft:o.left+"px"}},null!=t?r.createElement("div",{className:"df1f655856cb05503081"},t):null,null!=a?r.createElement("div",{className:"e86ac9a6fa98c10c99c2"},a):null))},Lm.Space=function({extraSpace:e,addSafeZone:t=!0}){const a=(0,l.useFacetMap)((e=>dl()(hm.wrapper,{[hm.hidden]:!e})),[],[rt()]),n=go(),o=(0,l.useFacetWrap)(t),c=(0,l.useFacetMap)((e=>e?`calc(4rem + ${n.bottom}px)`:"4rem"),[n],[o]);return r.createElement("fast-div",{className:a},r.createElement("fast-div",{style:{height:c}}),e)},Lm.InputHint=Rm,Lm.Icon=({button:e})=>{const t=lt(),a=(0,l.useFacetUnwrap)(t),n=function(e){const t=(0,l.useFacetWrap)(e),a=ze(),n=lt(),[r]=ye(),o=Ne(),c=(0,l.useFacetMap)(((e,t,a,n,{swapABButtons:r,swapXYButtons:l})=>{var o,c;const i=n;let s=e;r&&(s===j.A?s=j.B:s===j.B&&(s=j.A)),l&&(s===j.Y?s=j.X:s===j.X&&(s=j.Y));const u=a?i[s][0]:s;return{keyCode:null!=u?u:"",keyCodeGamepad:null!==(o=s)&&void 0!==o?o:"",keyCodeKeyboard:null!==(c=i[s][0])&&void 0!==c?c:"",inputLegend:t[e],isAvailable:e in t}}),[],[t,a,n,r,o]);return c}(e),o=(0,l.useFacetMap)((e=>e.keyCodeGamepad),[],[n]),c=(0,l.useFacetMap)((e=>e.keyCodeKeyboard),[],[n]),i=(0,l.useFacetMap)((e=>e.isAvailable),[],[n]),s=(0,l.useFacetUnwrap)(i),u=xe(),d=(0,l.useFacetUnwrap)(u);if(!1===s)return null;if(!0===a){if(d!==l.NO_VALUE&&d.isKeyboardHintsEnabled)return r.createElement(Om,{keyCode:c})}else if(d!==l.NO_VALUE&&d.isControllerHintsEnabled)return r.createElement(xm,{button:o});return null};const Wm=e=>{e.stopPropagation()},Um=()=>{},zm=(0,r.createContext)({isModalVisible:(0,l.createFacet)({initialValue:!1}),onMount:()=>Um});function jm(e){const{onMount:t}=(0,r.useContext)(zm);(0,r.useEffect)((()=>t(e)),[t,e])}const Hm=(0,r.createContext)({getId:()=>0,set:()=>{}}),Gm=(0,r.createContext)((0,l.createFacet)({initialValue:""})),Vm=(0,r.createContext)((0,l.createFacet)({initialValue:""}));function $m({children:e,defaultFocusAlias:t,overlay:a=!0,onOverlayClick:n,role:o="neutral",modalTypeNarrationHint:c}){const{t:i}=ws("Modal"),s=(0,r.useRef)(0),[u,d]=(0,l.useFacetState)([]),m=Yr(o),[p,f]=(0,l.useFacetState)(""),g=(0,l.useFacetMap)((e=>e.filter((e=>e.length>0)).slice(1).join(" . ")),[],[u]);(0,l.useFacetEffect)((e=>{const t=e.filter((e=>e.length>0)),a=[t[0],i(".narrationModalComponentType"),c,...t.slice(1)].filter(Boolean).join(" . ");f(a)}),[c,f,i],[u]);const E=(0,r.useRef)(null),b=(0,l.useFacetMemo)((e=>e[0]),[],[u]);jm();const h=a?$m.Overlay:r.Fragment,v=a?{onClick:n}:{};return r.createElement(Sr,{role:o},r.createElement(h,v,r.createElement(Gm.Provider,{value:b},r.createElement(Vm.Provider,{value:g},r.createElement(Hm.Provider,{value:(0,r.useMemo)((()=>({getId:()=>s.current++,set:(e,t)=>d((a=>a===l.NO_VALUE?[]:(a[e]=!1===t?"":t,a)))})),[d])},r.createElement(bd,{text:p},r.createElement("div",{ref:E,className:dl()("f6272c6625666f5e18ec",m.border.base),onClick:Wm},r.createElement(uu,{containerRef:E,shouldBindFocus:!0,delegateFocusByAlias:t,delegateFocusFromMemory:!0},e))))))))}const Xm=(e,t=0)=>{const a=(0,r.useContext)(Hm),[n,o]=(0,l.useFacetState)(l.NO_VALUE);(0,r.useEffect)((()=>{n.get()==l.NO_VALUE&&o(a.getId())}),[n,o,a]);const c=(0,r.useRef)();(0,l.useFacetEffect)(((e,n)=>{(null==c.current||Date.now()-c.current>t)&&(a.set(e,n),c.current=Date.now())}),[a,t],[n,(0,l.useFacetWrap)(e)])};let Km;!function(e){e.Ordered="ordered",e.Unordered="unordered"}(Km||(Km={}));const Ym=({items:e,listType:t})=>{const a=(0,l.useFacetWrap)(e);return r.createElement(l.Map,{array:a},((e,n)=>r.createElement(qm,{items:a,item:e,index:n,listType:t})))},qm=({items:e,item:t,index:a,listType:n=Km.Unordered})=>{const o=(0,l.useFacetMap)((e=>e.length-1!==a),[a],[e]);return r.createElement(r.Fragment,null,r.createElement(Qm,{index:a,text:t,listType:n}),r.createElement(l.Mount,{when:o},r.createElement(Vi,{size:2})))},Qm=({index:e,text:t,listType:a})=>{const n=a===Km.Unordered?"":`${e+1}.`,o=(0,l.useFacetMap)((e=>`${n} ${e}`),[n],[t]),c=Pu(),i=a===Km.Unordered?t:o;return Xm(i),r.createElement(Wi.Maybe,{isInteractive:c,narrationText:i,className:"cc67074b61afa6ba817d"},r.createElement(Zi,{type:"captionLong",align:"left",indent:!0},o))};var Jm;$m.Header=({children:e,onBack:t,onClose:a,titlebarGamepadAlias:n,closeButtonNarrationSuffix:o,hideCloseButton:c,role:i="neutral"})=>{var s,u;Xm(e);const d=wu.Buttons.Close.useLocalization().t(".inputLegend"),m=wu.Buttons.Back.useLocalization().t(".inputLegend");c=(0,l.useFacetWrap)(null!==(s=c)&&void 0!==s&&s);const p=(0,l.useFacetMap)((e=>e?"c8b49e3f843a754077e1":""),[],[c]),f=(0,l.useFacetMap)((e=>({button:j.B,inputLegend:null!=t?m:d,disabled:!0===e||null==a})),[t,a,d,m],[c]),g=(0,l.useFacetMap)((e=>!e&&d),[d],[c]);return r.createElement(r.Fragment,null,r.createElement(Ed,{options:f,onClick:null!==(u=null!=t?t:a)&&void 0!==u?u:Um}),r.createElement(wu,{role:i,gamepadAlias:n,left:t&&r.createElement(wu.Buttons.Back.Component,{onClick:t}),right:a&&r.createElement("fast-div",{className:p},r.createElement(wu.Buttons.Close.Component,{onClick:a,inputLegend:g,narrationSuffix:o,testId:"closeModalTestId",disabled:c}))},r.createElement(Zi,{type:"body"},r.createElement(ji,null,e))))},$m.Text=({image:e,children:t,narrationText:a,center:n=!1})=>{const o=Pu(),c=(0,l.useFacetWrap)(n);Xm(a);const i=(0,l.useFacetMap)((e=>dl()("a979bd3c3957d92da22e",{[hd]:e})),[],[c]),s=(0,l.useFacetMap)((e=>e?"center":"left"),[],[c]);return r.createElement(Wi.Maybe,{isInteractive:o,narrationText:a,className:i,classNameFocused:Ws},r.createElement(Bs,{inset:!0}),null==e?null:r.createElement(r.Fragment,null,e,r.createElement(Vi,{size:4})),r.createElement("span",{className:"f33e5923ebb644a9860b"},r.createElement(Zi,{type:"captionLong",align:s},t)))},$m.Paragraphs=({children:e,narrationText:t,spaceBetweenParagraphs:a=5,center:n})=>{const l=Pu();Xm(t);const o=e.filter(Boolean);return r.createElement(Wi.Maybe,{isInteractive:l,narrationText:t,className:"d77f42e504770364bdd4",classNameFocused:Ws},r.createElement(Bs,{inset:!0}),o.map(((e,t)=>r.createElement(r.Fragment,{key:t},r.createElement("div",{className:dl()("c87510d66e61cb89bdc2",{[hd]:n})},e),null!=a&&t<o.length-1&&r.createElement(Vi,{size:a})))))},$m.List=Ym,$m.OrderedList=({items:e})=>r.createElement(Ym,{items:e,listType:Km.Ordered}),$m.Content=({children:e,gamepadAlias:t,scrollable:a=!0,scrollbarFloating:n=!0,role:l="neutral80",scrollbarBackgroundRole:o,scrollbarClassName:c,className:i})=>{const s=(0,r.useContext)(Gm),u=(0,r.useContext)(Vm),[d,m]=(0,r.useState)(!1),p=Yr(l);return r.createElement(bd,{text:s},r.createElement("div",{className:dl()(p.background.base,p.text.base,i,{c2ce0c4218f9a989e231:a})},a?r.createElement(ud,{floating:n,emptyFocusableGamepadAlias:t,emptyFocusableNarrationText:d?"":u,scrollbarBackgroundRole:o,scrollbarClassName:c,focusControlDisabled:!0},e,r.createElement(ud.SiblingState,{callback:m})):e))},$m.Buttons=({children:e,horizontal:t=!1,role:a="inherit",header:n})=>{const l=Yr(a);return r.createElement(hl,null,n,r.createElement("div",{className:dl()("cd856cd4ad1c21aa5992",l.background.base,{bb8893166da3e4d7f3dd:t})},r.createElement(Ks,{effect:"bevel",left:!1,right:!1}),e))},$m.Overlay=({onClick:e,children:t,role:a="inherit"})=>{const n=Yr(a);return r.createElement("div",{className:dl()("d53c2a2f4574a8294e3a",n.overlay.base),onClick:e},r.createElement("div",{className:"fcc45c954c024f0f0edc"},t,r.createElement(Lm.Space,null)))},$m.Progress=function({percentage:e}){const{t}=ws("Modal"),a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)((e=>t(".progressPercentage",[`${Math.round(100*e)}`])),[t],[a]);return Xm(n,2e3),r.createElement("div",{className:vd},r.createElement(bm,{percentage:a}),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionLong",align:"center"},n))},$m.InformativeProgress=function({percentage:e,label:t,narrationText:a}){const n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(null!=t?t:""),c=(0,l.useFacetWrap)(null!=a?a:"");return Xm(c,2e3),r.createElement("div",{className:vd},r.createElement(bm,{percentage:n}),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionLong",align:"right"},o))},$m.Spinner=()=>r.createElement("div",{className:"b9b894b327fe147e736d"},r.createElement(id,null)),$m.Checkbox=e=>r.createElement(Td,Bm({},e,{small:!0})),$m.TextField=e=>r.createElement(gm,Bm({},e,{transparent:!0})),$m.FocusManager=function({children:e}){const[t,a]=(0,l.useFacetState)(!1),n=(0,r.useMemo)((()=>({isModalVisible:t,onMount:()=>(a(!0),()=>{a(!1)})})),[t,a]);return r.createElement(zm.Provider,{value:n},e)},$m.useIsAnyModalVisible=function(){return(0,r.useContext)(zm).isModalVisible},$m.useOnModalMount=jm,function(e){e[e.Undefined=0]="Undefined",e[e.Mouse=1]="Mouse",e[e.Touch=2]="Touch",e[e.GamePad=3]="GamePad",e[e.Count=4]="Count"}(Jm||(Jm={})),new Map([[Jm.Mouse,Ke.MOUSE],[Jm.Touch,Ke.TOUCH],[Jm.GamePad,Ke.GAMEPAD]]);var Zm=a(2658),ep=a.n(Zm);const tp=({textures:e,chunkSize:t=5})=>{const[a,n]=(0,l.useFacetState)("");return(0,r.useEffect)((()=>{const a=ep()(e,t);let r;return function e(){a.length&&(n((e=>{var t;return(e!==l.NO_VALUE&&e.length>0?e+", ":"")+(null===(t=a.shift())||void 0===t?void 0:t.join(", "))})),r=window.requestAnimationFrame(e))}(),()=>{window.cancelAnimationFrame(r),n("")}}),[e,t,n]),r.createElement("fast-div",{id:"preload-textures",style:{width:0,height:0,backgroundImage:a}})},ap="#d0d1d4";var np=a(35683),rp=a.n(np);const lp=Symbol("AnimationSymbol"),op=e=>"object"==typeof e&&null!=e&&"__animation"in e&&e.__animation===lp,cp=e=>e.split("").reduce(((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e),0).toString(16);var ip=a(8146),sp=a.n(ip),up=a(53778),dp=a.n(up),mp=a(72378),pp=a.n(mp),fp=a(17833),gp=a.n(fp),Ep=a(76884),bp=a.n(Ep);const hp=e=>1===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[0],e[1],e[0],e[1]]:3===e.length?[e[0],e[1],e[2],e[1]]:4===e.length?[e[0],e[1],e[2],e[3]]:(console.warn(`Failed to parse shorthand: ${JSON.stringify(e)}`),[0,0,0,0]),vp=({src:e,slice:t,scale:a=1,outset:n=[0],width:r})=>{const l=hp(t),o=r?hp(r):l,c=hp(n),i=e=>0===e?0:e/a/10+"rem";return{borderImageSource:`url("${e}")`,borderImageSlice:`${l.join(" ")} fill`,borderTopWidth:i(o[0]),borderRightWidth:i(o[1]),borderBottomWidth:i(o[2]),borderLeftWidth:i(o[3]),borderImageWidth:l.map(i).join(" "),borderImageOutset:c.map(i).join(" ")}},Fp=e=>`--${bp()(e)}`,yp=(e,t)=>`${Fp(e)}: ${t};`,Sp=(e,t=[])=>{var a;const n=null===(a=gp()(t))||void 0===a?void 0:a.startsWith("_"),r="$modes"===gp()(t),l=t=>Object.entries(e).reduce(((e,[a,n])=>pp()(e,Sp(n,[...t,a]))),{});if(n)return l(t.slice(0,-1));if(r){const a=t.slice(0,-1);return Object.entries(e).reduce(((e,[t,n])=>(e[t]=pp()(e[t],Sp(n,a)),e)),{})}return!op(e)&&sp()(e)||dp()(e)?l(t):{[t.join(".")]:e}},Cp=a.p+"assets/pressable_neutral_default-e45d49d1a163c007150f.png",Mp=a.p+"assets/pressable_neutral_hovered-230f9ad5ccca66468c38.png",wp=a.p+"assets/pressable_neutral_focused-c5a2eaeda7402012316c.png",kp=a.p+"assets/pressable_neutral_pressed-aad8b64fc0f155676218.png",Pp=a.p+"assets/pressable_elevated_neutral_default-48cdf8535bfd48b47c2a.png",Tp=a.p+"assets/pressable_elevated_neutral_hovered-dcbd873ad9e83d24dc7a.png",Ip=a.p+"assets/pressable_elevated_neutral_focused-b28fc482cadde858740c.png",xp=a.p+"assets/pressable_primary_default-c4a5a4c1b74b2ff70122.png",Op=a.p+"assets/pressable_primary_hovered-1c8d9125d478e583f435.png",Ap=a.p+"assets/pressable_primary_focused-84b112b857049e079b29.png",Np=a.p+"assets/pressable_primary_pressed-13b0f01c6c00e07322ca.png",Rp=a.p+"assets/pressable_elevated_primary_default-7a6e2edf98a626b182c2.png",Lp=a.p+"assets/pressable_elevated_primary_hovered-bcb21ab092446cbcecb6.png",Dp=a.p+"assets/pressable_elevated_primary_focused-cc7df0bf833f92bb08dd.png",_p=a.p+"assets/pressable_secondary_default-cc6424da5b7759ebfbf5.png",Bp=a.p+"assets/pressable_secondary_hovered-a18c14fc21f49a22efbf.png",Wp=a.p+"assets/pressable_secondary_focused-932363b4cf5981b70bc2.png",Up=a.p+"assets/pressable_secondary_pressed-87bba1faba891ebfa7fc.png",zp=a.p+"assets/pressable_elevated_secondary_default-0aacffbfa726a8184fc5.png",jp=a.p+"assets/pressable_elevated_secondary_hovered-758970b376da9eb299da.png",Hp=a.p+"assets/pressable_elevated_secondary_focused-05d59cd4654230c9b01d.png",Gp=a.p+"assets/pressable_destructive_default-afc23b5e2d0cd6814724.png",Vp=a.p+"assets/pressable_destructive_hovered-13953e14ee36befae1c1.png",$p=a.p+"assets/pressable_destructive_focused-3f550a8290ff176b432c.png",Xp=a.p+"assets/pressable_destructive_pressed-d5d4943d1b774ef42f85.png",Kp=a.p+"assets/pressable_elevated_destructive_default-a5fb3f173720065fcc13.png",Yp=a.p+"assets/pressable_elevated_destructive_hovered-63736c555d7fc6479755.png",qp=a.p+"assets/pressable_elevated_destructive_focused-cfa496a1b2e3a06a9db4.png",Qp=a.p+"assets/pressable_disabled-3555c5a3dc9f40fda713.png",Jp=a.p+"assets/pressable_elevated_disabled-af3383540a78827c5a84.png",Zp=a.p+"assets/realms_pressable_default-583a8fc492b39f4205d6.png",ef=a.p+"assets/realms_pressable_hovered-e43632be3d18caafe836.png",tf=a.p+"assets/realms_pressable_focused-33636b9842a7b9c74f5e.png",af=a.p+"assets/realms_pressable_pressed-9c1937ca5814fd7a5f15.png",nf=a.p+"assets/realms_pressable_elevated_default-a49f3c5058e3c40f508e.png",rf=a.p+"assets/realms_pressable_elevated_hovered-03f68e141be114d2ecf0.png",lf=a.p+"assets/realms_pressable_elevated_focused-07d5d2be79a46b337929.png",of=vp({src:Qp,slice:[1,1,1,1],scale:.5}),cf=vp({src:Jp,slice:[1,1,3,1],scale:.5}),sf={neutral:{default:vp({src:Cp,slice:[2,2],scale:.5}),hovered:vp({src:Mp,slice:[2,2],scale:.5}),focused:vp({src:wp,slice:[3,3],width:[2,2],outset:[1],scale:.5}),pressed:vp({src:kp,slice:[2,2],scale:.5}),disabled:of},primary:{default:vp({src:xp,slice:[2,2],scale:.5}),hovered:vp({src:Op,slice:[2,2],scale:.5}),focused:vp({src:Ap,slice:[3,3],width:[2,2],outset:[1],scale:.5}),pressed:vp({src:Np,slice:[2,2],scale:.5}),disabled:of,$modes:{realms:{default:vp({src:Zp,slice:[2,2],scale:.5}),hovered:vp({src:ef,slice:[2,2],scale:.5}),focused:vp({src:tf,slice:[3,3],width:[2,2],outset:[1],scale:.5}),pressed:vp({src:af,slice:[2,2],scale:.5}),disabled:of}}},secondary:{default:vp({src:_p,slice:[2,2],scale:.5}),hovered:vp({src:Bp,slice:[2,2],scale:.5}),focused:vp({src:Wp,slice:[3,3],width:[2,2],outset:[1],scale:.5}),pressed:vp({src:Up,slice:[2,2],scale:.5}),disabled:of},destructive:{default:vp({src:Gp,slice:[2,2],scale:.5}),hovered:vp({src:Vp,slice:[2,2],scale:.5}),focused:vp({src:$p,slice:[3,3],width:[2,2],outset:[1],scale:.5}),pressed:vp({src:Xp,slice:[2,2],scale:.5}),disabled:of},elevated:{neutral:{default:vp({src:Pp,slice:[2,2,4,2],scale:.5}),hovered:vp({src:Tp,slice:[2,2,4,2],scale:.5}),focused:vp({src:Ip,slice:[3,3,5,3],width:[2,2,4,2],outset:[1],scale:.5}),pressed:vp({src:kp,slice:[2,2],scale:.5}),disabled:cf},primary:{default:vp({src:Rp,slice:[2,2,4,2],scale:.5}),hovered:vp({src:Lp,slice:[2,2,4,2],scale:.5}),focused:vp({src:Dp,slice:[3,3,5,3],width:[2,2,4,2],outset:[1],scale:.5}),pressed:vp({src:Np,slice:[2,2],scale:.5}),disabled:cf,$modes:{realms:{default:vp({src:nf,slice:[2,2,4,2],scale:.5}),hovered:vp({src:rf,slice:[2,2,4,2],scale:.5}),focused:vp({src:lf,slice:[3,3,5,3],width:[2,2,4,2],outset:[1],scale:.5}),pressed:vp({src:af,slice:[2,2],scale:.5}),disabled:cf}}},secondary:{default:vp({src:zp,slice:[2,2,4,2],scale:.5}),hovered:vp({src:jp,slice:[2,2,4,2],scale:.5}),focused:vp({src:Hp,slice:[3,3,5,3],width:[2,2,4,2],outset:[1],scale:.5}),pressed:vp({src:Up,slice:[2,2],scale:.5}),disabled:cf},destructive:{default:vp({src:Kp,slice:[2,2,4,2],scale:.5}),hovered:vp({src:Yp,slice:[2,2,4,2],scale:.5}),focused:vp({src:qp,slice:[3,3,5,3],width:[2,2,4,2],outset:[1],scale:.5}),pressed:vp({src:Xp,slice:[2,2],scale:.5}),disabled:cf}}},uf=a.p+"assets/detailed-card-7c80abcb49930a828a00.png",df=a.p+"assets/detailed-card-action_default-1eacdbf7075ae21526da.png",mf=a.p+"assets/detailed-card-action_hovered-987e725848caeabcf02e.png",pf=a.p+"assets/detailed-card-action_focused-6b947cba4cdee937c3d4.png",ff=a.p+"assets/detailed-card-action_pressed-375eebb4a4eea54b415f.png",gf=a.p+"assets/detailed-card-action_pressed_focused-a905f0b3cc3538b55f2d.png",Ef=a.p+"assets/detailed-card-action_disabled-8dd883d650cd0ad144b2.png",bf=a.p+"assets/detailed-card-action_disabled_focused-b335a2c0b3fbda554a86.png",hf=a.p+"assets/detailed-card-additional-action_default-bb25448c4bff7d9e0fd5.png",vf=a.p+"assets/detailed-card-additional-action_hovered-c2eacb29e052db2f0cc0.png",Ff=a.p+"assets/detailed-card-additional-action_focused-b079a1825eb256e61c44.png",yf=a.p+"assets/detailed-card-additional-action_pressed-cc4a706dcab1406fe9dc.png",Sf=a.p+"assets/detailed-card-additional-action_pressed_focused-df9f9b879e5ce495073d.png";function Cf(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mf(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(a),!0).forEach((function(t){wf(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cf(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wf(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const kf=Mf(Mf({},vp({src:uf,slice:[0,1,2,1],outset:[0,1,1,0],scale:.5,width:[0,0,1,0]})),{},{action:{default:vp({src:df,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),hovered:vp({src:mf,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),focused:vp({src:pf,slice:[2,2,4,2],outset:[1,1,2,1],scale:.5,width:[1,1,2,1]}),pressed:Mf(Mf({},vp({src:ff,slice:[3,2,0,1],outset:[0,1,0,0],scale:.5,width:[3,1,0,1]})),{},{focused:vp({src:gf,slice:[2,2,2,2],outset:[0,1,2,1],scale:.5,width:[3,1,0,1]})}),disabled:Mf(Mf({},vp({src:Ef,slice:[1,2,0,1],outset:[0,1,0,0],scale:.5,width:[1,1,2,1]})),{},{focused:vp({src:bf,slice:[2,2,2,2],outset:[1,1,2,1],scale:.5,width:[1,1,2,1]})})},additionalAction:{default:vp({src:hf,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),hovered:vp({src:vf,slice:[1,2,2,1],outset:[0,1,0,0],width:[1,1,2,1],scale:.5}),focused:vp({src:Ff,slice:[3,2,4,2],outset:[2,1,2,1],scale:.5,width:[1,1,2,1]}),pressed:Mf(Mf({},vp({src:yf,slice:[3,2,0,1],outset:[0,1,0,0],width:[3,1,0,1],scale:.5})),{},{focused:vp({src:Sf,slice:[3,2,2,2],outset:[1,1,2,1],width:[3,1,0,1],scale:.5})})}}),Pf=a.p+"assets/listItem_action_hovered-25f289553ec4efa5ec61.png",Tf=a.p+"assets/listItem_action_focused-cbd1f45efe632665d4f2.png",If=a.p+"assets/listItem_action_pressed-e222de76778d18c90218.png",xf=a.p+"assets/listItem_action_default-98ec95bb538d5afbcf21.png",Of=a.p+"assets/listItem_action_disabled-e34c7d807fefee0b1152.png",Af=a.p+"assets/listItem_action_disabled_focused-866c570916913c3f41de.png",Nf=a.p+"assets/listItem_action_pressed_focused-37eefa99d65e1495bef9.png",Rf=a.p+"assets/listItem_disabled_default-3c13faa164820f219a4a.png",Lf=a.p+"assets/listItem_disabled_focused-58778a0e0bbcd1814386.png",Df={base:{default:vp({src:Rf,slice:[1],outset:[0],scale:.5}),focused:vp({src:Lf,slice:[2],outset:[1],scale:.5,width:[1]})},action:{default:vp({src:xf,slice:[1],outset:[0],scale:.5}),hovered:vp({src:Pf,slice:[1],outset:[0],scale:.5}),pressed:vp({src:If,slice:[1],outset:[0],scale:.5}),focused:vp({src:Tf,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),pressedFocused:vp({src:Nf,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),disabled:vp({src:Of,slice:[0],outset:[0],width:[1],scale:.5}),disabledFocused:vp({src:Af,slice:[2],outset:[2,2,2,2],width:[0],scale:.5})},additionalAction:{default:vp({src:xf,slice:[1],outset:[0],scale:.5}),hovered:vp({src:Pf,slice:[1],outset:[0],scale:.5}),pressed:vp({src:If,slice:[1],outset:[0],scale:.5}),focused:vp({src:Tf,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]}),pressedFocused:vp({src:Nf,slice:[3],outset:[2,2,2,2],scale:.5,width:[1,1,1,1]})}},_f=a.p+"assets/tabBar_neutral_default-40e26ac9318c12909f42.png",Bf=a.p+"assets/tabBar_neutral_hovered-b73d7029874500714b0f.png",Wf=a.p+"assets/tabBar_neutral_pressed-9d14d8d1343a1fc3836d.png",Uf=a.p+"assets/tabBar_neutral_default_focused-812a9fcda5a4e49d93d5.png",zf=a.p+"assets/tabBar_neutral_pressed_focused-c05012af3863c527b0a2.png";function jf(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Hf(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jf(Object(a),!0).forEach((function(t){Gf(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jf(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Gf(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Vf={neutral:{default:vp({src:_f,slice:[2,2,4,2],scale:.5}),hovered:vp({src:Bf,slice:[2,2,4,2],scale:.5}),focused:vp({src:Uf,slice:[3,3,5,3],outset:[1,1,1,1],width:[3,2,5,2],scale:.5}),pressed:Hf(Hf({},vp({src:Wf,slice:[2,2],scale:.5})),{},{focused:vp({src:zf,slice:[3,3,3,3],outset:[1,1,1,1],width:[3,2,3,2],scale:.5})})}},$f=a.p+"assets/bubble_action_default-bbef25eabe79ed131a72.png",Xf={base:{default:vp({src:$f,slice:[4],outset:[0],scale:.5})},action:{default:vp({src:$f,slice:[4],outset:[0],scale:.5})}},Kf=a.p+"assets/filterBar_action_default-d47c1536b27a56dc8182.png",Yf={base:{default:vp({src:Kf,slice:[1,2,2,1],outset:[0],scale:.5})},action:{default:vp({src:Kf,slice:[1,2,1,2],outset:[0],scale:.5})}},qf=a.p+"assets/keyboard_button_fill_default-0ae720e12e917707309f.png",Qf=a.p+"assets/mouse_directional-f2848c60d09257399182.png",Jf=a.p+"assets/mouse_left-c1a02cdde2eded95ef22.png",Zf=a.p+"assets/mouse_right-bbee5b8889f82dcea7a3.png",eg=a.p+"assets/mouse_middle-d6f4b7223567766842f4.png",tg=a.p+"assets/mouse_scroll-bbcaa13f231433fd90cc.png",ag=a.p+"assets/BracketOpen-7c876ddebe566313a1df.png",ng=a.p+"assets/BracketClose-87c37b74d76848b340d0.png",rg=a.p+"assets/F2-4374e2425a94c5f4cb6f.png",lg=a.p+"assets/A-4cccefbe0659f849ce10.png",og=a.p+"assets/B-0ed99dcc7c88ed3000db.png",cg=a.p+"assets/C-944036a9e8b90517c859.png",ig=a.p+"assets/D-2f4f8e6472b0c5843702.png",sg=a.p+"assets/E-8337e463cb01c98dedea.png",ug=a.p+"assets/F-15a6b46bc59bc2aaf6c1.png",dg=a.p+"assets/G-99a3b43d2b16626fc047.png",mg=a.p+"assets/H-5cfca131693c11a8feb4.png",pg=a.p+"assets/I-63b2cb793bbfc5431eae.png",fg=a.p+"assets/J-36d1f2dcf1592738acb9.png",gg=a.p+"assets/K-04ad0d3871a858e629a7.png",Eg=a.p+"assets/L-3802c4c50e5c3a86cd3f.png",bg=a.p+"assets/M-2f2507a29bedabcce83e.png",hg=a.p+"assets/N-b387201152d5dde815a1.png",vg=a.p+"assets/O-74ce950b06a2c4b7504e.png",Fg=a.p+"assets/P-9a8caf96be3e25598bac.png",yg=a.p+"assets/Q-583b8e1d299ade2e0179.png",Sg=a.p+"assets/R-5a903c13003fdfc89f86.png",Cg=a.p+"assets/S-f267988ea9eba9534192.png",Mg=a.p+"assets/T-ae67c8e6cacc2bdb546d.png",wg=a.p+"assets/U-5b8dfdce0ad2b7e3ca67.png",kg=a.p+"assets/V-e2b398ae6837a788c35e.png",Pg=a.p+"assets/W-b16dd96ff94328e99499.png",Tg=a.p+"assets/X-9341cf863e1f6ab69e08.png",Ig=a.p+"assets/Y-5be956ba4ecb539b31ce.png",xg=a.p+"assets/Z-73a8f3084fde7e4623ec.png",Og=a.p+"assets/Alt-ec90bbeffda2576dab2e.png",Ag=a.p+"assets/ArrowDown-5033b996f059017dd726.png",Ng=a.p+"assets/ArrowLeft-fab0e626f5386a3e1249.png",Rg=a.p+"assets/ArrowRight-9c9785a63cfe3f0f2378.png",Lg=a.p+"assets/ArrowUp-c0df10b5fe3308dcf4bf.png",Dg=a.p+"assets/BracketCloseSmall-bd95afef77ddb7b09e3c.png",_g=a.p+"assets/BracketOpenSmall-7ca04e5e522aa59efdb4.png",Bg=a.p+"assets/Control-698268b1ea8010ea6f14.png",Wg=a.p+"assets/CtrlSmall-8bfdaec233dfde58923d.png",Ug=a.p+"assets/Enter-11578057714f83f227ba.png",zg=a.p+"assets/Escape-4e08ce0727505a6fe341.png",jg=a.p+"assets/Mouse-b6f3da7be9695f280589.png",Hg=a.p+"assets/MouseLeftClick-4d521abc7a9bd481305d.png",Gg=a.p+"assets/MouseRightClick-fdaeb5fbd3535529840d.png",Vg=a.p+"assets/MouseScrollClick-eaef7ca3e5f8e21215db.png",$g=a.p+"assets/MouseScrollWheel-40f02a7efc79706e4ff7.png",Xg=a.p+"assets/Shift-cd31a7909780d17768e1.png",Kg=a.p+"assets/Space-1fbfbac2e325e2255057.png",Yg=a.p+"assets/SpecialCharacter-3945ec48393b41bd81fa.png",qg=a.p+"assets/Tab-a810c6b2e930a6028ae0.png";function Qg(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Jg(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Zg=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(a),!0).forEach((function(t){Jg(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qg(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({paddingTop:"1rem",paddingRight:"0.8rem",paddingBottom:"1.2rem",paddingLeft:"1rem",textColor:"#313233"},vp({src:qf,slice:[3,4,5,4],scale:.5})),eE=Sp({colors:{primary:"#3c8527",secondary:ap,destructive:"#ca3636",text:"#ffffff",muted:[ap,"#b1b2b5"],disabled:ap,$modes:{realms:{primary:"#7345E5"}}},fonts:{heading:"Minecraft Ten v2",subHeading:"Minecraft Five v2",ui:"Minecraft Seven v2",body:"Noto Sans"},fontSizes:[10,14,16,20,24,32,48,64],lineHeights:[20,24,28,40,60,80],letterSpacings:[4,8],space:[4,8,12,16,20,24,32,64],_components:{pressable:sf,detailedCard:kf,listItem:Df,tabBar:Vf,bubble:Xf,filterBar:Yf,inputLegendWrapper:{backgroundColor:"#1e1e1f",borderTopColor:"rgba(255, 255, 255, 0.2)",paddingLeft:"2rem",paddingRight:"2rem",marginBottom:"0rem",textShadow:"initial",$modes:{inGame:{backgroundColor:"transparent",borderTopWidth:"0rem",borderTopColor:"transparent",textShadow:"0.2rem 0.2rem 0rem #303438"}}},inputLegendInputHint:{color:"#fff",letterSpacing:"0.04rem",fontSize:"1.6rem",lineHeight:"1.6rem",fontFamily:"Minecraft Seven v2",spaceToLabel:"0.8rem",spaceBetween:"2.4rem"},buttonIconKeyboard:Zg,buttonIconKeyboardBracketClose:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${ng})`},buttonIconKeyboardBracketOpen:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${ag})`},buttonIconKeyboardF2:{width:"2.4rem",height:"2.2rem",backgroundSize:"2.4rem 2.2rem",backgroundImage:`url(${rg})`},buttonIconMouseMovement:{width:"4.6rem",height:"5.2rem",backgroundSize:"4.6rem 5.2rem",backgroundImage:`url(${Qf})`},buttonIconMouseButtonLeft:{width:"2.2rem",height:"2.8rem",backgroundSize:"2.2rem 2.8rem",backgroundImage:`url(${Jf})`},buttonIconMouseButtonRight:{width:"2.2rem",height:"2.8rem",backgroundSize:"2.2rem 2.8rem",backgroundImage:`url(${Zf})`},buttonIconMouseButtonMiddle:{width:"2.2rem",height:"2.8rem",backgroundSize:"2.2rem 2.8rem",backgroundImage:`url(${eg})`},buttonIconMouseWheel:{width:"3rem",height:"3.4rem",backgroundSize:"3rem 3.4rem",backgroundImage:`url(${tg})`},buttonIconKeyboardA:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${lg})`},buttonIconKeyboardB:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${og})`},buttonIconKeyboardC:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${cg})`},buttonIconKeyboardD:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${ig})`},buttonIconKeyboardE:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${sg})`},buttonIconKeyboardF:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${ug})`},buttonIconKeyboardG:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${dg})`},buttonIconKeyboardH:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${mg})`},buttonIconKeyboardI:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${pg})`},buttonIconKeyboardJ:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${fg})`},buttonIconKeyboardK:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${gg})`},buttonIconKeyboardL:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Eg})`},buttonIconKeyboardM:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${bg})`},buttonIconKeyboardN:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${hg})`},buttonIconKeyboardO:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${vg})`},buttonIconKeyboardP:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Fg})`},buttonIconKeyboardQ:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${yg})`},buttonIconKeyboardR:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Sg})`},buttonIconKeyboardS:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Cg})`},buttonIconKeyboardT:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Mg})`},buttonIconKeyboardU:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${wg})`},buttonIconKeyboardV:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${kg})`},buttonIconKeyboardW:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Pg})`},buttonIconKeyboardX:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Tg})`},buttonIconKeyboardY:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Ig})`},buttonIconKeyboardZ:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${xg})`},buttonIconKeyboardAlt:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Og})`},buttonIconKeyboardArrowDown:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Ag})`},buttonIconKeyboardArrowLeft:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Ng})`},buttonIconKeyboardArrowRight:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Rg})`},buttonIconKeyboardArrowUp:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Lg})`},buttonIconKeyboardBracketCloseSmall:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Dg})`},buttonIconKeyboardBracketOpenSmall:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${_g})`},buttonIconKeyboardControl:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Bg})`},buttonIconKeyboardCtrlSmall:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Wg})`},buttonIconKeyboardEnter:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Ug})`},buttonIconKeyboardEscape:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${zg})`},buttonIconKeyboardMouse:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${jg})`},buttonIconKeyboardMouseLeftClick:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Hg})`},buttonIconKeyboardMouseRightClick:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Gg})`},buttonIconKeyboardMouseScrollClick:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Vg})`},buttonIconKeyboardMouseScrollWheel:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${$g})`},buttonIconKeyboardShift:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Xg})`},buttonIconKeyboardSpace:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Kg})`},buttonIconKeyboardSpecialCharacter:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${Yg})`},buttonIconKeyboardTab:{width:"2.4rem",height:"2.4rem",backgroundSize:"2.4rem 2.4rem",backgroundImage:`url(${qg})`}}}),[tE,aE]=(e=>{const t=new Set,a=new Set,n=([e,n])=>{if((e=>"string"==typeof e&&null!=e.match(/url\(["']?(.+\.png)["']?\)/))(n)&&t.add(n),op(n)){const{keyframes:t,name:r}=(e=>{const t=Object.entries(e).filter((([e,t])=>"__animation"!=e&&t!=lp)).map((([e,t])=>`\t${e} {\n\t\t${(e=>{if(null==e||"object"!=typeof e||Array.isArray(e))throw new TypeError("expected an argument of type object, but got "+typeof e);return Object.entries(e).map((([e,t])=>`${rp()(e)}: ${t};`)).join("\n")})(t)}\n\t}`)).join("\n"),a=(e=>`animation-${cp(e)}`)(t);return{name:a,keyframes:`@keyframes ${a} {\n${t}\n}`}})(n);return a.add(t),yp(e,r)}return yp(e,n)},r=Object.entries(e).reduce(((e,[t,a])=>{var r;if(sp()(a)&&!op(a)){var l;const r=`.${t}`;return e.set(r,[...null!==(l=e.get(r))&&void 0!==l?l:[],...Object.entries(a).map(n)]),e}const o=":root";return e.set(o,[...null!==(r=e.get(o))&&void 0!==r?r:[],n([t,a])]),e}),new Map);let l="";for(const[e,t]of r)l+=`${e} {\n  ${t.join("\n  ")}\n}\n`;return l=Array.from(a).join("\n")+"\n"+l,[l,Array.from(t)]})(eE),nE=(function e(t,a=new Set){for(const[n,r]of Object.entries(t))sp()(r)&&!op(r)?e(r,a):dp()(r)?r.forEach((t=>{sp()(t)&&e(t,a)})):a.add(Fp(n));return a}(eE),({children:e})=>r.createElement(hi,null,e));function rE({children:e,defaultRoute:t,errorComponent:a,dismissTimeout:n,scalingMode:o="default",keyboardGamepadMap:c=be,semanticCollection:i,deviceInformationOptions:s={},shouldUseNarrationQueueSystem:u=!1,wrapperComponent:d=r.Fragment,isKeyboardHintsEnabled:m=!1}){const p=d,f=r.Fragment,g=(0,r.useCallback)((()=>{vn.trigger("core:routing:not-found")}),[]);return r.createElement(Dr,null,r.createElement(_r,{collection:i},r.createElement(l.SharedFacetDriverProvider,{value:ys},r.createElement(un,{queryDriver:Ss,commandDriver:Cs},r.createElement(Jl,null,r.createElement(ks,null,r.createElement(Bl,s,r.createElement(nE,null,r.createElement(To,null,r.createElement(Po,null,r.createElement($l,null,r.createElement(po,null,r.createElement(ss,{scalingMode:o},r.createElement(Wl,{errorComponent:a,dismissTimeout:n},r.createElement(ps,null,r.createElement(co,{shouldUseQueueSystem:u},r.createElement(rl,{keyboardGamepadMap:c,isKeyboardHintsEnabled:m},r.createElement($m.FocusManager,null,r.createElement(bs,null,r.createElement(Is,null,r.createElement(f,null,r.createElement(p,null,r.createElement(I,{onNotFound:g},[...r.Children.toArray(e),r.createElement(k,{from:"/",to:t,key:"default-redirect"})]))),r.createElement(tp,{textures:aE})))))))))))))))))))))}pn.Idle,fn.Invalid,(0,l.sharedFacet)("test.vector");var lE=a(14290),oE=a.n(lE),cE=a(25752),iE=a.n(cE),sE=a(89592),uE=a.n(sE),dE=a(82838),mE=a.n(dE);function pE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fE(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pE(Object(a),!0).forEach((function(t){gE(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pE(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function gE(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const EE=fE(fE({},oE()),iE());function bE({errorMessage:e,onDismiss:t}){const{t:a}=ws("ErrorModal"),n=a(".title"),l=a(".goBack"),o=a(".goingBack"),c=null!=e&&""!==e?e:o,i=`${n} . ${c}`,s=c!==o;return r.createElement($m,null,r.createElement($m.Header,null,n),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:i},c)),s&&r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",onClick:t,inputLegend:l},l)))}fE(fE(fE({},EE),uE()),mE());function hE({visible:e,unmountOnExit:t,alwaysMounted:a,contentComponent:n,inverse:o}){const c=Oo();return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:c},r.createElement(Ac,{alwaysMounted:a,visible:e,inverse:o,appear:!0,unmountOnExit:t},((e,t)=>r.createElement(vE,{status:e,contentComponent:n,onAnimationEnd:t})))),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(Fl,{contentComponent:n,visible:e,unmountOnExit:t})))}const vE=({status:e,contentComponent:t,onAnimationEnd:a})=>{const n=(0,r.useMemo)((()=>r.memo(t)),[t]),o=(0,l.useFacetMap)((([e])=>"entered"===e||"entering"===e),[],[e]),c=(0,l.useFacetMap)((e=>!e),[],[o]),i=(0,l.useFacetMap)((([e])=>"entered"===e),[],[e]),s=(0,l.useFacetMap)((([e])=>"entered"!==e),[],[e]);return r.createElement(L,{value:o},r.createElement(hl,{disabled:c},r.createElement(FE,{status:e,onAnimationEnd:a},r.createElement(yE,{paused:s},r.createElement(El,{type:"contentful",renderingCompleted:i}),r.createElement(n,null)))))},FE=({children:e,status:t,onAnimationEnd:a})=>{const n=(0,l.useFacetUnwrap)(t),o=(0,r.useRef)(null);if((0,r.useEffect)((()=>{const e=o.current;if(null==e)return;const t=t=>{t.target==e&&a()};return e.addEventListener("animationend",t),()=>e.removeEventListener("animationend",t)}),[a]),n==l.NO_VALUE)return null;const[c,i]=n;return r.createElement("fast-div",{ref:o,className:dl()("bce319975b98bb27fdef",{eb1d359b332b0a7a7b2a:!i,acce4ecaa79a9aa0dc8c:i,d6f97255200cff6dcf6a:"entered"===c,d218d1ce42f6f5506682:"entering"===c,faebfffaf13f4cdce783:"exiting"===c,feb4a081b350e67f4f3b:"exited"===c})},e)},yE=({paused:e,children:t})=>{const a=(0,l.useFacetUnwrap)(e);return r.createElement(Yu,{paused:a===l.NO_VALUE||a},t)};function SE(e,t){for(let a=0;a<e.length;a++)if(t(e[a],a,e))return e[a]}let CE,ME;!function(e){e[e.Clock=0]="Clock",e[e.Boots=1]="Boots",e[e.Pickaxe=2]="Pickaxe",e[e.Sword=3]="Sword"}(CE||(CE={})),function(e){e.HoursPlayed="MinutesPlayed",e.BlocksBroken="BlocksBrokenTotal",e.MonstersKilled="MobKilled.IsMonster.1",e.DistanceTraveled="DistanceTravelled"}(ME||(ME={}));const wE=(0,l.sharedFacet)("vanilla.playerStatistics"),kE="vanilla.achievementsReward";let PE,TE;!function(e){e[e.None=0]="None",e[e.Tracked=1]="Tracked",e[e.Untracked=2]="Untracked"}(PE||(PE={})),function(e){e[e.LOADING=0]="LOADING",e[e.LOADED=1]="LOADED"}(TE||(TE={}));const IE=(0,l.sharedFacet)("vanilla.achievements"),xE=(0,l.sharedFacet)("vanilla.achievementCategories"),OE=new Map([["gettingstarted","dataViz05"],["exploringyourworld","dataViz04"],["mining","secondary"],["farmingandhusbandry","dataViz07"],["culinaryexploits","dataViz06"],["buildinganddecorating","dataViz03"],["villageandpillage","dataViz02"],["feelslikemagic","dataViz05"],["redstone","destructiveTint"],["aquatic","dataViz04"],["zoology","dataViz07"],["gearup","dataViz01"],["combat","dataViz06"],["nether","dataViz03"],["theend","dataViz02"],["release.chasetheskies","secondary"],["release.thegardenawakens","secondary"],["release.trickytrials","secondary"],["release.trailsandtales","secondary"],["release.thewildupdate","secondary"],["release.cavesandcliffs","secondary"],["release.netherupdate","secondary"],["release.buzzybees","secondary"],["release.villageandpillage","secondary"],["release.holidayupdate","secondary"],["release.updateaquatic","secondary"],["release.thediscoveryupdate","secondary"],["release.enderupdate","secondary"],["release.2015","secondary"],["release.2016","secondary"]]),AE=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function NE(e,t){let a=-1;const n=e.map((e=>(a+=1,{index:a,item:e})));return n.sort(((e,a)=>{const n=t(e.item,a.item);return 0!=n?n:e.index-a.index})),n.map((e=>e.item))}function RE(e){const t=new Map;return e.forEach((e=>{t.set(e.platformIndependentId,e)})),t}function LE(e,t){return YE(e)&&!YE(t)?-1:!YE(e)&&YE(t)?1:JE(e)&&!JE(t)?-1:!JE(e)&&JE(t)?1:0}function DE(e,t){const a=[],n=new Set;let r=0;t.forEach((t=>{const l=[];if(t.achievements.forEach((t=>{const a=e.get(t);a&&(l.push(a),n.add(t))})),l.length>0){let e=OE.get(t.id);null==e&&(e=AE[r],r=(r+1)%AE.length),a.push({categoryId:t.id,headerLook:e,achievements:NE(l,LE)})}}));const l=[];return e.forEach((e=>{n.has(e.platformIndependentId)||l.push(e)})),l.length>0&&a.push({categoryId:"other",headerLook:"secondary",achievements:NE(l,LE)}),a}function _E(e){return e.isLocked&&(e.trackedByUser===PE.Tracked||e.trackedByUser!==PE.Untracked&&e.progress>0)}function BE(){return(0,l.useFacetMap)((e=>RE(e.data.achievements)),[],[(0,l.useSharedFacet)(IE)])}function WE(){const e=BE();return(0,l.useFacetMap)(((e,t)=>DE(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(xE)])}function UE(){const e=(0,l.useFacetMap)((e=>RE(e.data.achievements.filter(QE))),[],[(0,l.useSharedFacet)(IE)]);return(0,l.useFacetMap)(((e,t)=>DE(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(xE)])}function zE(){const e=(0,l.useFacetMap)((e=>RE(e.data.achievements.filter((e=>JE(e))))),[],[(0,l.useSharedFacet)(IE)]);return(0,l.useFacetMap)(((e,t)=>DE(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(xE)])}function jE(){const e=BE();return(0,l.useFacetMap)(((e,t)=>DE(e,t.releaseCategoryData)),[],[e,(0,l.useSharedFacet)(xE)])}function HE(){const e=(0,l.useFacetMap)((e=>RE(e.data.achievements.filter(qE))),[],[(0,l.useSharedFacet)(IE)]);return(0,l.useFacetMap)(((e,t)=>DE(e,t.standardCategoryData)),[],[e,(0,l.useSharedFacet)(xE)])}const GE=(0,l.sharedSelector)((e=>nb(e.data.achievements)),[IE]),VE=((0,l.sharedSelector)((e=>e.data.achievements.filter(JE)),[IE]),(0,l.sharedSelector)((e=>e.data.achievements.filter(QE).sort(rb)),[IE])),$E=(0,l.sharedSelector)((e=>ab(e.data.achievements)),[IE]),XE=(0,l.sharedSelector)((e=>e.status===TE.LOADED),[IE]),KE=(0,l.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,achievement:SE(t.data.achievements,(t=>t.id===e))}),[IE,XE]]));function YE(e){return e.isLocked&&e.progress>0}function qE(e){return!e.isLocked}function QE(e){return e.isLocked}function JE(e){return e.isLocked&&0===e.progress}function ZE(e){return!(e.isLocked&&!e.isRewardOwned)}function eb(e){return e.filter((e=>e.hasReward&&ZE(e))).length}function tb(e){return e.filter((e=>e.hasReward)).length}function ab(e){return e.filter(qE).sort(lb)}function nb(e){const t=[],a=[],n=[],r=[];e.forEach((e=>{JE(e)?(n.push(e),r.push(e)):qE(e)?a.push(e):(t.push(e),r.push(e))})),t.sort(rb),r.sort(ob);const l=n,o=ab(a);return{inProgress:t,locked:l,completed:o,suggested:r}}function rb(e,t){return!e.hasReward&&t.hasReward?1:e.hasReward&&!t.hasReward?-1:e.progress<t.progress?1:e.progress>t.progress?-1:0}function lb(e,t){return e.dateUnlocked<t.dateUnlocked?1:e.dateUnlocked>t.dateUnlocked?-1:0}function ob(e,t){return e.suggestedOrder-t.suggestedOrder}const cb=(0,l.sharedFacet)("vanilla.buildSettings"),ib=(0,l.sharedSelector)((e=>e.isDevBuild),[cb]),sb=(0,l.sharedSelector)((e=>e.isAnyBeta),[cb]),ub=(0,l.sharedFacet)("vanilla.blockInformation"),db=(0,l.sharedFacet)("vanilla.clipboard");function mb(e,t){return e.major-t.major!=0?e.major-t.major:e.minor-t.minor!=0?e.minor-t.minor:e.patch-t.patch!=0?e.patch-t.patch:e.revision-t.revision!=0?e.revision-t.revision:0}let pb,fb;!function(e){e[e.UNASSIGNED_DEV_VERSION=0]="UNASSIGNED_DEV_VERSION",e[e.MEMBER_OF_TOO_MANY_REALMS=1]="MEMBER_OF_TOO_MANY_REALMS",e[e.CANNOT_CONNECT_TO_REALM=2]="CANNOT_CONNECT_TO_REALM",e[e.CROSS_PLATFORM_RESTRICTED=3]="CROSS_PLATFORM_RESTRICTED",e[e.UNKNOWN=4]="UNKNOWN"}(pb||(pb={})),function(e){e[e.NOT_ENOUGH_STORAGE=0]="NOT_ENOUGH_STORAGE",e[e.MISSING_CONTENT_KEY=1]="MISSING_CONTENT_KEY"}(fb||(fb={}));const gb=(0,l.sharedFacet)("vanilla.createNewWorld"),Eb=((0,l.sharedSelector)((e=>e.isEditorWorld),[gb]),(0,l.createFacet)({initialValue:{userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1}}));let bb;!function(e){e[e.CreatingPreviewRealm=0]="CreatingPreviewRealm",e[e.SuccessfullyCreatedPreviewRealm=1]="SuccessfullyCreatedPreviewRealm",e[e.RetrievingCreatedPreviewRealm=2]="RetrievingCreatedPreviewRealm",e[e.FailedToCreatePreviewRealm=3]="FailedToCreatePreviewRealm"}(bb||(bb={}));const hb=(0,l.sharedFacet)("vanilla.createPreviewRealmFacet"),vb=(0,l.sharedFacet)("debug.worldTransfer"),Fb=(0,l.sharedFacet)("vanilla.debugSettings");let yb,Sb;!function(e){e[e.OVERWORLD=0]="OVERWORLD",e[e.NETHER=1]="NETHER"}(yb||(yb={})),function(e){e[e.NameIsEmpty=0]="NameIsEmpty",e[e.AddressIsEmpty=1]="AddressIsEmpty",e[e.InvalidIpAddress=2]="InvalidIpAddress",e[e.InvalidPortNumber=3]="InvalidPortNumber",e[e.UnknownError=4]="UnknownError",e[e.IdNotFound=5]="IdNotFound"}(Sb||(Sb={}));const Cb=(0,l.sharedFacet)("vanilla.externalServerWorldList"),Mb="vanilla.newFriendsDrawer",wb="vanilla.ab.newPlayerPathV3.B.noSignInScreen",kb="vanilla.ab.newPlayerPathV3.C.allScreens",Pb="vanilla.ab.newPlayerPathV3.D.noControlScreen",Tb="vanilla.debugDrawer",Ib="vanilla.realmsOreUIPurchaseEnabled",xb="vanilla.disableAnimatedSignInScreens",Ob="vanilla.enableInboxServiceCategories",Ab="vanilla.screenshotsGallery",Nb="vanilla.screenshotsShowcase",Rb="vanilla.usePersonaProfileImages",Lb="vanilla.friendsDrawerOnMultipleScreens",Db="vanilla.createFromAddOn",_b="vanilla.createFromUXOnly",Bb="vanilla.createFromUXAndLink",Wb="vanilla.friendsDrawerPlayersInMyWorld",Ub="vanilla.newAchievementDesign",zb="vanilla.parties",jb="vanilla.surfaceProfileReportButton",Hb=(0,l.sharedFacet)("vanilla.flatWorldPresets"),Gb=(0,l.sharedFacet)("vanilla.followersList"),Vb=(0,l.sharedFacet)("vanilla.friendworldlist"),$b=(0,l.sharedFacet)("vanilla.friendsManagerFacet"),Xb=(0,l.sharedFacet)("vanilla.gamertagSearch"),Kb=(0,l.sharedFacet)("vanilla.inGame");let Yb,qb,Qb,Jb,Zb,eh,th;function ah(e,t){const{translationPrefix:a,translate:n,formatDate:l}=(0,r.useContext)(Kl);return(0,r.useMemo)((()=>({f:l,t:(r,l)=>{var o,c;let i=null;const s=Ms(null!=t?t:a,e,r);return i=null!==(o=i)&&void 0!==o?o:n(s,l),null!==(c=i)&&void 0!==c?c:s}})),[t,a,e,n,l])}!function(e){e[e.PEACEFUL=0]="PEACEFUL",e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"}(Yb||(Yb={})),function(e){e[e.INVITED=1]="INVITED",e[e.FRIENDS=2]="FRIENDS",e[e.FRIENDS_OF_FRIENDS=3]="FRIENDS_OF_FRIENDS"}(qb||(qb={})),function(e){e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR"}(Qb||(Qb={})),function(e){e[e.NONE=0]="NONE",e[e.CHECK_INTERNET_CONNECTION=1]="CHECK_INTERNET_CONNECTION",e[e.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION=2]="DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION",e[e.DISCONNECTED_THIRD_PARTY=3]="DISCONNECTED_THIRD_PARTY",e[e.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=4]="LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=5]="MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED=6]="MULTIPLAYER_PRIVILEGES_BLOCKED",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE=7]="MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE",e[e.CROSS_PLATFORM_DISABLED=8]="CROSS_PLATFORM_DISABLED",e[e.NON_MULTIPLAYER_SKIN_EQUIPPED=9]="NON_MULTIPLAYER_SKIN_EQUIPPED"}(Jb||(Jb={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ALWAYS_DAY=1]="ALWAYS_DAY",e[e.LOCK_TIME=2]="LOCK_TIME"}(Zb||(Zb={})),function(e){e[e.GAMEPLAY=0]="GAMEPLAY",e[e.GRAPHICS=1]="GRAPHICS",e[e.ADD_ON_CREATORS=2]="ADD_ON_CREATORS",e[e.INTERNAL_TESTS=3]="INTERNAL_TESTS"}(eh||(eh={})),function(e){e[e.SkinPack=0]="SkinPack",e[e.ResourcePack=1]="ResourcePack",e[e.MashUp=2]="MashUp",e[e.Realms=3]="Realms",e[e.WorldTemplate=4]="WorldTemplate",e[e.ServerConsumable=5]="ServerConsumable",e[e.ServerDurable=6]="ServerDurable",e[e.OfferCollection=7]="OfferCollection",e[e.Bundle=8]="Bundle",e[e.Persona=9]="Persona",e[e.CoinOffer=10]="CoinOffer",e[e.CoinBundle=11]="CoinBundle",e[e.Addon=12]="Addon",e[e._Count=13]="_Count",e[e._Unknown=14]="_Unknown"}(th||(th={}));const nh=(0,l.sharedFacet)("vanilla.marketplacePassWorldTemplateList"),rh=(0,l.sharedFacet)("vanilla.marketplaceSuggestions"),lh=(0,l.sharedFacet)("vanilla.networkWorldDetails");let oh,ch,ih;!function(e){e[e.OK=0]="OK",e[e.InvalidServerIdError=1]="InvalidServerIdError",e[e.InvalidUserError=2]="InvalidUserError",e[e.NoInternetError=3]="NoInternetError",e[e.UserNeedsToBeSignedInError=4]="UserNeedsToBeSignedInError",e[e.BlockedByPlatformError=5]="BlockedByPlatformError",e[e.BlockedByXBLError=6]="BlockedByXBLError",e[e.BlockedByVersionError=7]="BlockedByVersionError",e[e.UserBannedError=8]="UserBannedError",e[e.ThirdPartyBadIPError=9]="ThirdPartyBadIPError",e[e.ThirdPartyNoServerOrServerLockedError=10]="ThirdPartyNoServerOrServerLockedError",e[e.UnknownError=11]="UnknownError"}(oh||(oh={})),function(e){e[e.Ok=0]="Ok",e[e.JoinRealmAlreadyInProgress=1]="JoinRealmAlreadyInProgress",e[e.RealmIDConversionFailed=2]="RealmIDConversionFailed",e[e.MissingPlatformMembership=3]="MissingPlatformMembership",e[e.MultiplayerPrivilegeBlocked=4]="MultiplayerPrivilegeBlocked",e[e.RealmsNotInitialized=5]="RealmsNotInitialized",e[e.MobileDataBlockedAndNoWifi=6]="MobileDataBlockedAndNoWifi",e[e.InvalidCrossPlatformMultiplayerSkin=7]="InvalidCrossPlatformMultiplayerSkin",e[e.RealmsApiNotAvailable=8]="RealmsApiNotAvailable",e[e.UnassignedDevVersion=9]="UnassignedDevVersion",e[e.MemberOfTooManyRealms=10]="MemberOfTooManyRealms",e[e.CannotConnectToRealm=11]="CannotConnectToRealm",e[e.UnknownError=12]="UnknownError",e[e.TimelineRequired=13]="TimelineRequired"}(ch||(ch={})),function(e){e[e.PlayScreen=0]="PlayScreen",e[e.SettingsScreen=1]="SettingsScreen",e[e.InviteLink=2]="InviteLink",e[e.AllowList=3]="AllowList",e[e.Marketplace=4]="Marketplace",e[e.CreateScreen=5]="CreateScreen",e[e.SlotsScreen=6]="SlotsScreen",e[e.ConnectToRealmLink=7]="ConnectToRealmLink",e[e.EditWorld=8]="EditWorld",e[e.TimelineRequiredScreen=9]="TimelineRequiredScreen"}(ih||(ih={}));const sh=(0,l.sharedFacet)("vanilla.networkWorldJoiner"),uh=(0,l.sharedFacet)("vanilla.notificationOptions"),dh=(0,l.sharedFacet)("vanilla.notifications"),mh=(0,l.sharedFacet)("vanilla.offerRepository");let ph;!function(e){e[e.TOUCH=0]="TOUCH",e[e.CROSSHAIR=1]="CROSSHAIR",e[e.CLASSIC=2]="CLASSIC"}(ph||(ph={}));const fh=(0,l.sharedFacet)("vanilla.options"),gh=(0,l.sharedFacet)("vanilla.playerAchievements"),Eh=(0,l.sharedSelector)((e=>e.status===TE.LOADED),[gh]),bh=((0,l.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,achievement:SE(t.data.achievements,(t=>t.id===e))}),[gh,Eh]])),(0,l.sharedSelector)((e=>nb(e.data.achievements)),[gh]));let hh,vh,Fh;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.INTERNAL=2]="INTERNAL"}(hh||(hh={})),function(e){e[e.Default=0]="Default",e[e.Realms=1]="Realms"}(vh||(vh={})),function(e){e[e.LOADING=0]="LOADING",e[e.IMAGE_RETRIEVAL=1]="IMAGE_RETRIEVAL",e[e.LOADED=2]="LOADED"}(Fh||(Fh={}));const yh=(0,l.sharedFacet)("vanilla.playermessagingservice"),Sh=(0,l.sharedSelector)((e=>e.reportDismiss.bind(e)),[yh]),Ch=(0,l.sharedSelector)((e=>e.status!=Fh.LOADING),[yh]),Mh=(0,l.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,message:SE(t.data.messages,(t=>t.id===e))}),[yh,Ch]])),wh=(0,l.sharedFacet)("vanilla.playerPrivacy");let kh,Ph,Th,Ih;!function(e){e[e.Self=0]="Self",e[e.TwoWayFriend=1]="TwoWayFriend",e[e.Following=2]="Following",e[e.Follower=3]="Follower",e[e.Stranger=4]="Stranger",e[e.Unknown=5]="Unknown"}(kh||(kh={})),function(e){e[e.None=0]="None",e[e.UserNotFound=1]="UserNotFound",e[e.NoInternet=2]="NoInternet",e[e.NotAllowedToViewProfilesAdult=3]="NotAllowedToViewProfilesAdult",e[e.NotAllowedToViewProfilesChild=4]="NotAllowedToViewProfilesChild",e[e.NotLoggedInWithMSA=5]="NotLoggedInWithMSA",e[e.LoggedInWithMSAButPlatformProfile=6]="LoggedInWithMSAButPlatformProfile"}(Ph||(Ph={})),function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error",e[e.Undefined=3]="Undefined"}(Th||(Th={})),function(e){e.FriendsDrawer="FriendsDrawer",e.SocialDrawer_PartyTab="SocialDrawer_PartyTab",e.SocialDrawer_PeopleTab="SocialDrawer_PeopleTab",e.SocialDrawer_WorldTab="SocialDrawer_WorldTab",e.Profile_FriendsList="Profile_FriendsList",e.Profile_FollowersList="Profile_FollowersList",e.Profile_CompareStatsCurrent="Profile_CompareStatsCurrent",e.Profile_CompareStatsLoaded="Profile_CompareStatsLoaded",e.AddFriends_Search="AddFriends_Search",e.AddFriends_RecommendedFriends="AddFriends_RecommendedFriends",e.AddFriends_RecentlyPlayedWith="AddFriends_RecentlyPlayedWith",e.AddFriends_Followers="AddFriends_Followers",e.CreateParty_Friends="CreateParty_Friends",e.CreateParty_RecentlyPlayedWith="CreateParty_RecentlyPlayedWith",e.InviteToParty_Friends="InviteToParty_Friends",e.InviteToParty_RecentlyPlayedWith="InviteToParty_RecentlyPlayedWith"}(Ih||(Ih={}));const xh=(0,l.sharedFacet)("vanilla.playerProfile"),Oh=(0,l.sharedFacet)("vanilla.playerReport"),Ah=(0,l.sharedFacet)("vanilla.playerFollowingList");let Nh;!function(e){e[e.ADDFRIENDS_RECOMMENDEDFRIENDS=0]="ADDFRIENDS_RECOMMENDEDFRIENDS",e[e.ADDFRIENDS_RECENTLYPLAYEDWITH=1]="ADDFRIENDS_RECENTLYPLAYEDWITH",e[e.ADDFRIENDS_FOLLOWERS=2]="ADDFRIENDS_FOLLOWERS",e[e.ADDFRIENDS_SEARCH=3]="ADDFRIENDS_SEARCH",e[e.PROFILE_MAIN=4]="PROFILE_MAIN",e[e.JSONUI=5]="JSONUI",e[e.PROFILE_FRIENDSLIST=6]="PROFILE_FRIENDSLIST",e[e.PROFILE_FOLLOWERSLIST=7]="PROFILE_FOLLOWERSLIST",e[e.SOCIALDRAWER_OPENPARTY=8]="SOCIALDRAWER_OPENPARTY"}(Nh||(Nh={}));const Rh=(0,l.sharedFacet)("vanilla.playerSocialManager"),Lh=(0,l.sharedFacet)("vanilla.privacyAndOnlineSafetyFacet"),Dh=(0,l.sharedFacet)("vanilla.profanityFilter"),_h=(0,l.sharedFacet)("vanilla.realmsStories.actions"),Bh=(0,l.sharedFacet)("vanilla.realmsStories.realmData");let Wh,Uh;!function(e){e[e.All=0]="All",e[e.Online=1]="Online",e[e.InRealm=2]="InRealm"}(Wh||(Wh={})),function(e){e[e.MostRecent=0]="MostRecent",e[e.AlphabeticalAscending=1]="AlphabeticalAscending",e[e.AlphabeticalDescending=2]="AlphabeticalDescending",e[e.LeastRecent=3]="LeastRecent"}(Uh||(Uh={}));const zh=(0,l.sharedFacet)("vanilla.realmsStories.persistentData");let jh;!function(e){e[e.NONMEMBER=-1]="NONMEMBER",e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR",e[e.OWNER=3]="OWNER"}(jh||(jh={}));const Hh=(0,l.sharedFacet)("vanilla.realmsStories.players");function Gh(e){return e.sort(Vh)}function Vh(e,t){return(a=e.gamerTag.toLowerCase())===(n=t.gamerTag.toLowerCase())?0:a>n?1:-1;var a,n}function $h(e){return e.sort(Xh)}function Xh(e,t){return Vh(t,e)}function Kh(e){return e.sort(Yh)}function Yh(e,t){const a=e.isInRealm?Number.MAX_VALUE:e.lastSeenTime,n=t.isInRealm?Number.MAX_VALUE:t.lastSeenTime;return a===n?Vh(e,t):n-a}function qh(e){return e.sort(Qh)}function Qh(e,t){return Yh(t,e)}let Jh;!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.FAILED=2]="FAILED",e[e.DONE=3]="DONE"}(Jh||(Jh={}));const Zh=(0,l.sharedFacet)("vanilla.realmsSubscriptionsData"),ev=(0,l.sharedFacet)("vanilla.realmsSubscriptionsMethods"),tv=(0,l.sharedFacet)("vanilla.realmsWorldContextCommands");let av;!function(e){e[e.IDLE=0]="IDLE",e[e.FETCHING_WORLD=1]="FETCHING_WORLD",e[e.FAILED=2]="FAILED",e[e.WORLD_AVAILABLE=3]="WORLD_AVAILABLE"}(av||(av={}));const nv=(0,l.sharedFacet)("vanilla.realmsWorldContextQueries");let rv,lv,ov;!function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.NeedToCallFetchFirst=1]="NeedToCallFetchFirst",e[e.MemberOfTooManyRealms=2]="MemberOfTooManyRealms",e[e.UnknownError=3]="UnknownError"}(rv||(rv={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.AlreadyMember=1]="AlreadyMember",e[e.RealmExpired=2]="RealmExpired",e[e.RealmClosed=3]="RealmClosed",e[e.BadInvite=4]="BadInvite",e[e.BlockedInvite=5]="BlockedInvite",e[e.InviteLinkNotFound=6]="InviteLinkNotFound",e[e.InviteDisabledFound=7]="InviteDisabledFound",e[e.InviteExpiredFound=8]="InviteExpiredFound",e[e.UnexpectedServerResponse=9]="UnexpectedServerResponse",e[e.AnonymousAccount=10]="AnonymousAccount"}(lv||(lv={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.ErrorTaskInProgress=1]="ErrorTaskInProgress",e[e.UnknownError=2]="UnknownError",e[e.Success=3]="Success",e[e.Unknown=4]="Unknown"}(ov||(ov={}));const cv=(0,l.sharedFacet)("vanilla.realmsMembership"),iv=(0,l.sharedFacet)("vanilla.RealmsPDPFacet"),sv=(0,l.sharedFacet)("vanilla.realmsStories.sessions");let uv,dv,mv;!function(e){e[e.Compatible=0]="Compatible",e[e.CompatibleShowInfo=1]="CompatibleShowInfo",e[e.Outdated=2]="Outdated",e[e.AlphaEnded=3]="AlphaEnded",e[e.UserNotAllowed=4]="UserNotAllowed",e[e.Other=5]="Other"}(uv||(uv={})),function(e){e[e.None=0]="None",e[e.Unknown=1]="Unknown",e[e.Compatibility=2]="Compatibility",e[e.ServiceError=3]="ServiceError",e[e.RateLimit=4]="RateLimit",e[e.RealmsBan=5]="RealmsBan",e[e.RealmsSuspension=6]="RealmsSuspension",e[e.NetworkError=7]="NetworkError",e[e.APIUnavailable=8]="APIUnavailable",e[e.InEditorMode=9]="InEditorMode"}(dv||(dv={})),function(e){e[e.Unknown=0]="Unknown",e[e.Loading=1]="Loading",e[e.Idle=2]="Idle",e[e.Error=3]="Error"}(mv||(mv={}));const pv=(0,l.sharedFacet)("vanilla.realmsListFacet"),fv=(0,l.sharedSelector)((e=>{const t=[];if(null==e.realms)return t;for(let a=0;a<e.realms.length;a++)e.realms[a].world.isInitialized&&!e.realms[a].world.expired&&e.realms[a].isOwner&&t.push(e.realms[a].world);return t}),[pv]),gv=(0,l.sharedFacet)("vanilla.realmsListActionsFacet"),Ev=(0,l.sharedFacet)("vanilla.developerOptionsFacet");let bv;!function(e){e[e.Idle=0]="Idle",e[e.LoadingSelectedRealmDetails=1]="LoadingSelectedRealmDetails",e[e.FailedToQuerySelectedRealmDetails=2]="FailedToQuerySelectedRealmDetails",e[e.LoadingActivatingSlot=3]="LoadingActivatingSlot",e[e.FailedToActivateSlot=4]="FailedToActivateSlot",e[e.SlotSelected=5]="SlotSelected",e[e.ShowingConfirmationModal=6]="ShowingConfirmationModal"}(bv||(bv={}));const hv=(0,l.sharedFacet)("vanilla.realmSlots"),vv=(0,l.sharedFacet)("vanilla.realmsStories.stories");function Fv(e){e.forEach((e=>{e.hasViewed=!0}))}let yv;!function(e){e[e.OptedIn=0]="OptedIn",e[e.OptedOut=1]="OptedOut",e[e.None=2]="None"}(yv||(yv={}));const Sv=(0,l.sharedFacet)("vanilla.realmsStories.settings"),Cv=(0,l.sharedFacet)("vanilla.realmsStories.comments");let Mv;!function(e){e[e.ActionAlreadyInProgress=0]="ActionAlreadyInProgress",e[e.CannotSaveWorld=1]="CannotSaveWorld",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.Generic=3]="Generic",e[e.TooManyRealms=4]="TooManyRealms",e[e.InvalidRealmName=5]="InvalidRealmName",e[e.InvalidResponse=6]="InvalidResponse",e[e.CrossPlatformRestricted=7]="CrossPlatformRestricted",e[e.UnknownError=8]="UnknownError"}(Mv||(Mv={}));const wv=(0,l.sharedFacet)("vanilla.RealmWorldUploaderFacet"),kv=(0,l.sharedFacet)("vanilla.recentlyPlayedWithList"),Pv=(0,l.sharedFacet)("vanilla.recommendedFriendsList");let Tv;!function(e){e[e.Idle=0]="Idle",e[e.CheckingResourcePacks=1]="CheckingResourcePacks",e[e.StartDownload=2]="StartDownload",e[e.DownloadingResourcePacks=3]="DownloadingResourcePacks",e[e.ActivateDownloadedPack=4]="ActivateDownloadedPack",e[e.WaitingForPrompt=5]="WaitingForPrompt"}(Tv||(Tv={}));const Iv=(0,l.sharedFacet)("vanilla.resourcePacks");let xv;!function(e){e[e.Default=0]="Default",e[e.List=1]="List",e[e.Grid=2]="Grid"}(xv||(xv={}));const Ov=(0,l.sharedFacet)("vanilla.screenSpecificOptions");let Av;!function(e){e[e.None=0]="None",e[e.HttpError=1]="HttpError"}(Av||(Av={}));const Nv=(0,l.sharedFacet)("vanilla.screenshotGallery"),Rv=(0,l.sharedFacet)("vanilla.playerShowcasedGallery");let Lv,Dv;!function(e){e.PlayScreen="/play",e.EditWorldScreen="/edit-world",e.EditRealmWorldScreen="/edit-realm-world"}(Lv||(Lv={})),function(e){e[e.JsonUI=0]="JsonUI",e[e.OreUI=1]="OreUI"}(Dv||(Dv={}));const _v=(0,l.sharedFacet)("vanilla.screenTechStack"),Bv=(0,l.sharedFacet)("vanilla.seedTemplates"),Wv=(0,l.sharedFacet)("vanilla.share"),Uv=(0,l.sharedFacet)("vanilla.simulationDistanceOptions");let zv,jv;!function(e){e[e.NotSet=0]="NotSet",e[e.NotUsedByEdu=1]="NotUsedByEdu",e[e.AccessControlData=2]="AccessControlData",e[e.CustomerContent=3]="CustomerContent",e[e.EUII=4]="EUII",e[e.SupportData=5]="SupportData",e[e.Feedback=6]="Feedback",e[e.AccountData=7]="AccountData",e[e.PublicPersonalData=8]="PublicPersonalData",e[e.EUPI=9]="EUPI",e[e.OII=10]="OII",e[e.SystemMetadata=11]="SystemMetadata",e[e.PublicNonPersonalData=12]="PublicNonPersonalData"}(zv||(zv={})),function(e){e[e.Increment=0]="Increment",e[e.Sum=1]="Sum",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average",e[e.Latest=5]="Latest"}(jv||(jv={}));const Hv=(0,l.sharedFacet)("vanilla.telemetry");let Gv;!function(e){e[e.ServersSupported=0]="ServersSupported",e[e.Win32DevBuildWarning=1]="Win32DevBuildWarning"}(Gv||(Gv={}));const Vv=(0,l.sharedFacet)("vanilla.thirdPartyWorldList");let $v,Xv;!function(e){e[e.PlatformHasNoTrialOfferings=0]="PlatformHasNoTrialOfferings",e[e.UnknownGameStoreError=1]="UnknownGameStoreError"}($v||($v={})),function(e){e[e.FullGame=0]="FullGame",e[e.StarterCollection=1]="StarterCollection",e[e.MasterCollection=2]="MasterCollection"}(Xv||(Xv={}));const Kv=(0,l.sharedFacet)("vanilla.trialMode");let Yv,qv,Qv,Jv,Zv,eF,tF,aF,nF,rF,lF,oF,cF,iF,sF,uF,dF,mF,pF,fF;!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(Yv||(Yv={})),function(e){e.MINECRAFT="minecraft",e.XBL="xbl",e.ACHIEVEMENTS="achievements",e.MULTIPLAYER="multiplayer",e.SERVER="server",e.STORE="store",e.CREATIVE="creative",e.PACKS="packs",e.SEEDS="seeds"}(qv||(qv={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.SURVIVAL=0]="SURVIVAL",e[e.CREATIVE=1]="CREATIVE",e[e.ADVENTURE=2]="ADVENTURE",e[e.DEFAULT=5]="DEFAULT",e[e.SPECTATOR=6]="SPECTATOR"}(Qv||(Qv={})),function(e){e[e.ThirdParty=0]="ThirdParty",e[e.External=1]="External",e[e.Realm=2]="Realm",e[e.LAN=3]="LAN"}(Jv||(Jv={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High"}(Zv||(Zv={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(eF||(eF={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.FETCH_FAILED=2]="FETCH_FAILED"}(tF||(tF={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INPUT_INVALID=1]="INPUT_INVALID",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.UPLOAD_FAILED=3]="UPLOAD_FAILED"}(aF||(aF={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.FetchFailed=4]="FetchFailed",e[e.RateLimit=5]="RateLimit"}(nF||(nF={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.InputInvalid=4]="InputInvalid",e[e.Uploading=5]="Uploading",e[e.UploadFailed=6]="UploadFailed",e[e.PostingFailed=7]="PostingFailed",e[e.RateLimit=8]="RateLimit"}(rF||(rF={})),function(e){e[e.Idle=0]="Idle",e[e.DeleteComment=1]="DeleteComment",e[e.DeletePost=2]="DeletePost",e[e.Dismiss=3]="Dismiss",e[e.isDeleting=4]="isDeleting",e[e.isDismissing=5]="isDismissing"}(lF||(lF={})),function(e){e[e.Success=0]="Success",e[e.XboxAPIError=1]="XboxAPIError"}(oF||(oF={})),function(e){e.Template="template",e.Regular="regular"}(cF||(cF={})),function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(iF||(iF={})),function(e){e[e.Undefined=0]="Undefined",e[e.Requested=1]="Requested",e[e.Success=2]="Success",e[e.Failure=3]="Failure"}(sF||(sF={})),function(e){e[e.Unknown=0]="Unknown",e[e.NotPlayed=1]="NotPlayed",e[e.HasPlayed=2]="HasPlayed"}(uF||(uF={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Error=3]="Error"}(dF||(dF={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FAVORITE=1]="FAVORITE",e[e.NOT_FAVORITE=2]="NOT_FAVORITE"}(mF||(mF={})),function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Away=2]="Away",e[e.Offline=3]="Offline"}(pF||(pF={})),function(e){e[e.NotInParty=0]="NotInParty",e[e.InParty=1]="InParty",e[e.Disconnecting=2]="Disconnecting"}(fF||(fF={}));const gF=(0,l.sharedFacet)("vanilla.unpairedRealmsListFacet"),EF=(0,l.sharedSelector)((e=>{const t=[];for(let a=0;a<e.realms.length;a++)e.realms[a].world.isInitialized&&!e.realms[a].world.expired&&e.realms[a].isOwner&&t.push(e.realms[a].world);return t}),[gF]);let bF,hF;var vF;(vF=bF||(bF={}))[vF.None=0]="None",vF[vF.Minecraft_Ban=1]="Minecraft_Ban",vF[vF.XboxLive=2]="XboxLive",vF[vF.XboxLive_Parental=4]="XboxLive_Parental",vF[vF.XboxLive_Ban=8]="XboxLive_Ban",vF[vF.XboxLive_RequiresSignIn=16]="XboxLive_RequiresSignIn",vF[vF.Platform_PlayStation=32]="Platform_PlayStation",vF[vF.Platform_NintendoSwitch=64]="Platform_NintendoSwitch",vF[vF.GameVersion=128]="GameVersion",vF[vF.Unknown=256]="Unknown",function(e){e[e.Anonymous=0]="Anonymous",e[e.NotConnected=1]="NotConnected",e[e.Connected=2]="Connected",e[e.ConnectionFailed=3]="ConnectionFailed",e[e.OfflineOnly=4]="OfflineOnly",e[e.UserBanned=5]="UserBanned"}(hF||(hF={}));const FF=(0,l.sharedFacet)("vanilla.userAccount"),yF=(0,l.sharedSelector)((e=>e.isTrialAccount),[FF]);let SF;!function(e){e[e.NewWorldCreationFeedbackPage=0]="NewWorldCreationFeedbackPage",e[e.PlayScreenFeedbackPage=1]="PlayScreenFeedbackPage",e[e.EditWorldScreenFeedbackPage=2]="EditWorldScreenFeedbackPage",e[e.DeathScreenFeedbackPage=3]="DeathScreenFeedbackPage",e[e.RealmsSafetyPage=4]="RealmsSafetyPage",e[e.BannedHelpPage=6]="BannedHelpPage",e[e.ParentPermissionHelpPage=5]="ParentPermissionHelpPage",e[e.NintendoSwitchTechnicalSupportPage=7]="NintendoSwitchTechnicalSupportPage",e[e.BuyMinecraftStorePage=8]="BuyMinecraftStorePage",e[e.XboxPrivacyAndOnlineSafety=9]="XboxPrivacyAndOnlineSafety",e[e.XboxAccountProfile=10]="XboxAccountProfile",e[e.JoinRealmHelpPage=11]="JoinRealmHelpPage",e[e.FriendsDrawerFeedbackPage=12]="FriendsDrawerFeedbackPage",e[e.ServersTabFeedbackPage=13]="ServersTabFeedbackPage",e[e.PlayerFeedbackMain=14]="PlayerFeedbackMain",e[e.PlayerFeedbackIdeas=15]="PlayerFeedbackIdeas",e[e.ProfileFeedbackMain=16]="ProfileFeedbackMain",e[e.StartFromTemplateFeedbackPage=17]="StartFromTemplateFeedbackPage",e[e.RealmsTabFeedbackPage=18]="RealmsTabFeedbackPage",e[e.TermsAndServicePage=19]="TermsAndServicePage",e[e.PrivacyPolicyPage=20]="PrivacyPolicyPage",e[e.PreproductionRealmsGuide=21]="PreproductionRealmsGuide",e[e.TroubleshootingMultiplayerDisabled=22]="TroubleshootingMultiplayerDisabled",e[e.EduAboutAddOns=23]="EduAboutAddOns",e[e.EduAboutBehaviorPacks=24]="EduAboutBehaviorPacks",e[e.EduAboutResourcePacks=25]="EduAboutResourcePacks",e[e.EduAboutCloud=26]="EduAboutCloud",e[e.FlatWorldFeedbackPage=27]="FlatWorldFeedbackPage",e[e.SignInCapeTerms=28]="SignInCapeTerms",e[e.ContactSupport=29]="ContactSupport",e[e.RealmsCommitWikiLink=30]="RealmsCommitWikiLink"}(SF||(SF={}));const CF=(0,l.sharedFacet)("vanilla.webBrowserFacet");let MF;!function(e){e[e.Ok=0]="Ok",e[e.Unsupported=1]="Unsupported",e[e.WorldNotCloudStored=2]="WorldNotCloudStored",e[e.UnableToGetManifest=3]="UnableToGetManifest",e[e.UnableToSyncWorld=4]="UnableToSyncWorld"}(MF||(MF={}));const wF=(0,l.sharedFacet)("vanilla.worldCloudSyncFacet");let kF,PF,TF;!function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnexpectedError=1]="UnexpectedError"}(kF||(kF={})),function(e){e[e.Legacy=0]="Legacy",e[e.Overworld=1]="Overworld",e[e.Flat=2]="Flat",e[e.Nether=3]="Nether",e[e.TheEnd=4]="TheEnd",e[e.Void=5]="Void",e[e.Undefined=6]="Undefined"}(PF||(PF={})),function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnableToCreateWorldDirectoryPath=1]="UnableToCreateWorldDirectoryPath",e[e.UnableToCreateResourcePackDirectoryPath=2]="UnableToCreateResourcePackDirectoryPath",e[e.UnableToCreateBehaviorDirectoryPath=3]="UnableToCreateBehaviorDirectoryPath",e[e.InsufficientDiskSpace=4]="InsufficientDiskSpace",e[e.UnknownError=5]="UnknownError"}(TF||(TF={}));const IF=(0,l.sharedFacet)("vanilla.worldEditor");let xF,OF,AF,NF,RF,LF,DF;!function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(xF||(xF={})),function(e){e[e.None=0]="None",e[e.ClearPlayerData=2]="ClearPlayerData",e[e.ForceHardcoreMode=4]="ForceHardcoreMode",e[e.All=-1]="All"}(OF||(OF={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.NoFile=2]="NoFile",e[e.ZipError=3]="ZipError",e[e.PremiumContent=4]="PremiumContent",e[e.EditionMismatch=5]="EditionMismatch",e[e.EditorMismatch=6]="EditorMismatch",e[e.ZipDepthError=7]="ZipDepthError",e[e.UnknownError=8]="UnknownError",e[e.Cancelled=9]="Cancelled"}(AF||(AF={})),function(e){e[e.SkipLocalUser=0]="SkipLocalUser",e[e.IncludeLocalUser=1]="IncludeLocalUser"}(NF||(NF={})),function(e){e[e.Idle=0]="Idle",e[e.Setup=1]="Setup",e[e.SelectingFileDestination=2]="SelectingFileDestination",e[e.Exporting=3]="Exporting"}(RF||(RF={})),function(e){e[e.FailedToOpenDatabase=0]="FailedToOpenDatabase"}(LF||(LF={})),function(e){e[e.Ok=0]="Ok",e[e.InvalidLevel=1]="InvalidLevel"}(DF||(DF={}));const _F=(0,l.sharedFacet)("vanilla.worldOperations");let BF,WF,UF,zF;!function(e){e[e.None=0]="None",e[e.World=1]="World",e[e.WorldTemplate=2]="WorldTemplate",e[e.Resource=3]="Resource",e[e.Behavior=4]="Behavior",e[e.Skin=5]="Skin",e[e.ItemCollection=6]="ItemCollection"}(BF||(BF={})),function(e){e[e.Idle=0]="Idle",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Completed=3]="Completed"}(WF||(WF={})),function(e){e[e.InvalidContentType=0]="InvalidContentType",e[e.InvalidPackId=1]="InvalidPackId",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.ContentTierIncompatible=3]="ContentTierIncompatible",e[e.ContentTierIncompatibleMemory=4]="ContentTierIncompatibleMemory",e[e.ContentTierIncompatibleRayTracing=5]="ContentTierIncompatibleRayTracing",e[e.PackDataWarning=6]="PackDataWarning",e[e.PackDependencyWarning=7]="PackDependencyWarning",e[e.PackSelectErrorNoStore=8]="PackSelectErrorNoStore",e[e.PackSelectErrorRequiredDependency=9]="PackSelectErrorRequiredDependency",e[e.NoPackAccess=10]="NoPackAccess",e[e.UnownedContent=11]="UnownedContent",e[e.NeedToDownloadPack=12]="NeedToDownloadPack",e[e.UnsupportedFileFormat=13]="UnsupportedFileFormat",e[e.IncompletePack=14]="IncompletePack",e[e.NoManifest=15]="NoManifest",e[e.MissingProperty=16]="MissingProperty",e[e.WrongTypeProperty=17]="WrongTypeProperty",e[e.EmptyProperty=18]="EmptyProperty",e[e.InvalidProperty=19]="InvalidProperty",e[e.MalformedPropertyUUID=20]="MalformedPropertyUUID",e[e.MalformedPropertyVERSION=21]="MalformedPropertyVERSION",e[e.DuplicateUUID=22]="DuplicateUUID",e[e.InvalidJSON=23]="InvalidJSON",e[e.MissingModules=24]="MissingModules",e[e.MultipleModules=25]="MultipleModules",e[e.UnsupportedFormatVersion=26]="UnsupportedFormatVersion",e[e.VersionTooHigh=27]="VersionTooHigh",e[e.VersionTooLow=28]="VersionTooLow",e[e.InitializationTimeout=29]="InitializationTimeout",e[e.UnexpectedError=30]="UnexpectedError"}(UF||(UF={})),function(e){e[e.HasPendingOrActiveImports=0]="HasPendingOrActiveImports",e[e.HasUnownedPacks=1]="HasUnownedPacks",e[e.RealmsPlusEnded=2]="RealmsPlusEnded",e[e.MissingDlcDependencies=3]="MissingDlcDependencies",e[e.MissingDlcWorldTemplate=4]="MissingDlcWorldTemplate",e[e.NoInternet=5]="NoInternet",e[e.HasPerformanceIssues=6]="HasPerformanceIssues",e[e.NotEnoughDiskSpace=7]="NotEnoughDiskSpace",e[e.WifiRequiredYetNotAccessible=8]="WifiRequiredYetNotAccessible",e[e.MissingRequiredWorldTemplateRequestUserApproval=9]="MissingRequiredWorldTemplateRequestUserApproval",e[e.InvalidPack=10]="InvalidPack",e[e.InvalidWorld=11]="InvalidWorld",e[e.InitializationTimeout=12]="InitializationTimeout",e[e.UnexpectedError=13]="UnexpectedError"}(zF||(zF={}));const jF=(0,l.sharedFacet)("vanilla.worldPackages");let HF,GF;!function(e){e[e.Ok=0]="Ok",e[e.WorldNotInLevelList=1]="WorldNotInLevelList",e[e.StartupAlreadyInProgress=2]="StartupAlreadyInProgress",e[e.GameServerStarterNotReady=3]="GameServerStarterNotReady",e[e.MissingDependencies=4]="MissingDependencies",e[e.DlcMissingContentKey=5]="DlcMissingContentKey",e[e.DlcPendingImports=6]="DlcPendingImports",e[e.HasUnownedPacks=7]="HasUnownedPacks",e[e.UnknownError=8]="UnknownError",e[e.WorldSavedInNewerVersion=9]="WorldSavedInNewerVersion",e[e.RealmsPlusEnded=10]="RealmsPlusEnded"}(HF||(HF={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(GF||(GF={}));const VF=(0,l.sharedFacet)("vanilla.worldStartup");let $F;(0,l.sharedFacet)("vanilla.worldTemplateList"),function(e){e[e.Success=0]="Success",e[e.FailureUnknown=1]="FailureUnknown",e[e.FailureNoFile=2]="FailureNoFile",e[e.FailureZipError=3]="FailureZipError",e[e.FailurePremiumContent=4]="FailurePremiumContent",e[e.FailureEditionMismatch=5]="FailureEditionMismatch",e[e.FailureEditorMismatch=6]="FailureEditorMismatch",e[e.UnsupportedPlatform=7]="UnsupportedPlatform",e[e.AlreadyInProgress=8]="AlreadyInProgress",e[e.InterruptedByUser=9]="InterruptedByUser"}($F||($F={}));const XF=(0,l.sharedFacet)("vanilla.worldTransfer"),KF=(0,l.sharedFacet)("vanilla.featuredWorldTemplateList"),YF=(0,l.sharedFacet)("vanilla.ownedWorldTemplateList");let qF,QF,JF;!function(e){e[e.Initialising=0]="Initialising",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Success=3]="Success",e[e.Fail=4]="Fail"}(qF||(qF={})),function(e){e[e.UnknownFileType=0]="UnknownFileType",e[e.Duplicate=1]="Duplicate",e[e.MalformedZip=2]="MalformedZip",e[e.Default=3]="Default",e[e.Incompatible=4]="Incompatible",e[e.Cancelled=5]="Cancelled"}(QF||(QF={})),function(e){e[e.AlreadyDownloaded=0]="AlreadyDownloaded",e[e.DownloadAlreadyInProgress=1]="DownloadAlreadyInProgress",e[e.DownloadFailed=2]="DownloadFailed",e[e.ItemNotOwned=3]="ItemNotOwned",e[e.CancelledByUser=4]="CancelledByUser",e[e.InsufficientStorage=5]="InsufficientStorage"}(JF||(JF={}));const ZF=(0,l.sharedFacet)("vanilla.worldTemplateOperations"),ey=(0,l.sharedFacet)("vanilla.playerBanned"),ty=({text:e,interruptible:t=!0})=>{const a=Oi(e),{narrateById:n}=Ti();return(0,l.useFacetEffect)((()=>{n(a,t)}),[n,a,t],[(0,l.useFacetWrap)(e)]),null};function ay({onClick:e,innerRef:t,children:a,role:n="neutral50"}){const l=Yr(n),o=dl()("a77912e482b38baf052d",l.overlay.base);return null!=a?r.createElement("div",{onClick:e,className:o,ref:t},a):r.createElement("div",{onClick:e,className:o,ref:t})}function ny({left:e,center:t,right:a,safeZone:n,innerRef:l,role:o="neutral20",showDropShadow:c=!0}){const i=Yr(o);return r.createElement(Sr,{role:o},r.createElement("div",{className:dl()("f84586c69ae9456efac8",i.background.base)},r.createElement("div",{style:{paddingTop:n&&n.top+"px",paddingRight:n&&n.right+"px",paddingLeft:n&&n.left+"px"}},r.createElement("div",{ref:l,className:"c420dd6a4c7218b94295"},r.createElement("div",{className:"e42d2c77c0f7997695ef"},e),r.createElement("div",{className:"ed2f6d43ba4895affa71"},t),r.createElement("div",{className:"b694d45bf7366105e85a"},a)),r.createElement(Ks,{top:!1,right:!1,left:!1,role:o})),r.createElement("div",{className:dl()("c7a26674a6a12a185535",i.shadow.base)}),c&&r.createElement("div",{className:dl()("e2dc29df9f7e85c3ea7c")},r.createElement(Ks,{effect:"bevel",role:o,top:!1,right:!1,left:!1}))))}const ry=a.p+"assets/arrowBack-b77b12d5d12611651a90.png",ly=a.p+"assets/arrowBackDisabled-df022727bf70cb19e8dd.png";function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},oy.apply(null,arguments)}const cy=e=>{let{className:t,disabled:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className","disabled"]);const o=(0,l.useFacetWrap)(null!=a&&a),c=bu("b8ee91cf0876af81612b",t);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(pu,oy({},n,{className:c,src:ly,imageRendering:"pixelated"}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(pu,oy({},n,{className:c,src:ry,imageRendering:"pixelated"}))))};function iy({onClick:e,disabled:t,role:a="inherit",hint:n="",light:l=!1}){const{t:o}=ws("BackButton"),c=Qr(a);return r.createElement(Us,{narrationText:[o(".narrationGoBack"),o(".narrationComponentType"),n].join(" . "),inputLegend:o(".back"),onClick:e,disabled:t,soundEffectPressed:c.press,role:a,testId:"navigation-bar-layout-back-button"},l?r.createElement(vu,null):r.createElement(cy,null))}const sy=a.p+"assets/filter-93196e4eaae71c567339.png",uy=a.p+"assets/hamburger-e678c3060f877980f5f2.png",dy=a.p+"assets/debug-icon-1cb529ecd005cdafa5e2.png",my=a.p+"assets/Delete_Neutral20-71e3bf56d78eb6835e6a.png",py="e5e92743897e6f39bf32";function fy({children:e,collapsed:t=!1,floating:a=!1,onDismiss:n,align:l="left"}){const o=(0,r.useRef)(null),c=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),i=r.createElement("div",{ref:o,onClick:c,className:dl()({[py]:t,dc6d710fb718a8a648d1:"left"===l,e789058822647c11459c:"right"===l,b0951246953fb92a2233:"left"===l,f983bbda1fd141f2a586:"right"===l})},r.createElement(ud,null,e));return a?r.createElement(r.Fragment,null,r.createElement("div",{className:dl()({fc2dac194e82afdf75e9:"right"===l,f048e13c316f8c530dc2:"left"===l,[py]:t})},i),!t&&r.createElement(ay,{onClick:n})):i}const gy=(0,l.sharedFacet)("vanilla.currentParty");let Ey;!function(e){e[e.HTTPError=0]="HTTPError"}(Ey||(Ey={}));const by=(0,l.sharedFacet)("vanilla.partyCommands"),hy=(0,l.sharedFacet)("vanilla.partyReceivedInviteList"),vy=(0,l.sharedFacet)("vanilla.joinablePartyList");let Fy;!function(e){e[e.Open=0]="Open",e[e.InviteOnly=1]="InviteOnly"}(Fy||(Fy={}));const yy=a.p+"assets/online-badge-e3691049d5f11f7faedc.png";function Sy(){return r.createElement(pu,{src:yy,className:"aacadf4e9321d2fd9cc5",imageRendering:"pixelated"})}const Cy="da8dc5a1adcdc4702b41",My="cdad73264f89244009d4",wy=a.p+"assets/no-player-profile-d13a75350a6a889e7e8b.png",ky=a.p+"assets/online-badge-00ae2c181a54b1096276.png",Py=a.p+"assets/away-badge-269e92e1c8e4d3eda306.png",Ty=a.p+"assets/away-favorite-badge-470280c88891bd3da7ce.png",Iy=a.p+"assets/online-favorite-badge-74d3963b887df13edc20.png",xy=a.p+"assets/party-favorite-badge-d35f6b5624c29df99f13.png",Oy=a.p+"assets/party-badge-782865839639a0ea67d6.png",Ay=a.p+"assets/leader-icon-1fd278fe8ceaea0b696e.png",Ny="f3b76d6b0de365535b20",Ry="abd0588862454a33763d",Ly="af6eb647d660d9929065",Dy="be322501b3cdb9962526",_y=function({status:e}){return r.createElement(l.Unwrap,{data:e},(e=>r.createElement(r.Fragment,null,r.createElement(pu,{src:Ay,className:dl()(Ly,"f47b90e4ecc690f3b030",{[Dy]:"leader"===e}),imageRendering:"pixelated"}))))},By=function({status:e}){return r.createElement(l.Unwrap,{data:e},(e=>r.createElement(r.Fragment,null,r.createElement(pu,{src:Iy,className:dl()(Ly,Ry,{[Dy]:"onlineFavorite"===e}),imageRendering:"pixelated"}),r.createElement(pu,{src:ky,className:dl()(Ly,Ny,{[Dy]:"online"===e}),imageRendering:"pixelated"}),r.createElement(pu,{src:Py,className:dl()(Ly,Ny,{[Dy]:"away"===e}),imageRendering:"pixelated"}),r.createElement(pu,{src:Ty,className:dl()(Ly,Ry,{[Dy]:"awayFavorite"===e}),imageRendering:"pixelated"}),r.createElement(pu,{src:Oy,className:dl()(Ly,Ny,{[Dy]:"party"===e}),imageRendering:"pixelated"}),r.createElement(pu,{src:xy,className:dl()(Ly,Ry,{[Dy]:"partyFavorite"===e}),imageRendering:"pixelated"}))))},Wy={small:2.4,medium:3.2,large:5.2};function Uy({statusBadge:e="online",identityBadge:t="none",src:a="",variant:n="medium",grayscaleAvatar:o=!1,usePersonaPicRendering:c="if-enabled",shouldShowNewStatus:i=!1,className:s="",testid:u="unlabelled"}){const d=(0,l.useFacetWrap)(e),m=(0,l.useFacetWrap)(a),p=(0,l.useFacetMap)((e=>""===e||null==e),[],[m]),f=(0,l.useFacetWrap)(n),g=(0,l.useFacetMap)(((e,t)=>e?wy:t),[],[p,m]),E=(0,l.useFacetWrap)(o),b=Rd(Rb),h=(0,l.useFacetMap)(((e,t)=>t?"pixelated":"if-enabled"===e?b?"pixelated":void 0:!0===e?"pixelated":void 0),[b],[(0,l.useFacetWrap)(c),p]),v=Yr(),F=(0,l.useFacetMap)((e=>{const t=i&&"none"!=e;return dl()("f5822d569606d8ccd0f5",{[Cy]:t,[My]:!t})}),[i],[(0,l.useFacetWrap)(t)]),y=(0,l.useFacetMap)((e=>dl()("ac954a19491063e451f2",{[Cy]:"offline"!==e,[My]:"offline"===e})),[],[d]),S=(0,l.useFacetMap)(((e,t)=>dl()("a80f5d0e771893d0bf04",{c8aac93615954eed4a85:e&&"offline"===t})),[],[E,d]);return r.createElement("fast-div",{className:dl()("c141664191c2ab5d19ec",v.neutral.border.base,s),style:{width:(0,l.useFacetMap)((e=>`${Wy[e]}rem`),[],[f]),height:(0,l.useFacetMap)((e=>`${Wy[e]}rem`),[],[f])},"data-testid":`player-avatar-${u}`},r.createElement(pu,{src:g,className:S,imageRendering:h}),r.createElement("fast-div",{className:y},i?r.createElement(By,{status:d}):r.createElement(Sy,null)),r.createElement("fast-div",{className:F},r.createElement(_y,{status:(0,l.useFacetWrap)(t)})))}Uy.VARIANT_SIZES=Wy,Uy.List=function({membersToShow:e,playerXuids:t,profileImageUrls:a}){const n=Yr("neutral");return r.createElement("div",{className:"a885103306b18190d4f4"},t.slice(0,e).map(((e,t)=>{const n=a[t];return r.createElement(Uy,{key:e,testid:e,src:null!=n?n:"",statusBadge:"offline",variant:"small",className:0!==t?"a9a05466c08aa58d9771":""})})),t.length>e&&r.createElement(Zi,{type:"captionShort",className:dl()("c0a742314af3eef019b7",n.background.base,n.border.base),role:"neutral"},"+",t.length-e))};const zy=a.p+"assets/navbar-friends-icon-1-47df643b6c22613ffcc9.png",jy=a.p+"assets/navbar-friends-icon-2-09dfc3668298f1a5b4d6.png",Hy=a.p+"assets/navbar-friends-icon-3-bbd38e3c376556607bd7.png",Gy="__VISUAL_REGRESSION_TEST_ICON_STYLE_CACHE__",Vy=(e,t)=>{if("true"!==process.env.VISUAL_REGRESSION_TEST)throw new Error("useStyleTagInjection was run outside of a visual regression test, this should never happen!");(0,r.useEffect)((()=>{var a;if(null==document.getElementById(Gy)){const e=document.createElement("style");e.setAttribute("id",Gy),e.setAttribute("type","text/css"),document.body.appendChild(e)}const n=document.getElementById(Gy);!1===(null==n||null===(a=n.textContent)||void 0===a?void 0:a.includes(e))&&(null==n||n.appendChild(document.createTextNode(`.${e} {${(e=>Object.entries(e).map((([e,t])=>`${e}:${t}`)).join(";"))(t)}}`)))}),[e,t])};function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$y.apply(null,arguments)}function Xy(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ky(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yy(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const qy="undefined"!=typeof process&&"true"===process.env.VISUAL_REGRESSION_TEST,Qy=(e,t,a,n)=>{let r=0;if("number"==typeof e)r=e;else if(t)r=n.default[a];else{var l,o;r=null!==(l=null===(o=n.canvas)||void 0===o?void 0:o[a])&&void 0!==l?l:n.default[a]}return qy?r/10+"rem":`calc(${r} * var(--base1Scale))`},Jy=({displayName:e,src:t,width:a,height:n,scale:o=1,canvasWidth:c,canvasHeight:i})=>{const s=`url('${t}')`,u=(({sourceWidth:e,sourceHeight:t,sourceScale:a,canvasWidth:n=0,canvasHeight:r=0})=>{const l=1/a;return{canvas:n&&r?{maskSize:[e/n,t/r].map((e=>`${Math.floor(100*e)}%`)).join(" "),width:n*l,height:r*l}:null,default:{maskSize:"100% 100%",width:e*l,height:t*l}}})({sourceWidth:a,sourceHeight:n,sourceScale:o,canvasWidth:c,canvasHeight:i}),d=`${e}_default`,m=`${e}_canvas`;return t=>{let{role:a="inherit",variant:n,color:o,className:c,style:i,width:p,height:f,disabled:g,trimCanvas:E}=t,b=Yy(t,["role","variant","color","className","style","width","height","disabled","trimCanvas"]);qy&&(Vy(d,{"-webkit-mask-image":s,"-webkit-mask-size":u.default.maskSize}),u.canvas&&Vy(`${e}_canvas`,{"-webkit-mask-image":s,"-webkit-mask-size":u.canvas.maskSize}));const h=Yr(a),v=el(),F=(0,l.useFacetWrap)(c),y=(0,l.useFacetWrap)(o),S=(0,l.useFacetWrap)(p),C=(0,l.useFacetWrap)(f),M=(0,l.useFacetWrap)(g),w=(0,l.useFacetWrap)(E),k=(0,l.useFacetWrap)(n),P=(0,l.useFacetMap)((e=>qy?e||!u.canvas?d:m:null),[],[w]),T=(0,l.useFacetMap)(((e,t,a,n,r)=>{var l,o,c,i;return fi("df9b05ca2592d37698f0",Boolean(t)?"":null!==(l=null===(o=h.icon)||void 0===o?void 0:o.base)&&void 0!==l?l:"",a&&null!==(c=null===(i=h.icon)||void 0===i?void 0:i.disable)&&void 0!==c?c:"",a?v.disabled:"",n,e,r)}),[h,v],[F,y,M,k,P]),I=(0,l.useFacetMap)(((e,t)=>Qy(e,t,"width",u)),[],[S,w]),x=(0,l.useFacetMap)(((e,t)=>Qy(e,t,"height",u)),[],[C,w]),O=(0,l.useFacetMap)((e=>e||!u.canvas?u.default.maskSize:u.canvas.maskSize),[],[w]),A=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xy(Object(a),!0).forEach((function(t){Ky(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xy(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({width:I,height:x,WebkitMaskImage:s,maskImage:s,WebkitMaskSize:O,maskSize:O,backgroundColor:y},i);return r.createElement("fast-div",$y({},b,{className:T,style:A}))}},Zy=(e,...t)=>{const a=t.reduce(((e,t)=>{let{type:a}=t,n=Yy(t,["type"]);return e[a]=Jy(n),e}),{default:Jy(e)}),n=e=>{var t;let{type:n="default"}=e,r=Yy(e,["type"]);return null!==(t=a[n](r))&&void 0!==t?t:null};return n.displayName=e.displayName,n.alternates=t.reduce(((e,{type:t})=>(null!=t&&e.push(t),e)),[]),n},eS={displayName:"IconAccessibility",src:a.p+"assets/accessibility@0.5x.icon-dad71ca29518aa899ffeea8d919e0307.png",width:9,height:10,scale:.5},tS={displayName:"IconAchievementBottle",src:a.p+"assets/achievement-bottle.icon-4eb8c1718579b71d03954cc52771e424.png",width:32,height:32,scale:1},aS={displayName:"IconAchievements",src:a.p+"assets/achievements@0.5x.icon-5e205a8fbedb160eddead32c83f3c312.png",width:12,height:12,scale:.5},nS={displayName:"IconAddBehaviourPack",src:a.p+"assets/add-behaviour-pack@0.5x.icon-996e963c008701ef813e1acd74e7f068.png",width:11,height:12,scale:.5},rS={displayName:"IconAddImage",src:a.p+"assets/add-image@0.5x.icon-9f40d0e426b8199372bdebbc93d0a371.png",width:12,height:12,scale:.5},lS={displayName:"IconAddOns",src:a.p+"assets/add-ons@0.5x.icon-8520e720ba44892a58302890eee7f1a9.png",width:12,height:12,scale:.5},oS={displayName:"IconAddOnsSmall",src:a.p+"assets/add-ons_small@0.5x.icon-2ecb1f8cb163f7d62882fca8fed6117a.png",width:8,height:8,scale:.5},cS={displayName:"IconAddPlayer",src:a.p+"assets/add-player@0.5x.icon-2f4379f41efcca69c3741a2054ee87d0.png",width:12,height:12,scale:.5},iS={displayName:"IconAddResourcePack",src:a.p+"assets/add-resource-pack@0.5x.icon-5ae9688afc0437276b31febb725f03df.png",width:11,height:12,scale:.5},sS={displayName:"IconAlbum",src:a.p+"assets/album@0.5x.icon-8eb06e4836f8f3baaec95f488db2aa02.png",width:12,height:12,scale:.5},uS={displayName:"IconApple",src:a.p+"assets/apple@0.5x.icon-f78b1690c84a7fcfa21ef56ad72e9387.png",width:11,height:12,scale:.5},dS={displayName:"IconArrowDown",src:a.p+"assets/arrow-down@0.5x.icon-94262108ab3b4e3a524d8a3a25c49c80.png",width:9,height:12,scale:.5},mS={displayName:"IconArrowLeft",src:a.p+"assets/arrow-left@0.5x.icon-7b87c58a422fe78b5bc658aa522c3872.png",width:12,height:9,scale:.5},pS={displayName:"IconArrowRight",src:a.p+"assets/arrow-right@0.5x.icon-14b53e561b57a6a9d45b301493d24897.png",width:12,height:9,scale:.5},fS={displayName:"IconArrowUp",src:a.p+"assets/arrow-up@0.5x.icon-887cf8fb1410930b75cab0028b79cd7f.png",width:9,height:12,scale:.5},gS={displayName:"IconBackup",src:a.p+"assets/backup@0.5x.icon-d2862dce4640eb9e73babb1453e77328.png",width:10,height:10,scale:.5},ES={displayName:"IconBell",src:a.p+"assets/bell@0.5x.icon-259b09ba26b33bdd5b23861e067a3eb7.png",width:10,height:11,scale:.5},bS={displayName:"IconBlock",src:a.p+"assets/block@0.5x.icon-5d2f0e304d776242b765beb9ca592059.png",width:12,height:12,scale:.5},hS={displayName:"IconBlockSmall",src:a.p+"assets/block_small@0.5x.icon-a564770b405899256c61060f43a29738.png",width:8,height:8,scale:.5},vS={displayName:"IconBoots",src:a.p+"assets/boots@0.5x.icon-552067cfbc3a2e0f6ecaeb3bb3fa57ca.png",width:11,height:10,scale:.5},FS={displayName:"IconBrush",src:a.p+"assets/brush@0.5x.icon-c1e1badcb9fb0e159a3edc986553cbb8.png",width:12,height:12,scale:.5},yS={displayName:"IconBrushSmall",src:a.p+"assets/brush_small@0.5x.icon-42a965633d1301f3ec95d45c16592c21.png",width:8,height:8,scale:.5},SS={displayName:"IconCheckmark",src:a.p+"assets/checkmark@0.5x.icon-6995d82c2fd8380979391eebf918a78d.png",width:8,height:6,scale:.5},CS={displayName:"IconCheckmarkSmall",src:a.p+"assets/checkmark_small@0.5x.icon-6995d82c2fd8380979391eebf918a78d.png",width:8,height:6,scale:.5},MS={displayName:"IconChevronDown",src:a.p+"assets/chevron-down@0.5x.icon-24a8c224d1fd5bd74a6bae99b39af6f0.png",width:7,height:4,scale:.5},wS={displayName:"IconChevronLeft",src:a.p+"assets/chevron-left@0.5x.icon-1db2f4b3cf3bf5b825bab6d3427e5638.png",width:4,height:7,scale:.5},kS={displayName:"IconChevronRight",src:a.p+"assets/chevron-right@0.5x.icon-207cac3d398ae5ea4a1440cfee1b4770.png",width:4,height:7,scale:.5},PS={displayName:"IconChevronUp",src:a.p+"assets/chevron-up@0.5x.icon-9b9c9b7e2068e310cd8f36ad25727f26.png",width:7,height:4,scale:.5},TS={displayName:"IconClosedCaptions",src:a.p+"assets/closed-captions@0.5x.icon-515dbd52a5f98f3f5c877e001bbdf3ca.png",width:11,height:10,scale:.5},IS={displayName:"IconClothes",src:a.p+"assets/clothes@0.5x.icon-75344eae678b89ecda58c9a34d4a7153.png",width:12,height:12,scale:.5},xS={displayName:"IconClothesSmall",src:a.p+"assets/clothes_small@0.5x.icon-b6e632bfba0f670a4c1c653646ca4b41.png",width:8,height:8,scale:.5},OS={displayName:"IconCloud",src:a.p+"assets/cloud@0.5x.icon-80e2312e601b3232f76ed300e420f408.png",width:10,height:10,scale:.5},AS={displayName:"IconComment",src:a.p+"assets/comment@0.5x.icon-2df014c80d34e96097db57c0539d7dc4.png",width:10,height:10,scale:.5},NS={displayName:"IconCross",src:a.p+"assets/cross@0.5x.icon-2be362862c2d2b2788bf60965e22edfa.png",width:7,height:7,scale:.5},RS={displayName:"IconCrossbow",src:a.p+"assets/crossbow@0.5x.icon-13ccfc756ad27e59192552c9131c9c91.png",width:11,height:11,scale:.5},LS={displayName:"IconDamage",src:a.p+"assets/damage@0.5x.icon-a1c2d872a76ba7994e8a5c1d2d84140e.png",width:9,height:9,scale:.5},DS={displayName:"IconDefault",src:a.p+"assets/default@0.5x.icon-8ce157a1cd8a7b1b048c31d49e2936df.png",width:6,height:6,scale:.5},_S={displayName:"IconDelete",src:a.p+"assets/delete@0.5x.icon-e2052155b7130121fedc9605a148df94.png",width:8,height:12,scale:.5},BS={displayName:"IconDocsPage",src:a.p+"assets/docs-page@0.5x.icon-10dc2f020b1d7e344febda0433c91e37.png",width:10,height:12,scale:.5},WS={displayName:"IconDocsSection",src:a.p+"assets/docs-section@0.5x.icon-6aed82490ffbe79e382baeb65306bf60.png",width:8,height:8,scale:.5},US={displayName:"IconDownload",src:a.p+"assets/download@0.5x.icon-80549399fefda6981a87edf6ff2bd021.png",width:9,height:10,scale:.5},zS={displayName:"IconDragAndDrop",src:a.p+"assets/drag-and-drop@0.5x.icon-c9c33e57602a2248b035eea0d3028ead.png",width:3,height:5,scale:.5},jS={displayName:"IconDuplicate",src:a.p+"assets/duplicate@0.5x.icon-ec7808b2467c4ad410e55e4663e70a11.png",width:11,height:11,scale:.5},HS={displayName:"IconEditImage",src:a.p+"assets/edit-image@0.5x.icon-d65de603d7d71b75ad29721c3327b2bc.png",width:12,height:12,scale:.5},GS={displayName:"IconEdit",src:a.p+"assets/edit@0.5x.icon-cc7f2d374d57ae7a3ea3b35e6e01870a.png",width:12,height:12,scale:.5},VS={displayName:"IconElytra",src:a.p+"assets/elytra@0.5x.icon-88c4df79263bc26ea9484e4d66d9cfcc.png",width:12,height:10,scale:.5},$S={displayName:"IconEmerald",src:a.p+"assets/emerald@0.5x.icon-02510dba716f8aa8a41a761a4022519c.png",width:10,height:12,scale:.5},XS={displayName:"IconEmote",src:a.p+"assets/emote@0.5x.icon-ada40e80fc1082d83ff42c9b94cc832c.png",width:12,height:12,scale:.5},KS={displayName:"IconEmoteSmall",src:a.p+"assets/emote_small@0.5x.icon-f21ff5a5e9d1d9d9f97e8fd7a6a79166.png",width:9,height:10,scale:.5},YS={displayName:"IconEnter",src:a.p+"assets/enter@0.5x.icon-c07398da3eeec6d9684543d7b12fdec3.png",width:11,height:11,scale:.5},qS={displayName:"IconExitFullscreen",src:a.p+"assets/exit-fullscreen@0.5x.icon-80d2bdd28c2fef7c8f800e6458b455f9.png",width:10,height:10,scale:.5},QS={displayName:"IconExit",src:a.p+"assets/exit@0.5x.icon-2af38c41215b3810c6892857e77063fd.png",width:11,height:11,scale:.5},JS={displayName:"IconExport",src:a.p+"assets/export@0.5x.icon-64be4eda0182e785acf325e1cb6ace23.png",width:9,height:10,scale:.5},ZS={displayName:"IconExternalLink",src:a.p+"assets/external-link@0.5x.icon-2b6ce0bb0a430a1f4678d561eb34f9a8.png",width:12,height:12,scale:.5},eC={displayName:"IconFilter",src:a.p+"assets/filter@0.5x.icon-f7d152ce01c79bc7bff2fd3452f1a3d5.png",width:12,height:12,scale:.5},tC={displayName:"IconFollowers",src:a.p+"assets/followers@0.5x.icon-4da569f229e7df54dca4a7552f8c0bc9.png",width:12,height:12,scale:.5},aC={displayName:"IconFriends",src:a.p+"assets/friends@0.5x.icon-23e2486fdf4998f34c316667554eb816.png",width:12,height:12,scale:.5},nC={displayName:"IconFriendsSmall",src:a.p+"assets/friends_small@0.5x.icon-cff7a2513fd64a11d0b5c4d0a684277b.png",width:10,height:10,scale:.5},rC={displayName:"IconFullscreen",src:a.p+"assets/fullscreen@0.5x.icon-bf4881368ce5d0df918f1ef63fea2333.png",width:12,height:12,scale:.5},lC={displayName:"IconGamerscore",src:a.p+"assets/gamerscore@0.5x.icon-fa65b4fa4c99f7a7b1ea4621c7ae5607.png",width:12,height:12,scale:.5},oC={displayName:"IconGamerscoreSmall",src:a.p+"assets/gamerscore_small@0.5x.icon-8aeecf26d14b7d40499b6cf5754e469b.png",width:7,height:7,scale:.5},cC={displayName:"IconGrid",src:a.p+"assets/grid@0.5x.icon-8ce157a1cd8a7b1b048c31d49e2936df.png",width:6,height:6,scale:.5},iC={displayName:"IconHanger",src:a.p+"assets/hanger@0.5x.icon-f97443bfb121f1cda005f374af3a32aa.png",width:12,height:12,scale:.5},sC={displayName:"IconHangerSmall",src:a.p+"assets/hanger_small@0.5x.icon-d2f74f71ecf3baece17b219fd120dd1b.png",width:8,height:8,scale:.5},uC={displayName:"IconHardcoreHeart",src:a.p+"assets/hardcore-heart@0.5x.icon-22f52aa5b0422256cd1812f9665d7540.png",width:9,height:9,scale:.5},dC={displayName:"IconHardcoreHeartSmall",src:a.p+"assets/hardcore-heart_small@0.5x.icon-22f52aa5b0422256cd1812f9665d7540.png",width:9,height:9,scale:.5},mC={displayName:"IconHeartActive",src:a.p+"assets/heart-active@0.5x.icon-8f7e9967d77f91e799921705e77c0a26.png",width:9,height:9,scale:.5},pC={displayName:"IconHeart",src:a.p+"assets/heart@0.5x.icon-42e2e1ce16992d1e59520ba26eac93e9.png",width:9,height:9,scale:.5},fC={displayName:"IconHourglass",src:a.p+"assets/hourglass@0.5x.icon-684a3139d4fe72e6925e0b5dfe817a5c.png",width:8,height:12,scale:.5},gC={displayName:"IconImage",src:a.p+"assets/image@0.5x.icon-9a2b8b649d99840398a784f87f47575f.png",width:10,height:10,scale:.5},EC={displayName:"IconInformation",src:a.p+"assets/information@0.5x.icon-359179f96567c086075496fa4889431a.png",width:11,height:11,scale:.5},bC={displayName:"IconInvite",src:a.p+"assets/invite@0.5x.icon-703395adb0b058f4c5479ff5c159b55c.png",width:12,height:12,scale:.5},hC={displayName:"IconLanHidden",src:a.p+"assets/lan-hidden@0.5x.icon-7ddac631dbaad66c283bb170ca2811ff.png",width:12,height:12,scale:.5},vC={displayName:"IconLan",src:a.p+"assets/lan@0.5x.icon-8c937ae4ef2ad58f884b85d360090402.png",width:12,height:12,scale:.5},FC={displayName:"IconList",src:a.p+"assets/list@0.5x.icon-42da782d464672cad936015a95ff57c4.png",width:8,height:7,scale:.5},yC={displayName:"IconLockLocked",src:a.p+"assets/lock-locked@0.5x.icon-ab340af560f90792c7038c6d22e9c666.png",width:8,height:8,scale:.5},SC={displayName:"IconLockLockedSmall",src:a.p+"assets/lock-locked_small@0.5x.icon-ab340af560f90792c7038c6d22e9c666.png",width:8,height:8,scale:.5},CC={displayName:"IconLockUnlocked",src:a.p+"assets/lock-unlocked@0.5x.icon-d7d575de6581356c776f5fff77389914.png",width:12,height:8,scale:.5},MC={displayName:"IconMashupPack",src:a.p+"assets/mashup-pack@0.5x.icon-49be22b1b52c36361a1a5d5293301ac2.png",width:12,height:12,scale:.5},wC={displayName:"IconMashupPackSmall",src:a.p+"assets/mashup-pack_small@0.5x.icon-8a0d4ec8ab620ace0ef09e69fdd90b92.png",width:8,height:8,scale:.5},kC={displayName:"IconMember",src:a.p+"assets/member@0.5x.icon-99c628c87b9e293f1597794c2c155274.png",width:12,height:12,scale:.5},PC={displayName:"IconMenu",src:a.p+"assets/menu@0.5x.icon-e297074a8df6e0c223c176ed68ecdd5a.png",width:8,height:7,scale:.5},TC={displayName:"IconMinus",src:a.p+"assets/minus@0.5x.icon-8db5e4bec32c1d34384a2b1c612ed52b.png",width:8,height:1,scale:.5},IC={displayName:"IconMissingImage1",src:a.p+"assets/missing-image-1@0.5x.icon-ac82fade79497c7587e098500db37ba1.png",width:12,height:12,scale:.5},xC={displayName:"IconMissingImage",src:a.p+"assets/missing-image@0.5x.icon-b099df8ab6445149a49e632842a0d380.png",width:12,height:12,scale:.5},OC={displayName:"IconMute",src:a.p+"assets/mute@0.5x.icon-59187cea7857a72d94b0e69f4ee8c4ad.png",width:11,height:10,scale:.5},AC={displayName:"IconNewsFeed",src:a.p+"assets/news-feed@0.5x.icon-c85825d326273c2ffb3b436dbad98842.png",width:12,height:12,scale:.5},NC={displayName:"IconOperator",src:a.p+"assets/operator@0.5x.icon-23882b92376c32f092220931307bb2c4.png",width:12,height:12,scale:.5},RC={displayName:"IconOptions",src:a.p+"assets/options@0.5x.icon-a0a3933c545fe16bb3edeff2968b0f57.png",width:2,height:8,scale:.5},LC={displayName:"IconParty",src:a.p+"assets/party@0.5x.icon-13ea559247c0f695a274c25c4de37bdb.png",width:12,height:11,scale:.5},DC={displayName:"IconPause",src:a.p+"assets/pause@0.5x.icon-1d45c4a8b78b5df73188268e1c374b6a.png",width:6,height:8,scale:.5},_C={displayName:"IconPeopleTab",src:a.p+"assets/people-tab@0.5x.icon-b8271b9025a186637e66ce0db82ac610.png",width:12,height:12,scale:.5},BC={displayName:"IconPermissionCustom",src:a.p+"assets/permission-custom@0.5x.icon-bdf0f523ef4e673f4c6ae0cc5b4852c9.png",width:12,height:12,scale:.5},WC={displayName:"IconPermissionMember",src:a.p+"assets/permission-member@0.5x.icon-92816b57441756ee137f7fdc4f968844.png",width:12,height:12,scale:.5},UC={displayName:"IconPermissionOperator",src:a.p+"assets/permission-operator@0.5x.icon-98eb755a73f24ed966a5f221a883f459.png",width:12,height:12,scale:.5},zC={displayName:"IconPermissionVisitor",src:a.p+"assets/permission-visitor@0.5x.icon-73d73cee9966828de526b1b2b160f664.png",width:12,height:11,scale:.5},jC={displayName:"IconPickaxe",src:a.p+"assets/pickaxe@0.5x.icon-4a49f94adb5b9530be1e961a5d089dbd.png",width:12,height:12,scale:.5},HC={displayName:"IconPlay",src:a.p+"assets/play@0.5x.icon-d17d965f66f97b562dbce23bfa23ea8e.png",width:7,height:12,scale:.5},GC={displayName:"IconPlayer",src:a.p+"assets/player@0.5x.icon-7c34a722eb98b0fbed671c9c77e9a2aa.png",width:12,height:12,scale:.5},VC={displayName:"IconPlayerOnline",src:a.p+"assets/player_online@0.5x.icon-08d41ccc0a633969d064ecfd114f34b8.png",width:12,height:12,scale:.5},$C={displayName:"IconPlayerPermissions",src:a.p+"assets/player-permissions@0.5x.icon-0967c69a84917d164d502b34d0ef7cc0.png",width:12,height:12,scale:.5},XC={displayName:"IconPlus",src:a.p+"assets/plus@1x.icon-254700491e0f4c88abfae89a00a9fc8d.png",width:24,height:24,scale:1},KC={displayName:"IconPotionBottle",src:a.p+"assets/potion-bottle@0.5x.icon-09313c430988f33f2b3b4d90da03a9aa.png",width:10,height:12,scale:.5},YC={displayName:"IconPrint",src:a.p+"assets/print@0.5x.icon-ec26efb45a2e19c1c5c4178dd3765d54.png",width:12,height:10,scale:.5},qC={displayName:"IconQrCode",src:a.p+"assets/qr-code@0.5x.icon-ff09e599e72e589d4d239335ed281a9d.png",width:11,height:11,scale:.5},QC={displayName:"IconQuestionMark",src:a.p+"assets/question-mark@0.5x.icon-eeecb548ed8ba6bc2db934dd0daf88b5.png",width:7,height:10,scale:.5},JC={displayName:"IconQuestionMarkSmall",src:a.p+"assets/question-mark_small@0.5x.icon-46695eb451b98597c0102a2b5b061085.png",width:5,height:7,scale:.5},ZC={displayName:"IconRate",src:a.p+"assets/rate@0.5x.icon-5d1fad960b4c8f3231418e29722279e2.png",width:10,height:9,scale:.5},eM={displayName:"IconRealmsStoriesUnread",src:a.p+"assets/realms-stories-unread@0.5x.icon-8ee6bc4468ddec5a1e6af4ff6c1eeee9.png",width:12,height:12,scale:.5},tM={displayName:"IconRealmsStories",src:a.p+"assets/realms-stories@0.5x.icon-035cb867e0e2b8b67b41a9f5fdd45148.png",width:12,height:12,scale:.5},aM={displayName:"IconRealmsSwirl",src:a.p+"assets/realms-swirl@0.5x.icon-5a52eb85adf55507790d888d760b914e.png",width:8,height:8,scale:.5},nM={displayName:"IconRemoveBehaviourPack",src:a.p+"assets/remove-behaviour-pack@0.5x.icon-f9d3cccc638400028abb0ebaa594de9f.png",width:11,height:11,scale:.5},rM={displayName:"IconRemovePlayer",src:a.p+"assets/remove-player@0.5x.icon-bfc0fb506f75120405b5f26b56a5f8dd.png",width:12,height:12,scale:.5},lM={displayName:"IconRemoveResourcePack",src:a.p+"assets/remove-resource-pack@0.5x.icon-557825321c4832445be287030b71b314.png",width:11,height:11,scale:.5},oM={displayName:"IconReset",src:a.p+"assets/reset@0.5x.icon-5fa663ec86abf3419994ead3ea27781c.png",width:12,height:12,scale:.5},cM={displayName:"IconRottenFlesh",src:a.p+"assets/rotten-flesh@0.5x.icon-1a4aab0bfda061084e042c2d56352eb3.png",width:11,height:10,scale:.5},iM={displayName:"IconSave",src:a.p+"assets/save@0.5x.icon-96183b3001fa37c10867bdcce6f3fb52.png",width:10,height:10,scale:.5},sM={displayName:"IconSearch",src:a.p+"assets/search@0.5x.icon-2c4a292e6b0d43322e5d1f41d0716cae.png",width:12,height:12,scale:.5},uM={displayName:"IconSettings",src:a.p+"assets/settings@0.5x.icon-f78ef3f1275a2f83749609ca3be270e3.png",width:10,height:9,scale:.5},dM={displayName:"IconShareAndroid",src:a.p+"assets/share-android@0.5x.icon-3325222f464237add11dc4d757fb1f7d.png",width:6,height:10,scale:.5},mM={displayName:"IconShareGeneric",src:a.p+"assets/share-generic@0.5x.icon-a522ddfed6b18d5d105c77abb2f38238.png",width:12,height:12,scale:.5},pM={displayName:"IconShareIos",src:a.p+"assets/share-ios@0.5x.icon-077f85d5eb8267d16a0cfc02c89603fb.png",width:10,height:12,scale:.5},fM={displayName:"IconSleep",src:a.p+"assets/sleep@0.5x.icon-ec9f25dd448158a4a6e660be75d4a4bf.png",width:12,height:12,scale:.5},gM={displayName:"IconSwitchOff",src:a.p+"assets/switch-off@0.5x.icon-75a1ca9123ee469d1a2b3ac9358e5ccc.png",width:6,height:6,scale:.5},EM={displayName:"IconSwitchOn",src:a.p+"assets/switch-on@0.5x.icon-55509fc80b04f65abce1f7a941dd3ab3.png",width:1,height:6,scale:.5},bM={displayName:"IconSword",src:a.p+"assets/sword@0.5x.icon-5515ebe013a8758864491b874feb7fc8.png",width:12,height:12,scale:.5},hM={displayName:"IconThumbsDown",src:a.p+"assets/thumbs-down@0.5x.icon-961ba14cf6915d963179042066d560c3.png",width:11,height:11,scale:.5},vM={displayName:"IconThumbsUp",src:a.p+"assets/thumbs-up@0.5x.icon-a6921c4fcc4068235617946c799185f8.png",width:11,height:11,scale:.5},FM={displayName:"IconTime",src:a.p+"assets/time@0.5x.icon-3c59335620ebfdf0e67ba7a5ad1c1a24.png",width:12,height:12,scale:.5},yM={displayName:"IconTimer",src:a.p+"assets/timer@0.5x.icon-7123bed0675beb2613da4e041639acea.png",width:10,height:12,scale:.5},SM={displayName:"IconTimeSmall",src:a.p+"assets/time_small@0.5x.icon-ae6c3352cd17df2de6db7dc3c93e2c89.png",width:8,height:8,scale:.5},CM={displayName:"IconVisitor",src:a.p+"assets/visitor@0.5x.icon-82f30f8568b3c39a64219b0f4fad9787.png",width:12,height:11,scale:.5},MM={displayName:"IconVolume",src:a.p+"assets/volume@0.5x.icon-aad7d6fee0a0e88ac7959c97f8ba02bd.png",width:12,height:10,scale:.5},wM={displayName:"IconWarning",src:a.p+"assets/warning@0.5x.icon-78dc732fd5738943465cf135096e89e6.png",width:9,height:10,scale:.5},kM={displayName:"IconWarningSmall",src:a.p+"assets/warning_small@0.5x.icon-78dc732fd5738943465cf135096e89e6.png",width:9,height:10,scale:.5},PM={displayName:"IconWorld",src:a.p+"assets/world@0.5x.icon-9c8038e9adc8ca01f58e8c4a5764491d.png",width:12,height:12,scale:.5},TM={displayName:"IconWorldSmall",src:a.p+"assets/world_small@0.5x.icon-b7a844d18509b73a09453839cac671d2.png",width:8,height:8,scale:.5},IM={displayName:"IconXpOrb",src:a.p+"assets/xp-orb@0.5x.icon-e90369edb397f3b701998ba00c835f16.png",width:10,height:10,scale:.5};function xM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function OM(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xM(Object(a),!0).forEach((function(t){AM(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xM(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function AM(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const NM=12,RM=10,LM={Accessibility:Zy(OM(OM({},eS),{},{canvasWidth:NM,canvasHeight:NM})),Achievements:Zy(OM(OM({},aS),{},{canvasWidth:NM,canvasHeight:NM})),AchievementsBottle:Zy(tS),AddBehaviourPack:Zy(OM(OM({},nS),{},{canvasWidth:NM,canvasHeight:NM})),AddImage:Zy(OM(OM({},rS),{},{canvasWidth:NM,canvasHeight:NM})),AddOns:Zy(OM(OM({},lS),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},oS),{},{canvasWidth:RM,canvasHeight:RM})),AddPlayer:Zy(OM(OM({},cS),{},{canvasWidth:NM,canvasHeight:NM})),AddResourcePack:Zy(OM(OM({},iS),{},{canvasWidth:NM,canvasHeight:NM})),Album:Zy(OM(OM({},sS),{},{canvasWidth:NM,canvasHeight:NM})),Apple:Zy(OM(OM({},uS),{},{canvasWidth:NM,canvasHeight:NM})),ArrowDown:Zy(OM(OM({},dS),{},{canvasWidth:NM,canvasHeight:NM})),ArrowLeft:Zy(OM(OM({},mS),{},{canvasWidth:NM,canvasHeight:NM})),ArrowRight:Zy(OM(OM({},pS),{},{canvasWidth:NM,canvasHeight:NM})),ArrowUp:Zy(OM(OM({},fS),{},{canvasWidth:NM,canvasHeight:NM})),Backup:Zy(OM(OM({},gS),{},{canvasWidth:NM,canvasHeight:NM})),Bell:Zy(OM(OM({},ES),{},{canvasWidth:NM,canvasHeight:NM})),Block:Zy(OM(OM({},bS),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},hS),{},{canvasWidth:RM,canvasHeight:RM})),Boots:Zy(OM(OM({},vS),{},{canvasWidth:NM,canvasHeight:NM})),Brush:Zy(OM(OM({},FS),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},yS),{},{canvasWidth:RM,canvasHeight:RM})),Checkmark:Zy(OM(OM({},SS),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},CS),{},{canvasWidth:RM,canvasHeight:RM})),ChevronDown:Zy(OM(OM({},MS),{},{canvasWidth:NM,canvasHeight:NM})),ChevronLeft:Zy(OM(OM({},wS),{},{canvasWidth:NM,canvasHeight:NM})),ChevronRight:Zy(OM(OM({},kS),{},{canvasWidth:NM,canvasHeight:NM})),ChevronUp:Zy(OM(OM({},PS),{},{canvasWidth:NM,canvasHeight:NM})),Cross:Zy(OM(OM({},NS),{},{canvasWidth:NM,canvasHeight:NM})),ClosedCaptions:Zy(OM(OM({},TS),{},{canvasWidth:NM,canvasHeight:NM})),Clothes:Zy(OM(OM({},IS),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},xS),{},{canvasWidth:RM,canvasHeight:RM})),Cloud:Zy(OM(OM({},OS),{},{canvasWidth:NM,canvasHeight:NM})),Comment:Zy(OM(OM({},AS),{},{canvasWidth:NM,canvasHeight:NM})),Crossbow:Zy(OM(OM({},RS),{},{canvasWidth:NM,canvasHeight:NM})),Damage:Zy(OM(OM({},LS),{},{canvasWidth:NM,canvasHeight:NM})),Default:Zy(OM(OM({},DS),{},{canvasWidth:NM,canvasHeight:NM})),Delete:Zy(OM(OM({},_S),{},{canvasWidth:NM,canvasHeight:NM})),DocsPage:Zy(OM(OM({},BS),{},{canvasWidth:NM,canvasHeight:NM})),DocsSection:Zy(OM(OM({},WS),{},{canvasWidth:NM,canvasHeight:NM})),Download:Zy(OM(OM({},US),{},{canvasWidth:NM,canvasHeight:NM})),DragAndDrop:Zy(OM(OM({},zS),{},{canvasWidth:NM,canvasHeight:NM})),Duplicate:Zy(OM(OM({},jS),{},{canvasWidth:NM,canvasHeight:NM})),Edit:Zy(OM(OM({},GS),{},{canvasWidth:NM,canvasHeight:NM})),EditImage:Zy(OM(OM({},HS),{},{canvasWidth:NM,canvasHeight:NM})),Elytra:Zy(OM(OM({},VS),{},{canvasWidth:NM,canvasHeight:NM})),Emerald:Zy(OM(OM({},$S),{},{canvasWidth:NM,canvasHeight:NM})),Emote:Zy(OM(OM({},XS),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},KS),{},{canvasWidth:RM,canvasHeight:RM})),Enter:Zy(OM(OM({},YS),{},{canvasWidth:NM,canvasHeight:NM})),Exit:Zy(OM(OM({},QS),{},{canvasWidth:NM,canvasHeight:NM})),ExitFullscreen:Zy(OM(OM({},qS),{},{canvasWidth:NM,canvasHeight:NM})),Export:Zy(OM(OM({},JS),{},{canvasWidth:NM,canvasHeight:NM})),ExternalLink:Zy(OM(OM({},ZS),{},{canvasWidth:NM,canvasHeight:NM})),Filter:Zy(OM(OM({},eC),{},{canvasWidth:NM,canvasHeight:NM})),Followers:Zy(OM(OM({},tC),{},{canvasWidth:NM,canvasHeight:NM})),Friends:Zy(OM(OM({},aC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},nC),{},{canvasWidth:RM,canvasHeight:RM})),Fullscreen:Zy(OM(OM({},rC),{},{canvasWidth:NM,canvasHeight:NM})),Gamerscore:Zy(OM(OM({},lC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},oC),{},{canvasWidth:RM,canvasHeight:RM})),Grid:Zy(OM(OM({},cC),{},{canvasWidth:NM,canvasHeight:NM})),Hanger:Zy(OM(OM({},iC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},sC),{},{canvasWidth:RM,canvasHeight:RM})),HardcoreHeart:Zy(OM(OM({},uC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},dC),{},{canvasWidth:RM,canvasHeight:RM})),Heart:Zy(OM(OM({},pC),{},{canvasWidth:NM,canvasHeight:NM})),HeartActive:Zy(OM(OM({},mC),{},{canvasWidth:NM,canvasHeight:NM})),Hourglass:Zy(OM(OM({},fC),{},{canvasWidth:NM,canvasHeight:NM})),Image:Zy(OM(OM({},gC),{},{canvasWidth:NM,canvasHeight:NM})),Information:Zy(OM(OM({},EC),{},{canvasWidth:NM,canvasHeight:NM})),Invite:Zy(OM(OM({},bC),{},{canvasWidth:NM,canvasHeight:NM})),Lan:Zy(OM(OM({},vC),{},{canvasWidth:NM,canvasHeight:NM})),LanHidden:Zy(OM(OM({},hC),{},{canvasWidth:NM,canvasHeight:NM})),List:Zy(OM(OM({},FC),{},{canvasWidth:NM,canvasHeight:NM})),Locked:Zy(OM(OM({},yC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},SC),{},{canvasWidth:RM,canvasHeight:RM})),Unlocked:Zy(OM(OM({},CC),{},{canvasWidth:NM,canvasHeight:NM})),MashupPack:Zy(OM(OM({},MC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},wC),{},{canvasWidth:RM,canvasHeight:RM})),Member:Zy(OM(OM({},kC),{},{canvasWidth:NM,canvasHeight:NM})),Menu:Zy(OM(OM({},PC),{},{canvasWidth:NM,canvasHeight:NM})),Minus:Zy(OM(OM({},TC),{},{canvasWidth:NM,canvasHeight:NM})),MissingImage:Zy(OM(OM({},xC),{},{canvasWidth:NM,canvasHeight:NM})),MissingImage1:Zy(OM(OM({},IC),{},{canvasWidth:NM,canvasHeight:NM})),Mute:Zy(OM(OM({},OC),{},{canvasWidth:NM,canvasHeight:NM})),NewsFeed:Zy(OM(OM({},AC),{},{canvasWidth:NM,canvasHeight:NM})),Operator:Zy(OM(OM({},NC),{},{canvasWidth:NM,canvasHeight:NM})),Options:Zy(OM(OM({},RC),{},{canvasWidth:NM,canvasHeight:NM})),Party:Zy(OM(OM({},LC),{},{canvasWidth:NM,canvasHeight:NM})),Pause:Zy(OM(OM({},DC),{},{canvasWidth:NM,canvasHeight:NM})),PeopleTab:Zy(OM(OM({},_C),{},{canvasWidth:NM,canvasHeight:NM})),PermissionCustom:Zy(OM(OM({},BC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},BC),{},{canvasWidth:RM,canvasHeight:RM})),PermissionMemberIcon:Zy(OM(OM({},WC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},WC),{},{canvasWidth:RM,canvasHeight:RM})),PermissionOperator:Zy(OM(OM({},UC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},UC),{},{canvasWidth:RM,canvasHeight:RM})),PermissionVisitor:Zy(OM(OM({},zC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},zC),{},{canvasWidth:RM,canvasHeight:RM})),Pickaxe:Zy(OM(OM({},jC),{},{canvasWidth:NM,canvasHeight:NM})),Play:Zy(OM(OM({},HC),{},{canvasWidth:NM,canvasHeight:NM})),Player:Zy(OM(OM({},GC),{},{canvasWidth:NM,canvasHeight:NM})),PlayerOnline:Zy(OM(OM({},VC),{},{canvasWidth:NM,canvasHeight:NM})),PlayerPermissions:Zy(OM(OM({},$C),{},{canvasWidth:NM,canvasHeight:NM})),Plus:Zy(OM(OM({},XC),{},{canvasWidth:NM,canvasHeight:NM})),PotionBottle:Zy(OM(OM({},KC),{},{canvasWidth:NM,canvasHeight:NM})),Print:Zy(OM(OM({},YC),{},{canvasWidth:NM,canvasHeight:NM})),QrCode:Zy(OM(OM({},qC),{},{canvasWidth:NM,canvasHeight:NM})),QuestionMark:Zy(OM(OM({},QC),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},JC),{},{canvasWidth:RM,canvasHeight:RM})),Rate:Zy(OM(OM({},ZC),{},{canvasWidth:NM,canvasHeight:NM})),RealmsStories:Zy(OM(OM({},tM),{},{canvasWidth:NM,canvasHeight:NM})),RealmsStoriesUnread:Zy(OM(OM({},eM),{},{canvasWidth:NM,canvasHeight:NM})),RealmsSwirl:Zy(OM(OM({},aM),{},{canvasWidth:NM,canvasHeight:NM})),RemoveBehaviourPack:Zy(OM(OM({},nM),{},{canvasWidth:NM,canvasHeight:NM})),RemovePlayer:Zy(OM(OM({},rM),{},{canvasWidth:NM,canvasHeight:NM})),RemoveResourcePack:Zy(OM(OM({},lM),{},{canvasWidth:NM,canvasHeight:NM})),Reset:Zy(OM(OM({},oM),{},{canvasWidth:NM,canvasHeight:NM})),RottenFlesh:Zy(OM(OM({},cM),{},{canvasWidth:NM,canvasHeight:NM})),Save:Zy(OM(OM({},iM),{},{canvasWidth:NM,canvasHeight:NM})),Search:Zy(OM(OM({},sM),{},{canvasWidth:NM,canvasHeight:NM})),Settings:Zy(OM(OM({},uM),{},{canvasWidth:NM,canvasHeight:NM})),ShareAndroid:Zy(OM(OM({},dM),{},{canvasWidth:NM,canvasHeight:NM})),ShareGeneric:Zy(OM(OM({},mM),{},{canvasWidth:NM,canvasHeight:NM})),ShareIos:Zy(OM(OM({},pM),{},{canvasWidth:NM,canvasHeight:NM})),Sleep:Zy(OM(OM({},fM),{},{canvasWidth:NM,canvasHeight:NM})),SwitchOff:Zy(OM(OM({},gM),{},{canvasWidth:NM,canvasHeight:NM})),SwitchOn:Zy(OM(OM({},EM),{},{canvasWidth:NM,canvasHeight:NM})),Sword:Zy(OM(OM({},bM),{},{canvasWidth:NM,canvasHeight:NM})),ThumbsDown:Zy(OM(OM({},hM),{},{canvasWidth:NM,canvasHeight:NM})),ThumbsUp:Zy(OM(OM({},vM),{},{canvasWidth:NM,canvasHeight:NM})),Time:Zy(OM(OM({},FM),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},SM),{},{canvasWidth:RM,canvasHeight:RM})),Timer:Zy(OM(OM({},yM),{},{canvasWidth:NM,canvasHeight:NM})),Visitor:Zy(OM(OM({},CM),{},{canvasWidth:NM,canvasHeight:NM})),Volume:Zy(OM(OM({},MM),{},{canvasWidth:NM,canvasHeight:NM})),Warning:Zy(OM(OM({},wM),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},kM),{},{canvasWidth:RM,canvasHeight:RM})),World:Zy(OM(OM({},PM),{},{canvasWidth:NM,canvasHeight:NM}),OM(OM({type:"small"},TM),{},{canvasWidth:RM,canvasHeight:RM})),XpOrb:Zy(OM(OM({},IM),{},{canvasWidth:NM,canvasHeight:NM}))},DM=Math.floor(10*Math.random()),_M=1===DM?Hy:2===DM?jy:zy;function BM({children:e,collapsedLeftSidebar:t=!0,collapsedRightSidebar:a=!0,onToggleCollapsedLeftSidebar:n=WM,onToggleCollapsedRightSidebar:o=WM,innerRef:c,left:i,center:s,right:u,leftSidebar:d,rightSidebar:m,onBackButton:p,backButtonHint:f,backButtonDisabled:g,footer:E,narrationText:b,navigationBarRole:h,navigationBarShowDropShadow:v=!0,delegateByAlias:F,delegateFocusFromMemory:y,gamepadAlias:S,shouldNotDelegateToContent:C=!1}){const M=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(b)]),w=go(),k=Cc(),P=(0,r.useRef)(null),T=(0,r.useRef)(null),I=(0,r.useRef)(null),x=(0,r.useRef)(null),{t:O}=ws("BackButton");return r.createElement(bd,{text:M},r.createElement(uu,{containerRef:c||I,delegateFocusFromMemory:!0,delegateFocusByAlias:C?void 0:S},p&&r.createElement(Ed,{onClick:p,options:{button:j.B,inputLegend:O(".back")}}),r.createElement("div",{ref:c||I,className:"b44a7db8b12a5ba9a063"},r.createElement(uu,{containerRef:T,delegateFocusFromMemory:!0},r.createElement(ny,{innerRef:T,left:r.createElement(r.Fragment,null,p&&r.createElement(BM.BackButton,{disabled:g,hint:f,onClick:p}),i,k&&null!=d&&r.createElement(BM.MenuButton,{selected:!t,onClick:n})),center:s,right:r.createElement(r.Fragment,null,u,null!=m&&r.createElement(r.Fragment,null,r.createElement(BM.MenuButton,{type:"filter",selected:!a,onClick:o}),r.createElement(Vi,{size:3}))),safeZone:w,role:h,showDropShadow:v})),r.createElement(uu,{containerRef:P,delegateFocusByAlias:F,delegateFocusFromMemory:y,alias:S},r.createElement("div",{ref:P,className:"c21e8260a48d25294107"},r.createElement("div",{className:"c7d7d91aa86940689837",style:{left:w.left+"px",right:w.right+"px",bottom:w.bottom+"px"}},null!=d&&r.createElement(hl,{disabled:t&&k},r.createElement(fy,{align:"left",onDismiss:n,floating:k,collapsed:k&&t},d)),r.createElement(hl,{disabled:!t&&k&&Boolean(d)},e),null!=m&&r.createElement(hl,{disabled:a},r.createElement(fy,{align:"right",onDismiss:o,floating:k,collapsed:a},m))))),null!=E?r.createElement(uu,{containerRef:x},E):null)))}BM.displayName="NavigationBarLayout",BM.BackButton=function({onClick:e,disabled:t,showEmptySpaceWhenGamepad:a=!1,role:n="inherit",hint:o="",light:c=!1}){const i=(0,r.useContext)(Je).isPointerSupported,s=rt(),u=(0,l.useFacetMap)(((e,t)=>e||!t),[],[i,s]),d=(0,l.useFacetMap)((e=>a&&!e),[a],[u]),{t:m}=ws("BackButton"),p=(0,l.useFacetMap)((e=>({button:j.B,inputLegend:m(".back"),disabled:e})),[m],[$m.useIsAnyModalVisible()]);return r.createElement(r.Fragment,null,r.createElement(Ed,{options:p,onClick:e}),r.createElement(l.Mount,{when:u},r.createElement(iy,{onClick:e,disabled:t,role:n,hint:o,light:c})),r.createElement(l.Mount,{when:d},r.createElement("div",{className:"f1f9776cc93f5090b4d5"})))},BM.MenuButton=function(e){const{onClick:t,selected:a,disabled:n,focusGridIndex:l,type:o="hamburger",role:c="inherit",narrationText:i}=e,{t:s}=ws("NavigationBarLayout.MenuButton");return r.createElement(r.Fragment,null,"hamburger"===o&&r.createElement(Ed,{options:{button:j.START,inputLegend:s(".inputLegend")},onClick:t}),r.createElement(Us,{disabled:n,focusGridIndex:l,inputLegend:s(".inputLegend"),narrationText:null!=i?i:s(".narration"),onClick:t,role:c,selected:a,testId:e["data-testid"]},r.createElement(pu,{className:"c3affb9a390119c79168",imageRendering:"pixelated",src:"filter"===o?sy:uy})))},BM.DeleteButton=function({onClick:e,disabled:t,focusGridIndex:a,role:n="inherit",narrationText:l}){const{t:o}=ws("NavigationBarLayout.DeleteButton");return r.createElement(Us,{disabled:t,focusGridIndex:a,inputLegend:o(".inputLegend"),narrationText:null!=l?l:o(".narration"),onClick:e,role:n},r.createElement(pu,{className:"a8de4563d0dc6f0cdb56",imageRendering:"pixelated",src:my}))},BM.FriendsButton=function({onClick:e,disabled:t,focusGridIndex:a,role:n="inherit",friendsOnline:o,displayAmountOfOnlineFriends:c,testId:i}){const{t:s}=ws("NavigationBarLayout.FriendsButton"),u=Rd(zb),d=Rd(Wb),m=(0,l.useSharedFacet)(FF),p=(0,l.useSharedFacet)(gy),f=(0,l.useFacetMap)((e=>e.isInParty&&e.members.length>0),[],[p]),g=(0,l.useFacetMap)(((e,t,a)=>{const n=e.members.slice(),r=n.findIndex((e=>e.xuid===a.currentXuid));if(-1!=r){const e=n.splice(r,1)[0];n.unshift(e)}return{isInParty:t,partyProfileImageUrls:n.map((e=>e.gamerIcon)),partyMembers:n}}),[],[p,f,m]);return r.createElement(Us,{className:"af935ef5d24ddf86c84c",disabled:t,focusGridIndex:a,inputLegend:s(".inputLegend"),narrationText:s(".narration"),onClick:e,role:n,testId:i},r.createElement("div",{className:"b36342aefe3de1bd0baf"},r.createElement(l.Unwrap,{data:g},(e=>{if(!u)return r.createElement(pu,{className:"d319ea94348683e851c4",src:_M,imageRendering:"pixelated"});if(!e.isInParty)return r.createElement(LM.Friends,{role:"secondary"});const t=e.partyMembers.length<=2?2:1;return r.createElement(Uy.List,{membersToShow:t,playerXuids:e.partyMembers.map((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""})),profileImageUrls:e.partyProfileImageUrls})})),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"body"},s(d||u?".social":".friends"),r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),"(",r.createElement("fast-text",{text:o}),")")))))},BM.DebugButton=function({onClick:e,selected:t,disabled:a,focusGridIndex:n,role:l="inherit",narrationText:o}){const{t:c}=ws("NavigationBarLayout.DebugButton");return r.createElement(r.Fragment,null,r.createElement(Us,{disabled:a,focusGridIndex:n,inputLegend:c(".inputLegend"),narrationText:null!=o?o:c(".narration"),onClick:e,role:l,selected:t},r.createElement(pu,{className:"f0bcc66e31e86f7ab66f",imageRendering:"pixelated",src:dy})))},BM.Divider=function(){return r.createElement("div",{className:"fdbe08f6d922cbec9d3a"},r.createElement(Ks,{effect:"bevel",right:!1,top:!1,bottom:!1,reversed:!0}),r.createElement(Ks,{effect:"specular",left:!1,top:!1,bottom:!1,reversed:!0}))};const WM=()=>{},UM={grid:"ed2a8338f20165beddf6",fullScreen:"ce803e6b72676233f14c",fullScreenRow:"cd0286b928692512f556",fullScreenColumn:"f14c4ced3c1ef1f5d3d1",gridGutters:"d9f7fd9db73956916b44",gridTablet:"bc29ca1e5194d1674cbf",gridNarrow:"ce956fc9aabdc280a8d4",row:"e5175c04cc2688edc82d",rowFullHeight:"f112d553e3c0e2574a80",centerContentVertically:"c47fdb05e6d6a02e329c",column:"c2f03d5f052a87d1367c",size0:"f504210d61dd16065506",size1:"dc6986a0fdac22fc99b9",size2:"e0e780220923430dc21c",size3:"c34eadb5213a986e37d1",size4:"d2f92b98146a1ed5533c",size5:"f1d544dec91a3d8ebe16",size6:"a6bbabec493a3d05d25e",size7:"db8e91009e4ea76eaad6",size8:"d0a6dacd4ea1decea5a6",size9:"e8cdc4a89ebf6db24bb9",size10:"b236ddded2e68418d626",size11:"e9fc52e75b80c49ea4ff",size12:"b72973deafa6aae60dd2",sizeNarrow0:"ace8349913f55fd09859",sizeNarrow1:"ec8f06a09836d1522af7",sizeNarrow2:"c6e28c38d8f3bb59114a",sizeNarrow3:"f235dc41e01c8dab358e",sizeNarrow4:"e1f800b8883ec420b80d",sizeNarrow5:"cff4ff8cf5350b650dc0",sizeNarrow6:"b5ce2c8da2008107840b",sizeNarrow7:"f550cb81d34f8747ed0c",sizeNarrow8:"e86bdea5076819587e37"};function zM({children:e,narrowBreakpointWidth:t,noGutters:a=!1,centerContentVertically:n,maxWidth:l=jM,nonFullScreen:o=!1}){const c=Sc(t);return r.createElement("div",{className:dl()(UM.grid,{[UM.gridNarrow]:"narrow"===c,[UM.gridTablet]:"tablet"===c,[UM.gridGutters]:"desktop"===c||!a,[UM.centerContentVertically]:n,[UM.fullScreen]:!o})},r.createElement(GM.Provider,{value:c},r.createElement(HM.Provider,{value:l},e)))}const jM=128,HM=(0,r.createContext)(jM),GM=(0,r.createContext)("desktop"),VM=(0,r.createContext)(1);zM.displayName="Grid",zM.Column=e=>{const{wideSize:t,narrowSize:a,innerRef:n,ignoreFullScreenGrid:l}=e,o=dl()(UM[`size${t}`],UM[`sizeNarrow${a}`]),c=dl()(UM.column,o,{[UM.fullScreenColumn]:!l}),i="narrow"===(0,r.useContext)(GM)?a:t;return r.createElement(VM.Provider,{value:i},r.createElement("div",{ref:n,className:c},e.children))},zM.Row=function(e){const{children:t,fullHeight:a,className:n,innerRef:o,ignoreFullScreenGrid:c}=e,i=(0,l.useFacetMap)((e=>dl()(UM.row,e,{[UM.rowFullHeight]:a,[UM.fullScreenRow]:!c})),[a,c],[(0,l.useFacetWrap)(null!=n?n:"")]),s=(0,r.useContext)(HM);return r.createElement("fast-div",{ref:o,className:i,style:{maxWidth:`${s}rem`}},t)},zM.useColumnWidthPercentage=()=>{const e=(0,r.useContext)(VM);return 100/("narrow"===(0,r.useContext)(GM)?8:12)*e/100};const $M=e=>{let t="";const a=e.length;for(let n=0;n<a;n++){const a=e[n];null!=a.before&&(t+=" . "+a.before),null!=a.text&&(t+=" . "+a.text),null!=a.as&&(t+=" . "+a.as),null!=a.after&&(t+=" . "+a.after)}return t.slice(3)},XM=e=>{const t=e.querySelectorAll("[data-narrate]"),a=t.length,n=[];for(let e=0;e<a;e++){const a=t[e],r=a.getAttribute("data-narrate"),l=a.getAttribute("data-narrate-as"),o=a.getAttribute("data-narrate-after"),c=a.getAttribute("data-narrate-before"),i={};if(null!=r&&""!==r)i.text=r;else{const e=a.textContent;null!=e&&(i.text=e)}null!=o&&""!==o&&(i.after=o),null!=l&&""!==l&&(i.as=l),null!=c&&""!==c&&(i.before=c),n.push(i)}return n},KM=r.createContext((0,l.createStaticFacet)(null));function YM({children:e,customButtonWrapperWidth:t}){const{numberOfChildFocusables:a,onChildFocusableMounted:n}=xu();return r.createElement(Iu,{onChildFocusableMounted:n},r.createElement(KM.Provider,{value:a},r.createElement(Vi,{size:2}),r.createElement("fast-div",{style:null!=t?{maxWidth:`${t}rem`}:{},className:(0,l.useFacetMap)((e=>1===e?"c8bc56d844fc752a743f":2===e?"df658667fee5d6e9c8be":"d993149981fea3b3e597"),[],[a])},e)))}function qM(){return r.createElement(Vi,{size:3})}function QM({children:e,onClick:t,inputLegend:a,gamepadAlias:n,variant:o="secondary",imgSrc:c,buttonTestId:i,Icon:s}){const{t:u}=ws("EmptyStateMessage"),d=(0,l.useFacetMap)((e=>null!=e?e:u(".buttonSelectInputLegend")),[u],[(0,l.useFacetWrap)(a)]),m=(()=>{const e=r.useContext(KM);if(null==e)throw new Error("useNumberOfSiblings must be used within a NumberOfSiblings.Provider.\nThis error can occur if you are trying to use EmptyStateMessage.Button outside of EmptyStateMessage.ButtonWrapper.");return(0,l.useFacetMap)((e=>null!=e?e:0),[],[e])})(),p=Sc(),f=(0,l.useFacetMap)((e=>e<=2||e>2&&!("narrow"===p)),[p],[m]),g=(0,l.useFacetMap)((e=>e>1),[],[m]),E=(0,l.useFacetUnwrap)(g),b=(0,l.useFacetUnwrap)(f);return r.createElement(lm,{linebreak:!0===b,horizontal:!0===E,delayedClick:!0,variant:o,onClick:t,inputLegend:d,gamepadAlias:n,imgSrc:c,Icon:s,"data-testid":i},e)}function JM({gamepadAlias:e,children:t,borderless:a=!1,role:n="neutral80"}){const o=Yr(n),c=dl()("e493dca1752420bd2fbd",o.background.base,o.border.base,{a1fde251a207a8e9235d:a}),{hasChildFocusable:i,onChildFocusableMounted:s}=xu(),u=(0,r.useRef)(null),d=(0,r.useCallback)((()=>null==u.current?"":$M(XM(u.current))),[]),[m,p]=(0,l.useFacetState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>{p(!0)}),20);return()=>clearTimeout(e)}),[p]),r.createElement(bd,{getText:d},r.createElement(Wi.Maybe,{isInteractive:(0,l.useFacetMap)(((e,t)=>!e&&t),[],[i,m]),className:c,classNameFocused:Ws,narrationText:!1,innerRef:u,gamepadAlias:e},r.createElement(Iu,{onChildFocusableMounted:s},r.createElement(Bs,{inset:!0}),t)))}function ZM({children:e,role:t="neutral80"}){const{t:a}=ws("EmptyStateMessage");return r.createElement(Zi,{type:"secondaryButton",role:t,align:"center",shouldNarrate:!0,"data-narrate-after":a(".narrationTextBlock")},e)}function ew({imgSrc:e,hideSpacingAroundImage:t=!1,imgClass:a}){return r.createElement(r.Fragment,null,!t&&r.createElement(Vi,{size:4}),r.createElement(pu,{imageRendering:"pixelated",src:e,className:a}),!t&&r.createElement(Vi,{size:4}))}function tw({children:e,role:t="neutral80"}){return r.createElement(Zi,{type:"captionShort",role:t,variant:"dimmest",align:"center",shouldNarrate:!0},e)}function aw({title:e,text:t,imgSrc:a,imgClass:n,buttons:o,borderless:c=!1,gamepadAlias:i,role:s="neutral80",hideSpacingAroundImage:u=!1,customButtonWrapperWidth:d}){const m=(0,l.useFacetWrap)(e),p=(0,l.useFacetMap)((e=>null!=e?e:""),[],[m]),f=(0,l.useFacetWrap)(a),g=(0,l.useFacetMap)((e=>null!=e?e:""),[],[f]),E=(0,l.useFacetWrap)(t),b=(0,l.useFacetMap)((e=>null!=e?e:""),[],[E]),h=(0,l.useFacetWrap)(o),v=(0,l.useFacetMap)((e=>null!=e?e:[]),[],[h]),F=(0,l.useFacetMap)(((e,t,a,n)=>({hasTitle:null!=e,hasImage:null!=t,hasText:null!=a,hasButton:null!=n&&n.length>0})),[],[m,f,E,h]);return r.createElement(l.Unwrap,{data:F},(e=>r.createElement(JM,{gamepadAlias:i,borderless:c},r.createElement(r.Fragment,null,e.hasTitle&&r.createElement(ZM,{role:s},p),e.hasImage&&r.createElement(ew,{imgSrc:g,hideSpacingAroundImage:u,imgClass:n}),e.hasText&&r.createElement(tw,{role:s},b),e.hasButton&&r.createElement(YM,{customButtonWrapperWidth:d},r.createElement(l.Map,{array:v,children:nw}))))))}function nw(e,t,a){const n=(0,l.useFacetMap)((e=>e.text),[],[e]),o=(0,l.useFacetCallback)((e=>e.onClick),[],[e]),c=(0,l.useFacetMap)((e=>e.inputLegend),[],[e]),i=(0,l.useFacetMap)((e=>e.gamepadAlias),[],[e]),s=(0,l.useFacetMap)((e=>e.narrationSuffix),[],[e]),u=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.variant),[],[e])),d=(0,l.useFacetMap)((e=>e.imgSrc),[],[e]),m=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.buttonTestId),[],[e]));return r.createElement(r.Fragment,null,r.createElement(QM,{children:n,onClick:o,inputLegend:c,gamepadAlias:i,narrationSuffix:s,variant:u===l.NO_VALUE?void 0:u,imgSrc:d,buttonTestId:m===l.NO_VALUE?void 0:m}),t<a-1&&r.createElement(qM,null))}aw.Wrapper=JM,aw.Title=ZM,aw.Image=ew,aw.Text=tw,aw.ButtonsWrapper=YM,aw.Button=QM,aw.ButtonSpacer=qM;const rw=(e,t)=>Math.round(e*t),lw="c2cdb491922ca5c2f02b",ow=a.p+"assets/locked-b7e1ef2f9297249a5ff4.png",cw=a.p+"assets/checkIcon-bcfbfc531a61d1dd813c.png";function iw({children:e,variant:t,date:a}){const{f:n}=ws("Window"),l="completed"===t?"success":"neutral60",o=Yr(l);return r.createElement("div",{className:dl()("f7b396da5f1384d4e5f5",o.background.base)},r.createElement(Ks,{effect:"specular"}),r.createElement(pu,{imageRendering:"pixelated",className:dl()({eb690b76b30bb0552bbe:"locked"===t,f68b70fbd15e90367cec:"completed"===t}),src:"locked"===t?ow:cw}),r.createElement(Zi,{type:"captionShort",role:l},e),"completed"===t&&null!=a&&r.createElement("div",{className:"e833f1e433f6cc97e20f"},r.createElement(Zi,{type:"captionShort",role:l},n.formatDate(a))))}function sw({children:e,variant:t="locked",title:a,date:n,loading:l}){const o=Yr("neutral80");return l?r.createElement("div",{className:dl()("c27ca53da691e7ac2296",o.border.base)},r.createElement(uw,{className:o.overlay.base})):r.createElement("div",{className:dl()("c475379f647cb6316d1c",o.background.base,o.border.base)},r.createElement(iw,{date:n,variant:t},a),e)}const uw=({className:e})=>r.createElement("div",{className:dl()("fb1cdfcc107a5fef86a8",e)},r.createElement(id,null)),dw="aff984fcdf2dfd316bf6";function mw({children:e,role:t="neutral100"}){return r.createElement(Sr,{role:t},r.createElement("div",{className:"d61cb6de76e0544c54ee"},e))}mw.Pair=function({label:e,value:t,icon:a}){const n=Yr("inherit");return r.createElement("div",{className:dl()(dw,n.background.base)},r.createElement(Zi,{type:"captionShort",variant:"dimmer"},e),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},a,t))},mw.Progress=function({label:e,value:t,total:a}){const{t:n}=ws("DescriptionList"),l=Yr("inherit");return r.createElement("div",{className:dl()("a6d15629934bc6ca95e9",l.background.base)},r.createElement("div",{className:dl()(dw)},r.createElement(Zi,{type:"captionShort",variant:"dimmer"},null!=e?e:n(".progressLabel")),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},t,"/",a)),r.createElement("div",{className:"fbe2b3798b09bc143906"},r.createElement(bm,{tall:!0,percentage:t/a}),r.createElement(Vi,{size:2})))},mw.displayName="DescriptionList";const pw=a.p+"assets/gamerscore_icon-53b10130cb6f6c0271cb.png",fw=a.p+"assets/greyframe-dd39bddf435b8210e89b.png",gw=a.p+"assets/unlockedBorder-2f13ba432374d475e888.png",Ew=a.p+"assets/placeholder-30ebca9254ef8b61db9f.png";function bw({isTracked:e,setTrackedStatus:t}){const{t:a}=ws("AchievementDetails"),n=a(e?".removeInProgress":".setInProgress"),o=e?"secondary":"primary",c=a(e?".removeInProgressSnackBar":".setInProgressSnackBar"),i=(0,l.useFacetCallback)((e=>()=>{e.queueSnackbar(c)}),[c],[(0,l.useSharedFacet)(dh)]);return r.createElement("div",{className:dl()("a5633812afb8060822e4")},r.createElement(lm,{inputLegend:"Action",variant:o,onClick:()=>{t(!e),i()}},n),r.createElement(Vi,{size:5}))}function hw({title:e,description:t="",image:a,gamerscore:n=0,progress:l=0,progressTarget:o=0,isTracked:c=!1,setTrackedStatus:i,isLocked:s,dateUnlocked:u=0,loading:d,completedOnAnotherPlatform:m}){const{t:p}=ws("AchievementDetails"),f=Ln();return r.createElement(r.Fragment,null,r.createElement(Bs,{withoutBorders:!0,disabled:!f}),r.createElement(sw,{loading:d,title:p(s?".locked":".completed"),variant:s?"locked":"completed",date:u},r.createElement(Sr,{role:"neutral"},r.createElement("div",{className:"e74bb49d785d1a2aa132"},r.createElement(Ks,{effect:"specular"}),r.createElement(Vi,{size:5}),r.createElement(Wi,{inputLegend:!1,className:"",classNameHovered:"",classNameFocused:Ws,classNamePressed:"",disabled:!f,narrationText:!1,onClick:()=>{}},r.createElement("div",{className:"c2ec7cee7a906d65b1d5"},r.createElement("div",{className:dl()("b697f56f9077a5f2fdc5",{d7456595627e201b8f37:s})},r.createElement(pu,{className:dl()(lw,"b52d33b51b38fd13a42e"),imageRendering:"pixelated",src:s?fw:gw}),r.createElement(pu,{className:dl()(lw),imageRendering:"pixelated",src:null!=a?a:Ew}),!s&&r.createElement("div",{className:"c1f86136b573a391046a"})),r.createElement(Vi,{size:2}),r.createElement("div",{className:"a0f939aac3288e92b13f"},r.createElement(Zi,{type:"header5B"},e),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"paragraphs",variant:"dimmer"},t)))),r.createElement(Vi,{size:5}),s&&i&&r.createElement(bw,{isTracked:c,setTrackedStatus:i}))),r.createElement(mw,null,r.createElement(mw.Pair,{label:p(".gamerscore"),value:`${n}`,icon:r.createElement(pu,{className:"c05e4a56d222d24c8413",imageRendering:"pixelated",src:pw})}),m&&r.createElement(mw.Pair,{label:p(".anotherPlatform"),value:p(".yes")}),l&&0!==l&&1!==l?r.createElement(mw.Progress,{value:rw(l,o),total:o}):null)))}const vw=a.p+"assets/rewardUnlockedFrame-34e1b1721560c456acd1.png",Fw=a.p+"assets/rewardLockedFrame-2d5903d060529e3b316a.png",yw=a.p+"assets/unlockedIconGrey-2939d591351c570db80d.png",Sw=a.p+"assets/lockedIconGrey-c2c6d81f1532ae23fd5a.png";function Cw({image:e,title:t,isOwned:a,onClickView:n,role:l="neutral80",imageRole:o="neutral100"}){const{t:c}=ws("AchievementReward"),i=Yr(l),s=Yr(o),u=[c(a?".narration.rewardUnlocked":".narration.rewardLocked"),t].join(" . ");return r.createElement(Sr,{role:l},r.createElement(bd,{text:u},r.createElement("div",{className:dl()("b1db087f55bfd5269ef2",i.background.base,i.border.base)},r.createElement(Ks,{effect:"specular"}),r.createElement("div",{className:"f162ac93c5fdb37e1787"},r.createElement("div",{className:"e478abdf99034bd31445"},r.createElement("div",{className:"d951a6fb1a3cd46c9171"},r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,c(".reward"))),a?r.createElement(pu,{src:yw,imageRendering:"pixelated",className:"d2ded978d4a1d73a2c58"}):r.createElement(pu,{src:Sw,imageRendering:"pixelated",className:"c6116ec794680a049b27"})),r.createElement(Zi,{type:"body",align:"center"},t)),r.createElement("div",{className:"a9ed3de30129afe8edfa"},r.createElement(pu,{src:e,imageRendering:"pixelated",className:dl()("ef46c37540237778d565",s.background.base,{da931dc6ec30084b78e7:!a})}),r.createElement(pu,{src:a?vw:Fw,imageRendering:"pixelated",className:a?"ac51ab6679965477630c":"b57d44aeee6a6f9470fb"})),r.createElement("div",{className:"ccbeefd6b9d1b42e5b58"},r.createElement(lm,{delayedClick:!0,onClick:n,gamepadAlias:"reward-button",inputLegend:c(".viewReward"),variant:"secondary"},c(".viewReward")))))))}const Mw=a.p+"assets/arrowDownWhite-55034422f69e95159734.png";function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ww.apply(null,arguments)}const kw=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("a49c108c1a726fdf1f1a",t);return r.createElement(pu,ww({},a,{className:n,src:Mw,imageRendering:"pixelated"}))},Pw=a.p+"assets/arrowUpWhite-2c2b7f4b9b915ab1d4b8.png";function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Tw.apply(null,arguments)}const Iw=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("fd3a20a383e347af4ccb",t);return r.createElement(pu,Tw({},a,{className:n,src:Pw,imageRendering:"pixelated"}))},xw="0.0001px";function Ow(e){const t=(0,r.useRef)(null),a=(0,l.useFacetWrap)(e),[n,o]=(0,l.useFacetState)(xw),[c,i]=(0,l.useFacetState)("hidden");return(0,l.useFacetEffect)((e=>{if(t.current){if(o(`${t.current.scrollHeight}px`),e){const e=setTimeout((()=>{o("auto"),i("visible")}),225);return()=>{clearTimeout(e)}}e||requestAnimationFrame((()=>{o(xw),i("hidden")}))}}),[i,o],[a]),[{height:n,overflow:c},t]}const Aw=({wide:e,narrow:t,width:a})=>{let n;return 8===e&&(6===t||5===t)&&a>=220&&a<=260?n=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),n=70),Cc(n)},Nw=({wide:e,narrow:t,width:a})=>{let n;return 8===e&&(6===t||5===t)&&a>=220&&a<=260?n=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),n=70),Mc(n)};function Rw(e,t){const[a,n]=(0,l.useFacetState)(!1);return(0,l.useFacetEffect)((e=>{if(e)return;const a=setTimeout((()=>{n(!0)}),t);return()=>{clearTimeout(a)}}),[t,n],[e]),a}const Lw={BaseSwitch:"ed340b2674789d08d511",toggle:"c88ae00c108872ae88d3",imageOn:"b779f6be490950debc48",disabled:"cac4cbbcf37fc8742f49",imageOff:"ecea012966cbb21d1a46",toggleContainerBorder:"d167490f1e9c379fb08d",toggleBase:"cf2611950b9614b170a5",toggleBaseItem:"dd11f7ab001782640abd",toggleTop:"a3729dc738ada469c003",toggleTopInner:"e1217a9d281422e979d4",toggleTopTop:"ca58d4a9d761df030959",toggleIcon:"d181355c6eb6edc1a07a",toggleTopBottomBevel:"a64dd26df22f1fdd916f",toggleTopOn:"bbb543fbf538f7700cc8",toggleTopOff:"c431258295b54ec7b905",toggleTopOnAnimated:"ae3534ec5c54f25dca8f",toggleTopOffAnimated:"db00f48fecb12aa0056f","switch-toggle-top-animation-on":"a105b6f3afff8c19e69f","switch-toggle-top-animation-off":"fb3f380ff3fe1a7abdde",offText:"dc5acaa57a1c9420d11f",onText:"fdb52cdbaf7bba8bd4f5",toggleLabel:"f74e2e9faf08fdea862f"},Dw=a.p+"assets/onImage-b40d0be137ba09eb7464.png";function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_w.apply(null,arguments)}const Bw=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("c2ca878afe2205d188df",t);return r.createElement(pu,_w({},a,{className:n,src:Dw,imageRendering:"pixelated"}))},Ww=a.p+"assets/offImage-cc9095b148d166ec7212.png";function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Uw.apply(null,arguments)}const zw=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("ac74a2c501ce259e20b8",t);return r.createElement(pu,Uw({},a,{className:n,src:Ww,imageRendering:"pixelated"}))},jw=(e,t)=>dl()(Lw.toggleTop,{[t?Lw.toggleTopOnAnimated:Lw.toggleTopOn]:e,[t?Lw.toggleTopOffAnimated:Lw.toggleTopOff]:!e});function Hw({onChange:e,value:t,disabled:a=!1,onFocusChanged:n,showOnOffText:o=!1,shouldAnimateRef:c,soundEffectHovered:i,soundEffectFocused:s,soundEffectPressed:u,offNarrationText:d,onNarrationText:m,disabledNarrationSuffix:p,onRole:f="primary",offRole:g="neutral50",thumbRole:E="secondary",imgSrc:b}){const{t:h}=ws("BaseSwitch"),v=Yr("inherit"),F=Yr(E),y=Yr(f),S=Yr(g),C=Qr("inherit"),{narrateText:M}=sd(),w=(0,r.useRef)(!1),k=null!=c?c:w,P=(0,r.useRef)(null),T=(0,l.useFacetWrap)(t),I=(0,l.useFacetMap)((()=>!0),[],[T]);(0,l.useFacetEffect)((e=>{var t;P.current&&(P.current.className=jw(e,null!==(t=k.current)&&void 0!==t&&t))}),[k],[T]);const x=(0,l.useFacetCallback)(((e,t,a)=>()=>{P.current&&(P.current.className=jw(e,!1),M(e?[h(".on"),null!=a?a:""].join(" . "):[h(".off"),null!=t?t:""].join(" . "))),k.current=!1}),[M,h,k],[T,(0,l.useFacetWrap)(d),(0,l.useFacetWrap)(m)]),O=(0,l.useFacetCallback)((t=>()=>{k.current=!0,null==e||e(!t)}),[e,k],[T]),A=(0,r.useCallback)((e=>{if(!P.current&&e){const a=(0,l.isFacet)(t)?t.get():t;e.className=jw(a,k.current)}P.current&&P.current.removeEventListener("animationend",x),e&&e.addEventListener("animationend",x),P.current=e}),[x,t,k]),N=(0,l.useFacetMap)(((e,t)=>[h(".elementType"),!0===t?h(".narrationDisabled"):"",h(e?".on":".off"),t&&null!=p?p:""].join(" . ")),[h,p],[T,(0,l.useFacetWrap)(a)]);return r.createElement(l.Mount,{when:I},r.createElement(Wi.Maybe,{isInteractive:null!=e,className:Lw.BaseSwitch,narrationText:N,inputLegend:h(".toggle"),soundEffectHovered:null!=i?i:C.hover,soundEffectFocused:null!=s?s:C.focus,soundEffectPressed:null!=u?u:C.toggle,classNameHovered:Lw.hovered,classNameFocused:dl()(Lw.focused,Ws),classNamePressed:Lw.pressed,classNameDisabled:Lw.disabled,disabled:a,onFocusChanged:n,onClick:O},r.createElement("fast-div",{className:Lw.offText,style:{opacity:(0,l.useFacetMap)((e=>e?.6:1),[],[T]),display:o?"flex":"none"}},r.createElement("span",{className:dl()(Lw.toggleLabel,v.text.base,v.text.disable)},h(".off"))),r.createElement("div",{className:dl()(Lw.toggle,S.border.base,S.border.disable)},r.createElement("div",{className:Lw.toggleContainerBorder}),r.createElement("fast-div",{className:Lw.toggleBase},r.createElement("div",{className:dl()(Lw.toggleBaseItem,Lw.toggleBaseItemOn,y.background.base,y.background.disable)},r.createElement("div",{className:Lw.imageOn},r.createElement(Bw,null)),r.createElement(Ks,{interactive:!1,right:!1,role:"primary",disabled:a})),r.createElement("div",{className:dl()(Lw.toggleBaseItem,Lw.toggleBaseItemOff,S.background.base,S.background.disable)},r.createElement("div",{className:Lw.imageOff},r.createElement(zw,null)),r.createElement(Ks,{interactive:!1,left:!1,role:"neutral50",disabled:a}))),r.createElement("div",{ref:A,className:Lw.toggleTop},r.createElement("fast-div",{className:dl()(Lw.toggleTopInner,F.border.base,F.border.disable,F.background.interactive)},r.createElement(Bs,{role:"secondary",disabled:a}),r.createElement("div",{className:dl()(Lw.toggleTopTop)},r.createElement(Jd,{imageSource:b,className:Lw.toggleIcon}),r.createElement(Ks,{role:"secondary",disabled:a})),r.createElement("div",{className:dl()(Lw.toggleTopBottomBevel,F.shadow.base,F.shadow.disable)})))),r.createElement("fast-div",{className:Lw.onText,style:{opacity:(0,l.useFacetMap)((e=>e?1:.6),[],[T]),display:o?"flex":"none"}},r.createElement("span",{className:dl()(Lw.toggleLabel,v.text.base,v.text.disable)},h(".on")))))}const Gw=()=>{};function Vw({onChange:e=Gw,value:t,title:a,description:n,disabled:o=!1,showOnOffText:c=!1,soundEffectHovered:i,soundEffectFocused:s,soundEffectPressed:u,offNarrationText:d,onNarrationText:m,disabledNarrationSuffix:p,narrationSuffix:f,wrapperRole:g="neutral",onRole:E,offRole:b,thumbRole:h,imgSrc:v,indented:F,"data-testid":y}){const{t:S}=ws("Switch"),C=Qr(g),M=(0,r.useRef)(!1),w=(0,l.useFacetWrap)(t),k=(0,l.useFacetWrap)(o),P=(0,l.useFacetWrap)(a),T=(0,l.useFacetWrap)(n),I=(0,l.useFacetMap)((()=>!0),[],[w]),x=(0,l.useFacetCallback)(((t,a)=>()=>{a||(M.current=!0,e(!t))}),[e],[w,k]),O=(0,l.useFacetRef)(w),A=(0,l.useFacetRef)(k),N=(0,l.useFacetCallback)(((e,t,a)=>()=>{if(O.current===l.NO_VALUE||A.current===l.NO_VALUE)return"";const n=O.current,r=A.current;return[e,S(".elementType"),!0===r?S(".narrationDisabled"):"",S(n?".on":".off"),null!=t?t:"",a,r&&null!=p?p:""].filter((e=>""!==e)).join(" . ")}),[O,A,p,S],[P,T,(0,l.useFacetWrap)(null!=f?f:"")]),R=(0,l.useFacetMap)(((e,t)=>""!==e||null!=t&&""!==t?"fbc526688e36d09ecbed":""),[],[P,T]),L=Ln(),D=(0,l.useFacetMap)((e=>null!=e?e:""),[],[T]),_=(0,l.useFacetMap)((e=>null!=e&&e.length>0),[],[P]),B=(0,l.useFacetMap)((e=>e.length>0),[],[D]),W=(0,l.useFacetMap)((e=>!0===e&&L),[L],[k]),U=(0,l.useFacetMap)((e=>!e&&S(".toggle")),[S],[k]),z=(0,l.useFacetMap)(((e,t)=>e?void 0:null!=t?t:C.hover),[C.hover],[k,(0,l.useFacetWrap)(i)]),j=(0,l.useFacetMap)((e=>null!=e?e:C.focus),[C.focus],[(0,l.useFacetWrap)(s)]),H=(0,l.useFacetMap)(((e,t)=>e?void 0:null!=t?t:C.toggle),[C.toggle],[k,(0,l.useFacetWrap)(u)]);return r.createElement(l.Mount,{when:I},r.createElement(bd,{getText:N},r.createElement(Ud,{role:g,disabled:k,onClick:x,focusable:W,shouldDisplayFocus:W,inputLegend:U,soundEffectHovered:z,soundEffectFocused:j,soundEffectPressed:H,narrationText:"","data-testid":y,indented:F},r.createElement("div",{className:"c2aa1e8dcf8fc0e0d91d"},r.createElement("fast-div",{className:R},r.createElement(l.Mount,{when:_},r.createElement(jd,{disabled:o},P)),r.createElement(l.Mount,{when:B},r.createElement(Hd,null,D))),r.createElement(Hw,{value:w,disabled:k,showOnOffText:c,shouldAnimateRef:M,disabledNarrationSuffix:p,onNarrationText:m,offNarrationText:d,onRole:E,offRole:b,thumbRole:h,imgSrc:v})))))}function $w({expandedFacet:e,testId:t,children:a}){const[n,o]=Ow(e),c=(0,l.useFacetMap)((e=>"dac7904e45a40d8e2340 "+(e?"e0da8998fafdf089b881":"")),[],[e]),i=(0,l.useFacetMap)((e=>!e),[],[e]);return r.createElement(hl,{disabled:i},r.createElement("fast-div",{className:c,style:n,"data-testid":t},r.createElement("div",{ref:o},a)))}function Xw({onChange:e,label:t,count:a,narrationHint:n,alwaysShowHint:o,onExpandNarrationHint:c,gamepadAlias:i,collapsible:s,testId:u,expandedFacet:d,setExpanded:m}){const{t:p}=ws("Accordion"),{narrateText:f}=sd(),g=(0,l.useFacetMap)((e=>p(e?".closeInputLegend":".openInputLegend")),[p],[d]),E=(0,l.useFacetMap)((e=>`(${e})`),[],[null!=a?a:qw]),b=(0,l.useFacetWrap)(n),h=(0,l.useFacetWrap)(t),v=(0,l.useFacetMap)(((e,t,a,n)=>[null!=t?p(".narrationCountLabel",[n,`${t>100?"100+":t}`]):n,p(".narrationComponentType"),p(e?".stateExpanded":".stateCollapsed"),e&&!o?null:a].join(" . ")),[p,o],[d,null!=a?a:Qw,b,h]),F=(0,l.useFacetWrap)(s),y=(0,l.useFacetMap)(((e,t)=>e?t?"arrow-up-white":"arrow-down-white":"no-arrow"),[],[F,d]),S=(0,l.useFacetCallback)(((t,a)=>()=>{if(a){const a=t?p(".stateCollapsed"):[p(".stateExpanded"),c].join(" . ");f(a),m(!t),e&&e(!t)}}),[f,p,c,m,e],[d,F]);return r.createElement("div",{className:"c4c5abe94d3f4def530b","data-testid":u},r.createElement(qd,{inputLegend:g,narrationText:v,onClick:S,variant:"neutral80",reflection:"bevel",gamepadAlias:i,"data-testid":"accordion-pressable"},r.createElement("div",{className:"f9e8c55b0ca2140b04c3"},r.createElement("div",{className:"f7eb8cbecd70cff9b7d1"},r.createElement("fast-text",{text:t}),r.createElement(Vi,{size:2}),null!=a&&r.createElement("div",{className:"c7404ef609476673b2be"},r.createElement("fast-text",{text:E}))),r.createElement(l.Unwrap,{data:y},(e=>{switch(e){case"arrow-down-white":return r.createElement(kw,null);case"arrow-up-white":return r.createElement(Iw,null);default:return null}})))))}function Kw(e){const{onChange:t,title:a,value:n,description:o,disabled:c=!1,offNarrationText:i,onNarrationText:s,narrationSuffix:u,disabledNarrationSuffix:d,onExpandNarrationHint:m,testId:p,children:f}=e,{t:g}=ws("SwitchAccordion"),E=(0,l.useFacetMap)(((e,t)=>[e,""!=t?t:null,g(".stateExpanded")].join(" . ")),[g],[(0,l.useFacetWrap)(null!=s?s:""),(0,l.useFacetWrap)(null!=m?m:"")]),b=(0,l.useFacetMap)((e=>[e,g(".stateCollapsed")].join(" . ")),[g],[(0,l.useFacetWrap)(null!=i?i:"")]),h=(0,l.useFacetCallback)(((e,a)=>()=>{!a&&t&&t(!e)}),[t],[n,(0,l.useFacetWrap)(c)]);return r.createElement(r.Fragment,null,r.createElement(Vw,{narrationSuffix:(0,l.useFacetWrap)(null!=u?u:""),disabledNarrationSuffix:d,disabled:c,title:a,description:o,onChange:h,value:n,"data-testid":p,onNarrationText:E,offNarrationText:b}),r.createElement($w,{expandedFacet:n,testId:"switch-accordion-content"},f))}function Yw(e){const{onChange:t,label:a,count:n,children:o,narrationHint:c,alwaysShowHint:i=!1,onExpandNarrationHint:s,expandedDefaultState:u=!1,gamepadAlias:d,collapsible:m=!0,testId:p}=e,[f,g]=(0,l.useFacetState)(u);return r.createElement(r.Fragment,null,r.createElement(Xw,{onChange:t,label:a,count:n,narrationHint:c,alwaysShowHint:i,onExpandNarrationHint:s,gamepadAlias:d,collapsible:m,testId:p,expandedFacet:f,setExpanded:g}),r.createElement($w,{expandedFacet:f,testId:"accordion-content"},o))}const qw=(0,l.createFacet)({initialValue:0}),Qw=(0,l.createFacet)({initialValue:null}),Jw=As((({title:e,onClose:t})=>{const{t:a}=ws("ProgressSpinnerModal"),n=null!=e?e:a(".title"),l=Ln(),o="progress-spinner-modal-content",c="progress-spinner-modal-close";return r.createElement($m,{defaultFocusAlias:l?o:c},r.createElement($m.Header,{titlebarGamepadAlias:c,onClose:t},n),r.createElement($m.Content,{gamepadAlias:o},r.createElement($m.Spinner,null)))})),Zw=As((({onClose:e})=>{const{t}=ws("ProfanityWarningModalRoute");return r.createElement($m,{defaultFocusAlias:"profanity-warning-modal-button"},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".body"),center:!0},t(".body"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".close"),variant:"primary",delayedClick:!0,onClick:e,gamepadAlias:"profanity-warning-modal-button"},t(".close"))))}));function ek({type:e,renderingCompleted:t}){const a=fl(),n=ml(),r=(0,l.useFacetWrap)(t);return(0,l.useFacetEffect)(((t,n)=>{if(!n||!t)return;const r=requestAnimationFrame((()=>{"contentful"===e?a.contentfulPaint():a.meaningfulPaint()}));return()=>{cancelAnimationFrame(r)}}),[a,e],[n,r]),null}function tk({tab:e,children:t}){const a=f(),n=(0,l.useFacetMap)((t=>t.tab===e),[e],[g()]),o=(0,l.useFacetMap)(((e,t)=>t&&e),[],[a,n]),c=(0,l.useFacetMap)((e=>!e),[],[o]),i=(0,r.useRef)(!1),s=(0,l.useFacetMemo)((e=>(i.current=i.current||e,i.current)),[],[o]);return r.createElement(l.Mount,{when:s},r.createElement(L,{value:n},r.createElement(hl,{disabled:c},r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ak,{visible:n},t))))}const ak=({visible:e,children:t})=>r.createElement(l.Unwrap,{data:e},(e=>r.createElement("fast-div",{className:dl()("cf6ef84f5d40cb2f97fc",{e5588282f6a3ed92a09e:!e})},t)));function nk({Component:e,route:t,wideSize:a,narrowSize:n}){const l=(0,r.useRef)(null),o=(12-a)/2,c=(8-n)/2;return r.createElement(tk,{tab:t},r.createElement(zM.Row,{innerRef:l,fullHeight:!0,className:"b141d2f35176628a8d1d"},r.createElement(zM.Column,{wideSize:o,narrowSize:c}),r.createElement(zM.Column,{wideSize:a,narrowSize:n},r.createElement(e,null)),r.createElement(zM.Column,{wideSize:o,narrowSize:c})))}function rk({children:e,role:t,icon:a,align:n="top"}){const o=Yr(),c=(0,l.useFacetMap)((e=>dl()("e278296f352096778e91",o[e].background.base,o[e].text.base)),[o],[(0,l.useFacetWrap)(t)]),i=Boolean(a);return r.createElement("div",{className:dl()("ffcb52beb2dd61115b89",{b7a35d6f2248044c8884:"top"===n,faa4a58f0b1724285d32:"center"===n,d3c7a1ef3d93f05969eb:"bottom"===n})},i?r.createElement("fast-div",{className:c},r.createElement("span",{className:"f4ae00390b08d647afbf"},a),r.createElement(Zi,{type:"body",role:t,overflowEllipsis:!0},e)):r.createElement(Zi,{className:c,type:"body",role:t,overflowEllipsis:!0},e))}function lk({tags:e,className:t,fixedHeight:a}){return r.createElement("div",{style:{height:`${a}rem`},className:dl()("add32e8f7f13ca32dd59",t)},r.createElement(l.Map,{array:e},(e=>r.createElement(ok,{tag:e}))))}function ok({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(rk,{role:t},a)}const ck=(e,t)=>e.isProfanityInString(t),ik=e=>{const t=Zw.useModal(),a=t.show;return[(0,l.useFacetCallback)((t=>(n,r)=>ck(t,n)?(e&&r(""),a(),sm.INVALID):sm.VALID),[e,a],[(0,l.useSharedFacet)(Dh)]),t]};function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},sk.apply(null,arguments)}function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uk.apply(null,arguments)}const dk=e=>{let{onBlur:t,filterProfanity:a=!1,clearOnProfanity:n=!0}=e,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["onBlur","filterProfanity","clearOnProfanity"]);const[c,i]=ik(n),s=(0,r.useCallback)(((e,n)=>null!=t?t(e,n,ck):a?c(e,n):void 0),[t,c,a]);return r.createElement(r.Fragment,null,r.createElement(gm,uk({},o,{onBlur:s})),r.createElement(l.Mount,{when:i.isVisible},r.createElement(Zw.Component,{onClose:i.hide})))};dk.WithButton=e=>{let{onBlur:t,filterProfanity:a=!1,clearOnProfanity:n=!0,buttonVariant:o="secondary"}=e,c=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["onBlur","filterProfanity","clearOnProfanity","buttonVariant"]);const[i,s]=ik(n),u=(0,r.useCallback)(((e,n)=>null!=t?t(e,n,ck):a?i(e,n):void 0),[t,i,a]);return r.createElement(r.Fragment,null,r.createElement(gm.WithButton,sk({},c,{onBlur:u,buttonVariant:o})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(Zw.Component,{onClose:s.hide})))};const mk="c51e5177928addfcac7e",pk="d04ebac8169de7c79c60";function fk(e,t){return(0,l.useFacetMap)((e=>e.length>t?e[t]:""),[t],[e])}function gk(e){return(0,l.useFacetMap)((e=>dl()({e930af5e19afd89b5e6c:""!==e,d55ae7804760b7c94d45:""===e})),[],[e])}function Ek({playerAvatars:e,variant:t}){const a=Yr("neutral100"),n=Rd(Rb),o=(0,l.useFacetWrap)(n?"pixelated":void 0),c=fk(e,0),i=gk(c),s=fk(e,1),u=gk(s),d=fk(e,2),m=gk(d),p=fk(e,3),f=gk(p);return r.createElement("div",{className:dl()(a.background.base,{d5b4678743b55fb7fc3f:"small"===t,b7f90db780db98482374:"large"===t})},r.createElement("div",{className:mk},r.createElement("div",{className:pk},r.createElement(pu,{className:i,src:c,imageRendering:o})),r.createElement("div",{className:pk},r.createElement(pu,{className:u,src:s,imageRendering:o}))),r.createElement("div",{className:mk},r.createElement("div",{className:pk},r.createElement(pu,{className:m,src:d,imageRendering:o})),r.createElement("div",{className:pk},r.createElement(pu,{className:f,src:p,imageRendering:o}))))}const bk=({isLocked:e,progress:t,progressTarget:a},n)=>{const r=rw(t,a),l=Math.round(100*t);return e&&t>0&&t<1?[n(".narration.progress"),n(".narration.percentage",[`${r}`,`${a}`]),`${l}%`]:[]},hk=()=>{const{t:e,f:t}=ws("AchievementDetailsRoute"),a=Cl(),n=Ml(),o=Rd(kE),c=(0,l.useFacetUnwrap)((0,l.useSharedFacet)(KE(n.id))),i=!(c===l.NO_VALUE||!c.isLoaded),s=c===l.NO_VALUE?void 0:c.achievement,u=Rw((0,l.useSharedFacet)(XE),1e4),d=Rw((0,l.useSharedFacet)(XE),1500),m=(0,l.useFacetUnwrap)(u),p=(0,l.useFacetUnwrap)(d),f=(0,r.useRef)(null),g=i&&!s;(0,r.useEffect)((()=>{g&&a.goBack()}),[g,a]);const E=Rd(Ub),b=(0,l.useFacetCallback)((e=>t=>{e.setTrackedStatus(n.id,t)}),[n],[(0,l.useSharedFacet)(IE)]),h=Boolean(o&&s&&null!=s.rewardName&&s.rewardImage),v=null!=s?[s.isLocked?e(".narration.locked"):e(".narration.completed"),s.dateUnlocked>0?t.formatDate(s.dateUnlocked):"",s.name,s.description,...0!==s.gamerScore?[e(".narration.gamerscore"),`${s.gamerScore}`]:[],...bk(s,e)].join(" . "):"";if(c===l.NO_VALUE)return null;const F=o&&s&&s.hasReward&&s.isRewardOwned&&s.isLocked;return r.createElement(ay,null,r.createElement(bd,{text:e(".narration.title")},p!==l.NO_VALUE&&p&&(m===l.NO_VALUE||!m)&&r.createElement(ty,{text:e(".narration.loadingMessage")}),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:i}),r.createElement(BM,{onBackButton:a.goBack,center:r.createElement(Zi,{type:"header5A"},e(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-details-layout-content",delegateByAlias:"achievements-details-wrapper",shouldNotDelegateToContent:!h},m!==l.NO_VALUE&&m?r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:2,narrowSize:1}),r.createElement(zM.Column,{wideSize:8,narrowSize:6},r.createElement(Vi,{size:2}),r.createElement(aw,{gamepadAlias:"ach-details-empty-state",text:e(".errorMessage")})))):r.createElement(bd,{text:v},r.createElement(zM,null,r.createElement(uu,{containerRef:f,delegateFocusFromMemory:!0,alias:"achievements-details-wrapper",delegateFocusByAlias:"reward-wrapper"},r.createElement(zM.Row,{innerRef:f},(!h||!i)&&r.createElement(zM.Column,{wideSize:2,narrowSize:1}),r.createElement(zM.Column,{wideSize:8,narrowSize:h&&i?5:6},r.createElement(ud,{focusableIfScrollable:!0},r.createElement(Vi,{size:2}),s?r.createElement(hw,{loading:!1,title:s.name,image:s.image,description:s.description,progress:s.progress,progressTarget:s.progressTarget,isTracked:_E(s),setTrackedStatus:E?b:void 0,isLocked:s.isLocked,dateUnlocked:s.dateUnlocked,gamerscore:s.gamerScore,completedOnAnotherPlatform:!!F}):r.createElement(hw,{loading:!0}),r.createElement(Vi,{size:2}),r.createElement(Lm.Space,null))),h&&s&&null!=s.rewardName&&null!=s.rewardImage&&r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(ud,{gamepadAlias:"reward-wrapper",delegateFocusByAlias:"reward-button",loading:!i},r.createElement(Vi,{size:2}),r.createElement(Cw,{title:s.rewardName,onClickView:()=>{a.push(`/persona?itemId=${s.rewardId}`)},isOwned:ZE(s),image:s.rewardImage}),r.createElement(Vi,{size:2}),r.createElement(Lm.Space,null))))))))))},vk=a.p+"assets/all_achievements_unlocked-145c0069c2ef6346f397.png",Fk=a.p+"assets/no_achievements_in_progress-a4724dfdd2594583b3ab.png",yk=a.p+"assets/no_achievements_unlocked-343d744c947a19477b23.png",Sk=a.p+"assets/error-message-9e281d5900185e023433.png",Ck=a.p+"assets/unavailable-on-preview-2120ed4143899bec70cc.png",Mk=(0,r.createContext)((()=>{}));function wk({children:e}){const[t,a]=(0,l.useFacetState)(!1);return r.createElement(Mk.Provider,{value:a},e,r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e?"fdbb05e0215652e53c18":""),[],[t])}))}const kk=(0,r.createContext)(null),Pk=()=>(0,r.useContext)(kk),Tk=(0,r.createContext)(null),Ik=(0,r.createContext)(null),xk=(0,r.createContext)(null);function Ok({children:e}){const t=nt(),a=(0,r.useMemo)((()=>(0,l.createFacet)({initialValue:{}})),[]),n=(0,r.useMemo)((()=>(0,l.createFacet)({initialValue:{}})),[]),o=(0,l.useFacetMap)((e=>null!=Ak(e)),[],[a]),c=(0,r.useContext)(Mk);(0,l.useFacetEffect)(c,[c],[o]);const i=(0,l.useFacetCallback)(((e,t)=>r=>{const o=Ak(e);null!=o&&"gamepad"==o.dragging&&(a.setWithCallback((e=>{const a="up"===r?-1:"down"===r?1:0,n=o.gamepadHoverIndex+a,l=function(e,t){if(null==e)return null;for(const a in e){const n=e[a];if(n.index===t)return n}}(t,o.index);for(const e in t){const a=t[e];if(a.index===n){var c;const e=null===(c=a.ref.current)||void 0===c?void 0:c.getBoundingClientRect();if(null==o.startX||null==o.startY){var i;const e=null==l||null===(i=l.ref.current)||void 0===i?void 0:i.getBoundingClientRect();var s,u;null!=e&&(o.startX=null!==(s=e.left)&&void 0!==s?s:0,o.startY=null!==(u=e.top)&&void 0!==u?u:0)}if(null==e)break;const t=n===o.index;o.gamepadHoverIndex=n,o.transform=t?"translate(0, 0)":`translate(${e.left-o.startX+o.gamepadDragXOffsetPx}px, ${e.top-o.startY+o.gamepadDragYOffsetPx}px)`;break}}return e})),n.setWithCallback((e=>{if(e!=l.NO_VALUE)for(const t in e){const a=e[t],n=o.index<a.index&&o.gamepadHoverIndex>=a.index,r=o.index>a.index&&o.gamepadHoverIndex<=a.index;a.displacement=n?-1:r?1:0,a.hovering=o.gamepadHoverIndex===a.index}return e})))}),[a,n],[a,n]),s=(0,l.useFacetCallback)(((e,t,r)=>o=>{const c=Ak(e);if(!r&&null==o.touches)return;const{clientX:i,clientY:s}=r?o:o.touches[0],u=function(e,t,a){if(null==a)return null;let n=null,r=null;for(const l in a){const o=a[l];if(null==o.centerX||null==o.centerY)continue;const c=Math.hypot(e-o.centerX,t-o.centerY);(null==r||c<r)&&(r=c,n=o)}return n}(i,s,t);null!=c&&(a.setWithCallback((e=>{if(null!=c.startX&&null!=c.startY){var t;const e="y"===c.pointerAxisLock?0:i-c.startX,a="x"===c.pointerAxisLock?0:s-c.startY;c.transform=`translate(${e}px, ${a}px)`,c.pointerHoverIndex=null!==(t=null==u?void 0:u.index)&&void 0!==t?t:c.index,c.pointerHoverIndex!==(null==c?void 0:c.index)&&(c.hasDraggedPointerBeyondStartArea=!0)}return e})),n.setWithCallback((e=>{if(null!=u&&e!=l.NO_VALUE){for(const t in e){const a=e[t],n=c.index<a.index&&u.index>=a.index,r=c.index>a.index&&u.index<=a.index;a.displacement=n?-1:r?1:0,a.hovering=!1}u.hovering=!0}return e})))}),[a,n],[a,n,t]);(0,r.useEffect)((()=>{const e=()=>{let e;window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),a.setWithCallback((t=>{if(t!=l.NO_VALUE)for(const a in t){const n=t[a];0!=n.dragging&&(e=n.data),n.hasDraggedPointerBeyondStartArea=!1,n.dragging=!1,n.transform="",n.zIndex="",n.startX=null,n.startY=null}return t})),n.setWithCallback((t=>{if(t!=l.NO_VALUE)for(const a in t){const n=t[a];!0===n.hovering&&n.onDrop(e,n.data),n.displacement=null,n.hovering=!1}return t}))};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}}),[s,a,n]);const u=(0,r.useMemo)((()=>({addDraggable:e=>{null!=e.id&&a.setWithCallback((t=>{var a,n;return t!=l.NO_VALUE&&(t[e.id]={id:e.id,gamepadHoverIndex:e.index,pointerHoverIndex:e.index,hasDraggedPointerBeyondStartArea:!1,ref:e.ref,data:e.data,index:e.index,dragging:!1,transform:"",zIndex:"",startX:null,startY:null,pointerAxisLock:e.pointerAxisLock,gamepadDragXOffsetPx:null!==(a=e.gamepadDragXOffsetPx)&&void 0!==a?a:0,gamepadDragYOffsetPx:null!==(n=e.gamepadDragYOffsetPx)&&void 0!==n?n:0}),t}))},removeDraggable:e=>{e&&a.setWithCallback((t=>(t!=l.NO_VALUE&&delete t[e],t)))},addDroppable:e=>{null!=e.id&&function e(t){var a;const r=null===(a=t.ref.current)||void 0===a?void 0:a.getBoundingClientRect();null==r||0===r.width&&0===r.height?requestAnimationFrame((()=>e(t))):requestAnimationFrame((()=>{n.setWithCallback((e=>(null==r||e==l.NO_VALUE||(e[t.id]={data:t.data,index:t.index,hovering:!1,centerX:r.left+r.width/2,centerY:r.top+r.height/2,left:r.left,top:r.top,displacement:null,ref:t.ref,onDrop:t.onDrop}),e)))}))}(e)},removeDroppable:e=>{n.setWithCallback((t=>(t!=l.NO_VALUE&&delete t[e],t)))},pointerDragStart:(e,t,r)=>{window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),n.setWithCallback((t=>{if(t!=l.NO_VALUE){var a;null!=(null===(a=t[e])||void 0===a?void 0:a.hovering)&&(t[e].hovering=!0);for(const e in t){var n;if(null==t)break;const a=t[e],r=null===(n=a.ref.current)||void 0===n?void 0:n.getBoundingClientRect();null!=r&&(a.centerX=r.left+r.width/2,a.centerY=r.top+r.height/2,a.left=r.left,a.top=r.top,a.displacement=0)}}return t})),a.setWithCallback((a=>{if(a!=l.NO_VALUE){a[e].dragging="pointer";const n=a[e].ref.current,l=null==n?void 0:n.getBoundingClientRect();if(null==l)return a;const o=a[e].pointerAxisLock,c="y"===o?0:t-l.left,i="x"===o?0:r-l.top,s=i>l.height||c>l.width;a[e].transform=s?`translate(${c}px, ${i}px)`:"translate(0, 0)",a[e].zIndex=4,a[e].startX=s?t-c:t,a[e].startY=s?r-i:r}return a}))},focusDragStop:()=>{const e=a.get();if(e!=l.NO_VALUE){const t=Ak(e);"gamepad"===(null==t?void 0:t.dragging)&&u.focusDragToggle(t.id)}},focusDragToggle:e=>{a.setWithCallback((t=>{if(t!=l.NO_VALUE){const a=t[e];0!=a.dragging?(window.removeEventListener("mousemove",u.focusDragStop),window.removeEventListener("touchstart",u.focusDragStop),a.dragging=!1,a.zIndex="",a.transform="",a.gamepadHoverIndex=a.index,n.setWithCallback((e=>{if(e!=l.NO_VALUE)for(const t in e){const n=e[t];!0===n.hovering&&n.onDrop(a.data,n.data),n.displacement=null,n.hovering=!1}return e}))):(window.addEventListener("mousemove",u.focusDragStop),window.addEventListener("touchstart",u.focusDragStop),a.dragging="gamepad",a.zIndex=4,n.setWithCallback((t=>{if(t!=l.NO_VALUE){var a;null!=(null===(a=t[e])||void 0===a?void 0:a.hovering)&&(t[e].hovering=!0);for(const e in t)t[e].displacement=0}return t})))}return t}))},focusDragMove:i})),[s,i,a,n]);return r.createElement(kk.Provider,{value:u},r.createElement(xk.Provider,{value:n},r.createElement(Ik.Provider,{value:a},r.createElement(Tk.Provider,{value:o},e))))}function Ak(e){for(const t in e)if(!1!==e[t].dragging)return e[t]}const Nk=()=>(0,r.useContext)(Tk),Rk="bf2496c9887c161aa9a1";function Lk({role:e="destructiveTint",children:t,overflowCount:a=99}){const n=Yr(e),o=null!=t,c=dl()(n.border.base,n.background.base,n.text.base,o?"f4af3f22d88df15a65b0":Rk),i=(0,l.useFacetMap)((e=>0!=a&&e>a?`+${a}`:`${e}`),[a],[(0,l.useFacetWrap)(null!=t?t:0)]);return o?r.createElement("div",{className:c},r.createElement("div",{className:"e45972d5a0b5f0bb0269"},r.createElement(Zi,{type:"body",role:e,align:"center"},i))):r.createElement("div",{className:c},r.createElement("div",{className:Rk}))}const Dk="caa7713b620a56fca5ba";function _k({tabs:e,gamepadAliasNamespace:t,value:a,onChange:n,narrationTitle:o,enableGamepadShortcuts:c,onTabHoveredSoundEffect:i,onTabPressedSoundEffect:s,isCondensed:u=!1,hideLabel:d=!1,role:m="neutral",badgeRole:p}){const{t:f}=ws("TabBar"),g=(0,r.useRef)(null),E=(0,l.useFacetWrap)(null!=c&&c),b=(0,l.useFacetWrap)(e),h=(0,l.useFacetMap)((e=>e.length),[],[b]),v=(0,l.useFacetWrap)(a),F=(0,l.useFacetMap)((e=>`${f(".narrationGroup",[e])}`),[f],[(0,l.useFacetWrap)(o)]),y=Qr(m),S=An(),C=(0,l.useFacetCallback)(((e,t)=>(a,r)=>{if(t===a)return;const l=null!=e?e:y.toggle;null!=l&&S(l),n(a,r)}),[n,y.toggle,S],[(0,l.useFacetWrap)(s),v]);return r.createElement(bd,{text:F},r.createElement("div",{className:"b8033d21e5aee21fef4f"},r.createElement(uu,{containerRef:g,alias:"play-screen-tab-bar-wrapper",delegateFocusFromMemory:!0},r.createElement("div",{ref:g,className:"b24390432f8df906a117"},r.createElement(l.Map,{array:b},((e,a)=>r.createElement(Wk,{gamepadAliasNamespace:t,key:`tab_${a}`,index:a,length:h,tab:e,selectedTab:v,onChange:C,onTabHoveredSoundEffect:i,isCondensed:u,badgeRole:p,hideLabel:d}))))),r.createElement(l.Mount,{when:E},r.createElement(Bk,{value:v,onChange:C,tabs:b}))))}const Bk=function({value:e,tabs:t,onChange:a}){var n;const o=ot(),c=(0,l.useFacetWrap)(null!==(n=Nk())&&void 0!==n&&n),i=(0,l.useFacetCallback)((e=>t=>e[t].value),[],[t]),s=(0,l.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[t]),u=(0,l.useFacetMap)((e=>s(e)),[s],[e]),d=(0,l.useFacetCallback)((e=>()=>{const t=e-1;if(t>-1){const e=i(t);e!==l.NO_VALUE&&a(e,!0)}}),[i,a],[u]),m=(0,l.useFacetCallback)(((e,t)=>()=>{const n=t+1;if(n<e.length){const e=i(n);e!==l.NO_VALUE&&a(e,!0)}}),[i,a],[t,u]),p=$m.useIsAnyModalVisible(),f=(0,l.useFacetMap)(((e,t)=>({button:j.LEFT_BUMPER,disabled:e||t})),[],[p,c]),g=(0,l.useFacetMap)(((e,t)=>({button:j.RIGHT_BUMPER,disabled:e||t})),[],[p,c]);return r.createElement(l.Mount,{when:o},r.createElement(r.Fragment,null,r.createElement(Ed,{options:f,onClick:d}),r.createElement(Ed,{options:g,onClick:m}),r.createElement("div",{className:"e643626245f37cb98190"},r.createElement(Lm.Icon,{button:j.LEFT_BUMPER})),r.createElement("div",{className:"f509afa923d0e05ee68c"},r.createElement(Lm.Icon,{button:j.RIGHT_BUMPER}))))};function Wk({gamepadAliasNamespace:e,selectedTab:t,onChange:a,index:n,length:o,tab:c,onTabHoveredSoundEffect:i,onTabPressedSoundEffect:s,isCondensed:u=!1,hideLabel:d=!1,role:m="neutral",badgeRole:p}){const{t:f}=ws("TabBar"),{narrateText:g}=sd(),E=Yr(m),b=el(),h=(0,l.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[c]),v=(0,l.useFacetMap)(((e,t)=>e===t.value),[],[t,c]),F=(0,l.useFacetMap)((e=>!e),[],[v]),y=(0,l.useFacetMap)(((e,t,a)=>[e.label,f(".narrationComponentType"),f(".selectedTab",[`${n+1}`,`${a}`]),f("."+(t?"selected":"notSelected")),e.hint].filter((e=>null!=e)).join(" . ")),[n,f],[c,v,o]),S=(0,l.useFacetMap)((e=>dl()("e2f6aa3d9859af25ebc1",E.background.interactive,E.border.base,{ce00fc8d9ffe2e7c81a7:u,[b.pressed]:e,[Dk]:e})),[u,b,E],[v]),C=(0,l.useFacetCallback)((e=>()=>{g(f(".selected")),a(e.value,!1)}),[g,a,f],[c]),M=(0,l.useFacetMap)((t=>Uk(e,t.value)),[e],[c]),w=(0,l.useFacetMap)((e=>!e&&f(".open")),[f],[v]),k=(0,l.useFacetUnwrap)((0,l.useFacetMap)(((e,t)=>e.icons&&r.createElement(r.Fragment,null,e.icons[t?"selected":"unselected"],!d&&r.createElement(Vi,{size:2}))),[d],[c,v])),P=(0,l.useFacetMap)((e=>null!=e.badge),[],[c]),T=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[c]),I=(0,l.useFacetMap)((e=>dl()("e6f43ce77d2859060088",e?"f30114cb1480385f0db8":null)),[],[P]),x=(0,l.useFacetMap)((e=>e.label),[],[c]),O=(0,l.useFacetMap)((e=>dl()("d85a124495c0e6b41efb",{c4a1c4bccf7b7df4076e:e})),[],[P]);return r.createElement(Wi,{className:S,classNameFocused:dl()("dff77a1ee2ed6516d1ed",Ws),classNamePressed:Dk,onClick:C,gamepadAlias:M,inputLegend:w,soundEffectHovered:i,soundEffectPressed:s,narrationText:y,"data-testid":h},r.createElement(Bs,{role:m}),r.createElement("div",{className:"a2e588c6a381b284fbeb"},r.createElement(Ks,{role:m}),r.createElement("fast-div",{className:O,style:{}},r.createElement("fast-div",{className:I},r.createElement(Zi,{type:"body",role:m,verticalAlign:"center",disableable:v,interactive:F},k!==l.NO_VALUE&&null!=k&&k,!d&&r.createElement(ji,null,x)),r.createElement(l.Mount,{when:P},r.createElement("div",{className:"c99fefa9575af42b82c3"},r.createElement(Vi,{size:2}),r.createElement(Lk,{role:p},T),r.createElement(Vi,{size:2})))))),r.createElement("div",{className:dl()("cba4a8c02e1eb1bb379d",E.shadow.base)}),r.createElement(l.Mount,{when:v},r.createElement("div",{className:dl()("a2c11937fe7d1cff8659",E.icon.base)})))}function Uk(e,t){return`tab-bar-${e}-${t}`}_k.getFocusAlias=Uk;var zk=a(32250),jk=a.n(zk);function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hk.apply(null,arguments)}const Gk={0:"",1:"c7633d08840b3ea20e39",2:"c619cec88a30e1dff77f",3:"e25f52cb3ed2e1180412",4:"f109c1e69dd97e71b121",5:"bcd26bb0f88ddf8eb4da",6:"f5bb681676f9f850fd0e",7:"ce069477f26882731ff3",8:"a4a601bb4a39b80ede7a"},Vk={0:"",1:"f7dd1191a457b33f9419",2:"d252b3eda98d39a10382",3:"c17c637db6cf427968fc",4:"ac4ad33c63ac2122975c",5:"df9d440f571958a8287b",6:"b2a9cb071b373dda151e",7:"fd2322f65843ca9c8673",8:"b653cd883b0a15ef9354"},$k={0:0,1:.4,2:.8,3:1.2,4:1.6,5:2,6:2.4,7:3.2,8:6.4};function Xk(e){var t,a,n,o;const c=(0,r.useRef)(null),i=null!==(t=e.containerRef)&&void 0!==t?t:c,s=yc(e.rowSizeRem),u=yc(null!==(a=$k[null!==(n=e.spacingSize)&&void 0!==n?n:0])&&void 0!==a?a:0),d=(0,l.useFacetMap)(((e,t)=>e+t),[],[s,u]),m=yc(null!==(o=e.headerSizeRem)&&void 0!==o?o:0);return r.createElement(qk,Hk({},e,{containerRef:i,firstRowRef:(0,r.useRef)(null),headerRef:(0,r.useRef)(null),headerSize:m,firstRowSize:d,containerSize:(0,l.useFacetWrap)(e.containerSizePixels),forceRowHeight:!0}))}function Kk(e){var t;const[a,n]=(0,l.useFacetState)(0),o=(0,r.useRef)(null),c=null!==(t=e.containerRef)&&void 0!==t?t:o,i=(0,r.useCallback)((({height:e})=>n(e)),[n]);Bc(c,i);const[s,u]=(0,l.useFacetState)(0),d=(0,r.useRef)(null),m=(0,r.useCallback)((({height:e})=>u(e)),[u]);Bc(d,m);const[p,f]=(0,l.useFacetState)(0),g=(0,r.useRef)(null),E=(0,r.useCallback)((({height:e})=>f(e)),[f]);return Bc(g,E),r.createElement(qk,Hk({},e,{containerRef:c,containerSize:a,firstRowRef:d,firstRowSize:s,headerRef:g,headerSize:p}))}const Yk=(0,l.createStaticFacet)(0);function qk(e){const{loading:t,renderItem:a,data:n,columnCount:o,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:i,checkForDynamicScrollArea:s,overflowCount:u,equalityCheck:d,footer:m,spacingSize:p=0,emptyMessage:f,containerSize:g,headerSize:E,firstRowSize:b,containerRef:h,headerRef:v,firstRowRef:F,header:y,__initialRowOffsetPX:S=Yk,gamepadAlias:C,padSpinnerVertically:M,renderTracker:w,delegateFocusFromMemory:k,forceRowHeight:P,isGrid:T,gridCellWidth:I,gridCellHeight:x,gridColumns:O,gridRows:A,gridCellSizeAuto:N,scrollbarBackgroundRole:R,onScroll:L}=e,[D,_]=(0,r.useState)(1),[B,W]=(0,l.useFacetState)(0),U=(0,l.useFacetMap)((e=>Math.ceil(e.length/o)),[o],[n]),z=(0,l.useFacetMap)((e=>e.length),[],[n]),j=(0,l.useFacetMap)((e=>e<=0),[],[z]),H=(0,l.useFacetMap)(((e,t,a)=>Math.ceil(e.length/o)*t+a),[o],[n,b,S]);(0,l.useFacetEffect)(((e,t,a)=>{if(0===e||0===t)return;const n=Math.round(e/t)+2*u;_(a<n?a+2*u:n)}),[u],[g,b,U]),(0,l.useFacetLayoutEffect)(((e,t,a,n)=>{const r=h.current;if(null==r)return;let l,o;const c=()=>{const i=Math.max(0,Math.min(r.scrollTop,n-r.offsetHeight));i!==l&&(W(Math.round((i-t+a)/e)-u),l=i),o=requestAnimationFrame(c)};return c(),()=>{cancelAnimationFrame(o)}}),[W,u,h],[b,E,S,H]);const G=(0,l.useFacetCallback)(((e,t,a,n,r)=>l=>{var o,c;if(null==(null===(o=h.current)||void 0===o?void 0:o.scrollTop))return;const i=((e,t)=>{return"key"in t?e.find((e=>e.id===t.key)):"alias"in t?e.find((e=>e.id===t.alias)):"order"in t?null!==(a=e.find((e=>e.order===t.order)))&&void 0!==a?a:e[t.order]:void 0;var a})(e,l);if(null==i)return;const s=null!==(c=i.order)&&void 0!==c?c:e.findIndex((e=>e.id===i.id));(s<t+u||s>t+(D-u))&&(h.current.scrollTop=s*a+n-r)}),[D,h,u],[n,B,b,E,S]);return r.createElement(Qk,{renderFocusable:G,gamepadAlias:C,scrollRef:h,loading:t,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:i,checkForDynamicScrollArea:s,delegateFocusFromMemory:k,padSpinnerVertically:M,renderTracker:w,isGrid:T,gridCellWidth:I,gridCellHeight:x,gridColumns:O,gridRows:A,gridCellSizeAuto:N,scrollbarBackgroundRole:R,onScroll:L},null!=y?r.createElement("div",{ref:v},y):null,r.createElement(l.Unwrap,{data:j},(e=>e?r.createElement(r.Fragment,null,f):r.createElement("fast-div",{className:`${Vk[p]} d9b69baadc73dad51c07`,style:{heightPX:H},"data-testid":"glv-container"},jk()((e=>r.createElement(eP,{key:e,data:n,dataLength:z,startRowIndex:B,relativeRowIndex:e,rowCount:U,columnCount:o,renderItem:a,rowHeight:b,visibleCount:D,equalityCheck:d,innerRef:0===e?F:void 0,headerSize:E,spacingSize:p,rowOffset:S,forceRowHeight:P})),D)))),m)}function Qk({children:e,delegateFocusFromMemory:t,renderFocusable:a,focusGridIndex:n,gamepadAlias:o,loading:c,padSpinnerVertically:i,renderTracker:s,scrollIntoViewAlign:u,scrollIntoViewSpeedFactor:d,scrollRef:m,checkForDynamicScrollArea:p,showSpinnerBorder:f,spinnerBackgroundColor:g,isGrid:E,gridCellWidth:b,gridCellHeight:h,gridColumns:v,gridRows:F,gridCellSizeAuto:y,scrollbarBackgroundRole:S,onScroll:C}){const M=Gu(),w=Vu(),k=(0,l.useFacetMap)(((e,t)=>t||e||w),[w],[M,(0,l.useFacetWrap)(null!=c&&c)]);return r.createElement(ud,{renderFocusable:a,delegateFocusFromMemory:t,focusGridIndex:n,gamepadAlias:o,innerRef:m,loading:k,padSpinnerVertically:i,renderTracker:s,showSpinnerBorder:f,spinnerBackgroundColor:g,scrollIntoViewAlign:u,scrollIntoViewSpeedFactor:d,shouldScrollWithAnalog:!1,checkForDynamicScrollArea:p,isGrid:E,gridCellWidth:b,gridCellHeight:h,gridColumns:v,gridRows:F,gridCellSizeAuto:y,scrollbarBackgroundRole:S,onScroll:C},e)}const Jk=3;function Zk(e){const t=(0,l.useFacetWrap)(e.data),{columnCount:a,overflowCount:n=Jk}=e,o=a<=0?1:a,c=n<0?0:n;return function(e){return null!=e.rowSizeRem}(e)?r.createElement(Xk,Hk({},e,{columnCount:o,overflowCount:c,data:t})):r.createElement(Kk,Hk({},e,{columnCount:o,overflowCount:c,data:t}))}function eP({data:e,dataLength:t,startRowIndex:a,relativeRowIndex:n,rowCount:o,columnCount:c,renderItem:i,rowHeight:s,visibleCount:u,equalityCheck:d,innerRef:m,spacingSize:p,rowOffset:f,forceRowHeight:g}){const E=(0,l.useFacetMemo)(((e,t)=>{const a=Math.floor((e+(u-1-n))/u)*u+n;return a<t&&a>=0?a:void 0}),[n,u],[a,o]),b=(0,l.useFacetMap)(((e,t,a)=>null==e?0:0==e?e*t:e*t+a),[],[E,s,f]),h=(0,l.useFacetMap)(((e,t,a)=>g?0===a?t+e:t:void 0),[g],[f,s,E]),v=(0,l.useFacetMap)((e=>null==e),[],[E]),F=(0,l.useFacetMap)((e=>e?"none":"flex"),[],[v]);return r.createElement(hl,{disabled:v,hidden:v},r.createElement("fast-div",{className:dl()("b52ca6c855fcbed8012e",Gk[p]),style:{topPX:b,display:F,heightPX:h},ref:m},jk()((a=>r.createElement(tP,{dataLength:t,key:a,data:e,rowIndex:E,columnIndex:a,columnCount:c,equalityCheck:d,renderItem:i,spacingSize:p})),c)))}function tP({data:e,dataLength:t,rowIndex:a,columnIndex:n,columnCount:o,renderItem:c,equalityCheck:i,spacingSize:s}){const u=(0,l.useFacetMap)((e=>null==e?l.NO_VALUE:e*o+n),[n,o],[a]),d=(0,l.useFacetMemo)(((e,t)=>null!=t[e]?t[e]:l.NO_VALUE),[],[u,e],i),m=(0,l.useFacetMap)(((e,t)=>null==e?l.NO_VALUE:null==t[e*o+n]),[n,o],[a,e]),p=(0,l.useFacetMap)((e=>null==e?l.NO_VALUE:e),[],[a]);return r.createElement(r.Fragment,null,c({item:d,index:u,rowIndex:p,columnIndex:n,isHidden:m,listLength:t}),n<o-1&&s>0?r.createElement(Vi,{size:s}):null)}const aP=({label:e="",role:t="neutral"})=>{const a=(0,l.useFacetWrap)(t),n=Yr();return r.createElement("fast-div",{className:"d988a68922cadaca06af"},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()("bb27595b5640a09b4bc5",n[e].background.base,n[e].border.base,n[e].text.base)),[n],[a])},r.createElement(Zi,{type:"captionShort",role:t},r.createElement("fast-text",{text:e}))),r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()("c0eee9e193db72f459f1",n[e].background.base,n[e].border.base)),[n],[a])}))};function nP({data:e,renderItem:t,containerSizePixels:a,rowSizeInRem:n,gamepadAlias:o,loading:c,footer:i,padSpinnerVertically:s,delegateFocusFromMemory:u,renderTracker:d,isGrid:m,gridItemHeight:p,gridItemWidth:f,scrollRef:g,onScroll:E,checkForDynamicScrollArea:b,header:h}){const v=(0,l.useFacetWrap)(e),F=(0,l.useFacetMap)((e=>{const t=[];for(let a=0;a<e.length;a++){const{data:n,narrationSuffix:r,narrationTitle:l,title:o}=e[a];e[a].data.length<=0||(t.push({isHeader:!0,narrationSuffix:r,narrationTitle:l,role:e[a].role,sectionIndex:a,id:o,order:t.length,sectionLength:n.length,numberOfSections:e.length,sectionTitle:e[a].title}),t.push(...n.map(((o,c)=>({isHeader:!1,data:o,id:o.id,order:t.length+c,localIndex:c,narrationSuffix:r,narrationTitle:l,sectionIndex:a,sectionLength:n.length,numberOfSections:e.length,sectionTitle:e[a].title})))))}return t}),[],[v]),y=yc(-(n-lP));return r.createElement(xi,{value:!1},r.createElement(Zk,{renderTracker:d,loading:c,gamepadAlias:o,footer:i,rowSizeRem:n,padSpinnerVertically:s,containerSizePixels:a,data:F,columnCount:1,__initialRowOffsetPX:y,renderItem:({item:e,index:a})=>r.createElement(rP,{itemData:e,index:a,renderItem:t}),delegateFocusFromMemory:u,isGrid:m,gridCellHeight:p,gridCellWidth:f,containerRef:g,onScroll:E,checkForDynamicScrollArea:b,header:h}))}function rP({itemData:e,renderItem:t}){const{t:a}=ws("SectionList"),n=(0,l.useFacetMemo)((e=>e.isHeader),[],[e]),o=(0,l.useFacetMemo)((e=>e.isHeader?"none":"flex"),[],[e]);return r.createElement(bd,{getText:(0,l.useFacetCallback)((e=>()=>{var t,n;return[a(".groupNarration",[null!==(t=e.narrationTitle)&&void 0!==t?t:e.sectionTitle,(e.sectionIndex+1).toString(),e.numberOfSections.toString()]),null!==(n=e.narrationSuffix)&&void 0!==n?n:""].filter(Boolean).join(" . ")}),[a],[e])},r.createElement(hl,{disabled:n,hidden:n},r.createElement(oP,{role:(0,l.useFacetMap)((e=>e.isHeader?e.role:l.NO_VALUE),[],[e]),title:(0,l.useFacetMap)((e=>e.isHeader?e.sectionTitle:l.NO_VALUE),[],[e]),show:n}),r.createElement("fast-div",{style:{display:o,flex:1}},r.createElement(r.Fragment,null,t(e)))))}const lP=4.4;function oP({title:e,show:t,role:a}){const n=(0,l.useFacetMap)((e=>e?"flex":"none"),[],[t]);return r.createElement("fast-div",{style:{display:n,flex:1,justifyContent:"flex-end",flexDirection:"column"}},r.createElement(aP,{label:e,role:a}))}const cP={dropdownItem:"a8254c4c0a0c833915f1",show:"c4792d957a7aea841416",hide:"efe88a055b018a0b77f1",image:"bed653ba9f9a385f1b14",imageDisabled:"b98b2da675aadb17d0ae"};function iP({item:e,onClick:t,isSelectable:a=!0,isSelected:n,soundEffectPressed:o,soundEffectHovered:c,role:i="inherit",onFocusChanged:s,disabled:u,itemTypeNarration:d,testId:m}){const{t:p}=ws("DropdownItem"),f=(0,l.useFacetWrap)(e),g=(0,l.useFacetWrap)(n),E=(0,l.useFacetWrap)(a),b=(0,l.useFacetWrap)(u),h=(0,l.useFacetMap)((e=>e.gamepadAlias),[],[f]),v=(0,l.useFacetMap)((e=>e.label),[],[f]),F=(0,l.useFacetMap)((e=>e.imageSource),[],[f]),y=(0,l.useFacetMap)((e=>e.Icon),[],[f]),S=(0,l.useFacetWrap)(null!=d?d:""),{background:C,text:M,border:w}=Yr(i),k=el(),P=Zr(),T=(0,l.useFacetMap)(((e,t,a,n,r)=>{var l;const o=[null!=e.narrationText?e.narrationText:e.label,""!==r&&null!=r?r:p(".elementType"),e.enumeration];return t&&o.push(p(a?".selected":".unselected")),o.push(null!==(l=e.description)&&void 0!==l?l:"",n?p(".disabled"):""),o.filter(Boolean).join(" . ")}),[p],[f,E,g,b,S]),I=(0,l.useFacetMap)(((e,t)=>dl()(cP.dropdownItem,C.interactive,w.interactive,P.dimmest,{[k.selected]:e,[k.disabled]:t})),[C.interactive,w.interactive,k.selected,P.dimmest,k.disabled],[g,b]),x=(0,l.useFacetMap)((e=>e?cP.show:cP.hide),[],[g]),O=(0,l.useFacetMap)((e=>dl()(cP.image,{[cP.imageDisabled]:e})),[],[b]),A=(0,l.useFacetCallback)((e=>e?()=>null:t),[t],[b]);return r.createElement(Wi,{className:I,classNameFocused:dl()(cP.dropdownFocusedItem,Ws),classNameHovered:cP.dropdownItemHover,gamepadAlias:h,narrationText:T,inputLegend:p(".select"),onClick:A,soundEffectPressed:o,soundEffectHovered:c,onFocusChanged:s,"data-testid":m},r.createElement(Bs,{role:i,inset:!0}),r.createElement(Jd,{imageSource:F,icon:y,className:O}),r.createElement(ji,{className:M.interactive},v),r.createElement(l.Mount,{when:E},r.createElement("fast-div",{className:x},r.createElement(wd,null))))}const sP=({item:e,onChange:t,currentValue:a,isSelectable:n=!0,soundEffectPressed:o,soundEffectHovered:c,onFocusChanged:i,disabled:s,itemTypeNarration:u,testId:d})=>{const m=(0,l.useFacetCallback)((e=>()=>{t(e.value)}),[t],[e]),p=(0,l.useFacetWrap)(s),f=(0,l.useFacetWrap)(a),g=(0,l.useFacetWrap)(n);return r.createElement(iP,{item:e,isSelected:(0,l.useFacetMap)(((e,t)=>e.isSelected||e.value===t),[],[e,f]),isSelectable:g,onClick:m,soundEffectPressed:o,soundEffectHovered:c,onFocusChanged:i,disabled:p,itemTypeNarration:u,testId:d})};function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uP.apply(null,arguments)}function dP(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mP(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dP(Object(a),!0).forEach((function(t){pP(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dP(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pP(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fP({title:e,isOpen:t,items:a,onClose:n,onItemSelect:o,itemTypeNarration:c,closeButtonNarrationSuffix:i,focusOnSelectedItem:s=!1,role:u="neutral60"}){const{t:d}=ws("ModalMenu"),m=(0,l.useFacetWrap)(a),p=(0,l.useFacetMemo)((e=>e.map(((t,a)=>{var n;return mP(mP({},t),{},{enumeration:null!==(n=t.enumeration)&&void 0!==n?n:d(".enumeration",[`${a+1}`,`${e.length}`]),gamepadAlias:null!=t.gamepadAlias?`${t.gamepadAlias}-${a}`:`modal-menu-${a}`})}))),[d],[m]),f=(0,l.useFacetMemo)((e=>{var t,a;if(s)return null!==(t=null===(a=e.find((e=>e.isSelected)))||void 0===a?void 0:a.gamepadAlias)&&void 0!==t?t:""}),[s],[p]);return r.createElement(gP,{title:e,isOpen:t,onClose:n,defaultFocusedId:f,closeButtonNarrationSuffix:i},r.createElement(bP,{role:u,optionsWithFullDetails:p,onItemSelect:o,itemTypeNarration:c}))}function gP({title:e,isOpen:t,onClose:a,closeButtonNarrationSuffix:n,children:o,defaultFocusedId:c,modalContentRole:i="neutral100",scrollbarBackgroundRole:s="neutral80",scrollbarFloating:u=!0}){const d=(0,l.useFacetWrap)(t),{t:m}=ws("ModalMenu"),p=(0,r.useRef)(null),[f,g]=function(e){const[t,a]=(0,l.useFacetState)(""),n=yc(4.8);return[t,(0,l.useFacetCallback)((t=>()=>{var n;const r=null==e?void 0:e.current,l=null==e||null===(n=e.current)||void 0===n?void 0:n.parentElement;if(!r||!l)return;const o=r.getBoundingClientRect().height,c=l.getBoundingClientRect().height;if(c<o){const e=Math.floor(c/t)*t-t/2;a(`${e}px`)}}),[e,a],[n])]}(p);return Bc(p,g),r.createElement(l.Mount,{when:d},r.createElement($m,{defaultFocusAlias:c,onOverlayClick:a,modalTypeNarrationHint:m(".modalTypeHint")},r.createElement($m.Header,{onClose:a,closeButtonNarrationSuffix:n},e),r.createElement($m.Content,{role:i,scrollbarBackgroundRole:s,scrollbarClassName:u?"c9c162f0e5e98d34e66c":"f761b9f62f7c31c7c4b9",className:"a4d7248a4a2eb0ca4e58",scrollbarFloating:u},r.createElement("fast-div",{ref:p,className:"c19a9d173e0abf872432",style:{maxHeight:f}},o))))}const EP=e=>{let{item:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["item"]);const n=Qr("neutral"),o=(0,l.useFacetWrap)(t),c=(0,l.useFacetMap)((({disabled:e})=>!!e),[],[o]);return r.createElement(Uu,null,r.createElement(sP,uP({},a,{item:o,currentValue:-1,isSelectable:(0,l.useFacetMap)((e=>!0===e.isSelectable),[],[o]),soundEffectPressed:n.press,soundEffectHovered:n.hover,disabled:c,testId:(0,l.useFacetMap)((e=>e.testId),[],[o])})))},bP=({role:e,optionsWithFullDetails:t,onItemSelect:a,itemTypeNarration:n})=>{const{t:o}=ws("ModalMenu"),c=Yr(e),i=Zr();return r.createElement(Sr,{role:e},r.createElement(l.Map,{array:t},((e,t)=>r.createElement(EP,{key:t,item:e,onChange:a,itemTypeNarration:null!=n?n:o(".elementType")}))),r.createElement("div",{className:dl()("b7660d4a585c8cec67df",c.border.interactive,i.dimmest)}))};let hP;fP.Grouped=function({title:e,isOpen:t,groupedItems:a,onClose:n,onItemSelect:o,itemTypeNarration:c,closeButtonNarrationSuffix:i,focusOnSelectedItem:s,role:u="neutral"}){const d=Yr(u),{t:m}=ws("ModalMenu"),p=(0,l.useFacetWrap)(a),f=(0,l.useFacetMemo)((e=>{const t=e.flat().length;return e.filter((e=>e.length>0)).map((e=>e.map(((e,a)=>{var n;return mP(mP({},e),{},{enumeration:null!==(n=e.enumeration)&&void 0!==n?n:m(".enumeration",[`${a+1}`,`${t}`]),gamepadAlias:null!=e.gamepadAlias?`${e.gamepadAlias}-${a}`:`modal-menu-${a}`})}))))}),[m],[p]),g=(0,l.useFacetMap)((e=>{var t,a;if(s)return null!==(t=null===(a=e.flat().find((e=>e.isSelected)))||void 0===a?void 0:a.gamepadAlias)&&void 0!==t?t:""}),[s],[f]);return r.createElement(gP,{onClose:n,title:e,isOpen:t,defaultFocusedId:g,closeButtonNarrationSuffix:i,modalContentRole:"neutral80",scrollbarBackgroundRole:"neutral60",scrollbarFloating:!1},r.createElement("div",{className:"ba998c1545d9a72f8cd3"},r.createElement(l.Map,{array:f},(e=>r.createElement(r.Fragment,null,r.createElement("fast-div",{"data-testid":"modal-menu-group",className:dl()("f0b0e899695627e13ad0",d.border.base)},r.createElement(bP,{role:"neutral60",optionsWithFullDetails:e,onItemSelect:o,itemTypeNarration:c})),r.createElement(Vi,{size:1}))))))},function(e){e[e.DEFAULT=0]="DEFAULT",e[e.NEW_TO_OLD=1]="NEW_TO_OLD",e[e.IN_PROGRESS=2]="IN_PROGRESS",e[e.NOT_STARTED=3]="NOT_STARTED",e[e.COMPLETED=4]="COMPLETED"}(hP||(hP={}));const vP=As((({isOpen:e,onClose:t,onItemSelected:a})=>{const{t:n}=ws("AchievementsFilterAndSort");return r.createElement(fP,{title:n(".title"),items:[{enumeration:n(".optionsEnumeration",["1","5"]),label:n(".defaultSorting"),value:hP.DEFAULT,testId:"default-sorting-option"},{enumeration:n(".optionsEnumeration",["2","5"]),label:n(".newToOld"),value:hP.NEW_TO_OLD,testId:"new-to-old-option"},{enumeration:n(".optionsEnumeration",["3","5"]),label:n(".inProgress"),value:hP.IN_PROGRESS,testId:"in-progress-option"},{enumeration:n(".optionsEnumeration",["4","5"]),label:n(".notStarted"),value:hP.NOT_STARTED,testId:"not-started-option"},{enumeration:n(".optionsEnumeration",["5","5"]),label:n(".completed"),value:hP.COMPLETED,testId:"completed-option"}],isOpen:e,onClose:t,onItemSelect:a})}));function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},FP.apply(null,arguments)}function yP(e){let{children:t,className:a,variant:n="neutral",isElevated:l=!1}=e,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","className","variant","isElevated"]);return r.createElement(qd,FP({"data-testid":o["data-testid"],variant:n},o,{containerClassName:dl()("a15353101928c6407bad",a),className:"d8a639ca4dc50fc74a30",reflection:l?void 0:"bevel",isElevated:l}),r.createElement(Sr,{role:n},t))}function SP({className:e,children:t}){return r.createElement(Sr,{role:"neutral80"},r.createElement("div",{className:dl()(e,"ab8b27dfe6d5ee9dd041")},t))}const CP="achievements-filter-button";function MP({onFilterClick:e,onFilterBarClose:t,selectedFilterOption:a}){const{t:n}=ah("AchievementsFilterAndSort"),o=(0,l.useFacetMap)((e=>""!==e),[],[a]),c=Yr("neutral60"),i=Yr("neutral80"),s=(0,r.useRef)(null);return r.createElement(uu,{alias:CP,containerRef:s},r.createElement("div",{className:"f7aa20647fd3bfef7dcf",ref:s},r.createElement(yP,{inputLegend:n(".button"),narrationText:n(".button"),onClick:e,height:4.4,variant:"neutral60",reflection:"bevel","data-testid":"achievements-filter-button"},r.createElement(LM.Filter,{width:24,height:24,className:"e0e155b888f65388add0"})),r.createElement(l.Mount,{when:o},r.createElement(SP,null,r.createElement(Zi,{type:"body",className:"bb5cde9100e671aa1230"},a),r.createElement(Wi,{narrationText:n(".discard"),inputLegend:n(".discard"),className:"e9d583bf287bb64f9a01",classNameHovered:c.background.hover,classNameFocused:dl()(Ws,"b7b5985505b0d683df56"),classNamePressed:i.background.press,onClick:t},r.createElement(LM.Cross,{width:24,height:24}))))))}const wP=a.p+"assets/0-Achievement-Book-4892ed211f615067ecbb.png",kP=a.p+"assets/25-Achievement-Book-9e9a73c2f06e79e3cb4a.png",PP=a.p+"assets/50-Achievement-Book-cb611bcbeef8c3b7ffab.png",TP=a.p+"assets/75-Achievement-Book-5bb7425bb0e4886e48df.png",IP=a.p+"assets/100-Achievement-Book-c11e504be53351dc36df.png",xP=a.p+"assets/100-Achievement-sprite-0ed432354f3c9ebc352e.png";function OP({children:e,role:t="neutral80"}){const a=Yr(t);return r.createElement(Sr,{role:t},r.createElement("div",{className:dl()("d62d8daf46f474c51c04",a.background.base,a.border.base)},e))}OP.Data=function({value:e,label:t,icon:a}){const n=Yr("inherit");return r.createElement("div",{className:dl()("d61f5e94a58d77271db9",n.background.base)},r.createElement(Vi,{size:2}),a,r.createElement(Vi,{size:1}),r.createElement("div",{className:"ae6902d9e9e819526533"},r.createElement(Zi,{type:"captionShort",variant:"dimmest"},t),r.createElement(Zi,{type:"captionShort"},e)))},OP.Divider=function(){const e=Yr("inherit");return r.createElement("div",{className:dl()("ee89fc2f3b0539a9dcc2",e.shadow.base)})};const AP=({status:e,handleAnimationEnded:t})=>{const a=(0,r.useRef)(null),n=(0,l.useFacetMap)((([e])=>"exited"===e||"exiting"===e||"unmounted"===e),[],[e]);return(0,l.useFacetEffect)((e=>{const n=a.current,r=()=>{e&&t()};return null==n||n.addEventListener("transitionend",r),()=>{null==n||n.removeEventListener("transitionend",r)}}),[t],[n]),r.createElement("fast-div",{ref:a,className:(0,l.useFacetMap)((e=>dl()("ab0fff4b61eabb7130f5",{a391b03775646d6c7efc:e})),[],[n])},r.createElement(id,null))};OP.displayName="Summary",OP.SummarySpinner=({hidden:e})=>r.createElement(Ac,{visible:!e},((e,t)=>r.createElement(AP,{status:e,handleAnimationEnded:t})));function NP(e){let{startFrame:t=0}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["startFrame"]);const n=(0,l.useFacetWrap)(a.className),o=(0,l.useFacetMap)(((e="")=>`f1cf63a33a644e24eafe ${e}`),[],[n]),c=(0,l.useFacetWrap)(a.disabled),i=(0,l.useFacetWrap)(a.paused),s=(0,l.useFacetMap)((e=>e?"none":"flex"),[],[c]),u=(0,l.useFacetMap)((e=>e?"paused":"running"),[],[i]),d=(0,l.useFacetWrap)(t),m=a.duration||500,p=(0,l.useFacetMap)((e=>{var t,n;return m/a.frames*(t=e,0,n=a.frames,Math.min(Math.max(t,0),n))*-1+"ms"}),[m,a.frames],[d]);return r.createElement("fast-div",{className:o,style:{display:s,backgroundImage:`url(${a.src})`,animationPlayState:u,animationName:"caa327c01ef79259bfeb",animationDirection:a.animationDirection||"normal",animationTimingFunction:`steps(${a.frames})`,animationIterationCount:"number"==typeof a.repeat?a.repeat.toString():"infinite",animationDuration:`${m}ms`,animationDelay:p,imageRendering:a.imageRendering,width:`calc(${10*a.width/(a.frames+1)} * var(--base1Scale))`,height:`calc(${10*a.height} * var(--base1Scale))`,backgroundSize:`calc(${10*a.width} * var(--base1Scale)) calc(${10*a.height} * var(--base1Scale))`}})}function RP(e){const t=100*e;return 0===e?wP:t<50&&t>0?kP:t>=50&&t<=75?PP:t>75&&t<100?TP:100===t?IP:wP}function LP({inProgress:e,achievementsUnlocked:t,achievementsTotal:a,rewardsUnlocked:n,rewardsTotal:o,gamerScore:c,gamerScoreTotal:i,hoursPlayed:s}){const{t:u}=ws("AchievementsSummary"),d=null!=o&&o>0,m=null!=n&&n>0,p=`${c}/${i}`,f=0===a?0:t/a,g=function(e){const t=100*e;return t>98?Math.floor(t):Math.ceil(t)}(f),E=Ln(),b=[u(".narratorTextBlock"),u(".narratorSummary"),u(".narratorIndex",["1","4"]),u(".narratorPercentage",[`${g}`]),u(".narratorCompletedAchievements",[`${t}`,`${a}`]),u(".narratorInProgress",[`${e}`]),m&&d?u(".narratorCompletedRewards",[`${n}`,`${o}`]):"",u(".narratorGamerscore",[`${c}`,`${i}`]),u(".narratorTimePlayed",[`${s}`])],h=(0,l.useFacetMap)((e=>!e),[],[Oo()]),v=(0,l.useFacetMap)((e=>!e&&100===g),[g],[h]);return r.createElement(ud,null,r.createElement(Wi,{inputLegend:!1,className:"",classNameHovered:"",classNameFocused:Ws,classNamePressed:"",disabled:!E,narrationText:b.join(" . ")},r.createElement(Bs,{withoutBorders:!0,disabled:!E}),r.createElement(OP,null,r.createElement("div",{className:"cebb8498fda7dd439833"},r.createElement(Ks,{effect:"specular"}),r.createElement("div",{className:"ccc35604645721cff7f5"},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>!e&&100===g),[g],[h])},r.createElement(NP,{src:xP,width:196.8,height:4.8,frames:40,className:"b13b2628608f12a81133",repeat:"infinite",imageRendering:"pixelated",duration:2600,disabled:h})),r.createElement(l.Mount,{when:v,condition:!1},r.createElement(pu,{imageRendering:"pixelated",src:RP(f),className:"b9db963d2bfd80c7fd1b"})),r.createElement(Zi,{type:"header2",shadow:!0},g),r.createElement(Zi,{type:"header3",shadow:!0},r.createElement("div",{className:"a286d9f1cb7f13f684c0"},"%"))),r.createElement("div",{className:"a0a8002f9497a7a40e29"},r.createElement(Zi,{type:"captionShort"},u(".percentage",[`${t}`,`${a}`])))),r.createElement(OP.Divider,null),r.createElement(OP.Data,{icon:r.createElement(LM.Hourglass,{role:"neutral",variant:"dimmest"}),label:u(".progress"),value:e}),r.createElement(OP.Divider,null),d&&r.createElement(r.Fragment,null,r.createElement(OP.Data,{icon:r.createElement(LM.Hanger,{role:"neutral",variant:"dimmest"}),label:u(".rewards"),value:`${null!=n?n:0}/${o}`}),r.createElement(OP.Divider,null)),r.createElement(OP.Data,{icon:r.createElement(LM.Gamerscore,{role:"neutral",variant:"dimmest"}),label:u(".gamerscore"),value:p}),r.createElement(OP.Divider,null),r.createElement(OP.Data,{icon:r.createElement(LM.Time,{role:"neutral",variant:"dimmest"}),label:u(".time"),value:u(".hoursPlayed",[`${s}`])}))))}LP.displayName="AchievementsSummary",LP.Loading=function({loading:e}){return r.createElement(OP,null,r.createElement("div",{className:"eb01d2a14b33cba8fd25"},r.createElement(OP.SummarySpinner,{hidden:!e})))};const DP=(0,r.createContext)(!1),_P=()=>(0,r.useContext)(DP);function BP({onClick:e,shortcut:t,inputLegend:a}){const n=(0,l.useFacetWrap)(a);return r.createElement(Ed,{options:(0,l.useFacetMap)((e=>({button:t,inputLegend:e})),[t],[n]),onClick:e})}function WP({children:e}){return r.createElement("div",{className:"b6ab0947ac338095868b"},e)}const UP="c81672f7615fc07b100b",zP="cdf5bcbd571f1bfd724b",jP="a79f9599b441435276a2",HP="aa8bcbf009621ec21305",GP="d3574c1d6a0ee32c88e2";function VP({children:e,direction:t="column",align:a="end",hide:n}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()(GP,{[UP]:"row"===t,[HP]:"column"===t,[zP]:"start"===a,[jP]:"center"===a,f5248c8e1fec410a74b4:e})),[a,t],[(0,l.useFacetWrap)(n)])},e)}function $P({children:e,direction:t="column",align:a="end",hide:n}){return null!=n?r.createElement(VP,{children:e,direction:t,align:a,hide:n}):r.createElement("div",{className:dl()(GP,{[UP]:"row"===t,[HP]:"column"===t,[zP]:"start"===a,[jP]:"center"===a})},e)}const XP=a.p+"assets/pingGreen-7f77ca04def817211b2a.png";function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},KP.apply(null,arguments)}const YP=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("eef2182998b3a90cc0af",t);return r.createElement(pu,KP({},a,{className:n,src:XP,imageRendering:"pixelated"}))},qP=a.p+"assets/pingRed-9496c1bbb587d63e1dbe.png";function QP(){return QP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},QP.apply(null,arguments)}const JP=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("a65949826fbd203c4209",t);return r.createElement(pu,QP({},a,{className:n,src:qP,imageRendering:"pixelated"}))},ZP=a.p+"assets/pingYellow-62e787f8117760a86807.png";function eT(){return eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},eT.apply(null,arguments)}const tT=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("d07bca7d6e7fe148317a",t);return r.createElement(pu,eT({},a,{className:n,src:ZP,imageRendering:"pixelated"}))};function aT({iconType:e,typographyType:t,role:a="inherit",text:n}){const l=(e=>{switch(e){case"green":return r.createElement(YP,null);case"red":return r.createElement(JP,null);case"yellow":return r.createElement(tT,null)}})(e);return r.createElement("div",{className:"a6550474bccab196b436"},r.createElement(Zi,{type:t,role:a,variant:"dimmer"},n),l)}const nT={listItem:"d88f68ad0091a0ae663f",tall:"b0ff9de7e1b98d277b7d",small:"e450344c9e166edb1b48"};function rT({tall:e=!1,small:t=!1,children:a,isFocusable:n=!1,narrationText:o,gamepadAlias:c,focusGridIndex:i,innerRef:s,role:u="neutral80",disableDeferredMount:d=!1,testId:m}){const p=Yr(u),f=(0,l.useFacetWrap)(null!=o&&o);return r.createElement(DP.Provider,{value:e},r.createElement(Sr,{role:u},r.createElement(Wi.Maybe,{"data-testid":m,isInteractive:n,gamepadAlias:c,className:dl()(nT.listItem,p.border.base,p.text.base,p.background.base,{[nT.tall]:e,[nT.small]:t,[nT.inert]:n}),innerRef:s,classNameFocused:Ws,focusGridIndex:i,inputLegend:!1,narrationText:f},d?r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,n&&r.createElement(Bs,null),a)):r.createElement(Uu,null,r.createElement(r.Fragment,null,n&&r.createElement(Bs,null),a)))))}rT.Action=function({children:e,onClick:t,inputLegend:a,narrationText:n,gamepadAlias:o,soundEffectPressed:c,onFocusChanged:i,onHoverChanged:s,role:u="neutral",disabled:d,className:m,testId:p}){const f=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(d)]),g=(0,l.useFacetWrap)(c),E=(0,l.useFacetWrap)(a),b=Qr(u),h=Yr(u),v=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[E,f]),F=(0,l.useFacetMap)((e=>{var t;return dl()("c99e146579fc302b9d5f",{[null!==(t=h.background.interactive)&&void 0!==t?t:""]:!e},h.text.base,{fd401dc0b2c25de74f01:e},m)}),[h,m],[f]),y=(0,l.useFacetMap)(((e,t)=>t?void 0:null!=e?e:b.press),[b],[g,f]),S=(0,l.useFacetCallback)((e=>()=>{e||t()}),[t],[f]);return r.createElement(Sr,{role:u},r.createElement(Wi,{"data-testid":p,gamepadAlias:o,className:F,classNameFocused:Ws,inputLegend:v,narrationText:n,onClick:S,onFocusChanged:i,onHoverChanged:s,soundEffectPressed:y},r.createElement(Bs,null),r.createElement(Ks,{effect:"bevel",hide:f}),e))},rT.AdditionalAction=function({children:e,onClick:t,onGamepadClick:a,onMouseDown:n,onUp:o,onDown:c,onLeft:i,onRight:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,innerRef:b,touchDetectionDelay:h,soundEffectPressed:v,role:F="neutral",isSelected:y=!1,testId:S}){const C=(0,l.useFacetWrap)(f),M=_P(),w=Yr(F),k=Qr(F),P=el();return r.createElement(l.Mount,{when:C,condition:!1},r.createElement(Sr,{role:F},null!=u&&r.createElement(BP,{onClick:t,shortcut:u,inputLegend:d}),r.createElement(Wi,{className:dl()("f1a4fb2355bb61bb46f7",w.background.interactive,{ccd42846aed7d4469755:g,ea1c7e8d436e42136023:M,db83be36c2a65b124836:E,[P.selected]:y}),touchDetectionDelay:h,soundEffectPressed:null!=v?v:k.press,classNameFocused:Ws,gamepadAlias:p,inputLegend:d,onClick:t,onGamepadOrKeyboardSelect:a,onMouseDown:n,onUp:o,onDown:c,onLeft:i,onRight:s,narrationText:m,innerRef:b,"data-testid":S},r.createElement(Bs,null),r.createElement(Ks,{effect:"bevel"}),e)))},rT.Main=WP,rT.Cell=$P,rT.Icon=aT;const lT="d4e9a3086dfd3489da9b",oT=a.p+"assets/locked-b7e1ef2f9297249a5ff4.png",cT=a.p+"assets/gamerscore_icon-53b10130cb6f6c0271cb.png",iT=a.p+"assets/greyframe-dd39bddf435b8210e89b.png",sT=a.p+"assets/unlockedFrame-f9ecc81ba50869b54137.png",uT=a.p+"assets/placeholder-30ebca9254ef8b61db9f.png",dT=a.p+"assets/placeholderReward-5e6517f937a2abcc5ff0.png";function mT({item:e,gamepadAlias:t,onClick:a,index:n,listLength:l,disabled:o}){return r.createElement(rT,null,r.createElement(pT,{item:e,gamepadAlias:t,onClick:a,index:n,listLength:l,disabled:o}))}const pT=({item:e,gamepadAlias:t,onClick:a,index:n,listLength:o,disabled:c})=>{const{t:i}=ws("AchievementListItem"),s=Rd(kE);return r.createElement(rT.Action,{narrationText:(0,l.useFacetMap)(((e,t,a)=>[e.name,i(".siblingNarration",[`${t+1}`,`${a}`]),0!==e.progress&&e.progress>0&&e.progress<1?i(".percentageNarration",[`${Math.round(100*e.progress)}`]):"",i(".gamerscoreNarration",[`${e.gamerScore}`]),s&&e.hasReward?e.isLocked?i(".rewardLockedNarration"):i(".rewardUnlockedNarration"):"",e.description].join(" . ")),[i,s],[e,(0,l.useFacetWrap)(n),o]),inputLegend:i(".view"),onClick:a,gamepadAlias:t,disabled:c},r.createElement(rT.Cell,{direction:"row"},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()(lT,{a854efc44809196b5fd2:e.isLocked})),[],[e])},r.createElement(pu,{className:"c46c21508a73bef679b0",imageRendering:"pixelated",src:(0,l.useFacetMap)((e=>e.isLocked?iT:sT),[],[e])}),r.createElement(pu,{className:lT,imageRendering:"pixelated",src:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.image)&&void 0!==t?t:uT}),[],[e])}))),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,(0,l.useFacetMap)((e=>e.name),[],[e]))),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,(0,l.useFacetMap)((e=>e.description),[],[e]))),r.createElement(fT,{when:(0,l.useFacetMap)((e=>!!e.progress&&1!==e.progress),[],[e])},r.createElement(Vi,{size:1}),r.createElement(bm,{percentage:(0,l.useFacetMap)((e=>e.progress),[],[e])}))),r.createElement(rT.Cell,{direction:"row",hide:(0,l.useFacetMap)((e=>!e.gamerScore),[],[e])},r.createElement("div",{className:"a6360abebea6b1d70e1c"},r.createElement(pu,{className:"e50b483aad446a1a2528",src:cT,imageRendering:"pixelated"}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((e=>e.gamerScore),[],[e]))),r.createElement(Vi,{size:2})),r.createElement(rT.Cell,{direction:"row",hide:(0,l.useFacetMap)((e=>!(s&&!0===e.hasReward)),[s],[e])},r.createElement("div",{className:"af9aeb05fee4947488d5"},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>e.isLocked?"b019c1fe47e540298bb3":"c6203f20545dea5b6aa3"),[],[e])},r.createElement(fT,{when:(0,l.useFacetMap)((e=>e.isLocked),[],[e]),className:"ca2d4f527f464c096518"},r.createElement(pu,{className:"e9d13c99c30b46d2f207",imageRendering:"pixelated",src:oT}),r.createElement("div",{className:"e594bece403bfc503034"})),r.createElement(pu,{className:"ed9bf7a83394165d7ea8",src:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.rewardImage)&&void 0!==t?t:dT}),[],[e])})))))};function fT({when:e,children:t,className:a}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()(a,e?null:"b63adc277bc2230c1752")),[a],[e])},t)}const gT="e9863a02d8e4ca538d95",ET="ed69cc34898e78d631cc",bT="b4333c06281daf6db334",hT="b4ae174478d97082e77c",vT="locked-tab-wrapper",FT="completed-tab-wrapper",yT=()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useRef)(null),[n,o]=(0,l.useFacetState)(""),[c,i]=(0,r.useState)(null),s=Rd(Ub),{t:u}=ws("Achievements"),{t:d}=ws("AchievementsFilterAndSort"),m=p(),f=vP.useModal(),g=Rw((0,l.useSharedFacet)(XE),1e4),E=Rw((0,l.useSharedFacet)(XE),1500),b=(0,l.useFacetMap)(((e,t,a,n)=>e?"not-available":t&&!n?"loading-failed":a&&!n?"loading-slow":"achievements"),[],[(0,l.useSharedFacet)(sb),g,E,(0,l.useSharedFacet)(XE)]),h=Nw({wide:8,narrow:6,width:260}),v=(0,l.useFacetMap)((e=>e?"d365bfd90a496a830901":"d4c8cea93f9999fdc59e"),[],[h]),F=(0,l.useFacetMap)((e=>e?"c037cd7ac33b8e66104b":"cdc5ecc30dde748f0cc3"),[],[h]),y=(0,r.useCallback)((e=>{switch(i(e),e){case hP.DEFAULT:o("");break;case hP.NEW_TO_OLD:o(d(".newToOld"));break;case hP.IN_PROGRESS:o(d(".inProgress"));break;case hP.NOT_STARTED:o(d(".notStarted"));break;case hP.COMPLETED:o(d(".completed"))}f.hide()}),[d,f,o]);return r.createElement(ay,{innerRef:e},r.createElement(bd,{text:u(".narration.title")},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>"loading-slow"===e),[],[b])},r.createElement(ty,{text:u(".narration.loadingMessage")})),r.createElement(vP.Component,{isOpen:f.isVisible,onClose:f.hide,onItemSelected:y}),r.createElement(BM,{onBackButton:m.goBack,center:r.createElement(Zi,{type:"header5A"},u(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-layout-content",delegateByAlias:"achievments-wrapper"},r.createElement(zM,null,r.createElement(uu,{containerRef:t,alias:"achievments-wrapper",delegateFocusFromMemory:!0,delegateFocusByAlias:"achievements-content-wrapper"},r.createElement(zM.Row,{innerRef:t,fullHeight:!0},r.createElement(l.Unwrap,{data:b},(e=>{switch(e){case"not-available":return r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:2,narrowSize:1}),r.createElement(zM.Column,{wideSize:8,narrowSize:6},r.createElement(Vi,{size:6}),r.createElement(aw,{imgClass:v,gamepadAlias:"ach-not-available-empty-state",imgSrc:Ck,title:u(".notAvailableMessageTitle"),text:u(".notAvailableMessage")}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0})));case"loading-failed":return r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:2,narrowSize:1}),r.createElement(zM.Column,{wideSize:8,narrowSize:6},r.createElement(Vi,{size:6}),r.createElement(aw,{imgClass:F,gamepadAlias:"ach-load-error-empty-state",imgSrc:Sk,title:u(".errorMessageTitle"),text:u(".errorMessage")}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0})));default:return r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:3,narrowSize:3},r.createElement(Vi,{size:2}),r.createElement(AT,null)),r.createElement(zM.Column,{wideSize:9,narrowSize:5},r.createElement(Vi,{size:2}),s?null:r.createElement(ST,null),r.createElement(uu,{alias:"achievements-content-wrapper",containerRef:a,delegateFocusByAlias:CP},s?r.createElement("div",{style:{flex:"1"},ref:a},r.createElement(PT,{selectedFilter:c,header:r.createElement(MP,{onFilterClick:f.show,onFilterBarClose:()=>{i(hP.DEFAULT),o("")},selectedFilterOption:n})})):r.createElement("div",{style:{flex:"1"},ref:a},r.createElement(tk,{tab:void 0},r.createElement(PT,null)),r.createElement(tk,{tab:"locked"},r.createElement(TT,null)),r.createElement(tk,{tab:"completed"},r.createElement(IT,null))))))}}))))))))},ST=()=>{const{t:e}=ws("Achievements"),t=p(),a=g(),n=(0,l.useFacetMap)((e=>e.tab?e.tab:"all"),[],[a]),o=[{label:e(".all"),value:"all"},{label:e(".locked"),value:"locked"},{label:e(".completed"),value:"completed"}];return r.createElement(_k,{gamepadAliasNamespace:"achievement-screen",value:n,onChange:e=>{t.replace(`/achievements/${"all"!==e?e:""}`)},tabs:o,enableGamepadShortcuts:!0,narrationTitle:e(".narration.title")})},CT=(0,r.createContext)(null),MT=()=>(0,r.useContext)(CT);function wT(e,t){return e.map((e=>({role:e.headerLook,title:t(`.category.${e.categoryId}`),data:e.achievements})))}const kT=({selectedFilter:e})=>{const{t}=ws("Achievements"),a=(0,l.useFacetUnwrap)(Mc()),n=a!==l.NO_VALUE&&a;switch(e){case hP.IN_PROGRESS:return r.createElement(aw,{imgClass:n?gT:ET,gamepadAlias:"ach-in-progress-empty-state",imgSrc:Fk,title:t(".inProgressEmptyTitle"),text:t(".inProgressEmptyText")});case hP.COMPLETED:return r.createElement(aw,{imgClass:n?bT:hT,gamepadAlias:"ach-completed-empty-state",imgSrc:yk,title:t(".completedEmptyTitle"),text:t(".completedEmptyText")});case hP.NOT_STARTED:return r.createElement(aw,{imgClass:n?gT:ET,gamepadAlias:"ach-not-started-empty-state",imgSrc:vk,title:t(".notStartedEmptyTitle"),text:t(".notStartedEmptyText")});default:return null}},PT=({selectedFilter:e,header:t})=>{const{t:a}=ws("Achievements"),n=a(".narration.tab",[a(".all"),"2","4"])+" . "+a(".narration.selected"),o=Rd(Ub),c=(0,l.useFacetMap)((e=>[{role:"informativeTint",title:a(".inProgress"),data:e.inProgress},{role:"secondary",title:a(".locked"),data:e.locked},{role:"successTint",title:a(".completed"),data:e.completed}]),[a],[(0,l.useSharedFacet)(GE)]),i=(0,l.useFacetMemo)(((t,n,r,l,o)=>function(e,t,a,n,r,l,o){const c={role:"informativeTint",title:t(".inProgress"),data:a};switch(e){case hP.IN_PROGRESS:return[c];case hP.COMPLETED:return wT(l,t);case hP.NOT_STARTED:return wT(r,t);case hP.NEW_TO_OLD:return[c,...wT(o,t)];default:return[c,...wT(n,t)]}}(null!=e?e:null,a,t,n,r,l,o)),[a,e],[(0,l.useFacetMap)((e=>e.data.achievements.filter(_E)),[],[(0,l.useSharedFacet)(IE)]),WE(),zE(),HE(),jE()]),s=o?r.createElement(r.Fragment,null,t,r.createElement(Vi,{size:1}),r.createElement(kT,{selectedFilter:null!=e?e:null})):void 0;return r.createElement(xT,{narration:n,alias:"all-tab-wrapper",contentAlias:"all-tab-content",data:o?i:c,header:t,emptyMessage:s})},TT=()=>{const{t:e}=ws("Achievements"),t=e(".narration.tab",[e(".locked"),"3","4"])+" . "+e(".narration.selected"),a=Mc(),n=Rd(Ub),o=(0,l.useSharedFacet)(VE),c=(0,l.useFacetMap)((t=>t.map((t=>({role:t.headerLook,title:e(`.category.${t.categoryId}`),data:t.achievements})))),[e],[UE()]),i=r.createElement(aw,{imgClass:(0,l.useFacetMap)((e=>e?gT:ET),[],[a]),gamepadAlias:"ach-locked-empty-state",imgSrc:(0,l.useFacetMap)((e=>0===e.length?vk:void 0),[],[n?c:o]),title:e(".lockedEmptyTitle"),text:e(".lockedEmptyText")});return n?r.createElement(xT,{narration:t,alias:vT,contentAlias:"locked-tab-content",emptyMessage:i,data:c}):r.createElement(OT,{narration:t,alias:vT,contentAlias:"locked-tab-content",emptyMessage:i,data:o})},IT=()=>{const{t:e}=ws("Achievements"),t=e(".narration.tab",[e(".completed"),"4","4"])+" . "+e(".narration.selected"),a=Mc(),n=Rd(Ub),o=(0,l.useSharedFacet)($E),c=(0,l.useFacetMap)((t=>t.map((t=>({role:t.headerLook,title:e(`.category.${t.categoryId}`),data:t.achievements})))),[e],[HE()]),i=r.createElement(aw,{imgClass:(0,l.useFacetMap)((e=>e?bT:hT),[],[a]),gamepadAlias:"ach-completed-empty-state",imgSrc:(0,l.useFacetMap)((e=>0===e.length?yk:void 0),[],[n?c:o]),title:e(".completedEmptyTitle"),text:e(".completedEmptyText")});return n?r.createElement(xT,{narration:t,alias:FT,contentAlias:"completed-tab-content",emptyMessage:i,data:c}):r.createElement(OT,{narration:t,alias:FT,contentAlias:"completed-tab-content",emptyMessage:i,data:o})},xT=({narration:e,data:t,alias:a,contentAlias:n,emptyMessage:o,header:c})=>{const i=(0,r.useRef)(null),[s,u]=(0,l.useFacetState)(0),d=(0,r.useCallback)((({height:e})=>u(e)),[u]);Bc(i,d);const m=MT(),p=(0,l.useFacetMap)((e=>{if(null==o)return!1;for(const t of e)if(t.data.length>0)return!1;return!0}),[o],[t]),f=(0,l.useFacetMap)((e=>!e),[],[(0,l.useSharedFacet)(XE)]);return r.createElement(bd,{text:e},r.createElement(uu,{containerRef:i,alias:a,delegateFocusByAlias:n},r.createElement("div",{style:{flex:"1"},ref:i},r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(l.Unwrap,{data:p},(e=>e?null!=o?o:null:r.createElement(r.Fragment,null,r.createElement(nP,{rowSizeInRem:7,gamepadAlias:n,loading:f,containerSizePixels:null!=m?m:s,data:t,footer:r.createElement(r.Fragment,null,r.createElement(Vi,{size:1})),renderItem:e=>r.createElement(NT,{item:e}),renderTracker:e=>r.createElement(ek,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0,delegateFocusFromMemory:!0,header:c}),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})})))))))},OT=({narration:e,data:t,alias:a,contentAlias:n,emptyMessage:o})=>{const c=(0,r.useRef)(null),[i,s]=(0,l.useFacetState)(0),u=(0,r.useCallback)((({height:e})=>s(e)),[s]);Bc(c,u);const d=MT();return r.createElement(bd,{text:e},r.createElement(uu,{containerRef:c,alias:a,delegateFocusByAlias:n},r.createElement("div",{style:{flex:"1"},ref:c},r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(Zk,{rowSizeRem:7,headerSizeRem:.8,header:r.createElement(Vi,{size:2}),containerSizePixels:null!=d?d:i,columnCount:1,loading:(0,l.useFacetMap)((e=>!e),[],[(0,l.useSharedFacet)(XE)]),gamepadAlias:n,emptyMessage:o,data:t,footer:r.createElement(r.Fragment,null,r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}),r.createElement(Vi,{size:1})),renderItem:({item:e,index:t,listLength:a})=>r.createElement(RT,{item:e,index:t,listLength:a}),renderTracker:e=>r.createElement(ek,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},AT=()=>{const e=(0,l.useFacetUnwrap)(function(){const e=(0,l.useSharedFacet)(IE),t=(0,l.useSharedFacet)(wE);return(0,l.useFacetMap)(((e,t)=>{const a=t.data.find((e=>e.name===ME.HoursPlayed)),n=null!=a?Math.floor(a.currentUserValueRaw/60):-1;return{loaded:e.status===TE.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(YE).length,rewardsTotal:tb(e.data.achievements),rewardsUnlocked:eb(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:n}}),[],[e,t])}()),t=Rd(kE);return e===l.NO_VALUE?null:e.loaded?r.createElement(LP,{inProgress:e.inProgressCount,achievementsUnlocked:e.unlocked,achievementsTotal:e.total,rewardsTotal:t?e.rewardsTotal:0,rewardsUnlocked:t?e.rewardsUnlocked:void 0,gamerScore:e.gamerScore,gamerScoreTotal:e.maxGamerScore,hoursPlayed:e.hoursPlayed}):r.createElement(LP.Loading,{loading:!e.loaded})},NT=({item:e})=>{const t=p(),a=(0,l.useFacetMap)((e=>e.isHeader?l.NO_VALUE:e),[],[e]),n=(0,l.useFacetMap)((e=>e.data),[],[a]),o=(0,l.useFacetMap)((e=>`${e.id}`),[],[n]),c=(0,l.useFacetMap)((e=>e.localIndex),[],[a]),i=(0,l.useFacetMap)((e=>e.sectionLength),[],[a]);return r.createElement(mT,{item:n,gamepadAlias:o,onClick:(0,l.useFacetCallback)((e=>()=>{t.push(`/achievement-detail/${e.id}`)}),[t],[n]),index:c,listLength:i})},RT=({item:e,index:t,listLength:a})=>{const n=p(),o=(0,l.useFacetMap)((e=>e.id),[],[e]);return r.createElement(mT,{item:e,onClick:(0,l.useFacetCallback)((e=>()=>{n.push(`/achievement-detail/${e.id}`)}),[n],[e]),index:t,listLength:a,gamepadAlias:o})};let LT,DT,_T;!function(e){e[e.Build=0]="Build",e[e.Mine=1]="Mine",e[e.DoorsAndSwitches=2]="DoorsAndSwitches",e[e.OpenContainers=3]="OpenContainers",e[e.AttackPlayers=4]="AttackPlayers",e[e.AttackMobs=5]="AttackMobs",e[e.OperatorCommands=6]="OperatorCommands",e[e.Teleport=7]="Teleport"}(LT||(LT={})),function(e){e[e.InvalidPlayerId=0]="InvalidPlayerId",e[e.MissingPlayerPermissions=1]="MissingPlayerPermissions",e[e.SelectedPlayerLeftWorld=2]="SelectedPlayerLeftWorld",e[e.SelectedPlayerPermissionsChanged=3]="SelectedPlayerPermissionsChanged",e[e.OperatorCommandsPermissionRevoked=4]="OperatorCommandsPermissionRevoked",e[e.KickCommandFailed=5]="KickCommandFailed",e[e.OK=6]="OK"}(DT||(DT={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Idle=2]="Idle"}(_T||(_T={}));const BT=(0,l.sharedFacet)("vanilla.playerPermissions");let WT,UT,zT;!function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(WT||(WT={})),function(e){e[e.LAN=0]="LAN",e[e.PLATFORM=1]="PLATFORM",e[e.XBOX_LIVE=2]="XBOX_LIVE"}(UT||(UT={})),function(e){e[e.GOOGLE=1]="GOOGLE",e[e.IOS=2]="IOS",e[e.OSX=3]="OSX",e[e.AMAZON=4]="AMAZON",e[e.GEARVR_DEPRECATED=5]="GEARVR_DEPRECATED",e[e.UWP_GDK_PC=7]="UWP_GDK_PC",e[e.WIN32=8]="WIN32",e[e.DEDICATED=9]="DEDICATED",e[e.TVOS_DEPRECATED=10]="TVOS_DEPRECATED",e[e.SONY=11]="SONY",e[e.NX=12]="NX",e[e.XBOX=13]="XBOX",e[e.WINDOWSPHONE_DEPRECATED=14]="WINDOWSPHONE_DEPRECATED",e[e.LINUX=15]="LINUX",e[e.UNKNOWN=-1]="UNKNOWN"}(zT||(zT={}));const jT=(0,l.sharedFacet)("vanilla.worldPlayersList"),HT=(0,l.sharedFacet)("vanilla.levelInfo");let GT,VT;!function(e){e.People="peopleTabLabel",e.Party="partyTabLabel",e.World="worldTabLabel"}(GT||(GT={})),function(e){e.FriendsDrawerRoute="/friends-drawer",e.RouteQuery="socialDrawerTab",e.TestOnlyNoRoute="TEST_ONLY"}(VT||(VT={}));const $T={container:"ff6a1fcac378353757b1",anchorTop:"e4a82a121e78e450bf87",anchorLeft:"a33f47ccd6382becf8d0",anchorRight:"f09f9722328bcf29eae7",anchorBottom:"ca10d5bb35bdbc9f9804",overlay:"a0dc8cbfa12576e4777f",open:"b44f4784d7458000927b",animationDisabled:"ce3de3b187108505cd19",companionContent:"a6c4a14704bcbad77a95",drawerContent:"cecbf049509edc3932a7",closed:"f8222d36a063efa1d6c8"},XT=()=>{};function KT({autoplay:e,eventName:t,delay:a=0,disabled:n=!1,cancellable:o=!1}){const c=(0,l.useFacetWrap)(e),i=(0,l.useFacetWrap)(o),s=(0,l.useFacetWrap)(n),u=(0,l.useFacetWrap)(a),d=(0,l.useFacetWrap)(t),m=xn(),p=(0,r.useRef)(XT),f=(0,r.useRef)(!1);return(0,l.useFacetLayoutEffect)(((e,t,a,n,r)=>{const l=!1===a&&e&&r!==On;if(f.current)return l&&(p.current=m(r,null!=t?t:0)),()=>{n&&(p.current(),p.current=XT)};f.current=!0}),[m],[c,u,s,i,d]),null}var YT;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"}(YT||(YT={}));const qT={[YT.Top]:$T.anchorTop,[YT.Left]:$T.anchorLeft,[YT.Right]:$T.anchorRight,[YT.Bottom]:$T.anchorBottom};function QT({anchor:e=YT.Right,children:t,drawerContent:a,companionContent:n,overlayContent:o,isOpen:c,role:i="inherit",onOverlayClick:s,disableAnimation:u,delegateByAlias:d}){const m=(0,l.useFacetWrap)(null!=c&&c),p=Yr(i),g=(0,l.useFacetWrap)(null!=u&&u),E=go(),b=f(),h=(0,l.useFacetMap)(((e,t)=>!e||!t),[],[m,b]),v=(0,r.useRef)(null),F=Boolean(n);return r.createElement(r.Fragment,null,t,r.createElement(uu,{alias:"drawer-landmark-alias",containerRef:v,disabled:h,shouldBindFocus:!0,delegateFocusFromMemory:!0,delegateFocusByAlias:d},r.createElement("fast-div",{ref:v,className:$T.container},r.createElement("fast-div",{onClick:s,className:(0,l.useFacetMap)(((e,t)=>dl()($T.overlay,p.overlay.base,{[$T.overlayOpen]:e,[$T.overlayAnimationDisabled]:t})),[p],[m,g])})),r.createElement("fast-div",{className:dl()($T.container,qT[e])},r.createElement("fast-div",{onClick:s,className:(0,l.useFacetMap)(((e,t)=>dl()($T.overlay,p.overlay.base,{[$T.open]:e,[$T.animationDisabled]:t})),[p],[m,g])},o),r.createElement("fast-div",{className:(0,l.useFacetMap)(((t,a)=>dl()($T.companionContent,qT[e],{[$T.open]:t&&F,[$T.animationDisabled]:a})),[e,F],[m,g])},n),r.createElement("fast-div",{style:{top:e===YT.Bottom?"":E.top+"px",bottom:e===YT.Top?"":E.bottom+"px",right:e===YT.Left?"":E.right+"px",left:e===YT.Right?"":E.left+"px"},className:(0,l.useFacetMap)(((t,a)=>dl()($T.drawerContent,qT[e],{[$T.open]:t,[$T.closed]:!t,[$T.animationDisabled]:a})),[e],[m,g])},a(m)),r.createElement(KT,{eventName:"ui.drawer_open",autoplay:m}),r.createElement(KT,{eventName:"ui.drawer_close",autoplay:(0,l.useFacetMap)((e=>!e),[],[m])}))))}function JT(){return(0,l.useFacetCallback)((e=>({button:t,screen:a,details:n={}})=>e.fireEventButtonPressed(function({button:e,screen:t}){return`${t}Screen_${e}Button_OreUI`}({button:t,screen:a}),n)),[],[(0,l.useSharedFacet)(Hv)])}function ZT(){return(0,l.useFacetCallback)((e=>({modal:t,screen:a,details:n={}})=>e.fireEventModalShown(function({modal:e,screen:t}){return`${t}Screen_${e}Modal_OreUI`}({modal:t,screen:a}),n)),[],[(0,l.useSharedFacet)(Hv)])}function eI(){const e=(0,r.useRef)(null);return(0,l.useFacetLayoutEffect)((t=>{!t&&e.current&&(e.current.scrollTop=0)}),[],[f()]),e}QT.Anchor=YT;let tI=0;function aI(e,t){const a=[];for(let n=0;n<e.length;n++)t(e[n],n,e)&&a.push(e[n]);return a}function nI({header:e,renderItem:t,renderSectionHeader:a,data:n,focusGridIndex:o,itemSeparator:c,sectionSeparator:i,loading:s=!1,footer:u,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusFromMemory:E=!0,scrollRef:b,delegateFocusByAlias:h,sectionsWrapper:v=rI}){const F=Vu(),y=(0,l.useFacetWrap)(n),S=(0,l.useFacetMemo)((e=>aI(e,(e=>null!=e.emptyStateMessage||e.data.length>0))),[],[y]);return r.createElement(Wu,null,r.createElement(oI,{scrollRef:b,delegateFocusFromMemory:E,loading:s,focusGridIndex:o,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusByAlias:h},null!=e&&r.createElement(r.Fragment,null,e,c),!1===F&&r.createElement(v,null,r.createElement(l.Map,{array:S},((n,l)=>r.createElement(lI,{headerPresent:null!=e,section:n,sectionIndex:l,sections:S,renderSectionHeader:a,renderItem:t,sectionSeparator:i})))),u))}function rI({children:e}){return r.createElement(r.Fragment,null,e)}function lI({headerPresent:e,section:t,sectionIndex:a,sections:n,renderSectionHeader:o,renderItem:c,sectionSeparator:i,itemSeparator:s}){const u=(0,l.useFacetMap)((e=>e.data),[],[t]),d=(0,l.useFacetMap)((e=>e.data.length),[],[t]),m=(0,l.useFacetMap)((e=>e.title),[],[t]),p=(0,l.useFacetMap)((e=>e.role),[],[t]),f=(0,l.useFacetMap)((e=>0==e.data.length||null==e.data),[],[t]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.emptyStateMessage)&&void 0!==t?t:""}),[],[t]),E=o(m,p),{t:b}=ws("SectionList"),h=e?a+1:a,v=(0,l.useFacetMap)((e=>{if(a<e.length){var t,n;const r=e[a];return[b(".groupNarration",[null!==(t=r.narrationTitle)&&void 0!==t?t:r.title,`${a+1}`,`${e.length}`]),null!==(n=r.narrationSuffix)&&void 0!==n?n:""].join(" . ")}return console.warn(`SectionList: sectionIndex is out of bounds ${a} of ${e.length}`),""}),[a,b],[n,t]);return r.createElement(bd,{text:v},a>0&&i,E,s,r.createElement(l.Mount,{when:f},r.createElement(aw,{text:g})),r.createElement(l.Map,{array:u},((e,t)=>r.createElement(r.Fragment,null,t>0&&s,c({itemFacet:e,index:t,sectionIndex:h,listLengthFacet:d})))))}function oI({loading:e,children:t,renderTracker:a,padSpinnerVertically:n,focusGridIndex:o,gamepadAlias:c,spinnerBackgroundColor:i,showSpinnerBorder:s,delegateFocusFromMemory:u=!0,scrollRef:d,delegateFocusByAlias:m}){const p=Gu(),f=Vu(),g=(0,l.useFacetMap)(((e,t)=>t||e||f),[f],[p,(0,l.useFacetWrap)(null!=e&&e)]);return r.createElement(ud,{innerRef:d,loading:g,focusGridIndex:o,renderTracker:a,padSpinnerVertically:n,gamepadAlias:c,delegateFocusFromMemory:u,spinnerBackgroundColor:i,showSpinnerBorder:s,delegateFocusByAlias:m},t)}const cI="a00f91faaefeee0b7edd";function iI({tall:e=!1,small:t=!1,children:a,isFocusable:n=!1,narrationText:o,gamepadAlias:c,focusGridIndex:i,innerRef:s,disableDeferredMount:u=!1,testId:d,className:m}){const p=(0,l.useFacetWrap)(null!=o&&o);return r.createElement(DP.Provider,{value:e},r.createElement(Wi.Maybe,{isInteractive:n,gamepadAlias:c,className:dl()("c71da77a98ac00e6831d",{cc21e9893e22c398000b:e,cf896949641ffac002ad:t},m),innerRef:s,classNameFocused:"b060cb2bd41597a81a90",focusGridIndex:i,inputLegend:!1,narrationText:p,"data-testid":d},u?r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,a)):r.createElement(Uu,null,r.createElement(r.Fragment,null,a))))}iI.Action=function({children:e,onClick:t,inputLegend:a,narrationText:n,gamepadAlias:o,soundEffectPressed:c,onFocusChanged:i,onHoverChanged:s,role:u="neutral",disabled:d,className:m,testId:p}){const f=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(d)]),g=(0,l.useFacetWrap)(c),E=(0,l.useFacetWrap)(a),b=Qr(u),h=Yr(u),v=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[E,f]),F=(0,l.useFacetMap)((e=>dl()("abb27f9cd9589982ca73",h.text.base,{[cI]:e},m)),[h,m],[f]),y=(0,l.useFacetMap)(((e,t)=>t?void 0:null!=e?e:b.press),[b],[g,f]),S=(0,l.useFacetCallback)((e=>()=>{e||t()}),[t],[f]);return r.createElement(Sr,{role:u},r.createElement(Wi,{gamepadAlias:o,className:F,classNameHovered:"b99e3e2641b6ec1d1b97",classNameFocused:"e4aea6f276b14dbd815a",classNamePressed:"fb5a7e49fd3999ea4689",classNameDisabled:cI,inputLegend:v,narrationText:n,onClick:S,onFocusChanged:i,onHoverChanged:s,soundEffectPressed:y,"data-testid":p},e))},iI.AdditionalAction=function({children:e,onClick:t,onGamepadClick:a,onMouseDown:n,shortcut:o,inputLegend:c,narrationText:i,gamepadAlias:s,hidden:u=!1,fitContent:d=!1,extraWide:m=!1,innerRef:p,touchDetectionDelay:f,soundEffectPressed:g,role:E="neutral",testId:b}){const h=(0,l.useFacetWrap)(u),v=_P(),F=Qr(E);return r.createElement(l.Mount,{when:h,condition:!1},r.createElement(Sr,{role:E},null!=o&&r.createElement(BP,{onClick:t,shortcut:o,inputLegend:c}),r.createElement(Wi,{className:dl()("b3e7614af64d64e2d852",{b9bedf32b2225f460cea:d,d114c2b58111dacc2860:v,d95ad2130b85a8a43266:m}),classNameHovered:"a46c9c508fa10b5f4b3a",classNamePressed:"b7e39eb98ff9a554de72",classNameFocused:"d5e5c62108db80f870ee",touchDetectionDelay:f,soundEffectPressed:null!=g?g:F.press,gamepadAlias:s,inputLegend:c,onClick:t,onGamepadOrKeyboardSelect:a,onMouseDown:n,narrationText:i,innerRef:p,"data-testid":b},e)))},iI.Main=WP,iI.Cell=$P,iI.Icon=aT;const sI=a.p+"assets/play-631001db472839c2ac8c.png",uI="d2868f4dde68cde79334",dI=({className:e})=>{const t=null!=e?`d2868f4dde68cde79334 ${e}`:uI;return r.createElement(pu,{className:t,src:sI,imageRendering:"pixelated"})},mI=a.p+"assets/delete-dc0125fecc577e27a106.png";function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pI.apply(null,arguments)}const fI=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("e0b89c9a17738a080f85",t);return r.createElement(pu,pI({},a,{className:n,src:mI,imageRendering:"pixelated"}))},gI=a.p+"assets/IconAddPlayerWhite-c25a0f4c62c6776d3948.png";function EI(){return EI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},EI.apply(null,arguments)}const bI=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("a677ed92c9d508b1f8a6",t);return r.createElement(pu,EI({},a,{className:n,src:gI,imageRendering:"pixelated"}))},hI=a.p+"assets/IconPartyInviteWhite-07ee568507ea8c51d111.png";function vI(){return vI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vI.apply(null,arguments)}const FI=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("fe4e9fc69ec5251b8b5b",t);return r.createElement(pu,vI({},a,{className:n,src:hI,imageRendering:"pixelated"}))},yI="c2fedc3e22cd2dea7d85",SI="a8c5ffdb881cede4789c",CI="b049553b7d4f8cb60ef3",MI="f3d8d94580f40e0ba27f",wI=()=>{const e=(0,l.useSharedFacet)(Hv);return(0,l.useFacetCallback)((e=>(t,a={},n,r)=>{const l={};Object.keys(a).forEach((e=>{const{value:t,privacyTag:n}=a[e],r={__Type:"EventProperty",value:t,privacyTag:n};l[e]=r}));const o={};return n&&Object.keys(n).forEach((e=>{const{value:t,aggregationType:a}=n[e],r={__Type:"EventMeasurement",value:t,aggregationType:a};o[e]=r})),e.fireEvent(t,l,0===Object.keys(o).length?void 0:o,r)}),[],[e])},kI=()=>{const e=wI();return(0,r.useCallback)((t=>{e("ButtonPressed",{ButtonName:{value:"Profile",privacyTag:zv.CustomerContent},entryPoint:{value:t,privacyTag:zv.CustomerContent}},{Count:{value:1,aggregationType:jv.Increment}},!0)}),[e])},PI=a.p+"assets/psn_logo-ea3e6a8b6b7961ab12f7.png",TI=e=>e===Ye.PS4||e===Ye.PS5,II=e=>e===Ye.XBOX,xI=e=>e===Ye.NX_HANDHELD||e===Ye.NX_TV,OI=e=>II(e)||xI(e)||TI(e),AI=e=>e===Ye.WIN32||e===Ye.UWP_GDK_PC,NI=e=>AI(e),RI=e=>e===Ye.GOOGLE||e===Ye.IOS||e===Ye.MACOS||e===Ye.UWP_GDK_PC||e===Ye.WIN32||e===Ye.XBOX,LI=e=>e===Ye.GOOGLE||e===Ye.IOS||e===Ye.MACOS||e===Ye.UWP_GDK_PC||e===Ye.WIN32,DI=((0,l.sharedFacet)("vanilla.gameplay.activeLevelHardcoreMode"),(0,l.sharedFacet)("vanilla.gameplay.immediateRespawn"),(0,l.sharedFacet)("vanilla.gameplay.leaveGame"));function _I(){return(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)),[],[(0,l.useSharedFacet)(FF)])}function BI(){return(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)),[],[(0,l.useSharedFacet)(FF)])}function WI(){return(0,l.useFacetMap)(((e,t)=>(xI(t.platform)||TI(t.platform))&&t.isOnline&&!e.hasPremiumNetworkAccess),[],[(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(_l)])}function UI(){const e=BI(),t=_I(),a=WI();return(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[e,t,a])}function zI(){const e=BI(),t=_I();return(0,l.useFacetMap)(((e,t)=>e||t),[],[e,t])}function jI(){return(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.Platform_PlayStation)||e.userPermissions.multiplayer.denyReasons.includes(bF.Platform_NintendoSwitch)),[],[(0,l.useSharedFacet)(FF)])}let HI;function GI(){}function VI(e,t,a){const n=(0,r.useRef)(!1),l=(0,r.useRef)(!1),o=(0,r.useRef)(GI),c=(0,Du.useFacetCallback)(e,[e,...t],[...a]),i=(0,r.useCallback)((async(...e)=>{if(n.current)return;const t=e=>{const{promise:t,cancel:a}=(0,Du.asPromise)(function(e,t,a){return(0,Du.mapFacetsLightweight)(e,(e=>e==HI.RUNNING?Du.NO_VALUE:e),void 0)}([e]));return o.current=a,t};return(async(...e)=>{if(l.current)return;n.current=!0;const a=c(...e);if(a!==Du.NO_VALUE){for(const e of a)if(await t(e)!=HI.DONE)break;n.current=!1}})(...e)}),[c]);return(0,r.useEffect)((()=>()=>{l.current=!0,o.current()}),[]),i}(0,l.sharedFacet)("vanilla.gameplay.playerDeathInfo"),(0,l.sharedFacet)("vanilla.gameplay.playerRespawn"),function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.DONE=2]="DONE",e[e.CANCELLED=3]="CANCELLED",e[e.FAILED=4]="FAILED"}(HI||(HI={}));const $I="backButton",XI=As((({joinWorld:e,onClose:t})=>{const{t:a}=ws("LeaveWorldThenJoinModal");return r.createElement($m,{defaultFocusAlias:$I},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:`${a(".message_p1")}. ${a(".message_p2")}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong"},a(".message_p1")),r.createElement(Zi,{type:"captionLong"},a(".message_p2")))),r.createElement($m.Buttons,null,r.createElement(lm,{delayedClick:!0,onClick:e,gamepadAlias:$I,inputLegend:a(".confirmation"),variant:"primary","data-testid":"join-world"},a(".confirmation")),r.createElement(Vi,{size:1}),r.createElement(lm,{delayedClick:!0,inputLegend:a(".cancel"),variant:"secondary",onClick:t},a(".cancel"))))})),KI=As((({joinServer:e,onClose:t})=>{const{t:a}=ws("MobileDataBlockedModal"),n=p(),l="backButton";return r.createElement($m,{defaultFocusAlias:l},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:`${a(".onlyWifi")}. ${a(".costWarning")}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong"},a(".onlyWifi")),r.createElement(Zi,{type:"captionLong"},a(".costWarning")))),r.createElement($m.Buttons,null,r.createElement(lm,{delayedClick:!0,onClick:()=>{t(),n.push("/settings/general")},gamepadAlias:l,inputLegend:a(".changeSettings"),variant:"primary"},a(".changeSettings")),r.createElement(Vi,{size:1}),r.createElement(lm,{delayedClick:!0,inputLegend:a(".playOnceWithData"),variant:"secondary",onClick:()=>{e(),t()},"data-testid":"play-once-with-data"},a(".playOnceWithData"))))})),YI=As((({onClose:e,onContinue:t})=>{const{t:a}=ws("EndHostingMultiplayerSessionModal");return r.createElement($m,null,r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".text")},a(".text"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".continue"),variant:"primary",onClick:t,delayedClick:!0},a(".continue")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".cancel"),variant:"secondary",onClick:e},a(".cancel"))))}));function qI({modalAPIs:e,joinCallback:t}){const a=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,t()}),[t],[(0,l.useSharedFacet)(fh)]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:e.mobileDataModal.isVisible},r.createElement(KI.Component,{onClose:e.mobileDataModal.hide,joinServer:a})),r.createElement(l.Mount,{when:e.leaveWorldThenJoinModal.isVisible},r.createElement(XI.Component,{onClose:e.leaveWorldThenJoinModal.hide,joinWorld:t})),r.createElement(l.Mount,{when:e.endHostingMultiplayerSessionModal.isVisible},r.createElement(YI.Component,{onClose:e.endHostingMultiplayerSessionModal.hide,onContinue:t})))}function QI(e){const t=(0,l.useSharedFacet)(FF),a=UI();return(0,l.useFacetMap)(((e,t,a)=>null!=e.playingOnServerId&&""!==e.playingOnServerId&&!(!0===e.isInSameGame)&&t.userPermissions.multiplayer.allowed&&!a),[],[e,t,a])}function JI(e){const t={mobileDataModal:KI.useModal(),leaveWorldThenJoinModal:XI.useModal(),endHostingMultiplayerSessionModal:YI.useModal()},a=function(e){const t=function(e){const t=(0,l.useSharedFacet)(sh),a=(0,l.useFacetMap)((e=>e.joinFriendServerState),[],[t]),n=VI((e=>function*(t){e.joinFriendServer(t),yield a,e.clearJoinFriendServerTaskState()}),[a],[t]);return(0,l.useFacetCallback)((e=>()=>{n(e)}),[n],[e])}(e),a=(0,l.useSharedFacet)(DI),n=(0,l.useSharedFacet)(Kb);return(0,l.useFacetCallback)(((e,a,n)=>()=>{n.isInGame?a.leaveGameThenJoinFriendsWorld(e):t()}),[t],[e,a,n])}(e);return{JoinFriendServerWarningModalsComponent:()=>r.createElement(qI,{modalAPIs:t,joinCallback:a}),joinFriendServerWithWarningsCallback:(0,l.useFacetCallback)(((e,n)=>()=>{e.isInGame?e.isInMultiplayerSession&&e.isHosting?t.endHostingMultiplayerSessionModal.show():t.leaveWorldThenJoinModal.show():n?t.mobileDataModal.show():a()}),[t,a],[(0,l.useSharedFacet)(Kb),(0,l.useFacetMap)(((e,t)=>!t.isInGame&&e.onlyCellularAvailable&&e.showCellularDataFee),[],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(Kb)])])}}function ZI({variant:e,presence:t,partyPresence:a,favoriteStatus:n,permissionLevel:r}){if("sent-request"===e||"received-request"===e)return"offline";const l=n===mF.FAVORITE;if(a===fF.InParty||a===fF.Disconnecting)return l?"partyFavorite":"party";switch(t){case pF.Online:return l?"onlineFavorite":"online";case pF.Away:return l?"awayFavorite":"away";default:return null==r||"world-player"!==e&&"world-player-self-labelled"!==e?"offline":l?"onlineFavorite":"online"}}function ex(e,t,a){const{variant:n,permissionLevel:r}=e;return"sent-request"===n?t(".pending"):"received-request"===n?t(".receivedRequest"):null==r||"world-player"!==n&&"world-player-self-labelled"!==n?a?function(e,t){const{presence:a,presenceMessage:n,titleName:r,isFriendOfFriend:l,isInSameGame:o,platform:c}=e;switch(a){case pF.Offline:return t(".offline");case pF.Online:return l?t("playstation"===c?".friendOfFriendPlaying.playstation":".friendOfFriendPlaying"):o?t(".playingInSameWorld"):"playstation"==c?t(".online.playstation"):"switch"==c?t(".online"):""!==n?n:r&&r.includes("Minecraft")?t(".playing",[String(r)]):t(".online");case pF.Away:return t(l?"playstation"===c?".friendOfFriendPlaying.playstation":".friendOfFriendPlaying":".away")}return""}(e,t):function(e,t){const{presence:a,isFriendOfFriend:n,platform:r}=e;switch(a){case pF.Online:case pF.Away:return t(n?"playstation"==r?".friendOfFriendPlaying.playstation":".friendOfFriendPlaying":"playstation"===r?".online.playstation":".online");case pF.Offline:return t(".offline")}return""}(e,t):function(e,t){switch(e){case iF.Operator:return t(".operator");case iF.Member:return t(".member");case iF.Visitor:return t(".visitor");case iF.Custom:return t(".custom")}}(r,t)}function tx(e,t){const{t:a}=ah(t),n=Rd(Mb);return(0,l.useFacetMap)((e=>({status:ex(e,a,n),avatar:ZI(e)})),[n,a],[e])}function ax({onClick:e,gamerTag:t}){const{t:a}=ws("PlayerListItem"),{t:n}=ws("PlayerListItem.narration"),o=(0,l.useFacetMap)((e=>[n(".optionsButtonInputLegend",[e]),n(".buttonRole")].join(" . ")),[n],[t]);return r.createElement(iI.AdditionalAction,{inputLegend:a(".inviteButtonInputLegend"),onClick:e,narrationText:o,testId:"player-list-item-options-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(LM.Options,null)))}function nx(e,t,a){let n=null==e?0:e.length;if(!n)return[];(t=null==t?0:t)<0&&(t=-t>n?0:n+t),(a=(a=null==a?n:a)>n?n:a)<0&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;let r=-1;const l=new Array(n);for(;++r<n;)l[r]=e[r+t];return l}const rx=(0,l.sharedFacet)("vanilla.friendsListFacet");function lx(e){return nx(e,0).sort(ox)}function ox(e,t){return null==e.playingOnServerId&&null!=t.playingOnServerId?1:null!=e.playingOnServerId&&null==t.playingOnServerId?-1:0}function cx(e){return nx(e,0).sort(ix)}function ix(e,t){return function(e,t){const a=null!=e.playingOnServerId,n=null!=t.playingOnServerId;return a&&!n?-1:!a&&n?1:0}(e,t)||sx(e,t)||function(e,t){const a=dx[e.partyPresence]-dx[t.partyPresence];return 0===a?ux[e.presence]-ux[t.presence]:a}(e,t)}function sx(e,t){return e.favoriteStatus===mF.FAVORITE&&t.favoriteStatus!==mF.FAVORITE?-1:t.favoriteStatus===mF.FAVORITE&&e.favoriteStatus!==mF.FAVORITE?1:0}const ux={[pF.Online]:0,[pF.Away]:1,[pF.Offline]:2,[pF.Unknown]:3},dx={[fF.InParty]:0,[fF.Disconnecting]:0,[fF.NotInParty]:1};function mx(...e){const t=[];return e.forEach((e=>e.forEach((e=>t.push(e))))),t}function px(e,t){return null!=e&&""!==e&&e===t}function fx(e,t){return px(e.xuid,t.xuid)||px(e.platformId,t.platformId)}function gx(e){return null==e||""===e}function Ex(e){return null!=e&&""!==e}function bx(e,t){return Ex(e.xuid)?e.xuid:Ex(e.platformId)?e.platformId:Ex(e.actorId)?e.actorId:t}function hx({item:e,index:t,listLength:a,onAdditionalActionClick:n,onMainActionClick:o,disabled:c,gamepadAlias:i,profileEntryPoint:s,grayscaleAvatarWhenOffline:u=!1,screenAnalyticsId:d="",testId:m,enablePSNLogo:p=!1,children:f}){const{t:g}=ws("PlayerListItem"),{t:E}=ws("PlayerListItem.narration"),b=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}),[],[e]),h=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),v=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[e]),F=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[e]),y=kI(),S=(0,l.useFacetWrap)(s),C=(0,l.useSharedFacet)(FF),M=(0,l.useSharedFacet)(gy),w=(0,l.useFacetCallback)(((e,t)=>()=>{y(t),null==o||o(e)}),[y,o],[e,S]),k=tx(e,"PlayerListItem"),P=(0,l.useFacetMap)(((e,t)=>Ex(e.xuid)&&e.xuid==t.leaderXuid?"leader":"none"),[],[e,M]),T=(0,l.useFacetMap)((({status:e})=>""!==e),[],[k]),I=(0,l.useFacetMap)((({variant:e})=>"self-labelled"===e||"world-player-self-labelled"===e),[],[e]),x=(0,l.useFacetMap)((({variant:e})=>{switch(e){case"added-not-mutual":return"added-status";case"added-mutual":return"friends-status";case"party-sent-invite":return"party-sent-invite";case"party-joined":return"party-joined"}return"none"}),[],[e]),O=(0,l.useFacetMap)(((e,t)=>e||t.disabled),[],[(0,l.useFacetWrap)(c),e]),A=(0,l.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[e,O]),N=QI(e),R=(0,l.useFacetMap)((({variant:e},t,a)=>{switch(e){case"player":if(a)return"join";break;case"sent-request":return"delete-request";case"received-request":return"accept-reject-request";case"add-friend":if(t.userPermissions.addFriends.allowed)return"add-friend";break;case"party-invite":return"party-invite";case"world-player":case"custom-children":return"custom-children";case"options":return"options"}return"none"}),[],[e,C,N]),L=(0,l.useFacetMap)((({variant:e},a,n,r,l,{status:o})=>{const c=[];let i=o,s="";switch(e){case"sent-request":i=E(".sentRequest");break;case"received-request":i=E(".receivedRequest");break;case"added-mutual":s=E(".addedMutual");break;case"added-not-mutual":s=E(".addedNotMutual")}return c.push(a,i,E(l?".listItemRole":".buttonRole"),E(".itemOrderContext",[`${t+1}`,`${n}`])),l||c.push(s,E(".playerProfileHint")),"none"!==r&&c.push(E(".additionalActionsHint")),"party-sent-invite"===e&&c.push(E(".playerInvited")),"party-joined"===e&&c.push(E(".playerJoined")),c.join(" . ")}),[t,E],[e,h,a,R,A,k]),D=Pe(),_=(0,l.useFacetCallback)(((e,t)=>()=>{n&&n(e),D(t)}),[D,n],[e,(0,l.useFacetWrap)(i)]),B=(0,l.useFacetMap)((e=>e.location),[],[e]),W=(0,l.useFacetMap)((e=>"world-player"===e.variant||"world-player-self-labelled"===e.variant?e.permissionLevel:void 0),[],[e]),U=(0,l.useFacetMap)(((e,t,a,n)=>!!e&&"none"!==t.platform&&(!a.isLoggedInWithMicrosoftAccount&&TI(n.platform)||"playstation"===t.platform)),[],[(0,l.useFacetWrap)(p),e,(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(_l)]);return r.createElement(iI,{testId:m},r.createElement(iI.Action,{narrationText:L,inputLegend:g(".viewProfile"),onClick:w,gamepadAlias:i,disabled:A,testId:null!=m?`${m}-main-action`:void 0},r.createElement(iI.Cell,{direction:"row"},r.createElement(Uy,{variant:"large",src:v,statusBadge:(0,l.useFacetMap)((({avatar:e})=>e),[],[k]),identityBadge:P,grayscaleAvatar:(0,l.useFacetMap)((({avatar:e},t)=>"offline"===e&&t),[],[k,(0,l.useFacetWrap)(u)]),shouldShowNewStatus:!0})),r.createElement(l.Mount,{when:U},r.createElement(iI.Cell,{align:"center"},r.createElement(pu,{src:PI,className:"f052a7599b1acb765070",width:"2.2rem",height:"2.2rem"}))),r.createElement(iI.Main,null,r.createElement("div",{className:"b085df96b25244b8bcba"},r.createElement(Zi,{type:"body",overflowEllipsis:!0},h),r.createElement(l.Mount,{when:I},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Zi,{variant:"dimmer",type:"captionShort"},g(".you"))))),r.createElement(l.Mount,{when:T},r.createElement("div",{className:"f38614fe2ccc332e9980"},r.createElement(l.Unwrap,{data:W},(e=>r.createElement(vx,{playerPermissionLevel:e}))),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((({status:e})=>e),[],[k]))))),r.createElement(l.Unwrap,{data:x},(e=>{switch(e){case"added-status":return r.createElement(wx,{text:g(".added"),Icon:wd});case"friends-status":return r.createElement(wx,{text:g(".friends"),Icon:wd});case"party-sent-invite":return r.createElement(wx,{text:g(".invited"),Icon:wd});case"party-joined":return r.createElement(wx,{text:g(".joined"),Icon:wd});default:return null}}))),r.createElement(l.Unwrap,{data:R},(e=>{switch(e){case"none":return null;case"join":return r.createElement(Fx,{playingOnServerId:F,onClickAdditionalAction:_,screenAnalyticsId:d,playerId:b});case"delete-request":return r.createElement(yx,{onClickAdditionalAction:_});case"accept-reject-request":return r.createElement(Sx,{playerId:b,onClickAdditionalAction:_});case"add-friend":return r.createElement(Cx,{playerId:b,onClickAdditionalAction:_,location:B,index:t,listLength:a});case"party-invite":return r.createElement(Mx,{onClickAdditionalAction:_,gamerTag:h,playerId:b});case"options":return r.createElement(ax,{onClick:_,gamerTag:h});case"custom-children":return r.createElement(r.Fragment,null,f)}})))}function vx({playerPermissionLevel:e}){const t="dimmest",a=20;switch(e){case iF.Member:return r.createElement(LM.PermissionMemberIcon,{variant:t,width:a,height:a,className:MI});case iF.Operator:return r.createElement(LM.PermissionOperator,{variant:t,width:a,height:a,className:MI});case iF.Custom:return r.createElement(LM.PermissionCustom,{variant:t,width:a,height:a,className:MI});case iF.Visitor:return r.createElement(LM.PermissionVisitor,{variant:t,width:a,height:a,className:MI});default:return r.createElement(r.Fragment,null)}}function Fx({playingOnServerId:e,onClickAdditionalAction:t,screenAnalyticsId:a,playerId:n}){const{t:o}=ws("PlayerListItem"),{t:c}=ws("PlayerListItem.narration"),i=JT(),s=(0,l.useFacetMap)((e=>null!=e?e:""),[],[e]),{joinFriendServerWithWarningsCallback:u,JoinFriendServerWarningModalsComponent:d}=JI(s),m=(0,l.useFacetCallback)(((e,n)=>()=>{i({screen:a,button:"Join",details:{serverId:n,playerId:e}}),u(),t&&t()}),[u,t,i,a],[n,s]);return r.createElement(r.Fragment,null,r.createElement(d,null),r.createElement(iI.AdditionalAction,{narrationText:[c(".joinFriend"),c(".buttonRole")].join(" . "),inputLegend:o(".select"),onClick:m,testId:"player-list-item-join-button"},r.createElement(dI,{className:yI}),r.createElement(Zi,{type:"captionShort",overflowEllipsis:!0,className:"e6aadc6d933586204825"},o(".join"))))}function yx({onClickAdditionalAction:e}){const{t}=ws("PlayerListItem"),{t:a}=ws("PlayerListItem.narration"),n=(0,r.useCallback)((()=>{e&&e()}),[e]);return r.createElement(iI.AdditionalAction,{inputLegend:t(".select"),onClick:n,narrationText:[a(".delete"),a(".buttonRole")].join(" . ")},r.createElement(iI.Cell,{align:"center"},r.createElement(fI,{className:yI}),r.createElement(Zi,{align:"center",type:"captionTiny"},t(".delete"))))}function Sx({playerId:e,onClickAdditionalAction:t}){const{t:a}=ws("PlayerListItem"),n=(0,l.useSharedFacet)($b),o=(0,l.useFacetCallback)(((e,a)=>()=>{e.acceptRequest(a),t&&t()}),[t],[n,e]),c=(0,l.useFacetCallback)(((e,a)=>()=>{e.rejectRequest(a),t&&t()}),[t],[n,e]);return r.createElement(r.Fragment,null,r.createElement(iI.AdditionalAction,{inputLegend:a(".select"),onClick:o,narrationText:[a(".accept"),a(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(wd,{className:yI}),r.createElement(Zi,{align:"center",type:"captionTiny"},a(".accept")))),r.createElement(iI.AdditionalAction,{inputLegend:a(".select"),onClick:c,narrationText:[a(".reject"),a(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(Su,{className:yI}),r.createElement(Zi,{align:"center",type:"captionTiny"},a(".reject")))))}function Cx({playerId:e,onClickAdditionalAction:t,location:a,index:n,listLength:o}){const{t:c}=ws("PlayerListItem"),{t:i}=ws("PlayerListItem.narration"),s=(0,l.useFacetCallback)(((e,a,n)=>()=>{null!=n&&a.addFriend(e,n),t&&t()}),[t],[e,(0,l.useSharedFacet)(Rh),a]),u=(0,l.useFacetMap)(((e,t)=>{const a=[c(".addButtonText"),i(".buttonRole")];return t===Nh.ADDFRIENDS_SEARCH&&a.push(c(".narrationItemOrderContext",[`${n+1}`,`${e}`])),a.join(" . ")}),[n,i,c],[o,a]);return r.createElement(iI.AdditionalAction,{inputLegend:c(".addButtonInputLegend"),onClick:s,narrationText:u,testId:"player-list-item-add-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(bI,{className:yI}),r.createElement(Zi,{align:"center",type:"captionShort",overflowEllipsis:!0},c(".addButtonText"))))}function Mx({playerId:e,gamerTag:t,onClickAdditionalAction:a}){const{t:n}=ws("PlayerListItem"),{t:o}=ws("PlayerListItem.narration"),c=(0,l.useFacetCallback)(((e,t)=>()=>{t.sendInvite(e),a&&a()}),[a],[e,(0,l.useSharedFacet)(by)]),i=(0,l.useFacetMap)((e=>[o(".inviteButtonText",[e]),o(".buttonRole")].join(" . ")),[o],[t]);return r.createElement(iI.AdditionalAction,{inputLegend:n(".inviteButtonInputLegend"),onClick:c,narrationText:i,testId:"player-list-item-invite-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(FI,{className:yI}),r.createElement(Zi,{align:"center",type:"captionShort",overflowEllipsis:!0},n(".inviteButtonText"))))}function wx({Icon:e,text:t}){return r.createElement(iI.Cell,{direction:"row"},r.createElement(e,{className:"beff131a3b63c5e6afb6"}),r.createElement(Zi,{variant:"dimmer",type:"captionShort",className:MI},t))}hx.PartyAcceptIgnoreButtons=function({onAccept:e,onIgnore:t}){const{t:a}=ws("PlayerListItem");return r.createElement(r.Fragment,null,r.createElement(iI.AdditionalAction,{inputLegend:a(".select"),onClick:t,narrationText:[a(".reject"),a(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-reject-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(Su,{className:dl()(SI,CI)}),r.createElement(Zi,{align:"center",type:"captionTiny"},a(".ignore")))),r.createElement(iI.AdditionalAction,{inputLegend:a(".select"),onClick:e,narrationText:[a(".accept"),a(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-accept-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(wd,{className:dl()(SI,CI)}),r.createElement(Zi,{align:"center",type:"captionTiny"},a(".accept")))))},hx.PartyJoinButton=function({onClick:e}){const{t}=ws("PlayerListItem"),{t:a}=ws("PlayerListItem.narration");return r.createElement(iI.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:e,narrationText:[t(".cancelButtonText"),a(".buttonRole")].join(" . "),testId:"player-list-item-join-party-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(LM.Party,{className:yI}),r.createElement(Zi,{align:"center",type:"captionTiny",overflowEllipsis:!0},t(".join"))))},hx.PartyResendInviteButton=function({onClick:e}){const{t}=ws("PlayerListItem"),{t:a}=ws("PlayerListItem.narration");return r.createElement(iI.AdditionalAction,{inputLegend:t(".inviteButtonInputLegend"),onClick:e,narrationText:[t(".resendInviteButtonText"),a(".buttonRole")].join(" . "),testId:"player-list-item-resend-invite-button"},r.createElement(iI.Cell,{align:"center"},r.createElement(LM.Reset,{className:dl()(SI,CI)}),r.createElement(Zi,{align:"center",type:"captionTiny",overflowEllipsis:!0},t(".resendInviteButtonText"))))},hx.OptionsButton=ax;const kx=a.p+"assets/IconPartyInviteBlack-dea61b0544257195e28a.png";function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Px.apply(null,arguments)}const Tx=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("f9579d2832fd491b604f",t);return r.createElement(pu,Px({},a,{className:n,src:kx,imageRendering:"pixelated"}))},Ix=Br({id:"vanilla",sound:{neutral:{reject:"ui.reject",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"random.click"}},color:{neutral:{background:{default:Xo,hovered:$o,pressed:Ko,disabled:Go,selected:Ko},text:{dimmer:{default:Ho,disabled:Ho},dimmest:{default:Go},regular:{default:zo,disabled:$o}},shadow:{default:Ko,disabled:Vo},dropShadow:{default:ec},icon:{regular:{default:zo,disabled:$o},dimmer:{default:Ho},dimmest:{default:Go}},border:{regular:{default:qo,disabled:$o}},caret:{regular:{default:Bo}},specular:{default:{top:lc,bottom:rc}},bevel:{default:{top:rc,bottom:tc}},outline:{default:zo},highlight:{default:"transparent",hovered:Zo},overlay:{default:"rgba(0, 0, 0, 0.7)"}},neutral20:{background:{default:"#e6e8eb",hovered:"#f4f6f9",pressed:Ho},shadow:{default:Go},text:{regular:{default:qo},dimmest:{default:Ho}},icon:{regular:{default:zo}},outline:{default:jo},specular:{default:{top:zo,bottom:lc}},bevel:{default:{top:rc,bottom:tc}}},neutral50:{background:{default:Vo,hovered:Go,pressed:$o},border:{regular:{default:qo,disabled:Vo}},overlay:{default:"rgba(0, 0, 0, 0.5)"},icon:{regular:{default:Vo}}},neutral60:{background:{default:$o,hovered:Xo,pressed:Ko,disabled:Xo},border:{regular:{default:qo,disabled:Vo},dimmest:{default:Vo}},text:{regular:{default:zo,disabled:Go}},icon:{regular:{default:zo,disabled:Go}}},neutral80:{background:{default:Ko,hovered:Xo,selected:Xo,pressed:Yo},shadow:{default:Yo},text:{regular:{default:zo},dimmer:{default:Ho},dimmest:{default:Go}},caret:{regular:{default:Bo}},bevel:{default:{top:rc,bottom:ac},hovered:{top:rc,bottom:ac},pressed:{top:nc,bottom:rc},selected:{top:ac,bottom:rc}},overlay:{default:ac}},neutral100:{background:{default:qo},text:{regular:{default:zo},dimmer:{default:Ho},dimmest:{default:Go}}},primary:{background:{default:Wo,hovered:"#2a641c",pressed:Uo},shadow:{default:Uo},text:{regular:{default:zo}},icon:{regular:{default:zo,disabled:$o}},border:{regular:{default:qo}},specular:{default:{top:lc,bottom:rc},hovered:{top:oc,bottom:"rgba(255, 255, 255, 0.3)"}}},primaryTint:{background:{default:Bo},text:{regular:{default:qo}},border:{regular:{default:qo}}},secondary:{background:{default:Ho,hovered:Go,pressed:Go},text:{regular:{default:qo}},icon:{regular:{default:qo,disabled:$o}},shadow:{default:$o},border:{regular:{default:qo}},specular:{default:{top:cc,bottom:oc},hovered:{top:"rgba(255, 255, 255, 0.8)",bottom:cc}}},success:{background:{default:Wo},text:{regular:{default:zo}}},successTint:{background:{default:_o},text:{regular:{default:qo}},border:{regular:{default:qo}}},informative:{background:{default:"#2e6be5"},text:{regular:{default:zo}},border:{regular:{default:qo}}},informativeTint:{background:{default:"#8cb3ff"},text:{regular:{default:qo}},border:{regular:{default:qo}}},destructive:{background:{default:"#ca3636",hovered:"#c02d2d",pressed:Qo},text:{regular:{default:zo}},icon:{regular:{default:zo}},shadow:{default:Qo},specular:{default:{top:lc,bottom:rc},hovered:{top:"rgba(255, 255, 255, 0.5)",bottom:oc}}},destructiveTint:{background:{default:"#ff8080"},text:{regular:{default:qo}},border:{regular:{default:qo}}},notice:{background:{default:"#d3791f"}},noticeTint:{background:{default:Jo},text:{regular:{default:qo}},border:{regular:{default:qo}},outline:{default:qo},icon:{regular:{default:qo}}},dataViz01:{background:{default:"#42CCCC"},text:{regular:{default:qo}}},dataViz02:{background:{default:"#9471E0"},text:{regular:{default:qo}}},dataViz03:{background:{default:"#ffb366"},text:{regular:{default:qo}}},dataViz04:{background:{default:"#89DEF9"},text:{regular:{default:qo}}},dataViz05:{background:{default:_o},text:{regular:{default:qo}}},dataViz06:{background:{default:"#F064B8"},text:{regular:{default:qo}}},dataViz07:{background:{default:Jo},text:{regular:{default:qo}}},dataVizLine:{background:{default:Ho},text:{regular:{default:qo}}},paper:{background:{default:zo},text:{regular:{default:jo,disabled:Xo},dimmer:{default:$o}},icon:{regular:{default:jo,disabled:Xo}},border:{regular:{default:qo,disabled:Vo}},caret:{regular:{default:jo}},specular:{default:{top:lc,bottom:rc}},bevel:{default:{top:rc,bottom:tc}},outline:{default:qo},highlight:{default:"transparent",hovered:Zo}},neutralAlpha60:{background:{default:"rgba(0, 0, 0, 0.6)",hovered:Xo,selected:Xo,pressed:Yo},bevel:{default:{top:ac,bottom:rc},hovered:{top:ac,bottom:rc},selected:{top:ac,bottom:rc},pressed:{top:nc,bottom:rc}},border:{}}}}),xx=Br({id:"realms",sound:{secondary:{press:"random.click"}},color:{primary:{background:{default:"#7345E5",hovered:"#5D2CC6",pressed:uc,disabled:Go},border:{regular:{default:qo,disabled:$o}},overlay:{default:dc},shadow:{default:uc,disabled:Vo},text:{regular:{default:zo,disabled:$o}},icon:{regular:{default:zo,disabled:$o}},specular:{default:{top:"rgba(208, 131, 255, 0.5)",bottom:"rgba(182, 81, 245, 0.4)"},hovered:{top:"rgba(208, 131, 255, 0.7)",bottom:"rgba(182, 81, 245, 0.6)"}},caret:{regular:{default:jo}},bevel:{default:{top:rc,bottom:tc},selected:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},hovered:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},pressed:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"}},outline:{default:zo}},neutral:{background:{default:Xo,hovered:$o,pressed:Ko,disabled:Go,selected:Ko},text:{dimmer:{default:Ho,disabled:Ho},dimmest:{default:Go},regular:{default:zo,disabled:$o}},shadow:{default:Ko,disabled:Vo},dropShadow:{default:ec},icon:{regular:{default:zo,disabled:$o},dimmer:{default:Ho},dimmest:{default:Go}},border:{regular:{default:qo,disabled:$o}},caret:{regular:{default:Bo}},specular:{default:{top:lc,bottom:rc}},bevel:{default:{top:rc,bottom:tc}},outline:{default:zo},highlight:{default:"transparent",hovered:Zo},overlay:{default:"rgba(5, 0, 41, 0.7)"}},neutral50:{background:{default:Vo,hovered:Go,pressed:$o},border:{regular:{default:qo,disabled:Vo}},overlay:{default:dc},icon:{regular:{default:Vo}}},neutral80:{background:{default:Ko,hovered:Xo,selected:Xo,pressed:Yo},shadow:{default:Yo},text:{regular:{default:zo},dimmer:{default:Ho},dimmest:{default:Go}},caret:{regular:{default:Bo}},bevel:{default:{top:rc,bottom:ac},hovered:{top:rc,bottom:ac},pressed:{top:nc,bottom:rc},selected:{top:ac,bottom:rc}},overlay:{default:"rgba(5, 0, 41, 0.8)"}},primaryTint:{background:{default:sc},text:{regular:{default:qo}},border:{regular:{default:qo}}},informative:{background:{default:"#050029"},text:{regular:{default:zo}},border:{regular:{default:qo,disabled:Vo}}},PDPCore:{specular:{default:{top:"rgba(172, 144, 243, 0.5)",bottom:"rgba(172, 144, 243, 0.5)"}},text:{regular:{default:zo,disabled:"#777682"},dimmer:{default:ic},dimmest:{default:"#5D5974"},stronger:{default:sc}}},PDPPlus:{specular:{default:{top:"rgba(244, 96, 210, 0.5)",bottom:"rgba(244, 96, 210, 0.5)"}},text:{regular:{default:zo,disabled:"#777682"},dimmer:{default:ic},dimmest:{default:"#5D5974"},stronger:{default:"#E833C2"}}}}}),Ox=(Br({id:"gameplayInputLegendCollection",color:{neutral100:{background:{default:"none"},specular:{default:{top:"none",bottom:"none"}},text:{regular:{default:zo}}}}}),Br({id:"partyTabOpenPartyCollection",color:{neutral80:{background:{default:Yo},border:{regular:{default:qo}}}}})),Ax=(Br({id:"serverErrorDescriptionCollection",color:{neutral80:{background:{default:Yo},border:{regular:{default:qo}}}}}),Br({id:"gamedropCollection",color:{neutral100:{background:{default:Yo}}}}));function Nx(e){const t=p(),a=JT();return(0,l.useFacetCallback)(((n,r)=>()=>{r.isLoggedInWithMicrosoftAccount||!TI(n.platform)&&!xI(n.platform)?(a({button:"SearchForPlayers",screen:e}),t.push("/add-friend")):t.push("/sign-in-add-friend")}),[a,t,e],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(FF)])}function Rx({screenAnalyticsId:e}){const{t}=ws("AddFriendsButton"),a=Rd(Mb),n=Nx(e);return r.createElement("div",{className:"b85bfa351a663e08b7cd"},r.createElement(lm,{variant:a?"secondary":"primary",onClick:n,Icon:a?LM.Search:void 0,inputLegend:t(".searchForFriends"),"data-testid":"friends-drawer-add-friends-button"},t(".searchForFriends")))}const Lx={errorImage:"b5aa36915a5250d20ca0",errorImageBig:"ac3e52bb43da179bbd2d",thinButtonContainer:"eb2a6d72ea9b15132c57"},Dx=a.p+"assets/Parties_Empty-265b7e6b01fd8fad868a.png",_x=a.p+"assets/People_Empty-00f7f3783db57fddfdd9.png",Bx=a.p+"assets/Parties_Multiplayer_Disabled-c5b88e323e669f895056.png",Wx=a.p+"assets/sign-in-prompts-friends-0d717f89a7e7bf0b8443.png";let Ux;function zx({screenAnalyticsId:e,reason:t}){const{t:a}=ws("SocialDrawerTabErrorState"),n=(0,l.useFacetWrap)(t),o=(0,l.useFacetMap)((e=>{switch(e){case Ux.notLoggedIn:return{title:a(".notLoggedInTitle"),description:a(".notLoggedInDescription"),image:Wx,ErrorButton:jx};case Ux.partyNoData:return{title:a(".party.noDataTitle"),image:Dx,ErrorButton:Gx};case Ux.partyMultiplayerDisabled:return{title:a(".party.multiplayerDisabledTitle"),image:Bx,description:a(".party.multiplayerDisabledDescription"),ErrorButton:Vx};case Ux.peopleNoData:return{title:a(".people.noDataTitle"),image:_x,ErrorButton:Hx}}}),[a],[n]),c=Nw({wide:8,narrow:6,width:260}),i=(0,l.useFacetMap)((e=>e?Lx.errorImage:Lx.errorImageBig),[],[c]);return r.createElement("div",{className:Lx.SocialDrawerTabErrorState},r.createElement(aw.Wrapper,{borderless:!0},r.createElement(l.Unwrap,{data:o},(({title:t,image:a,description:n,ErrorButton:l})=>r.createElement(r.Fragment,null,r.createElement(aw.Title,null,t),r.createElement(aw.Image,{imgClass:i,imgSrc:a}),null!=n&&r.createElement(r.Fragment,null,r.createElement(aw.Text,null,n),r.createElement(Vi,{size:2})),r.createElement(l,{screenAnalyticsId:e}))))))}function jx({screenAnalyticsId:e}){const{t}=ws("SocialDrawerTabErrorState"),a=p(),n=JT(),l=(0,r.useCallback)((()=>{n({button:"SignIn",screen:e}),a.replace("/sign-in?signInSource=SignInOnFriendsDrawer_OreUI")}),[n,a,e]);return r.createElement("div",{className:Lx.thinButtonContainer},r.createElement(aw.Button,{variant:"primary",onClick:l,inputLegend:t(".notLoggedInInputLegend")},t(".notLoggedInButton")))}function Hx({screenAnalyticsId:e}){const{t}=ws("SocialDrawerTabErrorState"),a=Nx(e);return r.createElement("div",{className:Lx.thinButtonContainer},r.createElement(aw.Button,{variant:"primary",onClick:a},t(".people.noDataButtonTitle")))}function Gx(){const{t:e}=ws("SocialDrawerTabErrorState"),t=p(),a=(0,l.useSharedFacet)(by),n=(0,l.useFacetCallback)((e=>()=>{e.createParty(),t.push("/create-party")}),[t],[a]);return r.createElement(aw.Button,{variant:"secondary",onClick:n,Icon:Tx},e(".party.noDataButtonTitle"))}function Vx(){const{t:e}=ws("SocialDrawerTabErrorState"),t=pt(),a=(0,l.useFacetMap)((e=>II(e)),[],[t]),n=(0,l.useFacetCallback)(((e,t,a)=>()=>{e?t.updateMultiplayerPrivilegeUsingSystemModal():a.openLink(SF.TroubleshootingMultiplayerDisabled)}),[],[a,(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(CF)]);return r.createElement(l.Unwrap,{data:a},(t=>r.createElement("div",{className:Lx.thinButtonContainer},r.createElement(aw.Button,{variant:"secondary",onClick:n,Icon:t?void 0:LM.ExternalLink},e(t?".party.multiplayerDisabledButtonTitleFixNow":".party.multiplayerDisabledButtonTitleLearnMore")))))}!function(e){e[e.notLoggedIn=0]="notLoggedIn",e[e.partyNoData=10]="partyNoData",e[e.partyMultiplayerDisabled=11]="partyMultiplayerDisabled",e[e.peopleNoData=20]="peopleNoData"}(Ux||(Ux={}));const $x=As((({onClose:e})=>{const{t}=ws("LeavePartyModal"),a=(0,l.useSharedFacet)(by),n=(0,l.useFacetCallback)((t=>()=>{t.leaveParty(),e()}),[e],[a]);return r.createElement($m,null,r.createElement($m.Header,{hideCloseButton:!0,onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".message")},t(".message"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".cancel"),variant:"secondary",onClick:e,horizontal:!0},t(".cancel")),r.createElement(Vi,{size:2}),r.createElement(lm,{inputLegend:t(".confirm"),variant:"destructive",onClick:n,horizontal:!0},t(".confirm"))))}));let Xx;!function(e){e[e.JOIN=0]="JOIN",e[e.ACCEPT_INVITE=1]="ACCEPT_INVITE"}(Xx||(Xx={}));const Kx=As((({onClose:e,reason:t,partyId:a,connectionString:n})=>{const{t:o}=ws("SwitchPartyModal"),c=(0,l.useSharedFacet)(by),i=(0,l.useFacetWrap)(t),s=(0,l.useFacetWrap)(a),u=(0,l.useFacetWrap)(n),d=(0,l.useFacetCallback)(((t,a,n,r)=>()=>{t===Xx.ACCEPT_INVITE?a.acceptInvite(n,r):t===Xx.JOIN&&a.joinParty(n),e()}),[e],[i,c,s,u]);return r.createElement($m,null,r.createElement($m.Header,{hideCloseButton:!0},o(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o(".message")},o(".message"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:o(".goBack"),variant:"secondary",onClick:e,horizontal:!0},o(".goBack")),r.createElement(Vi,{size:2}),r.createElement(lm,{inputLegend:o(".joinNewParty"),variant:"secondary",onClick:d,horizontal:!0},o(".joinNewParty"))))}));function Yx(e,t,a){const n=TI(e)?"playstation":xI(e)?"switch":void 0;return gx(t)&&Ex(a)?n:void 0}function qx(e,t){return`/profile${null!=t?`/${t}`:""}?xuid=${e}`}function Qx(e,t){return`/profile${null!=t?`/${t}`:""}?platformId=${e}`}function Jx(e,t){return M(`/profile/${e}`,t)}function Zx(){const e=p(),t=E();return(0,l.useFacetCallback)((t=>({xuid:a,platformId:n})=>{(t.startsWith("/profile")?e.replace:e.push)(null!=n&&n.length>0?Qx(n,"overview"):qx(null!=a?a:"","overview"))}),[e],[t])}function eO(e,t=!1,a="SocialDrawer"){const n=E(),r=(0,l.useFacetWrap)(t),o=Zx(),c=Rd(Lb),i=JT();return(0,l.useFacetCallback)(((t,n)=>r=>{if(i({button:"Profile",screen:a}),c&&n){const a=!t.startsWith("/profile");e(a)}o({xuid:r.xuid,platformId:r.platformId})}),[i,a,c,o,e],[n,r])}function tO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function aO(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(a),!0).forEach((function(t){nO(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tO(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function nO(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var rO;function lO({screenAnalyticsId:e,closeDrawerOnProfileClick:t=!1,openSocialDrawerPlayerMenu:a,closeFriendsDrawer:n}){const{t:o}=ws("PartyTab"),c=p(),i=(0,l.useSharedFacet)(gy),s=(0,l.useSharedFacet)(FF),u=(0,l.useSharedFacet)(_l),d=(0,l.useSharedFacet)(by),m=(0,l.useSharedFacet)(hy),f=(0,l.useSharedFacet)(vy),g=(0,l.useFacetMap)((e=>e.privacy),[],[i]),E=(0,l.useFacetMap)((e=>e.isInParty&&e.members.length>0),[],[i]),b=(0,l.useFacetMap)((e=>e.platform),[],[u]),h=["party-member","invited","received-invites"],v=(0,l.useFacetMap)(((e,t,a,n,r,l)=>{const c=[];if(t.isInParty){var i;const[n]=t.members.filter((e=>e.xuid===a.currentXuid)),r=aO(aO({},n),{},{id:null!==(i=n.xuid)&&void 0!==i?i:"",variant:"self-labelled",partyId:t.partyId,section:rO.ACTIVE_PARTY});if(c.push({role:"informative",title:e===Fy.InviteOnly?o(".inviteOnlyParty",[t.members.length.toString()]):o(".openParty",[t.members.length.toString()]),data:[r].concat(t.members.filter((e=>e.xuid!==a.currentXuid)).map((e=>aO(aO({},e),{},{id:bx(e,"party-member"),variant:"custom-children",partyId:t.partyId,section:rO.ACTIVE_PARTY,platform:Yx(l,e.xuid,e.platformId)})))),section:rO.ACTIVE_PARTY}),t.pendingInvitees.length>0){const e=t.pendingInvitees.map((e=>aO(aO({},e),{},{id:bx(e,"party-invitee"),variant:"custom-children",partyId:t.partyId,section:rO.INVITED})));c.push({role:"informative",title:o(".invited",[t.pendingInvitees.length.toString()]),data:e,section:rO.INVITED})}}if(n.invites.length>0){const e=n.invites.map((e=>aO(aO({},e.inviter),{},{id:bx(e.inviter,`received-invite-${e.partyId}`),variant:"custom-children",partyId:e.partyId,inviteConnectionString:e.connectionString,section:rO.RECEIVED_INVITES})));c.push({role:"noticeTint",title:o(".receivedInvites",[n.invites.length.toString()]),data:e,section:rO.RECEIVED_INVITES})}return c.push({role:"noticeTint",title:o(".joinableParties",[r.joinablePartyFriends.length.toString()]),data:r.joinablePartyFriends.map((e=>aO(aO({},e.partyFriend),{},{id:bx(e.partyFriend,`joinable-${e.partyId}`),variant:"custom-children",partyId:e.partyId,section:rO.JOINABLE_PARTIES}))),section:rO.JOINABLE_PARTIES}),c.filter((e=>e.data.length>0))}),[o],[g,i,s,m,f,b]),F=(0,l.useFacetCallback)((e=>()=>{e.createParty(),c.push("/create-party")}),[c],[d]),y=$x.useModal(),S=Kx.useModal(),[C,M]=(0,l.useFacetState)(Xx.JOIN),[w,k]=(0,l.useFacetState)(""),[P,T]=(0,l.useFacetState)(""),I=(0,r.useCallback)(((e,t,a)=>{M(e),k(t),null!=a&&T(a),S.show()}),[S,M,k,T]),x=(0,r.useCallback)((()=>{y.show()}),[y]),O=(0,l.useFacetMap)((e=>e.createPartyState.loading||e.joinPartyState.loading||e.acceptInviteState.loading),[],[d]),A=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[E,O]),N=eO(n,t),R=_I(),L=BI(),D=(0,l.useFacetMap)(((e,t,a,n,r)=>TI(n.platform)||xI(n.platform)||r.isLoggedInWithMicrosoftAccount?t||a?Ux.partyMultiplayerDisabled:0===e.length?Ux.partyNoData:null:Ux.notLoggedIn),[],[v,R,L,u,s]);return r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:D},(t=>null!=t?r.createElement("div",{className:"b2bebcd0582ebbde2def"},r.createElement(zx,{screenAnalyticsId:e,reason:t})):r.createElement("div",{className:"b9317b77c1bcef90ce8c"},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:A},r.createElement(r.Fragment,null,r.createElement(lm,{narrationPrefix:o(".createParty"),inputLegend:o(".createParty"),children:o(".createParty"),Icon:Tx,onClick:F}),r.createElement(Vi,{size:2}))),r.createElement(nI,{spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,loading:O,gamepadAlias:"party-tab-list",data:v,sectionSeparator:r.createElement(Vi,{size:2}),renderSectionHeader:(e,t)=>r.createElement(aP,{role:t,label:e}),renderItem:({itemFacet:e,index:t,listLengthFacet:n,sectionIndex:o})=>r.createElement(r.Fragment,null,0===t&&0===o&&r.createElement(l.Mount,{when:E},r.createElement(_r,{collection:Ox},r.createElement(oO,{openLeavePartyModal:x}))),r.createElement(hx,{profileEntryPoint:Ih.SocialDrawer_PartyTab,gamepadAlias:`${h[o]}-${t}`,item:e,index:t,listLength:n,testId:`party-list-${o}-item-${t}`,enablePSNLogo:!0,onMainActionClick:N},r.createElement(cO,{itemFacet:e,openSocialDrawerPlayerMenu:a,openSwitchPartyModal:I})))}))))),r.createElement(l.Mount,{when:y.isVisible},r.createElement($x.Component,{onClose:y.hide})),r.createElement(l.Mount,{when:S.isVisible},r.createElement(Kx.Component,{reason:C,onClose:S.hide,partyId:w,connectionString:P})))}function oO({openLeavePartyModal:e}){const t=Yr("neutral80"),{t:a}=ws("PartyTab"),{t:n}=ws("PartyTab.narration"),l=p(),o=[n(".inviteToParty"),n(".buttonRole"),n(".enumeration",["1","2"])].join(" . "),c=[n(".leaveParty"),n(".buttonRole"),n(".enumeration",["2","2"])].join(" . ");return r.createElement(r.Fragment,null,r.createElement("div",{className:dl()("a6f1dd9b3814f428217e",t.background.base,t.border.base)},r.createElement(Vi,{size:3}),r.createElement("div",{className:dl()("b84d26ca493c9c00ca68")},r.createElement(yP,{height:4.4,narrationText:o,onClick:function(){l.push("/invite-to-party")},inputLegend:a(".inviteToParty"),className:t.background.base},r.createElement(FI,null)),r.createElement(Vi,{size:2}),r.createElement(yP,{"data-testid":"party-tab-leave-party-button",height:4.4,narrationText:c,onClick:e,inputLegend:a(".leaveParty"),variant:"destructive"},r.createElement(LM.Exit,null)),r.createElement(Vi,{size:3})),r.createElement(Vi,{size:3})))}function cO({itemFacet:e,openSwitchPartyModal:t,openSocialDrawerPlayerMenu:a}){const n=(0,l.useSharedFacet)(gy),o=(0,l.useSharedFacet)(by),c=(0,l.useFacetMap)((e=>e.partyId),[],[e]),i=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.inviteConnectionString)&&void 0!==t?t:""}),[],[e]),s=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),u=(0,l.useFacetMap)((e=>e.section),[],[e]),d=(0,l.useFacetMap)((e=>e.xuid),[],[e]),m=(0,l.useFacetCallback)(((e,a,n)=>()=>{n.isInParty?t(Xx.JOIN,e):a.joinParty(e)}),[t],[c,o,n]),p=(0,l.useFacetCallback)(((e,a,n,r)=>()=>{r.isInParty?t(Xx.ACCEPT_INVITE,e,a):n.acceptInvite(e,a)}),[t],[c,i,o,n]),f=(0,l.useFacetCallback)(((e,t,a)=>()=>{a.ignoreInvite(e,null!=t?t:"")}),[],[c,d,o]),g=(0,l.useFacetCallback)(((e,t)=>()=>{t.sendInvite(null!=e?e:"")}),[],[d,o]),E=(0,l.useFacetCallback)((e=>()=>{a(e)}),[a],[e]);return r.createElement(l.Unwrap,{data:u},(e=>{switch(e){case rO.RECEIVED_INVITES:return r.createElement(hx.PartyAcceptIgnoreButtons,{onAccept:p,onIgnore:f});case rO.JOINABLE_PARTIES:return r.createElement(hx.PartyJoinButton,{onClick:m});case rO.INVITED:return r.createElement(hx.PartyResendInviteButton,{onClick:g});case rO.ACTIVE_PARTY:return r.createElement(hx.OptionsButton,{onClick:E,gamerTag:s})}}))}!function(e){e[e.ACTIVE_PARTY=0]="ACTIVE_PARTY",e[e.INVITED=1]="INVITED",e[e.RECEIVED_INVITES=2]="RECEIVED_INVITES",e[e.JOINABLE_PARTIES=3]="JOINABLE_PARTIES"}(rO||(rO={}));const iO={textFieldWrapperShadow:"a68e2dcc1f58b13633e3",textFieldContainer:"dec2095b5b9845da7e2a",textFieldWrapper:"b49eb1a9637afad3a32b",textFieldContentWrapper:"a5e33954a988e3e8b0da"};function sO({label:e,narrationText:t,role:a="neutral80",onClick:n,hasShadow:l=!0,placeholderIcon:o,gamepadAlias:c}){var i;const s=Yr(a);return r.createElement(Wi,{className:iO.textFieldContainer,classNameFocused:Ws,narrationText:t,inputLegend:e,onClick:n,gamepadAlias:c},r.createElement(Bs,null),r.createElement("div",{className:dl()({[null!==(i=s.shadow.interactive)&&void 0!==i?i:""]:l,[iO.textFieldWrapperShadow]:l})}),r.createElement("div",{className:dl()(iO.textFieldWrapper,s.background.base,s.border.interactive)},r.createElement("div",{className:iO.textFieldContentWrapper},null!=o&&r.createElement(r.Fragment,null,r.createElement("div",{className:iO.textFieldIcon},Dd()),r.createElement(Vi,{size:2})),r.createElement(Zi,{overflowEllipsis:!0,type:"body",variant:"dimmest",className:iO.label},e))))}const uO="social-drawer-header";function dO({closeDrawer:e}){const{t}=ws("SocialDrawerHeader"),a=p(),n=(0,l.useFacetCallback)(((e,t)=>()=>{t.isLoggedInWithMicrosoftAccount||!TI(e.platform)&&!xI(e.platform)?a.push("/add-friend/true"):a.push("/sign-in-add-friend")}),[a],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(FF)]),o=(0,r.useRef)(null);return r.createElement(uu,{alias:uO,containerRef:o},r.createElement("div",{className:"b4c0a7d601a6d333d6f0",ref:o},r.createElement(sO,{label:t(".searchForPeople"),narrationText:t("narration.search"),onClick:n,placeholderIcon:Ld.MagnifyingGlass,gamepadAlias:"search-for-people-text-box"}),r.createElement(Vi,{size:2}),r.createElement(yP,{height:4.4,narrationText:t(".narration.close"),onClick:e,inputLegend:t(".close"),className:"a9374dfadbf2d6911c9b"},r.createElement(Su,null))))}function mO({role:e="inherit",reversed:t=!0}){const a=Yr(e),n=Zr();return r.createElement("fast-div",{className:"e4593cae86d3884c0450"},r.createElement("fast-div",{className:dl()("cfcfb58bee9012d6be3e",a.bevel.base,t?n.reversed:void 0)}))}const pO=a.p+"assets/arrowForward-03da527a1dfdbb6f55c5.png",fO=a.p+"assets/arrowForwardDisabled-779d8bbb4b32058801f7.png";function gO(){return gO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gO.apply(null,arguments)}const EO=e=>{let{className:t,disabled:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className","disabled"]);const o=(0,l.useFacetWrap)(null!=a&&a),c=bu("e6323577e16dcb8f27e1",t);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(pu,gO({},n,{className:c,src:fO,imageRendering:"pixelated"}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(pu,gO({},n,{className:c,src:pO,imageRendering:"pixelated"}))))},bO="...",hO=({index:e,totalPages:t,currentPage:a,maxIndices:n,onChange:o,role:c="neutral"})=>{const i=Qr(c),s=Yr(c),{t:u}=ws("Pagination"),d=((e,t,a,n)=>(0,l.useFacetMap)(((e,t,n)=>function(e,t,a,n){const r=String(a+1);if(0===a)return r;if(a===n-1)return String(e);if(e<=n)return r;const l=n-4,o=Math.floor(l/2),c=l%2==0?o-1:o;let i=!1;t>c+2+1&&(i=!0);let s=!1;return t<e-o-2&&(s=!0),1===a&&i||a===n-2&&s?bO:i&&s?`${t+(a-c-2)}`:i&&!s?`${e-n+a+1}`:r}(e,t,a,n)),[a],[e,t,n]))(t,a,e,n),m=(0,l.useFacetMap)(((e,t)=>e===String(t)),[],[d,a]),p=(0,l.useFacetCallback)(((t,a,n,r,l)=>()=>{a||o(t!==bO||1!==e?t!==bO||e!==l-2?Number(t):Math.min(n+l-2,r):Math.max(n-l+2,1))}),[e,o],[d,m,a,t,n]),f=(0,l.useFacetMap)(((t,a,n,r,l)=>t===bO&&1===e?u(".skipPrevious",[String(Math.max(n-5,0))]):t===bO&&e===l-2?u(".skipNext",[String(Math.min(n+5,r)),String(r)]):[u(".index",[t,String(r),u(a?".selected":".unselected")])].join(" . ")),[e,u],[d,m,a,t,n]),g=(0,l.useFacetMap)((e=>dl()(s.background.base,s.text.base,s.border.base,e?"baf0a794cb76ccac3665":[s.background.hover,s.background.press,s.text.hover,s.text.press,s.border.hover,s.border.press])),[s],[m]),E=(0,l.useFacetMap)((e=>!1===e?i.press:void 0),[i],[m]),b=(0,l.useFacetMap)((e=>!1===e?i.hover:void 0),[i],[m]),h=(0,l.useFacetMap)((e=>!1===e?i.focus:void 0),[i],[m]);return r.createElement(Wi,{narrationText:f,"data-testid":`pagination-index-${e}`,inputLegend:u(".currentPage",[`${e+1}`]),onClick:p,classNameFocused:Ws,className:g,soundEffectPressed:E,soundEffectHovered:b,soundEffectFocused:h},r.createElement(Bs,null),r.createElement(l.Mount,{condition:!1,when:m},r.createElement(Ks,{effect:"bevel"})),r.createElement("div",{className:"c102e57c8481f98cfb70"},r.createElement(l.Mount,{when:m},r.createElement("fast-div",{className:dl()("d14366346411f63308a5",s.icon.base)})),r.createElement(Zi,{type:"body"},d)))},vO=e=>{let{direction:t,narrationText:a,disabled:n,inputLegend:o,onClick:c,disabledNarration:i}=e,s=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["direction","narrationText","disabled","inputLegend","onClick","disabledNarration"]);const u=(0,l.useFacetMap)(((e,t,a)=>e?a:t),[],[n,a,i]);return r.createElement("div",{className:"ccffef8f196e36ec0a96"},r.createElement(qd,{height:4,isElevated:!0,narrationText:u,variant:"secondary","data-testid":s["data-testid"],disabled:n,inputLegend:o,onClick:c},r.createElement("div",{className:"cc7397a10a3b63940358"},"next"===t?r.createElement(EO,{disabled:n,className:"cdbbb9004555dc468835"}):r.createElement(cy,{className:"e1805b520244ecc202f2",disabled:n}))))},FO=({onChange:e,totalPages:t=1,currentPage:a=1,role:n="neutral",counterStyle:o="indices-list",unlockMaxWidth:c=!1,prevNarrationSuffix:i="",nextNarrationSuffix:s="",narrateTotalOnChange:u=!1,narrateContextOnChange:d=!1,triggerShortcuts:m=!1,middleSpacingsSize:p=4,maxIndices:f=7})=>{const g=(0,l.useFacetWrap)(o),E=(0,l.useFacetWrap)(a),b=(0,l.useFacetWrap)(t),h=(0,l.useFacetWrap)(f),v=Yr(n),F=nt(),y=(0,r.useContext)(Je).isPointerInputTouch,{narrateText:S}=sd({interruptible:!1}),{narrateCurrentContext:C}=Pi(),M=Sc(),w=(0,l.useFacetWrap)(c),k=(0,l.useFacetWrap)(i),P=(0,l.useFacetWrap)(s),T=(0,l.useFacetWrap)(u),I=(0,l.useFacetWrap)(d),{t:x}=ws("Pagination"),O=(0,r.useRef)(null),A=(0,l.useFacetMap)(((e,t)=>Array.from({length:Math.min(e,t)},((e,t)=>t))),[],[b,h]),N=(0,l.useFacetCallback)(((t,a,n,r)=>()=>{if(t>0){const l=Math.max(t-1,0);e(l);const o=n?x(".nowOnPageOf",[String(l),String(a)]):x(".nowOnPage",[String(l)]),c=l>1?x(".previousPage",[String(l-1)]):x(".previousPageDisabled");S(o),r&&C(void 0,!1),S(c)}}),[C,S,e,x],[E,b,T,I]),R=(0,l.useFacetCallback)(((t,a,n,r)=>()=>{if(t<a){const l=Math.min(t+1,a);e(l);const o=n?x(".nowOnPageOf",[String(l),String(a)]):x(".nowOnPage",[String(l)]),c=l>1?x(".nextPage",[String(l+1)]):x(".nextPageDisabled");S(o),r&&C(void 0,!1),S(c)}}),[C,S,e,x],[E,b,T,I]),L=(0,l.useFacetMap)(((e,t)=>e||t?`${x(".context")} . ${x(".contextHintMouse")}`:`${x(".context")} . ${x(".contextHintGamepad")}`),[x],[F,y]),D=(0,l.useFacetMap)(((e,t)=>{const a=x(".previousPage",[""+(e-1)]);return t.length>0?[a,t].join(" . "):a}),[x],[E,k]),_=(0,l.useFacetMap)(((e,t)=>{const a=x(".nextPage",[`${e+1}`]);return t.length>0?[a,t].join(" . "):a}),[x],[E,P]),B=(0,l.useFacetMap)(((e,t)=>x(".indexCounter",[`${e}`,`${t}`])),[x],[E,b]),W=(0,l.useFacetMap)((e=>e?dl()("f0e18bf4e260f1b9baad"):""),[],[w]),U=(0,l.useFacetWrap)(m),z=(0,l.useFacetMap)((e=>1===e),[],[E]),H=(0,l.useFacetMap)(((e,t)=>e===t),[],[E,b]),G=(0,l.useFacetMap)((e=>({button:j.LEFT_TRIGGER,inputLegend:x(".previousPageInputLegend"),disabled:e})),[x],[z]),V=(0,l.useFacetMap)((e=>({button:j.RIGHT_TRIGGER,inputLegend:x(".nextPageInputLegend"),disabled:e})),[x],[H]);return r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>e>1||"hide-counter"===t),[],[b,g])},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:U},r.createElement(r.Fragment,null,r.createElement(Ed,{options:G,onClick:N}),r.createElement(Ed,{options:V,onClick:R}))),r.createElement(bd,{text:L},r.createElement("fast-div",{className:W,ref:O},r.createElement("div",{className:"ec3f98f957cb94d6d378"},r.createElement(vO,{direction:"previous",disabled:z,disabledNarration:(0,l.useFacetWrap)(x(".previousPageDisabled")),inputLegend:(0,l.useFacetWrap)(x(".previousPageInputLegend")),narrationText:D,onClick:N,"data-testid":"pagination-button-left"}),r.createElement(Vi,{size:p}),r.createElement(l.Unwrap,{data:g},(t=>{switch(t){case"indices-list":return r.createElement(r.Fragment,null,r.createElement("div",{className:"cffbf6374ed979d5e927"},r.createElement("div",{className:"d40fcbadf768786c6c11"},r.createElement("div",{className:"a01eca73c035804b9415"},r.createElement(l.Map,{array:A},((t,a)=>r.createElement(hO,{role:n,currentPage:E,totalPages:b,index:a,onChange:e,maxIndices:h})))))));case"index-counter":case"index-counter-no-border":return r.createElement(r.Fragment,null,"narrow"!==M&&r.createElement(Zi,{className:dl()("db2ccb7d4ceb816a9dba","index-counter-no-border"===t?[]:["d0584b7d706a9c0b0f2f",v.background.base,v.border.base]),align:"center",verticalAlign:"center",type:"body"},r.createElement("fast-text",{text:B})));default:return r.createElement(r.Fragment,null)}})),r.createElement(Vi,{size:p}),r.createElement(vO,{direction:"next",disabled:H,disabledNarration:(0,l.useFacetWrap)(x(".nextPageDisabled")),inputLegend:(0,l.useFacetWrap)(x(".nextPageInputLegend")),narrationText:_,onClick:R,"data-testid":"pagination-button-right"}))))))};function yO(){return(0,l.useFacetMap)((e=>TI(e.platform)||xI(e.platform)),[],[(0,l.useSharedFacet)(_l)])}const SO=(0,r.createContext)({linkCount:0,setLinkCount:()=>{}}),CO=SO.Provider;function MO({children:e,disabled:t,onClick:a,withUnderlinePolyfill:n,soundEffectPressed:o,inputLegend:c,focusRefOverride:i,narrationText:s,narrationSuffix:u,__testAlias:d,role:m="inherit","data-testid":p}){const{t:f}=ws("Link"),g=Yr(m),E=qr(m),b=Qr(m),h=(0,l.useFacetMap)(((e,t,a)=>{const n=[null!=e?e:a,f(".narrationComponentType")];return null!=t&&n.push(t),n.join(" . ")}),[f],[(0,l.useFacetWrap)(s),(0,l.useFacetWrap)(u),(0,l.useFacetWrap)(e)]),v=E.text.regular.default,F=(0,r.useMemo)((()=>({textDecorationColor:v})),[v]);return r.createElement(Wi,{tag:"span",className:dl()("ebd5a5696d2f5975e2cd",g.highlight.hover,g.text.base,{cc7069fe118258799033:!1,cdaab432a7ef14046b25:n,fddd5382108765304b2d:n&&!1}),gamepadAlias:d,classNameFocused:dl()(Ws,"faf2ddb1725683561e00"),focusRefOverride:i,inputLegend:null!=c?c:f(".open"),narrationText:h,onClick:a,disabled:t,soundEffectPressed:null!=o?o:b.click,style:F,"data-testid":p},r.createElement(Bs,{role:m,disabled:t,withoutBorders:!0}),(0,l.isFacet)(e)?r.createElement("fast-text",{text:e}):e,n&&r.createElement("div",{className:dl()("e093bdf46352d298cd09"),style:{borderBottomColor:v}}))}const wO=a.p+"assets/cross-c49fdb0933f1710219e4.png";function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},kO.apply(null,arguments)}const PO=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("a314ddfb9446f6b33128",t);return r.createElement(pu,kO({},a,{className:n,src:wO,imageRendering:"pixelated"}))};function TO(e){const{role:t="inherit",onClick:a}=e,{t:n}=ws("TitleBar.Buttons.Close");return r.createElement(Us,{role:t,onClick:a,className:"b35647937ff5b966f06a",inputLegend:n(".inputLegend"),narrationText:n(".narration"),testId:e["data-testid"]},"noticeTint"===t?r.createElement(PO,null):r.createElement(Su,null))}TO.displayName="BannerCloseButton";function IO({children:e}){return r.createElement("div",{className:"d28d43e298f992a7bb0e"},e)}function xO(e){const{children:t,role:a,icon:n,__testAlias:o,onClose:c}=e,i=(0,r.useRef)(null),s=(0,r.useRef)(null),u=Ln(),[d,m]=(0,r.useState)(0),p=Yr(a),{t:f}=ws("Banner"),g=(0,r.useMemo)((()=>!!c||d>0),[c,d]),E=(0,l.useFacetWrap)(u&&!g),b=g?"3.2rem":"2.8rem",h=((e,t)=>{const[a,n]=(0,l.useFacetState)("default");return Bc(e,(({height:e})=>{n(e>t?"spacious":"default")})),a})(s,Fc(parseFloat(b))),v=(0,l.useFacetMap)((e=>dl()("e094d4735164385037fc",p.background.base,p.text.base,{c7b6c07acb5555008e10:"spacious"===e})),[p],[h]),F=dl()("f8849a5b6bb23a20713b",{f69e0adffea502673e0e:!!c,a10ab058cd8f3fbc7a4b:!!n,d0e2562775ca446da51a:!!n&&!c,cfddbeea92ff1599965c:!n&&!!c}),y=()=>{let e="";return i.current&&(e=$M(XM(i.current))),g?e:`${e} . ${f(".narrationComponentTypeTextBox")}`},S=(0,r.useMemo)((()=>{const e={linkCount:d,setLinkCount:m};return c&&(e.linkNarrationSuffix=f(".closeButtonNarrationHint",[f(".narrationComponentTypeTextBox")])),e}),[c,f,d,m]);return r.createElement(Sr,{role:a},r.createElement(uu,{containerRef:i},r.createElement(CO,{value:S},r.createElement("fast-div",{ref:i,className:v},r.createElement(OO,{when:E,__testAlias:o,getNarrationText:y}),r.createElement(bd,{getText:y},n&&r.createElement(IO,null,n),r.createElement("fast-div",{ref:s,className:F,style:{minHeight:b}},t),c&&r.createElement(TO,{role:a,onClick:c,"data-testid":e["close-button-test-id"]}))))))}IO.displayName="BannerIcon",xO.displayName="Banner",xO.Text=function({children:e,align:t}){return r.createElement(Zi,{type:"body",role:"inherit",align:t,shouldNarrate:!0},e)},xO.Link=({children:e,onClick:t,soundEffectPressed:a,__testAlias:n,narrationSuffix:l,"data-testId":o,disableSpacingTop:c=!1})=>{const i=Qr("inherit"),{linkNarrationSuffix:s,setLinkCount:u}=(0,r.useContext)(SO),d=[l,s].filter(Boolean).join(" . ")||void 0;(0,r.useEffect)((()=>(u((e=>e+1)),()=>{u((e=>e-1))})),[u]);const m=dl()({b8a215ad4bce0d00b17c:!c});return r.createElement(Zi,{type:"body",role:"inherit",className:m},r.createElement(MO,{soundEffectPressed:null!=a?a:i.click,withUnderlinePolyfill:!0,onClick:t,__testAlias:n,narrationSuffix:d,"data-testid":o},e))};const OO=({when:e,getNarrationText:t,__testAlias:a})=>{const n=Qr("inherit");return r.createElement(l.Mount,{when:e},r.createElement(Wi,{className:"bc7551b6ba6d4befaab6",classNameFocused:Ws,gamepadAlias:a,inputLegend:!1,soundEffectPressed:n.click,getNarrationText:t},r.createElement(Bs,{inset:!0})))};function AO({screenAnalyticsId:e}){const{t}=ah("FriendsDrawer"),a=JT(),n=p(),o=(0,l.useSharedFacet)(CF),c=(0,l.useSharedFacet)(FF),i=(0,l.useSharedFacet)(_l),s=Rd(Mb),u=WI(),d=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(a.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.ParentPermissionHelpPage)}),[],[o,c,i]),m=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{t?a.showPremiumNetworkUpsellModal():II(n.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.TroubleshootingMultiplayerDisabled)}),[],[o,u,c,i]),f=(0,r.useCallback)((()=>{a({screen:e,button:"SignIn"}),n.replace("/sign-in?signInSource=FriendsDrawer_NotLoggedInBanner_OreUI")}),[a,n,e]),g=(0,l.useFacetMap)(((e,t,a)=>!TI(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?!xI(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?TI(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-playstation":xI(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-nintendo":e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)||a?"multiplayer":e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)?"multiplayer-parental":void 0:"msa-guest-nintendo":"msa-guest-playstation"),[],[(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(_l),u]),E=(0,l.useFacetMap)((e=>null!=e&&!s),[s],[g]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:E},r.createElement(Vi,{size:2})),r.createElement(l.Unwrap,{data:g},(e=>{switch(e){case"multiplayer":return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".multiplayerBanner.text")),r.createElement(xO.Link,{"data-testId":"multiplayer-troubleshooting-link",onClick:m},t(".multiplayerBanner.learnMore")));case"multiplayer-parental":return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".multiplayerBanner.textParental")),r.createElement(xO.Link,{onClick:d,"data-testId":"multiplayer-parental-permission-help-link"},t(".multiplayerBanner.learnMore")));case"msa-guest-playstation":return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".msaGuestPlaystationBanner")),r.createElement(xO.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));case"msa-guest-nintendo":return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".msaGuestNintendoBanner")),r.createElement(xO.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));case"msa-guest-with-premium-playstation":case"msa-guest-with-premium-nintendo":return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".msaGuestPremiumBanner")),r.createElement(xO.Link,{onClick:f,"data-testId":"login-link"},t(".bannerLogInMicrosoft")));default:return null}})))}function NO({ownerId:e,platformId:t}){const a=(0,l.useFacetWrap)(null!=e?e:""),n=(0,l.useFacetWrap)(null!=t?t:""),r=(0,l.useFacetCallback)((e=>(t,a)=>{e.subscribeToProfile(t,a)}),[],[(0,l.useSharedFacet)(xh)]);(0,l.useFacetEffect)(((e,t)=>{(e||t)&&r(e,t)}),[r],[a,n]);const o=(0,l.useFacetMap)(((e,t)=>({xuid:e,platformId:t})),[],[a,n]),c=RO(o),i=(0,l.useFacetMap)((e=>(null==e?void 0:e.state.xblState)===Th.Loaded||(null==e?void 0:e.state.platformState)===Th.Loaded),[],[c]),s=(0,l.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblProfilePic?t.xblProfilePic:null!==(a=t.platformProfilePic)&&void 0!==a?a:"";var t,a}),[],[c]);return{ownerDetails:c,isLoaded:i,profileName:(0,l.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblName?t.xblName:null!==(a=t.platformName)&&void 0!==a?a:"";var t,a}),[],[c]),avatarSource:s}}function RO(e){return(0,l.useFacetMap)(((e,t)=>{const{xuid:a,platformId:n}=t;return""===a&&""===n?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!=n?e.playerProfiles.find((e=>e.data.platformId===n))||null:e.playerProfiles.find((e=>e.data.xuid===a))||null}),[],[(0,l.useSharedFacet)(xh),e])}function LO(){const e=(0,l.useSharedFacet)(xh),t=(0,l.useSharedFacet)(FF);return(0,l.useFacetMap)(((e,t)=>t.isLoggedInWithMicrosoftAccount?e.playerProfiles.find((e=>e.data.xuid===t.currentXuid))||null:e.playerProfiles.find((e=>e.data.platformId===t.currentPlatformId))||null),[],[e,t])}function DO(e){return(0,l.useFacetMap)(((e,t)=>t.map((t=>{const{xuid:a,platformId:n}=t;return""===a&&""===n?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!==n?e.playerProfiles.find((e=>e.data.platformId===n))||null:e.playerProfiles.find((e=>e.data.xuid===a))||null}))),[],[(0,l.useSharedFacet)(xh),e])}const _O="cc80fa500db52cfff96d",BO="b23b45a2e4d5f682ff7a";function WO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function UO(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?WO(Object(a),!0).forEach((function(t){zO(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):WO(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zO(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const jO=(0,l.createStaticFacet)([]);function HO({loading:e,drawerOpen:t,friendsOnline:a,friendsOffline:n=jO,incomingRequests:o=jO,outgoingRequests:c=jO,profileEntryPoint:i,spinnerBackgroundColor:s,showSpinnerBorder:u,screenAnalyticsId:d,onItemClick:m,isSocialDrawer:p=!1}){const{t:f}=ws("FriendList"),g=Rd(Mb),E=(0,l.useSharedFacet)(_l),b=(0,l.useFacetMap)((e=>e.activeMultiplayerServiceIds.includes(Dl.AdHoc)),[],[E]),h=(0,l.useFacetMap)((e=>TI(e.platform)?"playstation":xI(e.platform)?"switch":void 0),[],[E]),v=(0,l.useFacetMap)(((e,t)=>e&&!t.isLoggedInWithMicrosoftAccount?"title":e&&t.isLoggedInWithMicrosoftAccount?"list-item":"none"),[],[yO(),(0,l.useSharedFacet)(FF)]),F=(0,r.useRef)(null),{delegationEventFacet:y,delegateFocus:S}=Js(),C=(0,r.useCallback)((()=>{requestAnimationFrame((()=>{F.current&&(F.current.scrollTop=0,S.first())}))}),[F,S]),{currentPage:M,totalPages:w,currentOnlineFriendsData:k,currentOfflineFriendsData:P,changeFriendsPage:T,reset:I}=function({friendsPerPage:e,friendsOnline:t,friendsOffline:a,onPagination:n}){const[o,c]=(0,l.useFacetState)(1),i=(0,l.useFacetMap)(((t,a)=>Math.ceil((t.length+a.length)/e)),[e],[t,a]),s=(0,l.useFacetMemo)(((t,a,n)=>{const r=[...lx(t),...a];return function({currentPage:e,friendsPerPage:t,friends:a}){const n=(e-1)*t,r=n+t;return a.slice(n,r)}({currentPage:n,friendsPerPage:e,friends:r})}),[e],[t,a,o]),u=(0,l.useFacetMap)((e=>e.filter((e=>e.presence===pF.Online||e.presence===pF.Away))),[],[s]),d=(0,l.useFacetMap)((e=>e.filter((e=>e.presence===pF.Offline||e.presence===pF.Unknown))),[],[s]),m=(0,l.useFacetCallback)((e=>t=>{e!==t&&(c(t),n())}),[c,n],[o]),p=(0,r.useCallback)((()=>c(1)),[c]);return(0,l.useFacetEffect)(((e,t)=>{if(e>0&&e<t){c(e);const t=setTimeout(n,30);return()=>clearTimeout(t)}}),[n,c],[i,o]),{currentPage:o,totalPages:i,currentOnlineFriendsData:u,currentOfflineFriendsData:d,changeFriendsPage:m,reset:p}}({friendsPerPage:15,friendsOnline:a,friendsOffline:n,onPagination:C}),x=(0,l.useFacetMemo)(((e,t,a,n,r,l,o)=>{let c=new Set;var i;"list-item"===r&&(c=new Set((null!==(i=o.platformFriends)&&void 0!==i?i:[]).map((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}))));const s=function({friendsOnline:e,friendsOffline:t,incomingRequests:a,outgoingRequests:n},r,l){return{firstSection:cx(e).map((e=>{var t;return XO(e,"player",r.has(null!==(t=e.xuid)&&void 0!==t?t:"")?l:void 0)})),secondSection:t.map((e=>{var t;return XO(e,"player",r.has(null!==(t=e.xuid)&&void 0!==t?t:"")?l:void 0)})),requests:[...a.map((e=>XO(e,"received-request"))),...n.map((e=>XO(e,"sent-request")))]}}({friendsOnline:e,friendsOffline:t,incomingRequests:a,outgoingRequests:n},c,l);return s}),[],[k,P,o,c,v,h,(0,l.useSharedFacet)(rx)]),O=Pe();(0,l.useFacetLayoutEffect)(((e,t)=>{e||t||!F.current?e&&!t&&F.current&&(I(),O("own-profile")):F.current.scrollTop=0}),[F,I,S,O],[t,e]);const A=LO(),N=(0,l.useFacetMap)(((e,t)=>null!=e&&!t),[],[A,e]),R=(0,l.useFacetMap)((e=>{var t,a,n,r,l,o,c,i,s,u,d,m,p,f,g;return""!==(null==e?void 0:e.data.xuid)?{id:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",xuid:null!==(a=null==e?void 0:e.data.xuid)&&void 0!==a?a:"",gamerTag:null!==(n=null==e?void 0:e.data.xblName)&&void 0!==n?n:"",gamerIcon:null!==(r=null==e?void 0:e.data.xblProfilePic)&&void 0!==r?r:"",variant:"self",favoriteStatus:mF.NOT_FAVORITE,presence:null!==(l=null==e?void 0:e.data.presence)&&void 0!==l?l:pF.Online,presenceMessage:"Online",titleName:null!==(o=null==e?void 0:e.data.titleName)&&void 0!==o?o:"",partyPresence:null!==(c=null==e?void 0:e.data.partyPresence)&&void 0!==c?c:fF.NotInParty}:{id:null!==(i=null!==(s=null==e?void 0:e.data.platformId)&&void 0!==s?s:null==e?void 0:e.data.xuid)&&void 0!==i?i:"",xuid:"",platformId:null!==(u=null==e?void 0:e.data.platformId)&&void 0!==u?u:"",gamerTag:null!==(d=null==e?void 0:e.data.platformName)&&void 0!==d?d:"",gamerIcon:null!==(m=null==e?void 0:e.data.platformProfilePic)&&void 0!==m?m:"",variant:"self",favoriteStatus:mF.NOT_FAVORITE,presence:null!==(p=null==e?void 0:e.data.presence)&&void 0!==p?p:pF.Online,presenceMessage:"Online",titleName:null!==(f=null==e?void 0:e.data.titleName)&&void 0!==f?f:"",partyPresence:null!==(g=null==e?void 0:e.data.partyPresence)&&void 0!==g?g:fF.NotInParty}}),[],[A]),L=(0,r.useRef)(null),D=(0,l.useFacetMap)((e=>e>1),[],[w]),_=(0,l.useFacetMemo)(((e,t,a,n,r,l,o,c)=>[UO({role:"successTint",title:f("title"===t&&a?`.online.${a}`:".online",[`${l.length}`]),narrationTitle:f("title"===t&&a?`.narration.online.${a}`:".narration.online"),narrationSuffix:f(1!=l.length?".onlineFriendsNumberMultiple":".onlineFriendsNumberSingular",[`${l.length}`]),data:e.firstSection},1===n?{emptyStateMessage:f(".noOnlineFriends")}:{}),{role:"neutral",title:f(".pending",[`${e.requests.length}`]),narrationTitle:f(".pendingFriends"),narrationSuffix:f(1!=e.requests.length?".pendingFriendsNumberMultiple":".pendingFriendsNumberSingular",[`${e.requests.length}`]),data:e.requests},UO({role:"secondary",title:f("title"===t&&a?`.offline.${a}`:".offline",[`${o.length}`]),narrationTitle:f("title"===t&&a?`.narration.offline.${a}`:".narration.offline"),narrationSuffix:f(1!=o.length?".offlineFriendsNumberMultiple":".offlineFriendsNumberSingular",[`${o.length}`]),data:e.secondSection},n!==r||c?{}:{emptyStateMessage:f(".noOfflineFriends")})]),[f],[x,v,h,M,w,a,n,b]);return r.createElement(l.Unwrap,{data:b},(a=>a?r.createElement(nI,{scrollRef:F,delegateFocusByAlias:"own-profile",header:r.createElement($O,{isFriendsDrawerSecondIteration:g,profileEntryPoint:i,screenAnalyticsId:d,shouldRenderOwnProfile:N,ownProfilePlayerItem:R,onItemClick:m,isSocialDrawer:p}),loading:e,data:_,renderSectionHeader:(e,t)=>r.createElement("div",{className:_O},r.createElement(aP,{role:t,label:e})),renderItem:e=>r.createElement(hx,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`friend-list-item-${e.sectionIndex}-${e.index}`,profileEntryPoint:i,screenAnalyticsId:d,onMainActionClick:m,testId:"friend-list-friend-profile",grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0}),spinnerBackgroundColor:s,showSpinnerBorder:u}):r.createElement(nI,{scrollRef:F,delegateFocusByAlias:"own-profile",header:r.createElement(VO,{isFriendsDrawerSecondIteration:g,profileEntryPoint:i,screenAnalyticsId:d,shouldRenderOwnProfile:N,ownProfilePlayerItem:R,onItemClick:m,isSocialDrawer:p}),footer:r.createElement(GO,{isFriendsDrawerSecondIteration:g,shouldShowPagination:D,screenAnalyticsId:d,currentPage:M,totalPages:w,changeFriendsPage:T,isSocialDrawer:p}),loading:e,data:_,sectionsWrapper:({children:e})=>r.createElement(eu,{delegationEvent:y},r.createElement(uu,{containerRef:L,delegateFocusFromMemory:t},r.createElement("div",{ref:L,className:"f32e0478531e675b8937"},e))),renderSectionHeader:(e,t)=>r.createElement("div",{className:_O},r.createElement(aP,{role:t,label:e})),renderItem:e=>r.createElement(hx,{item:e.itemFacet,listLength:e.listLengthFacet,index:e.index,gamepadAlias:`friend-list-item-${e.sectionIndex}-${e.index}`,profileEntryPoint:i,screenAnalyticsId:d,onMainActionClick:m,testId:"friend-list-friend-profile",grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0}),spinnerBackgroundColor:s,showSpinnerBorder:u})))}function GO({isFriendsDrawerSecondIteration:e,screenAnalyticsId:t,shouldShowPagination:a,totalPages:n,currentPage:o,changeFriendsPage:c,isSocialDrawer:i}){return r.createElement(r.Fragment,null,e?r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement("div",{className:"fd41f1b0d219f2e25a13"},r.createElement(mO,null)),r.createElement(Vi,{size:i?2:3}),r.createElement(Rx,{screenAnalyticsId:t}),r.createElement(Vi,{size:i?2:0}),r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(FO,{unlockMaxWidth:!0,totalPages:n,currentPage:o,onChange:c,maxIndices:5,middleSpacingsSize:2}),r.createElement(Vi,{size:3})))):r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(FO,{unlockMaxWidth:!0,totalPages:n,currentPage:o,onChange:c,maxIndices:5,middleSpacingsSize:2}),r.createElement(Vi,{size:3})))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}))}function VO({isFriendsDrawerSecondIteration:e,shouldRenderOwnProfile:t,ownProfilePlayerItem:a,profileEntryPoint:n,screenAnalyticsId:o,onItemClick:c,isSocialDrawer:i}){const{t:s}=ws("FriendList");return r.createElement(r.Fragment,null,e?null:r.createElement(r.Fragment,null,r.createElement(AO,{screenAnalyticsId:o}),r.createElement(l.Mount,{when:t},r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement("div",{className:BO},r.createElement(aP,{role:"informativeTint",label:s(".you")}),r.createElement(hx,{item:a,listLength:(0,l.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:n,screenAnalyticsId:o,onMainActionClick:c,testId:"friend-list-own-profile",enablePSNLogo:!0})))),!i&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(Rx,{screenAnalyticsId:o}))))}function $O({isFriendsDrawerSecondIteration:e,shouldRenderOwnProfile:t,ownProfilePlayerItem:a,profileEntryPoint:n,screenAnalyticsId:o,onItemClick:c}){const{t:i}=ws("FriendList");return r.createElement(r.Fragment,null,e?null:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement("div",{className:BO},r.createElement(aP,{role:"informativeTint",label:i(".you")}),r.createElement(hx,{item:a,listLength:(0,l.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:n,screenAnalyticsId:o,onMainActionClick:c,testId:"friend-list-own-profile",enablePSNLogo:!0}))))))}function XO(e,t,a){var n,r,l;return{id:null!==(n=null!==(r=null!==(l=e.xuid)&&void 0!==l?l:e.platformId)&&void 0!==r?r:e.actorId)&&void 0!==n?n:"",gamerIcon:e.gamerIcon,gamerTag:e.gamerTag,isInSameGame:e.isInSameGame,playingOnServerId:e.playingOnServerId,xuid:e.xuid,platformId:e.platformId,variant:t,platform:a,presence:e.presence,favoriteStatus:e.favoriteStatus,presenceMessage:e.presenceMessage,titleName:e.titleName,partyPresence:e.partyPresence}}function KO(){const e=p();return(0,l.useFacetCallback)(((t,a)=>()=>{a.platform===Ye.WIN32?e.push("/win10-trial-conversion"):t.purchaseGame(Xv.FullGame)}),[e],[(0,l.useSharedFacet)(Kv),(0,l.useSharedFacet)(_l)])}const YO=a.p+"assets/trial-mode-art-4074416ab6dd83b5f146.png",qO=a.p+"assets/external-link-white-0e493f3fa9f4180781d0.png";function QO(){return QO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},QO.apply(null,arguments)}const JO=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("ebadd39c6f80c75dcf0b",t);return r.createElement(pu,QO({},a,{className:n,src:qO,imageRendering:"pixelated"}))};JO.imgSrc=qO;let ZO;!function(e){e.CREATE="create",e.EDIT="edit",e.EDIT_REALM="edit-realm"}(ZO||(ZO={}));const eA=r.createContext(ZO.CREATE);let tA;function aA({context:e}){const{t}=ws("TrialModeMessage"),a=JT(),n=KO(),l=(0,r.useContext)(eA),o=e===tA.FRIENDS_DRAWER,c=e===tA.REALMS||e===tA.SERVERS,i=(0,r.useCallback)((()=>{a({button:"BuyMinecraft",screen:cA(e,l),details:{tab:e}}),n()}),[a,n,e,l]);return r.createElement(ud,{floating:!0,flexShrinkWrapper:!0},c&&r.createElement(Vi,{size:2}),r.createElement(aw,{borderless:o,title:rA(e,t),text:lA(e,t),imgSrc:YO,imgClass:oA(e),buttons:[{text:t(".buyMinecraftButton"),onClick:i,variant:"primary",imgSrc:JO.imgSrc,buttonTestId:"empty-state-buy-minecraft-button"}]}),r.createElement(Vi,{size:3}),r.createElement(Lm.Space,null),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function nA({context:e}){return r.createElement("div",{className:"da5167134a037fd1bf7e"},r.createElement(Vi,{size:4}),r.createElement(aA,{context:e}),r.createElement(Vi,{size:4}))}function rA(e,t){switch(e){case tA.REALMS:case tA.SERVERS:case tA.FRIENDS_DRAWER:case tA.MULTIPLAYER_TAB:return t(".title");case tA.ADVANCED_TAB:return t(".advancedTabTitle");case tA.CHEATS_TAB:return t(".cheatsTabTitle");case tA.RESOURCE_PACKS_TAB:return t(".resourcePacksTabTitle");case tA.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabTitle");case tA.EXPERIMENTS_TAB:return t(".experimentsTabTitle");default:return"Translation missing"}}function lA(e,t){switch(e){case tA.REALMS:return t(".realmsMessage");case tA.SERVERS:return t(".serversMessage");case tA.FRIENDS_DRAWER:return t(".friendsDrawerMessage");case tA.ADVANCED_TAB:return t(".advancedTabMessage");case tA.MULTIPLAYER_TAB:return t(".multiplayerTabMessage");case tA.CHEATS_TAB:return t(".cheatsTabMessage");case tA.RESOURCE_PACKS_TAB:return t(".resourcePacksTabMessage");case tA.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabMessage");case tA.EXPERIMENTS_TAB:return t(".experimentsTabMessage");default:return"Translation missing"}}function oA(e){const t=Nw({wide:8,narrow:6,width:256});return(0,l.useFacetMap)((t=>e===tA.FRIENDS_DRAWER||t?"add3b2faad216330e23c":"b5740fb2a8bf0fc9ea35"),[e],[t])}function cA(e,t){switch(e){case tA.ADVANCED_TAB:case tA.BEHAVIOR_PACKS_TAB:case tA.CHEATS_TAB:case tA.EXPERIMENTS_TAB:case tA.MULTIPLAYER_TAB:case tA.RESOURCE_PACKS_TAB:return t===ZO.CREATE?"CreateNewWorld":"EditWorld";case tA.FRIENDS_DRAWER:case tA.REALMS:case tA.SERVERS:return"PlayScreen"}}!function(e){e.REALMS="RealmsTab",e.FRIENDS_DRAWER="FriendsDrawer",e.SERVERS="ServersTab",e.ADVANCED_TAB="AdvancedTab",e.MULTIPLAYER_TAB="MultiplayerTab",e.CHEATS_TAB="CheatsTab",e.RESOURCE_PACKS_TAB="ResourcePacksTab",e.BEHAVIOR_PACKS_TAB="BehaviorPacksTab",e.EXPERIMENTS_TAB="ExperimentsTab"}(tA||(tA={}));const iA=a.p+"assets/no-internet-art-53f294e4a76adfdada67.png";function sA({title:e,text:t,button:a,borderless:n,disableResize:o}){const{t:c}=ws("PlayScreen.noInternetMessage"),i=Nw({wide:8,narrow:6,width:256}),s=(0,l.useFacetWrap)(null!=e?e:""),u=(0,l.useFacetMap)((e=>Boolean(e)?e:c(".title")),[c],[s]),d=(0,l.useFacetWrap)(t),m=(0,l.useFacetMap)((e=>null!=e?e:""),[],[d]),p=(0,l.useFacetMap)((e=>e||Boolean(o)?"efc4132b3bc8cf8ff91a":"dda272add26b1b890ed1"),[o],[i]),f=(0,l.useFacetWrap)(null!=a?a:null),g=(0,l.useFacetMap)((e=>null!=e),[],[f]);return r.createElement(r.Fragment,null,r.createElement(aw.Wrapper,{borderless:n},r.createElement(aw.Title,{role:"neutral80"},u),r.createElement(aw.Image,{imgClass:p,imgSrc:iA}),r.createElement(aw.Text,null,m),r.createElement(l.Mount,{when:g},r.createElement(aw.ButtonsWrapper,null,r.createElement(l.Unwrap,{data:a},(e=>{const{text:t,onClick:a,inputLegend:n,gamepadAlias:l,narrationSuffix:o,variant:c,Icon:i}=e;return r.createElement(aw.Button,{onClick:a,inputLegend:n,gamepadAlias:l,narrationSuffix:o,variant:c,Icon:i},t)}))))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}const uA=a.p+"assets/error-9e281d5900185e023433.png";function dA({tab:e,borderless:t}){const{t:a}=ws("PlayScreen"),n=Aw({wide:8,narrow:6,width:256});return r.createElement(r.Fragment,null,r.createElement(aw,{borderless:t,title:a(".errorOnLoadingTitle",[e]),text:a(".errorOnLoadingText"),imgSrc:uA,imgClass:n||t?"e1b0e32cb7b65f4f06fd":"b79e0d58bbe6cc4f9ac3"}),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}const mA=a.p+"assets/online-safety-child-8fad2009b4d02bc059bf.png",pA=a.p+"assets/online-safety-adult-dc71d57973878591b475.png",fA=a.p+"assets/external-link-b22bbbc33f4f1f41e010.png";function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gA.apply(null,arguments)}const EA=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("afa044f543f47cbe6eda",t);return r.createElement(pu,gA({},a,{className:n,src:fA,imageRendering:"pixelated"}))};function bA({isParental:e=!1,borderless:t}){const{t:a}=ws("FriendsDrawer.AddFriendsOnlineSafety"),n=Aw({wide:8,narrow:6,width:256});return r.createElement(r.Fragment,null,r.createElement(aw,{borderless:t,title:a(".title"),text:a(e?".textParental":".text"),imgSrc:e?mA:pA,imgClass:n||t?"c1f787f3e851dae73a2a":"f8de6eafd3457805e214",buttons:[{text:a(".helpButton"),variant:"secondary",imgSrc:EA.imgSrc,onClick:(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(CF)])}]}),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}EA.imgSrc=fA;const hA=a.p+"assets/under-construction-art-cropped-cd6d3b45f26eafa460d2.png",vA="f03c06515e2945db5eea",FA="bd0e6da6d5c5c15c5412",yA="caae11331f1c08ba1b65",SA=(0,l.createFacet)({initialValue:{friendWorlds:[]}});function CA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function MA(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?CA(Object(a),!0).forEach((function(t){wA(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CA(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wA(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kA(e=!1){const t=function(e){const t=(0,l.useSharedFacet)(Vb),a=(0,l.useFacetMap)((e=>e.friendWorlds.filter((e=>e.friendOfFriendWorld)).map((({ownerId:e,id:t})=>({xuid:e,platformId:e,joinId:t})))),[],[e?t:SA]),n=(0,l.useFacetCallback)((e=>t=>e.subscribeToProfile(t,t)),[],[(0,l.useSharedFacet)(xh)]);return(0,l.useFacetEffect)((e=>e.forEach((e=>n(e.xuid)))),[n],[a]),(0,l.useFacetMap)(((e,t)=>e.filter((e=>null!=e)).map((e=>e.data)).map((e=>t=>{var a;return{isFriendOfFriend:!0,xuid:t.xuid,gamerTag:t.xblName||t.platformName,gamerIcon:t.xblProfilePic||t.platformProfilePic,isCurrentlyPlaying:!0,titleHistory:uF.HasPlayed,favoriteStatus:mF.UNKNOWN,presenceMessage:"",presence:pF.Online,titleName:t.titleName,playingOnServerId:null===(a=e.find((e=>e.xuid==t.xuid)))||void 0===a?void 0:a.joinId,partyPresence:t.partyPresence}})(t))),[],[DO(a),a])}(e),a=(0,l.useFacetMap)(((e,t)=>MA(MA({},e),{},{friendsOfFriends:t})),[],[(0,l.useSharedFacet)(rx),t]),n=(0,l.useFacetMap)(((e,t,a)=>function(e,t,a){return mx(t.isLoggedInWithMicrosoftAccount&&null!=e.xblFriends?e.xblFriends:[],a&&null!=e.platformFriends?e.platformFriends:[],e.friendsOfFriends)}(e,a,t)),[],[a,yO(),(0,l.useSharedFacet)(FF)]);return{friends:n,friendsOnline:(0,l.useFacetMap)((e=>e.filter((e=>(e.presence===pF.Online||e.presence===pF.Away)&&e.titleHistory==uF.HasPlayed))),[],[n]),friendsOffline:(0,l.useFacetMap)((e=>e.filter((e=>e.presence===pF.Offline&&e.titleHistory==uF.HasPlayed))),[],[n]),isLoading:(0,l.useFacetMap)((e=>e.xblLoadingState==dF.Loading||e.platformLoadingState==dF.Loading),[],[a]),isReady:(0,l.useFacetMap)((e=>e.xblLoadingState===dF.Ready||e.platformLoadingState==dF.Ready),[],[a]),isUnavailable:(0,l.useFacetMap)((e=>e.xblLoadingState===dF.Unavailable||e.platformLoadingState==dF.Unavailable),[],[a])}}function PA(){return(0,l.useFacetMap)(((e,t)=>{if(!TI(t.platform)&&!xI(t.platform)&&!e.isLoggedInWithMicrosoftAccount)return!0;if(xI(t.platform)||TI(t.platform)){if(!e.isSignedInPlatformNetwork)return!0;if(!e.hasPremiumNetworkAccess)return!0}return!!e.isBanned||!e.userPermissions.addFriends.allowed||!!e.isTrialAccount}),[],[(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(_l)])}const TA=a.p+"assets/signed-out-art-e090c5fed7b8c9235f67.png",IA=As((({onClose:e})=>{const{t}=ws("GenericErrorMessageModal"),a="pop-up-modal-sign-in-to-platform-generic-error-modal",n=t(".text");return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},n)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:a,inputLegend:t(".closeButton"),onClick:e},t(".closeButton"))))})),xA=As((({onClose:e})=>{const{t}=ws("NoInternetModal"),a="pop-up-modal-sign-in-to-platform-no-internet-error-modal",n=t(".text"),l=t(".button");return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},n),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:a,inputLegend:l,onClick:e},l))))}));const OA=function(){const e=(0,l.useSharedFacet)(FF),t=IA.useModal(),a=xA.useModal(),n=(0,l.useFacetMap)((e=>e.signInPlatformNetworkTaskResult),[],[e]),o=(0,l.useFacetMap)((e=>e===hF.NotConnected),[],[n]),c=(0,l.useFacetMap)((e=>e===hF.ConnectionFailed),[],[n]),i=(0,l.useFacetCallback)((e=>()=>{e.resetSignInPlatformNetwork(),a.hide()}),[a],[e]),s=(0,l.useFacetCallback)((e=>()=>{e.resetSignInPlatformNetwork(),t.hide()}),[t],[e]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:c},r.createElement(IA.Component,{onClose:s})),r.createElement(l.Mount,{when:o},r.createElement(xA.Component,{onClose:i})))},AA=function({buttonText:e}){const t=function(){const e=(0,l.useSharedFacet)(FF);return(0,l.useFacetCallback)((e=>()=>{e.signInToPlatformNetwork(!0)}),[],[e])}();return r.createElement(r.Fragment,null,r.createElement(aw.ButtonSpacer,null),r.createElement(aw.Button,{Icon:LM.ExternalLink,onClick:t,buttonTestId:"log-in-to-network-button"},e))};let NA;function RA({context:e,borderless:t=!1}){const{t:a}=ws("PlayScreen.GuestAccountMessage"),n=Nw({wide:8,narrow:6,width:256}),o=(0,l.useFacetMap)((e=>e||t?"d14f86b59ea4634470e7":"b03ff074ed1bf2dbdc75"),[t],[n]),c=e===NA.Playstation?a(".playstation.text"):a(".nintendo.text"),i=e===NA.Playstation?a(".playstation.button"):a(".nintendo.button");return r.createElement(r.Fragment,null,r.createElement(aw.Wrapper,{borderless:t},r.createElement(aw.Image,{imgClass:o,imgSrc:TA}),r.createElement(aw.Text,null,c),r.createElement(aw.ButtonsWrapper,{customButtonWrapperWidth:42},r.createElement(AA,{buttonText:i}))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(OA,null))}!function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo"}(NA||(NA={}));const LA={banner:"a1e7c2aa17e86708d290",bannerNarrow:"c243c06905ad5a2c7471",title:"dd8af366a8914ba1e24c",wrapper:"d3e2bcbff01a3fcae1d8",content:"f160edba588f029ad778",borderless:"a9d2aa9176d562d1c619",buttonContainer:"f35c2334fb638e1b2f4e"},DA=a.p+"assets/IconClock-999dc9265a3d50c3a97b.png";function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_A.apply(null,arguments)}const BA=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("c238a854b15e485b5c73",t);return r.createElement(pu,_A({},a,{className:n,src:DA,imageRendering:"pixelated"}))};function WA(e){const t=(new Date).getTime(),a=new Date(e).getTime()-t;return{days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.ceil(a%36e5/6e4)}}function UA(e){const t=WA(e);return{days:`${Math.max(t.days,0)}`,hours:`${Math.max(t.hours,0)}`,minutes:`${Math.max(t.minutes,0)}`}}function zA({banExpiration:e}){const[t,a]=(0,l.useFacetState)({days:"0",hours:"0",minutes:"0"}),{t:n}=ws("PlayScreen.SuspendedMessage"),o=(0,l.useFacetMap)((e=>n(".timer",[e.days,e.hours,e.minutes])),[n],[t]);return(0,l.useFacetEffect)((e=>{a(UA(e));const t=setInterval((()=>{a(UA(e))}),1e3);return()=>clearInterval(t)}),[a],[e]),r.createElement(Zi,{type:"body"},r.createElement(BA,null),r.createElement(Vi,{size:1}),r.createElement("fast-text",{text:o}))}const jA=e=>{const t=new Date(e).getTime();return!isNaN(t)&&null!=e&&"Indefinite"!==e};function HA(){const{t:e}=ws("BannedOrSuspendedMessage"),{t}=ws("BannedOrSuspendedReason"),a=(0,l.useSharedFacet)(FF),n=(0,l.useFacetMap)((e=>e.banReason),[],[a]),r=(0,l.useFacetMap)((e=>jA(e.banExpiration)),[],[a]),o=(0,l.useFacetMap)((e=>e?".SuspendedMessage":".BannedMessage"),[],[r]),c=(0,l.useFacetMap)((e=>t(".reasonForBan")+" "+t(`.${""!=e?e:"xbox.report.policyViolation"}`)),[t],[n]),i=(0,l.useFacetMap)((t=>e(`${t}.title`)),[e],[o]),s=(0,l.useFacetMap)((t=>e(`${t}.bodyFirstParagraph`)),[e],[o]),u=(0,l.useFacetMap)((t=>e(`${t}.bodySecondParagraph`)),[e],[o]),d=(0,l.useFacetMap)(((e,t,a,n)=>[e,t,a,n].join(" . ")),[],[i,c,s,u]);return{narrationText:d,title:i,helpButtonCopy:(0,l.useFacetMap)((t=>e(`${t}.helpButton`)),[e],[o]),reasonCopy:c,bodyFirstParagraph:s,bodySecondParagraph:u}}function GA(){return(0,l.useFacetMap)((e=>e.isBanned),[],[(0,l.useSharedFacet)(FF)])}function VA({usedInDrawer:e=!1,narrationText:t,title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:c,helpButtonCopy:i,banExpiration:s}){const u=Yr("neutral80"),d=dl()(LA.wrapper,u.background.base,u.border.base,{[LA.borderless]:e}),m=(0,l.useFacetMap)((e=>jA(e)),[],[s]),p=(0,l.useFacetMap)((e=>""!==e),[],[(0,l.useFacetWrap)(null!=n?n:"")]),f=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.BannedHelpPage)}),[],[(0,l.useSharedFacet)(CF)]),g=Mc(),E=(0,l.useFacetMap)(((t,a)=>dl()(LA.banner,{[LA.bannerNarrow]:e||t,[LA.friendsDrawerStacked]:a&&e})),[e],[g,m]);return r.createElement(l.Unwrap,{data:m},(e=>r.createElement("div",{className:d},r.createElement(bd,{text:t},r.createElement(xO,{role:"noticeTint"},r.createElement("fast-div",{className:E},r.createElement(xO.Text,null,a),e&&r.createElement(zA,{banExpiration:s}))),r.createElement("div",{className:LA.content},r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement("div",{className:LA.title},r.createElement(Zi,{type:"captionShort",variant:"dimmest",align:"left"},n)),r.createElement(Vi,{size:3}))),r.createElement(Zi,{type:"captionShort",variant:"dimmest",align:"left"},o),r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"captionShort",variant:"dimmest",align:"left"},c),r.createElement(Vi,{size:2}),r.createElement("div",{className:LA.buttonContainer},r.createElement(lm,{"data-testid":"help-button-"+(e?"suspended":"banned"),inputLegend:i,variant:"secondary",Icon:LM.ExternalLink,onClick:f},i)))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))))}function $A({usedInDrawer:e=!1}){const{narrationText:t,title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:c,helpButtonCopy:i}=HA(),s=(0,l.useSharedFacet)(FF),u=(0,l.useFacetMap)((e=>e.banExpiration),[],[s]);return r.createElement(VA,{usedInDrawer:e,narrationText:t,title:a,reasonCopy:n,bodyFirstParagraph:o,bodySecondParagraph:c,helpButtonCopy:i,banExpiration:u})}$A.InTab=function(){return r.createElement(ud,{floating:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Vi,{size:2}),r.createElement($A,null),r.createElement(Lm.Space,null)),r.createElement(zM.Column,{wideSize:1,narrowSize:0})))};const XA="social-drawer-people-tab",KA="people-tab-title-bar";function YA(){const{t:e}=ws("PeopleTab"),t=function(e){const t=p(),a=(0,l.useSharedFacet)(_v),n=JT();return(0,l.useFacetCallback)((a=>()=>{n({button:"OptOut",screen:"Play"}),a.selectTechStackForScreen(Lv.PlayScreen,Dv.JsonUI),t.replace("/play/"+e)}),[t,e,n],[a])}("friends");return r.createElement(r.Fragment,null,r.createElement(aw,{borderless:!0,imgSrc:hA,imgClass:"a1525f8c1abbe0bd9da2",title:e(".emptyStateTitle"),text:e(".emptyStateBody"),buttons:[{text:e(".emptyStateButtonLabel"),inputLegend:e(".emptyStateButtonInputLegend"),onClick:t}]}))}function qA({closeButtonAlias:e,closeFriendsDrawer:t,isDrawerOpen:a,screenAnalyticsId:n,role:o="neutral80",closeDrawerOnProfileClick:c=!1}){const{t:i}=ws("PeopleTab"),s=Yr(o),u=(0,l.useSharedFacet)(FF),d=(0,l.useSharedFacet)(_l),m=(0,l.useSharedFacet)(rx),p=(0,l.useFacetWrap)(a),f=Rd(Mb),g=Rd(zb),E=(0,l.useFacetWrap)([]),b=(0,l.useFacetWrap)([]),h=(0,l.useFacetCallback)((e=>()=>{e.userControlledUpdateGameList()}),[],[(0,l.useSharedFacet)(rx)]);(0,l.useFacetEffect)(((e,t)=>{e&&xI(t.platform)&&h()}),[h],[p,(0,l.useSharedFacet)(_l)]);const{friendsOnline:v,friendsOffline:F,isLoading:y,isReady:S,isUnavailable:C}=kA(!0),M=(0,l.useFacetMap)(((e,t,a,n,r)=>r&&0===e.length&&0===t.length&&0===a.length&&0===n.length),[],[E,b,v,F,S]),w=Rw(S,1e4),k=(0,l.useFacetMap)((e=>e.activeMultiplayerServiceIds.includes(Dl.AdHoc)),[],[d]),P=(0,l.useFacetMap)(((e,t,a,n,r,l,o,c)=>c?"ad-hoc-mode":t.isOnline?l?"trial-mode":TI(t.platform)||xI(t.platform)||e.isLoggedInWithMicrosoftAccount?!e.isSignedInPlatformNetwork&&xI(t.platform)?"platform-guest-nintendo":!e.isSignedInPlatformNetwork&&TI(t.platform)?"platform-guest-playstation":e.isLoggedInWithMicrosoftAccount||!xI(t.platform)||a||o?e.isLoggedInWithMicrosoftAccount||!TI(t.platform)||a||o?e.hasPremiumNetworkAccess||!xI(t.platform)||a?e.hasPremiumNetworkAccess||!TI(t.platform)||a?!e.hasPremiumNetworkAccess&&e.isLoggedInWithMicrosoftAccount&&t.platform===Ye.XBOX?"no-online-subscription-xbox":e.isBanned?"banned":a&&e.userPermissions.addFriends.denyReasons.includes(bF.XboxLive_Parental)?"add-friends-parental-online-safety":a&&e.userPermissions.addFriends.denyReasons.includes(bF.XboxLive)?"add-friends-online-safety":a?"empty-friends-list":n.xblLoadingState==dF.Error||n.platformLoadingState==dF.Error||1==r?"error-on-loading":"friends-list":"no-online-subscription-playstation":"no-online-subscription-nintendo":"msa-guest-playstation":"msa-guest-nintendo":"login-prompt":"offline"),[],[u,d,M,m,w,(0,l.useSharedFacet)(yF),C,k]),T=PA(),I=(0,l.useFacetMap)(((e,t)=>[i(".friendsDrawerName"),t?"":i(".numberOfFriends",[`${e.length}`])].join(" . ")),[i],[v,T]),x=(0,l.useFacetMap)(((e,t)=>"friends-list"!=e?i(".title"):i(".titleWithAmount",[`${t.length}`])),[i],[P,v]),O=eO(t,c),A=(0,r.useCallback)((()=>t()),[t]),N=(0,r.useRef)(null),R=r.createElement(uu,{alias:XA,delegateFocusByAlias:KA,containerRef:N},r.createElement("div",{className:dl()("fc05129efd41b6302103",g?"e328da699b56eb508b8d":["aa8e9f372d1d98e3f7c3",s.background.base,s.border.base]),ref:N},r.createElement(bd,{text:I},!g&&r.createElement(wu,{gamepadAlias:KA,right:r.createElement(wu.Buttons.Close.Component,{gamepadAlias:e,narrationSuffix:i(".closeButtonNarrationHint"),onClick:A})},r.createElement(Zi,{type:"body"},r.createElement(ji,null,x))),r.createElement(l.Unwrap,{data:P},(e=>{switch(e){case"empty-friends-list":return r.createElement(r.Fragment,null,g&&r.createElement(r.Fragment,null,r.createElement(QA,{loading:y,profileEntryPoint:Ih.FriendsDrawer,screenAnalyticsId:n,onProfileItemClick:O,showBanner:!0}),r.createElement(Vi,{size:3})),r.createElement("div",{className:yA},r.createElement(zx,{screenAnalyticsId:n,reason:Ux.peopleNoData})));case"platform-guest-playstation":return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(RA,{context:NA.Playstation,borderless:!0})));case"platform-guest-nintendo":return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(RA,{context:NA.Nintendo,borderless:!0})));case"msa-guest-nintendo":case"msa-guest-playstation":case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"no-online-subscription-xbox":case"friends-list":return r.createElement(r.Fragment,null,f&&r.createElement(QA,{loading:y,profileEntryPoint:Ih.FriendsDrawer,screenAnalyticsId:n,onProfileItemClick:O,showBanner:!0}),r.createElement("div",{className:FA},r.createElement(HO,{drawerOpen:p,loading:y,friendsOnline:v,friendsOffline:F,incomingRequests:E,outgoingRequests:b,profileEntryPoint:Ih.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:n,onItemClick:O,isSocialDrawer:g})));case"ad-hoc-mode":return r.createElement(r.Fragment,null,f&&r.createElement(QA,{loading:y,profileEntryPoint:Ih.FriendsDrawer,screenAnalyticsId:n,onProfileItemClick:O,showBanner:!1}),r.createElement("div",{className:FA},r.createElement(HO,{drawerOpen:p,loading:y,friendsOnline:v,profileEntryPoint:Ih.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:n})));case"add-friends-online-safety":return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(bA,{borderless:!0})));case"add-friends-parental-online-safety":return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(bA,{isParental:!0,borderless:!0})));case"banned":return r.createElement("div",{className:"cffbc1d2d6d94e35b712"},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement($A,{usedInDrawer:!0})));case"offline":return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(sA,{text:i(".noInternetMessage"),borderless:!0,disableResize:!0})));case"error-on-loading":return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(dA,{tab:i(".title"),borderless:!0})));case"trial-mode":return r.createElement("div",{className:vA},r.createElement(aA,{context:tA.FRIENDS_DRAWER}));case"login-prompt":return r.createElement("div",{className:yA},r.createElement(zx,{screenAnalyticsId:n,reason:Ux.notLoggedIn}));default:return r.createElement("div",{className:vA},r.createElement(ud,{flexShrinkWrapper:!0},r.createElement(YA,null)))}})))));return g?R:r.createElement(r.Fragment,null,r.createElement(Ed,{onClick:t,options:{button:j.B,inputLegend:i(".backButton")}}),R,r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function QA({loading:e,profileEntryPoint:t,screenAnalyticsId:a,onProfileItemClick:n,showBanner:o}){const c=LO(),{t:i}=ws("PeopleTab"),s=(0,l.useFacetMap)(((e,t)=>null!=e&&!t),[],[c,e]),u=(0,l.useFacetMap)((e=>{var t,a,n,r,l,o,c,s,u,d,m,p,f,g,E;return""!==(null==e?void 0:e.data.xuid)?{id:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",xuid:null!==(a=null==e?void 0:e.data.xuid)&&void 0!==a?a:"",gamerTag:`${null==e?void 0:e.data.xblName} ${i(".you")}`,gamerIcon:null!==(n=null==e?void 0:e.data.xblProfilePic)&&void 0!==n?n:"",variant:"self",favoriteStatus:mF.UNKNOWN,presenceMessage:null!==(r=null==e?void 0:e.data.presenceMessage)&&void 0!==r?r:"",presence:null!==(l=null==e?void 0:e.data.presence)&&void 0!==l?l:pF.Online,titleName:null!==(o=null==e?void 0:e.data.titleName)&&void 0!==o?o:"",partyPresence:null!==(c=null==e?void 0:e.data.partyPresence)&&void 0!==c?c:fF.NotInParty}:{id:null!==(s=null!==(u=null==e?void 0:e.data.platformId)&&void 0!==u?u:null==e?void 0:e.data.xuid)&&void 0!==s?s:"",xuid:"",platformId:null!==(d=null==e?void 0:e.data.platformId)&&void 0!==d?d:"",gamerTag:`${null==e?void 0:e.data.platformName} ${i(".you")}`,gamerIcon:null!==(m=null==e?void 0:e.data.platformProfilePic)&&void 0!==m?m:"",variant:"self",favoriteStatus:mF.UNKNOWN,presenceMessage:null!==(p=null==e?void 0:e.data.presenceMessage)&&void 0!==p?p:"",presence:null!==(f=null==e?void 0:e.data.presence)&&void 0!==f?f:pF.Online,titleName:null!==(g=null==e?void 0:e.data.titleName)&&void 0!==g?g:"",partyPresence:null!==(E=null==e?void 0:e.data.partyPresence)&&void 0!==E?E:fF.NotInParty}}),[i],[c]);return r.createElement(r.Fragment,null,o&&r.createElement(AO,{screenAnalyticsId:a}),r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement("div",{className:"b509bf4cfae6116f00b5"},r.createElement(hx,{item:u,listLength:(0,l.createStaticFacet)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:t,screenAnalyticsId:a,onMainActionClick:n,testId:"own-profile",enablePSNLogo:!0})))))}function JA(){const e=E();return(0,l.useFacetMap)((e=>e.startsWith("/profile")),[],[e])}function ZA(){const e=(0,l.useSharedFacet)(gy),t=(0,l.useFacetMap)((e=>e.isInParty&&e.members.length>0),[],[e]),a=(0,l.useFacetMap)((e=>e.members.slice().sort(((t,a)=>t.xuid===a.xuid?0:t.xuid===e.leaderXuid?-1:a.xuid===e.leaderXuid?1:0)).slice(0,4).map((e=>e.gamerIcon))),[],[e]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(Ek,{playerAvatars:a,variant:"small"})),r.createElement(l.Mount,{when:t,condition:!1},r.createElement(LM.Party,{height:20,width:20})))}function eN(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tN(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(a),!0).forEach((function(t){aN(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eN(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function aN(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let nN;function rN(e,t){const a=(0,l.useSharedFacet)(FF),n=(0,l.useSharedFacet)(BT),o=(0,l.useSharedFacet)(jT),c=(0,l.useSharedFacet)(Kb),i=(0,l.useFacetMap)((e=>e.localPlayerID),[],[o]),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{a.isInGame&&t.loadPlayerPermissions(e)}),[],[i,n,c]);(0,r.useEffect)((()=>{s()}),[s]);const u=(0,l.useSharedFacet)(gy),d=(0,l.useSharedFacet)(vy),m=(0,l.useSharedFacet)(Bh),p=(0,l.useSharedFacet)(rx),f=QI(e);return(0,l.useFacetMap)(((e,a,n,r,l,o,c,i,s)=>{const u=""!==a.xuid&&null!=a.xuid&&e.isLoggedInWithMicrosoftAccount,d=i.xblFriends.some((e=>null!=e.xuid&&""!==e.xuid&&e.xuid===a.xuid))||i.platformFriends.some((e=>null!=e.platformId&&""!=e.platformId&&e.platformId===a.platformId)),m=[];if(u){const e=a.favoriteStatus===mF.FAVORITE;d?m.push({label:t(e?".removeFromFavorites":".addToFavorites"),value:e?nN.RemoveFromFavorites:nN.AddToFavorites,testId:e?"remove-from-favorites":"add-to-favorites"}):m.push({label:t(".addFriend"),value:nN.AddFriend,testId:"add-friend"})}n.isInGame&&a.isInSameGame&&r.canEditPermissions&&m.push({label:t(".editGameplayPermissions"),value:nN.EditPermissions,testId:"edit-permissions"});const p=[];if(n.isInGame&&a.relation===kh.TwoWayFriend&&!a.isInSameGame&&p.push({label:t(".inviteToGame"),value:nN.InviteToGame,testId:"invite-to-game"}),u){const n=null!=l.members.find((e=>e.xuid===a.xuid));l.isInParty&&l.leaderXuid===e.currentXuid&&n&&m.push({label:t(".promoteToLeader"),value:nN.PromoteToLeader,testId:"party-promote"},{label:t(".removeFromParty"),value:nN.RemoveFromParty,testId:"party-remove"}),l.isInParty&&!n&&p.push({label:t(".inviteToParty"),value:nN.InviteToParty,testId:"party-invite"}),o.ownerXuid===e.currentXuid&&p.push({label:t(".addToRealm"),value:nN.AddToRealm,testId:"add-to-realm"}),null!=c.joinablePartyFriends.find((e=>e.partyFriend.xuid===a.xuid))&&p.push({label:t(".joinParty"),value:nN.JoinParty,testId:"join-party"})}s&&p.push({label:t(".joinGame"),value:nN.JoinGame,testId:"join-game"});const f=u?[a.isMuted?{label:t(".unmute"),value:nN.Unmute,testId:"unmute-option"}:{label:t(".mute"),value:nN.Mute,testId:"mute-option"},{label:t(".block"),value:nN.Block,testId:"block-option"},{label:t(".report"),value:nN.Report,testId:"report-option"}]:[];u&&(d||a.relation===kh.Following)&&f.push({label:t(".removeFriend"),value:nN.RemoveFriend,testId:"remove-friend"});const g=(m.length+p.length+f.length).toString();let E=0;return[m,p,f].map((e=>e.map((e=>{const a=tN(tN({},e),{},{enumeration:t(".optionsEnumeration",[(E+1).toString(),g])});return E+=1,a}))))}),[t],[a,e,c,n,u,m,d,p,f])}function lN(e,t,a,n,r=""){return`/player-report?gamertag=${t}&isFriend=${a?"true":"false"}`+(""===e?"":`&xuid=${e}`)+(""===n?"":`&platformId=${n}`)+(""===r?"":`&galleryScreenshotId=${r}`)}!function(e){e[e.AddFriend=0]="AddFriend",e[e.RemoveFromFavorites=1]="RemoveFromFavorites",e[e.AddToFavorites=2]="AddToFavorites",e[e.EditPermissions=3]="EditPermissions",e[e.PromoteToLeader=4]="PromoteToLeader",e[e.RemoveFromParty=5]="RemoveFromParty",e[e.InviteToGame=10]="InviteToGame",e[e.InviteToParty=11]="InviteToParty",e[e.AddToRealm=12]="AddToRealm",e[e.JoinParty=13]="JoinParty",e[e.JoinGame=14]="JoinGame",e[e.Mute=20]="Mute",e[e.Unmute=21]="Unmute",e[e.Block=22]="Block",e[e.Report=23]="Report",e[e.RemoveFriend=24]="RemoveFriend"}(nN||(nN={}));const oN=As((({onClose:e,title:t,focusedPlayer:a,onJoinGameSelected:n,onRemoveFromPartySelected:o})=>{const{t:c}=ah("SocialDrawer.PlayerOptionsMenu"),i=(0,l.useFacetWrap)(t),s=rN(a,c),u=function(e,t,a,n){const r=(0,l.useSharedFacet)(Rh),o=(0,l.useSharedFacet)(by),c=(0,l.useSharedFacet)(vy),i=p();return(0,l.useFacetCallback)(((a,r,l,o)=>c=>{var s,u;e();const d=null!==(s=a.xuid)&&void 0!==s?s:"";switch(c){case nN.AddFriend:r.addFriend(d,Nh.SOCIALDRAWER_OPENPARTY);break;case nN.RemoveFromFavorites:r.unfavorite(d);break;case nN.AddToFavorites:r.favorite(d);break;case nN.EditPermissions:i.push(`/player-permissions/${a.actorId}`);break;case nN.PromoteToLeader:l.setLeader(d);break;case nN.RemoveFromParty:t();break;case nN.InviteToGame:break;case nN.InviteToParty:l.sendInvite(d);break;case nN.AddToRealm:break;case nN.JoinParty:const e=o.joinablePartyFriends.find((e=>e.partyFriend.xuid===d));null!=e&&l.joinParty(e.partyId);break;case nN.JoinGame:n();break;case nN.Mute:r.mute(d);break;case nN.Unmute:r.unmute(d);break;case nN.Block:r.block(d);break;case nN.Report:i.push(lN(d,a.gamerTag,a.relation===kh.TwoWayFriend,null!==(u=a.platformId)&&void 0!==u?u:""));break;case nN.RemoveFriend:r.removeFriend(d)}}),[e,t,n,i],[a,r,o,c])}(e,o,a,n);return r.createElement(r.Fragment,null,r.createElement(fP.Grouped,{isOpen:!0,title:i,groupedItems:s,onClose:e,onItemSelect:e=>{u(e)}}))})),cN="c520065295222a6fed73",iN="bad1cdac369a2ea2a697",sN="ba15fdcb86c80ccaa7f0";let uN;function dN({children:e,hideSideEdges:t,role:a="informative",handleLocation:n=uN.Bottom}){return r.createElement(Sr,{role:a},r.createElement("div",{className:"e3d6b1c7446f21fc1a27"},n==uN.Top&&r.createElement(fN,null),r.createElement(mN,{hideSideEdges:t},e),n==uN.Bottom&&r.createElement(pN,null)))}!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(uN||(uN={}));const mN=function({children:e,hideSideEdges:t}){const a=Yr("inherit"),n="b12442b2f88975eef6ae "+(t?"da50f169f356525b6c50":"");return r.createElement("div",{className:dl()("cbc24330747f5c3f0b99",a.text.base,a.border.base)},r.createElement("div",null,r.createElement(Vi,{size:1}),r.createElement("div",{className:dl()(n,a.border.base)},r.createElement("div",{className:dl()(cN,a.background.base,"b2b6ffaf03ea82ae6926")})),r.createElement(Vi,{size:1})),r.createElement("div",{className:dl()("c3697d76a366f1e34b8f",a.background.base,a.border.base)},r.createElement(Zi,{type:"captionShort"},e)),r.createElement("div",null,r.createElement(Vi,{size:1}),r.createElement("div",{className:dl()(n,a.border.base)},r.createElement("div",{className:dl()(cN,a.background.base,"a40713cf0026801fd825")})),r.createElement(Vi,{size:1})))},pN=function(){const e=Yr("inherit");return r.createElement(r.Fragment,null,r.createElement("div",{className:"a65987721ad8cff22d75"},r.createElement("div",{className:sN},r.createElement("div",{className:dl()("e20d10ff04d9286338ca",e.background.base)}),r.createElement("div",{className:dl()("fe3ba3001b51b7a408a1",e.border.base)})),r.createElement("div",{className:iN},r.createElement(Vi,{size:1}),r.createElement("div",{className:sN},r.createElement("div",{className:dl()("d88374bc6b5b8f923f8d",e.border.base)}),r.createElement("div",{className:dl()("a5718f0f3ae3e89f4c85",e.background.base)}))),r.createElement("div",{className:iN},r.createElement(Vi,{size:1}),r.createElement(Vi,{size:1}),r.createElement("div",{className:sN},r.createElement("div",{className:dl()("f3a233cd338514cd214d",e.border.base)}),r.createElement("div",{className:dl()("bf9618406c2d6f31accf",e.background.base)})))))},fN=function(){return r.createElement("div",{className:"be010fc2cbf4279975ba"},r.createElement(pN,null))};let gN;function EN(e){const{t}=ws("SocialWorldTab.PlayerOptionsMenu"),a=(0,l.useFacetWrap)(e),n=(0,l.useSharedFacet)(BT),r=QI(a),o=(0,l.useSharedFacet)(FF);return(0,l.useFacetMap)(((e,a,n,r)=>{const l=[],o=e.relation===kh.TwoWayFriend,c=""!==e.xuid&&null!=e.xuid&&r.isLoggedInWithMicrosoftAccount;if(o&&c){const a=e.favoriteStatus===mF.FAVORITE;l.push({label:t(a?".removeFromFavorites":".addToFavorites"),value:a?gN.RemoveFromFavorites:gN.AddToFavorites,testId:a?"remove-from-favorites":"add-to-favorites"})}if(o&&n&&l.push({label:t(".joinGame"),value:gN.JoinGame,testId:"join-game"}),e.isInSameGame&&a.canEditPermissions){const e={label:t(".editPlayerPermissions"),value:gN.EditPermissions,testId:"edit-permissions"};l.push(e)}return c&&l.push({label:t(".mute"),value:gN.Mute,isSelected:e.isMuted,isSelectable:!0,testId:"mute-player"},{label:t(".block"),value:gN.Block,isSelected:e.isBlocked,isSelectable:!0,testId:"block-player"},{label:t(".report"),value:gN.Report,testId:"report-player"}),l}),[t],[a,n,r,o])}!function(e){e[e.AddToFavorites=0]="AddToFavorites",e[e.RemoveFromFavorites=1]="RemoveFromFavorites",e[e.EditPermissions=2]="EditPermissions",e[e.InviteToGame=3]="InviteToGame",e[e.JoinGame=4]="JoinGame",e[e.Mute=5]="Mute",e[e.Block=6]="Block",e[e.Report=7]="Report"}(gN||(gN={}));const bN=As((({onClose:e,player:t,onJoinGameSelected:a})=>{const{t:n}=ah("SocialWorldTab.PlayerOptionsMenu"),o=(0,l.useFacetWrap)(t),c=(0,l.useFacetMap)((e=>{var t;return n(".title",[e.gamerTag||(null!==(t=e.platformId)&&void 0!==t?t:"")])}),[n],[o]),i=EN(t),s=function(e,t){const a=(0,l.useSharedFacet)(Rh),n=p(),r=(0,l.useFacetWrap)(e),o=(0,l.useSharedFacet)(jT);return(0,l.useFacetCallback)(((e,a,r)=>l=>{var o,c,i;const s=null!==(o=e.xuid)&&void 0!==o?o:"";switch(l){case gN.AddToFavorites:a.favorite(s);break;case gN.RemoveFromFavorites:a.unfavorite(s);break;case gN.EditPermissions:r.isInRealm?n.push(`/realms-permissions/${e.actorId}`):n.push(`/player-permissions/${e.actorId}`);break;case gN.InviteToGame:break;case gN.JoinGame:t();break;case gN.Mute:e.isMuted?a.unmute(s):a.mute(s);break;case gN.Block:e.isBlocked?a.unblock(s):a.block(s);break;case gN.Report:const l=e.relation===kh.TwoWayFriend||e.relation===kh.Following;n.push(lN(s,""===e.gamerTag?null!==(c=e.platformId)&&void 0!==c?c:"":e.gamerTag,l,null!==(i=e.platformId)&&void 0!==i?i:""))}}),[n,t],[r,a,o])}(t,a);return r.createElement(fP,{isOpen:!0,title:c,items:i,onClose:e,onItemSelect:t=>{s(t),e()}})}));function hN(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vN(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hN(Object(a),!0).forEach((function(t){FN(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hN(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function FN(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const yN="social-drawer-world-tab";function SN({closeButtonAlias:e,closeFriendsDrawer:t,screenAnalyticsId:a,role:n="neutral80",openSocialDrawerPlayerMenu:o=(()=>{}),closeDrawerOnProfileClick:c=!1}){const{t:i}=ws("SocialWorldTab"),{t:s}=ws("SocialWorldTab.narration"),u=p(),d=JT(),m=Rd(zb),f=Yr(n),g=(0,l.useSharedFacet)(FF),E=(0,l.useSharedFacet)(BT),b=(0,l.useSharedFacet)(jT),h=(0,l.useSharedFacet)(HT),v=(0,l.useFacetMap)((e=>e.platform),[],[(0,l.useSharedFacet)(_l)]),F=(0,l.useFacetMap)((e=>e.worldName),[],[h]),{worldPlayerDetails:y,playersInWorld:S,onlineFriends:C,offlineFriends:M}=function(){const e=(0,l.useSharedFacet)(jT),t=(0,l.useSharedFacet)(rx),a=(0,l.useFacetMap)((e=>e.playersInMyWorld),[],[e]),n=(0,l.useFacetMap)((e=>mx(e.xblFriends,e.platformFriends)),[],[t]),r=(0,l.useFacetMap)((e=>e.filter((e=>(e.presence===pF.Online||e.presence===pF.Away)&&e.titleHistory==uF.HasPlayed))),[],[n]),o=(0,l.useFacetMap)(((e,t)=>t.filter((t=>!e.some((e=>fx(t,e)))))),[],[a,r]),c=(0,l.useFacetMap)((e=>e.filter((e=>e.presence===pF.Offline&&e.titleHistory==uF.HasPlayed))),[],[n]);return{worldPlayerDetails:(0,l.useFacetMap)((e=>e.players),[],[e]),playersInWorld:a,onlineFriends:o,offlineFriends:c}}(),w=(0,l.useFacetMap)((e=>e.localPlayerID),[],[b]),k=(0,l.useFacetCallback)(((e,t)=>()=>{t.loadPlayerPermissions(e)}),[],[w,E]);(0,r.useEffect)((()=>{k()}),[k]);const P=(0,l.useFacetMap)(((e,t,a,n)=>{const r=e=>fx(e,{xuid:a.currentXuid,platformId:a.currentPlatformId});return e.slice(0).sort(((e,t)=>!0===r(e)?-1:!0===r(t)?1:0)).map((e=>{var l;const o=!0===r(e),c=gx(e.xuid)&&gx(e.platformId);return vN(vN({},e),{},{id:e.actorId,variant:o?"world-player-self-labelled":"world-player",permissionLevel:null===(l=t.find((t=>t.id==e.actorId)))||void 0===l?void 0:l.permissionLevel,disabled:c,platform:o&&a.isLoggedInWithMicrosoftAccount||c?"none":Yx(n,e.xuid,e.platformId)})}))}),[],[S,y,g,v]),T=(0,r.useCallback)((e=>t=>vN(vN({},t),{},{id:t.xuid,variant:"custom-children",platform:Yx(e,t.xuid,t.platformId)})),[]),I=(0,l.useFacetMap)(((e,t)=>cx(e).map(T(t))),[T],[C,v]),x=(0,l.useFacetMap)(((e,t)=>e.sort(sx).map(T(t))),[T],[M,v]),O=(0,l.useFacetMap)(((e,t,a,n)=>[{role:"neutral",title:i(".playersInWorld",[e,`${t.length}`]),data:t},{role:"primary",title:i(".friends",[`${a.length}`]),data:a},{role:"secondary",title:i(".offline",[`${n.length}`]),data:n}]),[i],[F,P,I,x]),A=(0,l.useFacetMap)((({doNotShowFriendsListFTUE:e})=>!m&&!e),[m],[(0,l.useSharedFacet)(uh)]),N=(0,l.useFacetMemo)((e=>e.length>1?{section:1,index:1}:{section:2,index:0}),[],[P]),R=i(".inviteToPlay"),L=[s(".worldPermissions"),s(".buttonRole"),s(".worldPermissionsHint"),s(".enumeration",["2","2"])].join(" . "),D=i(".searchForPlayers"),_=(0,l.useFacetMap)((e=>!e.enableInviteToPlayButton),[],[b]),B=(0,l.useFacetMap)((e=>!e.isLoggedInWithMicrosoftAccount),[],[g]),W=(0,l.useFacetMap)((e=>e.localPlayerID),[],[b]),U=(0,l.useFacetCallback)(((e,t)=>()=>{d({button:"WorldPermissions",screen:a}),t.isInRealm?u.push(`/realms-permissions/${e}`):u.push(`/player-permissions/${e}`)}),[u,a,d],[W,b]),z=eO(t,c),[H,G]=(0,l.useFacetState)(l.NO_VALUE),V=bN.useModal(),$=(0,r.useCallback)((e=>{d({button:"Profile_Options",screen:a}),m?o(e):(G(e),V.show())}),[d,a,m,o,G,V]),X=Nx(a),K=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.playingOnServerId)&&void 0!==t?t:""}),[],[H]),{joinFriendServerWithWarningsCallback:Y,JoinFriendServerWarningModalsComponent:q}=JI(K),Q=(0,r.useRef)(null);return r.createElement(uu,{containerRef:Q,alias:yN},r.createElement("div",{className:dl()("c808182fe6425b321976",f.background.base,f.border.base,m?"b29a4dfd68f209adee26":"bf60f944b20f3c53a30b"),ref:Q},!m&&r.createElement(r.Fragment,null,r.createElement(Ed,{onClick:t,options:{button:j.B,inputLegend:i(".backButton")}}),r.createElement(wu,{gamepadAlias:"world-tab-title-bar",right:r.createElement(wu.Buttons.Close.Component,{narrationSuffix:s(".closeButtonHint"),onClick:t,testId:e})},r.createElement(Zi,{type:"body"},r.createElement(ji,null,i(".social"))))),r.createElement("div",{className:"d0245222bc11c5e4ebca"},r.createElement(nI,{gamepadAlias:"world-tab-list",data:O,sectionSeparator:r.createElement(Vi,{size:2}),header:r.createElement("div",{className:"ed716c02fd673e7746f7"},r.createElement(lm,{onClick:()=>{d({button:"InviteToPlay",screen:a}),u.push("/invite-screen-legacy")},disabled:_,Icon:LM.Invite,inputLegend:R,narrationSuffix:s(".enumeration",["1","2"]),variant:"secondary",horizontal:!0},R),r.createElement(Vi,{size:2}),r.createElement(yP,{narrationText:L,inputLegend:i(".worldPermissionsLegend"),variant:"secondary",isElevated:!0,onClick:U,"data-testid":"player-permissions-button"},r.createElement(LM.PlayerPermissions,null))),renderSectionHeader:(e,t)=>r.createElement(aP,{role:t,label:e}),renderItem:({itemFacet:e,index:t,listLengthFacet:a,sectionIndex:n})=>r.createElement("div",null,r.createElement(l.Mount,{when:A},r.createElement(MN,{text:i(".playerOptionTutorial"),targetLocation:N,currentSection:n,currentIndex:t})),r.createElement(hx,{gamepadAlias:`world-tab-player-list-${n}-${t}`,testId:`world-tab-player-list-${n}-${t}`,onMainActionClick:z,item:e,index:t,listLength:a,profileEntryPoint:Ih.SocialDrawer_WorldTab,grayscaleAvatarWhenOffline:!0,enablePSNLogo:!0},r.createElement(CN,{itemFacet:e,showPlayerMenu:$}))),footer:r.createElement("div",{className:"b23d7f3b12779fd40860"},r.createElement(Vi,{size:2}),r.createElement(mO,null),r.createElement(Vi,{size:2}),r.createElement(lm,{Icon:LM.Search,inputLegend:D,variant:"secondary",onClick:X,disabled:B},D),r.createElement(Vi,{size:2}))}))),r.createElement(l.Mount,{when:V.isVisible},r.createElement(bN.Component,{player:H,onClose:()=>V.hide(),onJoinGameSelected:Y})),r.createElement(q,null))}function CN({itemFacet:e,showPlayerMenu:t}){const{t:a}=ws("SocialWorldTab"),n=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),o=(0,l.useFacetCallback)(((e,a)=>()=>{t(e),a.doNotShowFriendsListFTUE||(a.doNotShowFriendsListFTUE=!0)}),[t],[e,(0,l.useSharedFacet)(uh)]),c=(Rd(zb)?rN:EN)(e,a),i=(0,l.useFacetMap)((e=>0!==e.flat().length),[],[c]);return r.createElement(l.Mount,{when:i},r.createElement(hx.OptionsButton,{onClick:o,gamerTag:n}))}function MN({text:e,targetLocation:t,currentSection:a,currentIndex:n}){const o=(0,l.useFacetMap)((({section:e,index:t})=>e==a&&t==n),[a,n],[t]);return r.createElement(l.Mount,{when:o},r.createElement("div",{className:"be0fcd9a9523248fe9a9"},r.createElement(dN,{handleLocation:uN.Top},e)))}function wN(){const e=Rd(Wb),t=(0,l.useSharedFacet)(Kb);return(0,l.useFacetMap)((t=>t.isInGame&&e),[e],[t])}const kN="party-remove-player-modal",PN=As((({onClose:e,gamerTag:t,xuid:a})=>{const{t:n}=ws("PartyRemovePlayerModal"),o=(0,l.useSharedFacet)(by),c=(0,l.useFacetWrap)(t),i=(0,l.useFacetWrap)(a),s=(0,l.useFacetMap)((e=>n(".title",[e])),[n],[c]),u=(0,l.useFacetMap)((e=>n(".checkboxTitle",[e])),[n],[c]),[d,m]=(0,r.useState)(!1),p=(0,l.useFacetCallback)(((t,a)=>()=>{a.removeMember(t,d),m(!1),e()}),[m,d,e],[i,o]);return r.createElement($m,{defaultFocusAlias:kN},r.createElement($m.Header,null,s),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".message")},n(".message"))),r.createElement($m.Buttons,{horizontal:!0,header:r.createElement($m.Checkbox,{value:d,onChange:m,title:u})},r.createElement(lm,{gamepadAlias:kN,inputLegend:n(".cancel"),variant:"secondary",onClick:e,horizontal:!0},n(".cancel")),r.createElement(Vi,{size:2}),r.createElement(lm,{gamepadAlias:kN,inputLegend:n(".confirm"),variant:"destructive",onClick:p,horizontal:!0},n(".confirm"))))})),TN="social-drawer-close-btn";function IN(e,t,a){return`${e}${t.length>0?`?${t}`:""}${a.length>0?`#${a}`:""}`}function xN(e,t,a,n,r){let l="";switch(e){case GT.People:l="people";break;case GT.Party:l="party";break;case GT.World:l="world"}return t==VT.RouteQuery?(n.set(VT.RouteQuery,l),IN(a,n.toString(),r)):`${VT.FriendsDrawerRoute}/${l}`}function ON({activeTab:e,onTabChange:t,screenAnalyticsId:a,closeDrawerOnProfileClick:n,closeFriendsDrawer:o,isFriendsDrawerOpen:c,showBadge:i=!0}){const{t:s}=ws("SocialDrawer"),u=Yr("neutral80"),d=Yr("neutral100"),m=(0,l.useSharedFacet)(hy),p=(0,l.useFacetMap)((e=>e.invites.length),[],[m]),f=(0,l.useFacetMap)(((e,t)=>{const a=[{label:s(".peopleTabLabel"),value:GT.People,icons:{selected:r.createElement(LM.PeopleTab,{height:20,width:20}),unselected:r.createElement(LM.PeopleTab,{height:20,width:20})}},{label:s(".partyTabLabel"),value:GT.Party,badge:i&&e>0?e:void 0,icons:{selected:r.createElement(ZA,null),unselected:r.createElement(ZA,null)}}];return t&&a.unshift({label:s(".worldTabLabel"),value:GT.World,icons:{selected:r.createElement(LM.World,{height:20,width:20}),unselected:r.createElement(LM.World,{height:20,width:20})}}),a}),[s,i],[p,wN()]),g=(0,l.useFacetWrap)(e),E=(0,l.useFacetMap)((e=>s(`.${e}`)),[s],[g]),b=(0,l.useFacetMap)((e=>e===GT.People?"people-tab-test-id":e===GT.Party?"party-tab-test-id":"world-tab-test-id"),[],[g]),h=oN.useModal(),[v,F]=(0,l.useFacetState)(l.NO_VALUE),[y,S]=(0,l.useFacetState)(""),C=PN.useModal(),M=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}),[],[v]),w=(0,l.useFacetMap)((e=>e.gamerTag),[],[v]),k=(0,r.useCallback)((e=>{h.show(),F(e),S(s(".optionsForPlayer",[e.gamerTag]))}),[h,F,S,s]),P=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.playingOnServerId)&&void 0!==t?t:""}),[],[v]),{joinFriendServerWithWarningsCallback:T,JoinFriendServerWarningModalsComponent:I}=JI(P);return r.createElement(r.Fragment,null,r.createElement(Ed,{onClick:o,options:{button:j.B,inputLegend:s(".backButton")}}),r.createElement(dO,{closeDrawer:o}),r.createElement(Vi,{size:2}),r.createElement(_k,{gamepadAliasNamespace:"social-drawer-tabs",value:e,onChange:t,tabs:f,narrationTitle:s(".narration.title"),enableGamepadShortcuts:!0,badgeRole:"destructiveTint",hideLabel:!0}),r.createElement("div",{className:dl()("a48bf161157a1678782d",d.background.base,u.border.base)},r.createElement(Vi,{size:1}),r.createElement(Zi,{children:E,type:"header5A"}),r.createElement(Vi,{size:1})),r.createElement("fast-div",{"data-testid":b,className:dl()("c616f0847c2634d6acaf",u.background.base,u.border.base)},r.createElement(l.Unwrap,{data:g},(e=>{switch(e){case GT.People:return r.createElement(qA,{closeFriendsDrawer:o,isDrawerOpen:c,closeButtonAlias:TN,screenAnalyticsId:a,closeDrawerOnProfileClick:n});case GT.Party:return r.createElement(lO,{openSocialDrawerPlayerMenu:k,screenAnalyticsId:a,closeDrawerOnProfileClick:n,closeFriendsDrawer:o});case GT.World:return r.createElement(SN,{screenAnalyticsId:a,closeButtonAlias:TN,closeFriendsDrawer:o,openSocialDrawerPlayerMenu:k});default:return r.createElement(r.Fragment,null)}}))),r.createElement(l.Mount,{when:h.isVisible},r.createElement(oN.Component,{onClose:h.hide,focusedPlayer:v,title:y,onJoinGameSelected:T,onRemoveFromPartySelected:C.show})),r.createElement(l.Mount,{when:C.isVisible},r.createElement(PN.Component,{onClose:C.hide,xuid:M,gamerTag:w})),r.createElement(I,null))}function AN({children:e,routeScheme:t,screenAnalyticsId:a,role:n="neutral"}){const o=JT(),[c,i]=(0,l.useFacetState)(!1),[s,u]=(0,l.useFacetState)(!1),d=JA(),m=(0,r.useCallback)((()=>{u(!1),i((e=>e===l.NO_VALUE?e:!e))}),[i,u]),f=(0,r.useCallback)(((e=!1)=>{u(e),i(!1)}),[i,u]),v=(0,r.useCallback)(((e=!1)=>{u(e),i(!0)}),[i,u]),F=(0,l.useFacetMap)(((e,t)=>!e||t),[],[Oo(),s]),{friends:y}=kA(),S=(0,l.useFacetCallback)((e=>()=>{o({button:"FriendsShortcut",screen:a,details:{friendsCount:`${e.length}`}}),m()}),[m,a,o],[y]),C=p(),M=E(),w=h(),k=b(),[P,T]=(0,l.useFacetState)(GT.People),I=(0,l.useFacetCallback)(((e,a,n)=>r=>{t!=VT.TestOnlyNoRoute?C.replace(xN(r,t,e,a,n)):T(r)}),[C,t,T],[M,w,k]),x=(0,l.useSharedFacet)(gy),O=g();(0,l.useFacetEffect)(((e,a,n,r,l,o,c)=>{if(t!=VT.TestOnlyNoRoute){switch(t==VT.RouteQuery?r.get(VT.RouteQuery):e.tab){case"people":return void T(GT.People);case"party":return void T(GT.Party);case"world":if(l)return void T(GT.World)}c&&(o.isInParty?C.replace(xN(GT.Party,t,n,r,a)):l?C.replace(xN(GT.World,t,n,r,a)):C.replace(xN(GT.People,t,n,r,a)))}}),[T,t,C],[O,k,M,w,wN(),x,c]);const A=(0,r.useCallback)((()=>f()),[f]),N=Yr(n);return r.createElement(QT,{delegateByAlias:uO,anchor:QT.Anchor.Right,drawerContent:e=>r.createElement("div",{className:dl()("be1c911a58d194ce278e",N.background.base,N.border.base)},r.createElement(ON,{activeTab:P,onTabChange:I,screenAnalyticsId:a,closeDrawerOnProfileClick:d,closeFriendsDrawer:f,isFriendsDrawerOpen:e})),isOpen:c,onOverlayClick:A,disableAnimation:F},e({toggleFriendsDrawer:m,openFriendsDrawer:v,closeFriendsDrawer:f,isFriendsDrawerOpen:c}),r.createElement(NN,{onClick:S}))}function NN({onClick:e}){return r.createElement(Ed,{onClick:e,options:(0,l.useFacetMap)((e=>({button:j.Y,disabled:e})),[],[rt()])})}const RN="friends-close-btn";function LN({children:e,screenAnalyticsId:t,role:a="neutral80"}){const n=JT(),{friends:o}=kA(),[c,i]=(0,l.useFacetState)(!1),[s,u]=(0,l.useFacetState)(!1),d=JA(),m=(0,r.useCallback)((()=>{u(!1),i((e=>e===l.NO_VALUE?e:!e))}),[i,u]),p=(0,r.useCallback)(((e=!1)=>{u(e),i(!1)}),[i,u]),f=(0,r.useCallback)(((e=!1)=>{u(e),i(!0)}),[i,u]),g=(0,l.useFacetMap)(((e,t)=>!e||t),[],[Oo(),s]),E=(0,l.useFacetCallback)((e=>()=>{n({button:"FriendsShortcut",screen:t,details:{friendsCount:`${e.length}`}}),m()}),[m,t,n],[o]),b=(0,r.useCallback)((()=>p()),[p]),h=(0,l.useSharedFacet)(Kb),v=Rd(Wb),F=(0,l.useFacetMap)((e=>e.isInGame&&v),[v],[h]);return r.createElement(l.Unwrap,{data:F},(n=>r.createElement(QT,{anchor:QT.Anchor.Right,delegateByAlias:n?yN:XA,drawerContent:()=>n?r.createElement(SN,{screenAnalyticsId:t,closeButtonAlias:RN,closeFriendsDrawer:p,openSocialDrawerPlayerMenu:()=>{}}):r.createElement(qA,{closeFriendsDrawer:p,isDrawerOpen:c,closeButtonAlias:RN,role:a,screenAnalyticsId:t,closeDrawerOnProfileClick:d}),isOpen:c,onOverlayClick:b,disableAnimation:g},e({toggleFriendsDrawer:m,openFriendsDrawer:f,closeFriendsDrawer:p,isFriendsDrawerOpen:c}),r.createElement(DN,{onClick:E}))))}function DN({onClick:e}){return r.createElement(Ed,{onClick:e,options:(0,l.useFacetMap)((e=>({button:j.Y,disabled:e})),[],[rt()])})}As((({onClose:e})=>{const t="CreateTestWorldInfoModal-close-btn";return r.createElement($m,{defaultFocusAlias:t,onOverlayClick:e},r.createElement($m.Header,{onClose:e},"Create Test World"),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:!1},"This button applies the following settings on the Create New World screen:"),r.createElement($m.List,{items:(0,l.useFacetWrap)(["Game Mode: Creative","Flat World: true","Cheats Enabled: true","Daylight cycle: Always Day","Mob spawning: false","Weather: false","Keep Inventory: true"])}),r.createElement($m.Text,{narrationText:!1},"Any other settings which don't conflict with the above will remain unchanged.")),r.createElement($m.Buttons,null,r.createElement(lm,{onClick:e,inputLegend:"Back",gamepadAlias:t},"Back")))}));const _N=As((({onClose:e})=>{const t=(0,l.useSharedFacet)(vb),a="DebugImportWorldInfoModal-close-btn",n=(0,l.useFacetMap)((e=>`Import all worlds present in "${e.importPath}", to support debugging specific worlds on platforms without an official import feature.`),[],[t]);return r.createElement($m,{defaultFocusAlias:a,onOverlayClick:e},r.createElement($m.Header,{onClose:e},"Import Worlds"),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:!1},n)),r.createElement($m.Buttons,null,r.createElement(lm,{onClick:e,inputLegend:"Back",gamepadAlias:a},"Back")))})),BN=As((()=>{const e=(0,l.useSharedFacet)(vb),t=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.importProgress)&&void 0!==t?t:0}),[],[e]);return r.createElement($m,null,r.createElement($m.Header,null,"Debug importing worlds"),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:!1,center:!0},"Importing"),r.createElement($m.Progress,{percentage:t})))})),WN=As((()=>{const e=(0,l.useSharedFacet)(vb),t=(0,l.useFacetCallback)((e=>()=>{e.clearResult()}),[],[e]),a=(0,l.useFacetMap)((e=>{var t;return"Error: "+function(e){switch(e){case $F.Success:return"WorldTransferResult.Success";case $F.FailureUnknown:return"WorldTransferResult.FailureUnknown";case $F.FailureNoFile:return"WorldTransferResult.FailureNoFile";case $F.FailureZipError:return"WorldTransferResult.FailureZipError";case $F.FailurePremiumContent:return"WorldTransferResult.FailurePremiumContent";case $F.FailureEditionMismatch:return"WorldTransferResult.FailureEditionMismatch";case $F.FailureEditorMismatch:return"WorldTransferResult.FailureEditorMismatch";case $F.UnsupportedPlatform:return"WorldTransferResult.UnsupportedPlatform";case $F.AlreadyInProgress:return"WorldTransferResult.AlreadyInProgress";case $F.InterruptedByUser:return"WorldTransferResult.InterruptedByUser"}}(null!==(t=e.importResult)&&void 0!==t?t:$F.FailureUnknown)}),[],[e]);return r.createElement($m,null,r.createElement($m.Header,null,"Debug import error"),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:!1},r.createElement(Zi,{type:"captionLong",align:"center"},"There was an issue debug importing worlds."),r.createElement(Zi,{type:"captionLong",align:"center"},a))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"secondary",inputLegend:"Close",onClick:t},"Close")))}));function UN(){const e=(0,l.useSharedFacet)(vb);return(0,l.useFacetMap)((e=>e.importIsSupported),[],[e])}function zN(){const e=_N.useModal(),t=(0,l.useSharedFacet)(vb),a=(0,l.useFacetCallback)((e=>()=>{e.debugImportWorlds()}),[],[t]),n=(0,l.useFacetMap)((e=>!e),[],[UN()]),o=(0,l.useFacetMap)((e=>e.importInProgress&&e.importProgress>0),[],[t]),c=(0,l.useFacetMap)((e=>null!=e.importResult&&e.importResult!=$F.Success),[],[t]);return r.createElement(r.Fragment,null,r.createElement(lm,{onClick:a,inputLegend:"Import Worlds",disabled:n},"Import Worlds"),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",align:"center",verticalAlign:"center"},r.createElement(MO,{onClick:e.show,withUnderlinePolyfill:!0},"What does this do?")),r.createElement(l.Mount,{when:e.isVisible},r.createElement(_N.Component,{onClose:e.hide})),r.createElement(l.Mount,{when:o},r.createElement(BN.Component,null)),r.createElement(l.Mount,{when:c},r.createElement(WN.Component,null)))}zN.useIsSupported=UN;const jN=(0,l.createStaticFacet)(!1),HN=()=>{},GN={isDebugDrawerOpen:jN,closeDebugDrawer:HN,openDebugDrawer:HN,toggleDebugDrawer:HN},VN=e=>r.createElement(r.Fragment,null,e.children(GN)),$N=({condition:e,children:t,options:a})=>(Rd(Tb),r.createElement(VN,{children:t}));function XN(e){const t=(0,l.useFacetMap)(((e,t)=>e||t),[],[e.isDebugDrawerOpen,e.isFriendsDrawerOpen]);return r.createElement(r.Fragment,null,e.children({isAnyDrawerOpen:t}))}const KN={isFriendsDrawerOpen:jN,closeFriendsDrawer:HN,openFriendsDrawer:HN,toggleFriendsDrawer:HN},YN=e=>r.createElement(r.Fragment,null,e.children(KN)),qN=({open:e,isOpen:t})=>{const a=Oo(),[n,o]=(0,r.useState)(!1);(0,l.useFacetEffect)(((t,a,r)=>{if(!n&&r.has(VT.RouteQuery)){if(a)return void o(!0);const n=setTimeout(e,t?10:0);return()=>{clearTimeout(n)}}n&&!r.has(VT.RouteQuery)&&o(!1)}),[e,n,o],[a,t,h()]);const c=p();return(0,l.useFacetEffect)(((e,t,a,r)=>{t.has(VT.RouteQuery)&&!e&&n&&(t.delete(VT.RouteQuery),c.replace(IN(a,t.toString(),r)))}),[c,n,o],[t,h(),E(),b()]),null},QN=({condition:e,screenAnalyticsId:t,children:a})=>{const n=!0===(0,l.useFacetUnwrap)(e),o=Rd(zb);return n?o?r.createElement(AN,{children:a,routeScheme:VT.RouteQuery,screenAnalyticsId:t}):r.createElement(LN,{children:a,screenAnalyticsId:t}):r.createElement(YN,{children:a,screenAnalyticsId:t})},JN=({onClick:e,screenAnalyticsId:t})=>{const a=JT(),{friendsOnline:n,friends:o}=kA(!0),c=(0,l.useFacetMap)((e=>e.length),[],[n]),i=Rd(zb),s=(0,l.useFacetCallback)((n=>()=>{a({button:i?"Social":"Friends",screen:t,details:{friendsCount:`${n.length}`}}),e()}),[t,a,e,i],[o]),u=(0,l.useFacetMap)((e=>!i&&!e),[i],[PA()]);return r.createElement(BM.FriendsButton,{friendsOnline:c,onClick:s,displayAmountOfOnlineFriends:u,testId:"vanilla-screen-layout-friends-button"})};function ZN({disableBackButton:e,children:t,debugDrawer:a,delegateByAlias:n,friendsDrawer:o,gamepadAlias:c,onBack:i,navbarRight:s,title:u,screenAnalyticsId:d}){const{t:m}=ws("VanillaScreenLayout"),f=p(),g=Rd(Tb),E=null!=a&&a.length>0&&g,b=(0,l.useFacetWrap)(null!=o&&o),h=(0,l.useFacetWrap)(null!=e&&e),v=(0,l.useFacetMap)((e=>m(".narration.title",[e])),[m],[(0,l.useFacetWrap)(u)]),F=(0,l.useFacetCallback)((e=>()=>{e||(!1!==i&&null!=i?i():f.goBack())}),[i,f],[h]);return r.createElement(Wu,null,r.createElement(ay,null,r.createElement($N,{condition:E,options:a},(({toggleDebugDrawer:e,isDebugDrawerOpen:a})=>r.createElement(QN,{condition:b,screenAnalyticsId:d},(({toggleFriendsDrawer:e,isFriendsDrawerOpen:o,openFriendsDrawer:m})=>r.createElement(bd,{text:v},r.createElement(BM,{onBackButton:!1===i?void 0:F,center:r.createElement(Zi,{type:"header5A"},u),right:r.createElement(r.Fragment,null,null,r.createElement(l.Mount,{when:b},r.createElement(r.Fragment,null,r.createElement(qN,{open:m,isOpen:o}),r.createElement(BM.Divider,null),r.createElement(JN,{onClick:e,screenAnalyticsId:d}))),s),delegateFocusFromMemory:!0,gamepadAlias:c,delegateByAlias:n},r.createElement(XN,{isDebugDrawerOpen:a,isFriendsDrawerOpen:o},t)))))))))}const eR=(0,r.createContext)(!1);function tR({children:e,spacingAroundSideMenu:t,footer:a,focusGridIndex:n,loading:o,scrollViewRef:c,role:i="neutral80",gamepadAlias:s,delegateFocusByAlias:u,adaptToNarrowScreens:d=!0,hideInputLegendSpace:m=!1,fullHeight:p=!1,narrationPrefix:f="",narrationRole:g="",narrationSuffix:E=""}){const b=(0,r.useRef)(null),h=Sc(),{t:v}=ws("SideMenu"),F=Yr(i),y=(0,l.useFacetMap)(((e,t,a)=>[e,""===t?v(".narrationRoleMenu"):t,a].filter((e=>e)).join(" . ")),[v],[(0,l.useFacetWrap)(null!=f?f:""),(0,l.useFacetWrap)(null!=g?g:""),(0,l.useFacetWrap)(null!=E?E:"")]),S="narrow"===h&&d;return r.createElement(Sr,{role:i},r.createElement(bd,{text:y},r.createElement(ud,{alwaysVisibleChildren:r.createElement(r.Fragment,null,null==t&&"desktop"===h&&r.createElement(Vi,{size:2}),t),focusGridIndex:n,floating:"desktop"!==h,delegateFocusFromMemory:!0,loading:o,spinnerBackgroundColor:"#313233",innerRef:c,gamepadAlias:s,delegateFocusByAlias:u},r.createElement("div",{ref:b,className:dl()("d3b4fa33c4466e32479a",F.background.base,F.border.base,{a5697cbc230c11f96be6:p})},r.createElement(Vi,{size:S?2:4}),r.createElement(eR.Provider,{value:S},e),null!=a&&r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement("div",{className:"fd8ce6b6855e2f0157d7"},a)),r.createElement(Vi,{size:4})),m?null:r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}),t)))}tR.ItemMain=function({children:e}){return r.createElement("div",{className:"d3fa282e35141982e6c1"},e)},tR.ItemCell=function({children:e,margin:t="end"}){return r.createElement("div",{className:dl()("f9bc5c6f979e8ac09328",{f041711781b19729d7da:"end"===t,be76358f3f5f4fdb4de9:"start"===t})},e)},tR.Divider=function({label:e,role:t="inherit"}){return r.createElement(r.Fragment,null,r.createElement(Zi,{role:t,type:"captionShort",variant:"dimmer"},r.createElement("div",{className:"a52e4d0f92477f7578e1"},e)),r.createElement(mO,{role:t}))};const aR=(0,l.createFacet)({initialValue:0}),nR=(0,r.createContext)(aR),rR=(0,r.createContext)(0);tR.displayName="SideMenu",tR.ItemList=function({items:e,renderItem:t}){return r.createElement(nR.Provider,{value:(0,l.useFacetMap)((e=>e.length),[],[e])},r.createElement(l.Map,{array:e},((e,a)=>r.createElement(rR.Provider,{value:a},t({item:e,index:a})))))},tR.ListItem=function({onSelect:e,children:t,selected:a,value:n,focusGridIndex:o,narrationText:c,narrationSuffix:i,inputLegend:s,soundEffectPressed:u,role:d="inherit",hasSubtitle:m,testId:p}){const{t:f}=ws("SideMenu.ListItem"),{narrateText:g}=sd(),E=(0,r.useContext)(rR),b=(0,r.useContext)(nR),h=Yr(d),v=Qr(d),F=el(),y=(0,l.useFacetMap)((e=>f(".narrationIndex",[`${E+1}`,`${e}`])),[f,E],[b]),S=(0,l.useFacetMap)(((e,t,a,n)=>t?`${e} . ${f(".narrationRoleMenuItem")} . ${a} . ${n} . ${f(".narrationSelected")}`.replace(" .  . "," . "):`${e} . ${f(".narrationRoleMenuItem")} . ${a} . ${n} . ${f(".narrationUnselected")}`.replace(" .  . "," . ")),[f],[c,a,y,(0,l.useFacetWrap)(null!=i?i:"")]),C=(0,l.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.toggle),[v.toggle],[(0,l.useFacetWrap)(u),a]),M=(0,r.useContext)(eR);return r.createElement(Sr,{role:d},r.createElement(Wi,{className:(0,l.useFacetMap)((e=>{const t=!m&&h.bevel.interactive,a=e?[h.background.select,h.bevel.select]:t;return dl()(m?"cdb5927d24c6eacd6092":"ad386353cd5071c72c3a",a,{a9a2aa9391ba4148dad6:e,[F.selected]:e,afd0e9057431ae5e1fc2:M})}),[h,F,M,m],[a]),classNameFocused:dl()(Ws,"bd4fe6be54991eda5d17"),classNameHovered:(0,l.useFacetMap)((e=>{const t=e?[h.background.select,h.bevel.select]:[h.background.interactive,h.bevel.interactive];return dl()([t,"aed28ff95c5f041a25dd"])}),[h],[a]),onClick:(0,l.useFacetCallback)((t=>()=>{g(f(".narrationSelected")),e(t)}),[f,g,e],[n]),focusGridIndex:o,inputLegend:(0,l.useFacetMap)((e=>!e&&s),[s],[a]),soundEffectPressed:C,narrationText:S,"data-testid":p},r.createElement(Bs,{className:"a707258a02a2b7a32e1b"}),r.createElement("div",{className:"b34dd290ffe3ed0fec9b"},r.createElement(Vi,{size:2}),r.createElement("div",{className:"e5d8ac705bd3fb8c2767"},t),r.createElement(Vi,{size:2}))))},tR.Item=function({children:e}){const t=(0,r.useContext)(eR);return r.createElement("div",{className:dl()("bcfab3dbe673fc99b394",{b7d4f09e18cdb81a2dff:t})},e)};const lR=a.p+"assets/no-player-profile-d13a75350a6a889e7e8b.png",oR=()=>{const e=(0,l.useSharedFacet)(BT),t=(0,l.useSharedFacet)(jT),a=wI();return(0,l.useFacetCallback)(((e,t)=>()=>{if(!t.isLocalPlayerHosting&&!e.canEditPermissions)return;const n=e.playerPermissionList.reduce(((e,t)=>(e[`PlayerPermission${LT[t.abilityIndex]}`]={value:t.isEnabled,privacyTag:zv.CustomerContent},e)),{});a("PlayerPermissionsSaved",n)}),[a],[e,t])},cR=a.p+"assets/psn_logo-ea3e6a8b6b7961ab12f7.png";function iR({connectionType:e,image:t,inputLegend:a,label:n,onSelect:o,selected:c,subtitle:i,subtitleIcon:s,value:u,platform:d}){const m=(0,l.useFacetMap)((e=>Boolean(e)),[],[t]),p=(0,l.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[n,i]),f=(0,l.useFacetMap)(((e,t,a)=>a===UT.PLATFORM&&TI(e.platform)&&t===zT.SONY),[],[(0,l.useSharedFacet)(_l),d,e]),g=(0,l.useFacetMap)(((e,t)=>null!=e&&null!=t),[],[i,s]),E=(0,l.useFacetMap)((e=>null!=e?e:void 0),[],[s]),b=(0,l.useFacetMap)((e=>null!=e?e:""),[],[i]);return r.createElement(tR.ListItem,{narrationText:p,selected:c,value:u,onSelect:o,inputLegend:a,hasSubtitle:!0},r.createElement(l.Mount,{when:m},r.createElement(Uu,null,r.createElement(tR.ItemCell,null,r.createElement(Uy,{src:t,variant:"large"})))),r.createElement(l.Mount,{when:f},r.createElement(Uu,null,r.createElement(tR.ItemCell,null,r.createElement(pu,{src:cR,className:"ea33ad7e260abdf9f7eb",width:"2.2rem",height:"2.2rem"})))),r.createElement(tR.ItemMain,null,r.createElement(Zi,{overflowEllipsis:!0,type:"body"},n),r.createElement(l.Mount,{when:g},r.createElement("div",{className:dl()("afe1c696634289754d59","a0c1c8a25c141fe7b998")},r.createElement(Jd,{icon:E}),r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:"neutral",className:"ab6cf98dda996cda7602",overflowEllipsis:!0},b)))))}const sR="neutral",uR="dimmest",dR=e=>{switch(e){case WT.Custom:return()=>r.createElement(LM.PermissionCustom,{role:sR,variant:uR});case WT.Member:return()=>r.createElement(LM.PermissionMemberIcon,{role:sR,variant:uR});case WT.Operator:return()=>r.createElement(LM.PermissionOperator,{role:sR,variant:uR});case WT.Visitor:default:return()=>r.createElement(LM.PermissionVisitor,{role:sR,variant:uR})}};function mR({item:e}){const{t}=ws("PlayerPermissionsRoute.SideMenu"),a=p(),n=g(),o=(0,l.useSharedFacet)(BT),c=oR(),i=(0,l.useFacetMap)((e=>e.connectionType),[],[e]),s=(0,l.useFacetMap)((e=>e.platform),[],[e]),u=(0,l.useFacetMap)((e=>e.label),[],[e]),d=(0,l.useFacetMap)((e=>e.value),[],[e]),m=(0,l.useFacetMap)((e=>e.role),[],[e]),f=(0,l.useFacetMap)((e=>e.icon),[],[e]),E=(0,l.useFacetMap)((e=>""===e.image?lR:e.image),[],[e]),b=(0,l.useFacetMap)(((e,t)=>e.playerId===t),[],[n,d]),h=(0,l.useFacetCallback)(((e,t,n)=>()=>{n.clearErrorFlag(DT.InvalidPlayerId),t||(a.replace(`/player-permissions/${e}`),c())}),[a,c],[d,b,o]);return r.createElement(iR,{label:u,value:d,image:E,subtitle:m,subtitleIcon:f,selected:b,inputLegend:t(".menuRole"),onSelect:h,connectionType:i,platform:s})}function pR(){const{t:e}=ws("PlayerPermissionsRoute.SideMenu"),t=(0,l.useSharedFacet)(jT),a=(0,r.useCallback)((t=>{switch(t){case WT.Custom:return e(".role.custom");case WT.Member:return e(".role.member");case WT.Operator:return e(".role.operator");case WT.Visitor:default:return e(".role.visitor")}}),[e]),n=(0,l.useFacetMemo)((e=>e.players.map(((e,t)=>({label:e.name,value:e.id,role:null!=e.permissionLevel||e.permissionLevel===WT.Visitor?a(e.permissionLevel):null,icon:null!=e.permissionLevel||e.permissionLevel===WT.Visitor?dR(e.permissionLevel):null,image:e.profileImage,isHosting:e.isHosting,connectionType:e.connectionType,platform:e.platform,index:t})))),[a],[t]);return r.createElement(tR,{role:"neutral80",hideInputLegendSpace:!0,narrationRole:e(".menuRole"),delegateFocusByAlias:"remember",spacingAroundSideMenu:r.createElement(r.Fragment,null)},r.createElement(tR.ItemList,{items:n,renderItem:mR}))}const fR="d4a323c88c739114b4aa",gR="cb9a650d07add0199a8e",ER="da157b4b552e316102c4",bR="bd6926ff30e4c4981552";function hR({gamepadAlias:e,children:t,Icon:a,disabled:n=!1,selected:o=!1,onClick:c,extraSpeechProps:i,onFocusChanged:s,wrapText:u,soundEffectPressed:d,onRole:m="primary",offRole:p="secondary"}){const{t:f}=ws("Toggle"),g=(0,l.useFacetWrap)(n),E=(0,l.useFacetWrap)(i),b=(0,l.useFacetWrap)(t),h=(0,l.useFacetWrap)(o),v=(0,l.useFacetUnwrap)(o),F=Yr(m),y=Yr(p),S=v!==l.NO_VALUE&&v?m:p,C=(0,l.useFacetMap)((({index:e,groupSize:t,description:a},n,r)=>[n,f(".narrationOptionType"),f(".count",[`${e+1}`,`${t}`]),f(r?".narrationSelected":".narrationUnselected"),null!=a?a:""].join(" . ")),[f],[E,b,h]),M=(0,l.useFacetMap)(((e,t)=>dl()("f14f117a42c5071db91e",{[gR]:t,[bR]:e},y.border.base,y.border.disable)),[y],[g,h]),w=(0,l.useFacetMap)(((e,t)=>dl()(fR,[t?[F.background.base,F.background.disable]:y.background.interactive],[t?[F.text.base,F.text.disable]:y.text.interactive],{[bR]:e})),[F,y],[g,h]),k=(0,l.useFacetMap)((e=>!e),[],[h]);return r.createElement(Wi,{narrationText:C,className:M,classNameFocused:dl()("a6ef07179d77c13d8638",Ws),classNamePressed:gR,soundEffectPressed:d,gamepadAlias:e,inputLegend:f(".select"),onClick:c,onFocusChanged:s,disabled:n},r.createElement(Sr,{role:S},r.createElement(Bs,{role:S,disabled:n}),r.createElement("fast-div",{className:w,"data-testid":"toggle"},r.createElement(Ks,{role:S,interactive:k,disabled:n}),r.createElement("div",{className:"d207025bf340a8a735a9"},u?r.createElement(Zi,{type:"body",role:S,align:u?"center":void 0,disableable:o,interactive:k},r.createElement(Jd,{icon:a,disabled:n}),r.createElement("fast-text",{text:t})):r.createElement(Zi,{type:"body",role:S,align:u?"center":void 0,disableable:o,interactive:k},r.createElement(Jd,{icon:a,disabled:n,className:"c039e2d18ffafe6a6b0d"}),r.createElement(ji,{className:"fbdc9b3e07b7655d4f8d"},b))),r.createElement("fast-div",{className:(0,l.useFacetMap)(((e,t)=>dl()([t?[F.icon.base,F.icon.disable]:void 0],{f0bf371d97d59dd95aaa:t,[bR]:e})),[F],[g,h])}))),r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()(ER,y.shadow.interactive,{[bR]:e})),[y],[g])}))}function vR(){return r.createElement("div",{className:"c417ad639c35c48442c1"},r.createElement("div",{className:fR}),r.createElement("div",{className:ER}))}var FR=a(18371),yR=a.n(FR),SR=a(46376),CR=a.n(SR);function MR(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wR(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(a),!0).forEach((function(t){kR(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):MR(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kR(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function PR({children:e,disabled:t,footer:a,menuRole:n="secondary",itemRole:o="neutral60",style:c={}}){const i=Yr(n),s=Yr(o),u=Zr(),d=(0,r.useRef)(null),m=(0,l.useFacetWrap)(t);return r.createElement(uu,{containerRef:d,disabled:m,shouldBindFocus:!0},r.createElement("fast-div",{ref:d,className:"fa3be918cc69ed685963",style:wR(wR({},c),{marginTop:"var(--base1Scale)"})},r.createElement(ud,null,r.createElement("div",{className:dl()("a6319002d7493fb92b8e",i.border.base)},r.createElement("div",{className:dl()("ee2be481f261ecde6b11",s.border.base,u.dimmest)},r.createElement(Sr,{role:o},e)))),a))}function TR(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function IR(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?TR(Object(a),!0).forEach((function(t){xR(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TR(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xR(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const OR=(0,l.createFacet)({initialValue:""});function AR({options:e,value:t,onChange:a,isOpen:n,onClick:o,onOpenClose:c,dropdownRef:i,disabled:s,onFocusChanged:u,onHoverChanged:d,placeholder:m,footer:p,gamepadAlias:f,soundEffectPressed:g,soundEffectItemHovered:E,narrationText:b,shouldOnlyHandleBackButtonPressWhenDropdownIsOpen:h=!0,isElevated:v=!0,hideDownArrow:F=!1,menuRole:y="secondary",itemRole:S="neutral60",dropdownMenuStyle:C,dropdownMenuPortalRef:M,onBackButtonPressProps:w,matchButtonHeight:k=!1}){const{narrateText:P}=sd(),T=(0,l.useFacetWrap)(n),I=(0,l.useFacetWrap)(s),[x,O]=(0,l.useFacetState)(!1),[A,N]=(0,l.useFacetState)(!1),[R,L]=(0,l.useFacetState)(!1),D=(0,l.useFacetWrap)(m);(0,l.useFacetEffect)((e=>{null!=e&&O(e)}),[O],[T]);const _=(0,r.useRef)(null),B=M||i||_;(0,l.useFacetEffect)((e=>c&&c(e)),[c],[x]);const{t:W}=ws("BaseDropdown"),U=(0,l.useFacetWrap)(e),z=(0,l.useFacetWrap)(t),H=(0,l.useFacetMap)(((e,t)=>CR()(yR()("value",t))(e)),[],[U,z]);!function(e,t,a=!0){const n=(0,l.useFacetWrap)(a);(0,l.useFacetEffect)((a=>{if(!a)return;const n=a=>{e.current&&e.current.contains(a.target)||t()};return document.addEventListener("click",n,!0),()=>{document.removeEventListener("click",n,!0)}}),[e,t],[n])}(B,(()=>{O(!1),J(!1),setTimeout((()=>P(W(".stateCollapsed"))),0)}),x);const G=nt(),V=Fc(4.8),$=Fc(30),X=(0,l.useFacetMap)(((e,t,a,n)=>{const r=e.length*V>$;return dl()({aa50a482a39b879ed4bf:t,dd3ec764c16823a232a1:n,d4e78644578edbc1700e:r,a1cfc3da4590f5260c76:null==a})}),[V,$],[U,x,H,G]),K=(0,l.useFacetMap)((e=>dl()("c086f102508ef664f0ff",{ac8cbb58b45fc58b1b0d:e})),[],[x]),Y=(0,r.useMemo)((()=>"unique-identifier"+tI++),[]),q=null!=f?f:`dd-bevel-${Y}`,Q=Pe(),J=(0,r.useCallback)((e=>{if(e){const e=null!=f?`${f}-0`:`dd-bevel-${Y}-0`;("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:LR)((()=>{Q(e)}))}else Q(q)}),[f,Y,Q,q]),Z=(0,l.useFacetCallback)((e=>()=>{e&&(O(!1),J(!1),setTimeout((()=>P(W(".stateCollapsed"))),0)),w&&w(e)}),[w,O,J,P,W],[x]),ee=(0,l.useFacetCallback)((e=>()=>{const t=!e;O(t),o&&o(t),J(t)}),[O,o,J],[x]),te=(0,l.useFacetCallback)((e=>t=>{a(t),ee();const n=CR()(yR()("value",t))(e);setTimeout((()=>P([W(".selected"),null==n?void 0:n.narrationSuffix].join(" . "))),0)}),[a,ee,P,W],[U]),ae=(0,l.useFacetMap)(((e,t,a)=>(e||!h)&&(t||a)),[h],[x,A,R]),ne=(0,l.useFacetMemo)((e=>e.map(((t,a)=>IR(IR({},t),{},{enumeration:W(".enumeration",[`${a+1}`,`${e.length}`]),gamepadAlias:null!=f?`${f}-${a}`:`dd-bevel-${Y}-${a}`})))),[W,f,Y],[U]),re=Qr("neutral"),le=(0,l.useFacetMap)(((e,t)=>dl()("a493ab0ed0e1ff300a1c",{aa72bf6f1dcaa5163543:!e||!0===t})),[],[x,I]),oe=(0,l.useFacetMap)(((e,t)=>!e||!0===t),[],[x,I]),ce=(0,l.useFacetMap)((e=>e?W(".stateExpanded"):""),[W],[x]),ie=(0,l.useFacetMap)((e=>({button:j.B,disabled:!e,inputLegend:W(".close")})),[W],[ae]);return r.createElement(bd,{text:null!=b?b:OR},r.createElement("fast-div",{ref:B,className:K},r.createElement("fast-div",{className:X},r.createElement(qd,{reflection:"specular",variant:y,narrationText:!1,onClick:ee,inputLegend:W(".open"),onFocusChanged:e=>{N(e),null==u||u(e)},onHoverChanged:e=>{null==d||d(e)},shouldNotDepressWhenPressed:!0,height:k?4:4.2,isElevated:v,disabled:I,soundEffectPressed:null!=g?g:re.press,gamepadAlias:q},r.createElement(NR,{hideDownArrow:F},(0,l.useFacetMap)(((e,t)=>e?e.label:null!=t?`${t}...`:""),[],[H,D])))),M?r.createElement(RR,{when:x,content:r.createElement(bd,{text:ce},r.createElement("fast-div",{className:le},r.createElement(PR,{disabled:oe,footer:p,menuRole:y,itemRole:S,style:C},r.createElement(l.Map,{array:ne},((e,t)=>r.createElement(Uu,null,r.createElement(sP,{item:e,onChange:te,key:t,currentValue:z,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:L,disabled:oe})))),r.createElement(Ed,{options:ie,onClick:Z})))),containerRef:M}):r.createElement(bd,{text:ce},r.createElement("fast-div",{className:le},r.createElement(PR,{disabled:oe,footer:p,menuRole:y,itemRole:S,style:C},r.createElement(l.Map,{array:ne},((e,t)=>r.createElement(Uu,null,r.createElement(sP,{item:e,onChange:te,key:t,currentValue:z,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:L,disabled:oe})))),r.createElement(Ed,{options:ie,onClick:Z}))))))}const NR=({children:e,hideDownArrow:t,menuRole:a="secondary",selectedIcon:n,selectedImage:l,disabled:o})=>{const c=Yr(a);return r.createElement("fast-div",{className:dl()("fe2d53840629f0518e53",c.text.interactive)},r.createElement(Jd,{icon:n}),l,r.createElement(ji,null,e),!t&&r.createElement("div",{className:"b73e6c5ac897d9de34f5"},r.createElement(LM.ChevronDown,{role:a,disabled:o})))};AR.ToggleInnerWrapper=NR;const RR=e=>!0===(0,l.useFacetUnwrap)(e.when)&&e.containerRef.current?r.createElement(r.Fragment,null,(0,l.createPortal)(e.content,e.containerRef.current)):null,LR=e=>e();function DR(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(a),!0).forEach((function(t){BR(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DR(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function BR(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function WR({title:e,options:t,value:a,onItemSelect:n,placeholderText:o,buttonRole:c="secondary",dropdownOptionRoleHint:i,dropdownEnumeration:s,dropdownNarrationSuffix:u,itemTypeNarration:d,hideDownArrow:m=!1,buttonTestId:p,closeButtonNarrationSuffix:f,matchButtonHeight:g=!1,gamepadAlias:E,focusOnSelectedItem:b=!1,disabled:h=!1,disabledNarrationSuffix:v,selectedIcon:F,selectedImage:y,role:S="secondary"}){const{t:C}=ws("ModalMenuDropdown"),M=(0,l.useFacetWrap)(a),w=(0,l.useFacetWrap)(null!=o?o:C(".dropdown.placeholder")),k=(0,l.useFacetWrap)(i),P=(0,l.useFacetWrap)(s),T=(0,l.useFacetWrap)(u),I=(0,l.useFacetWrap)(h),x=(0,l.useFacetWrap)(t),O=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[x,M]),A=(0,l.useFacetMemo)(((e,t)=>null!=(null==t?void 0:t.isSelected)&&null!=t.isSelectable?e:e.map((e=>_R(_R({},e),{},{isSelectable:!1!==e.isSelectable,isSelected:e.value===(null==t?void 0:t.value)})))),[],[x,O]),N=(0,l.useFacetMap)(((e,t)=>{var a;return null!==(a=null==e?void 0:e.label)&&void 0!==a?a:t}),[],[O,w]),R=(0,l.useFacetMap)(((e,t,a)=>[e,C(".dropdown.role"),a?C(".narrationDisabled"):"",t,C(".dropdown.collapsed")].filter(Boolean).join(" . ")),[C],[k,P,I]),L=(0,l.useFacetMemo)(((e,t,a,n)=>{let r;var l;return r=null!=e?null!==(l=e.narrationText)&&void 0!==l?l:e.label:t,[r,C(".dropdown.label.role"),C(".dropdown.label.selected"),a,n?v:""].filter(Boolean).join(" . ")}),[C,v],[O,w,T,I]),D=UR.useModal();return r.createElement(r.Fragment,null,r.createElement(bd,{text:R},r.createElement(Sr,{role:S},r.createElement(qd,{reflection:"specular",variant:c,narrationText:L,onClick:D.show,inputLegend:C(".dropdown.inputLegend"),height:g?4:4.2,isElevated:!0,"data-testid":p,disabled:I,gamepadAlias:E},r.createElement(AR.ToggleInnerWrapper,{disabled:I,hideDownArrow:m,selectedIcon:F,selectedImage:y},N)))),r.createElement(l.Mount,{when:D.isVisible},r.createElement(UR.Component,{title:e,items:A,isOpen:D.isVisible,onClose:D.hide,onItemSelect:e=>{n(e),D.hide()},itemTypeNarration:d,closeButtonNarrationSuffix:f,focusOnSelectedItem:b})))}const UR=As((e=>r.createElement(fP,e)));function zR(){return zR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},zR.apply(null,arguments)}function jR(e){let{title:t,description:a,customSelectionDescription:n,options:o,value:c,disabled:i,indented:s,wrapperRole:u}=e,d=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["title","description","customSelectionDescription","options","value","disabled","indented","wrapperRole"]);const m=(0,l.useFacetWrap)(o),p=(0,l.useFacetWrap)(c),f=(0,l.useFacetWrap)(t),g=(0,l.useFacetWrap)(null!=a?a:""),E=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[m,p]),b=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[E]),h=(0,l.useFacetMap)((e=>null==n&&Boolean(e)),[n],[b]),v=(0,l.useFacetMap)(((e,t)=>[e,t].filter(Boolean).join(" . ")),[],[f,g]),F=(0,l.useFacetMap)((e=>e.length>0),[],[g]);return r.createElement(Ud,{indented:s,narrationText:v,disabled:i,role:u},r.createElement(jd,{disabled:i},f),r.createElement(l.Mount,{when:F},r.createElement(Hd,{disabled:i},g)),r.createElement(Vi,{size:2}),r.createElement(WR,zR({title:f,options:m,value:c,disabled:i,dropdownNarrationSuffix:b},d)),null!=n&&n,r.createElement(l.Mount,{when:h},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Hd,{disabled:i},b))))}let HR=0;const GR=()=>{},VR=(0,r.createContext)({ref:null,defaultWidthPx:void 0});function $R({options:e,title:t,description:a,onChange:n=GR,disabled:o=!1,value:c,wrapToggleText:i,onMountComplete:s,soundEffectPressed:u,disabledNarrationSuffix:d,lockToToggles:m=!1,containerRef:p,indented:f=!1,wrapperRole:g="neutral"}){var E;const b=Qr("neutral"),h=(0,r.useRef)(null),v=(0,r.useContext)(VR),F=null!==(E=null!=p?p:v.ref)&&void 0!==E?E:h,y=(0,l.useFacetWrap)(e),S=((e,t,a)=>{const[n,o]=(0,l.useFacetState)(null),c=yc(t),i=(0,r.useCallback)((e=>o(e.width)),[o]),s=Bc(e,i),u=null==s?void 0:s.width,d=(0,r.useRef)(a);return d.current=a,(0,l.useFacetMap)(((e,t)=>null!=e?e<t?"smaller":"bigger":null!=u?u<t?"smaller":"bigger":null!=d.current?d.current<t?"smaller":"bigger":"unknown"),[u],[n,c])})(F,(0,l.useFacetMap)((e=>15*e.length),[],[y]),v.defaultWidthPx),C=(0,l.useFacetMap)((e=>"smaller"===e&&!m),[m],[S]),M=(0,l.useFacetMap)((e=>"unknown"===e),[],[S]);return(0,l.useFacetEffect)((e=>{e||null==s||s()}),[s],[M]),r.createElement("div",{ref:h},r.createElement(l.Mount,{when:C},r.createElement(jR,{title:t,description:a,options:y,value:c,focusOnSelectedItem:!0,onItemSelect:n,disabled:o,disabledNarrationSuffix:d,indented:f,wrapperRole:g})),r.createElement(l.Mount,{when:C,condition:!1},r.createElement(XR,{disabledNarrationSuffix:d,options:e,title:t,description:a,onChange:n,disabled:o,value:c,wrapToggleText:i,soundEffectPressed:null!=u?u:b.toggle,skeleton:M,indented:f,role:g})))}function XR({options:e,title:t="",description:a="",onChange:n=GR,disabled:o=!1,value:c,wrapToggleText:i,soundEffectPressed:s,disabledNarrationSuffix:u,skeleton:d,indented:m=!1,role:p="neutral"}){const f=(0,l.useFacetWrap)(t),g=(0,l.useFacetWrap)(a),E=(0,l.useFacetWrap)(e),b=(0,l.useFacetWrap)(c),h=(0,l.useFacetWrap)(o),v=(0,l.useFacetWrap)(s),{t:F}=ws("Toggle"),y=Ln(),S=(0,r.useRef)("MCT-"+HR++),C=(0,l.useFacetMap)((e=>e.length),[],[E]),M=(0,l.useFacetMap)(((e,t)=>e.findIndex((e=>e.value===t))),[],[E,b]),w=(0,l.useFacetMap)(((e,t)=>{var a,n;return null!==(a=null===(n=e.find((e=>e.value===t&&null!=e.description)))||void 0===n?void 0:n.description)&&void 0!==a?a:""}),[],[E,b]),k=(0,l.useFacetCallback)((e=>t=>{var a;n(null===(a=e[t])||void 0===a?void 0:a.value)}),[n],[E]),P=(0,l.useFacetMap)((e=>[e,F(".narrationComponentType")].join(" . ")),[F],[f]),T=(0,l.useFacetMap)(((e,t,a,n,r)=>{var l;return r&&y?[null!=e?e:"",F(".narrationComponentType"),F(".narrationDisabled"),null===(l=t[a])||void 0===l?void 0:l.label,F(".narrationOptionType"),F(".narrationSelected"),null!=n?n:"",null!=u?u:""].join(" . "):""}),[y,u,F],[f,E,M,w,h]),I=(0,l.useFacetMap)((e=>e&&y),[y],[h]);return r.createElement(Ud,{focusable:I,narrationText:T,indented:m,role:p},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.length>0),[],[f])},r.createElement(jd,{disabled:o},t)),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.length>0),[],[g])},r.createElement(Hd,null,g)),r.createElement(Vi,{size:1}),r.createElement("div",{className:"f5127c3f13fdfe628cfd"},r.createElement(l.Mount,{when:d,condition:!1},r.createElement(bd,{text:P},r.createElement(l.Map,{array:E},((e,t)=>r.createElement(KR,{option:e,gamepadAlias:`${S.current}.${t}`,selectedIndex:M,disabled:o,wrapToggleText:i,soundEffectPressed:v,handleClickOnToggle:k,index:t,optionsLength:C}))))),r.createElement(l.Mount,{when:d},r.createElement(vR,null))),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.length>0),[],[w])},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Hd,null,w))))}function KR({option:e,selectedIndex:t,disabled:a,gamepadAlias:n,wrapToggleText:o,soundEffectPressed:c,handleClickOnToggle:i,index:s,optionsLength:u}){const{t:d}=ws("Toggle"),{narrateText:m}=sd(),p=(0,l.useFacetCallback)((e=>()=>{m([d(".narrationSelected"),e.narrationSuffix].join(" . ")),i(s)}),[m,s,i,d],[e]),f=(0,l.useFacetMap)(((e,t)=>({index:s,groupSize:t,description:e.description})),[s],[e,u]),g=(0,l.useFacetMap)((e=>e.label),[],[e]),E=(0,l.useFacetMap)((e=>e.Icon),[],[e]),b=(0,l.useFacetMap)((e=>e===s),[s],[t]),h=(0,l.useFacetMap)(((e,t)=>e?void 0:t),[],[b,c]),v=(0,l.useFacetMap)(((e,t)=>e.disabled||t),[],[e,(0,l.useFacetWrap)(a)]);return r.createElement(hR,{Icon:E,onClick:p,selected:b,gamepadAlias:n,extraSpeechProps:f,disabled:v,wrapText:o,soundEffectPressed:h},g)}$R.displayName="Toggles",$R.Toggle=hR,$R.ContainerContextProvider=({children:e,containerRef:t,defaultWidthPx:a})=>{const n=(0,r.useMemo)((()=>({ref:t,defaultWidthPx:a})),[t,a]);return r.createElement(VR.Provider,{value:n},e)};const YR=As((({enableCheats:e,onChange:t,onCloseModal:a})=>{const{t:n}=ws("PlayerPermissionsRoute.EnableCheatsModal"),l=(0,r.useCallback)((()=>{t(),a()}),[a,t]),o=(0,r.useCallback)((()=>{e(),t(),a()}),[e,t,a]);return r.createElement($m,null,r.createElement($m.Header,{onClose:a},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".description")},n(".description"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:n(".inputLegend"),variant:"primary",onClick:o},n(".enableCheatsButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:l},n(".cheatsDisabledButton"))))})),qR=As((({playerName:e,onKickPlayer:t,onCloseModal:a})=>{const{t:n}=ws("PlayerPermissionsRoute.KickPlayerModal"),o=(0,l.useFacetMap)((e=>n(".description",[e])),[n],[e]),c=(0,l.useFacetMap)((e=>n(".kickButton",[e])),[n],[e]);return r.createElement($m,null,r.createElement($m.Header,{onClose:a},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o},o)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:n(".inputLegend"),variant:"destructive",onClick:t},c),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:a},n(".backButton"))))})),QR=As((({onCloseModal:e})=>{const{t}=ws("PlayerPermissionsRoute.OperatorRevokedErrorModal");return r.createElement($m,null,r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".description")},t(".description"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".inputLegend"),variant:"secondary",onClick:e},t(".closeButton"))))})),JR=As((({playerName:e,onCloseModal:t})=>{const{t:a}=ws("PlayerPermissionsRoute.PlayerLeftErrorModal"),n=(0,l.useFacetMap)((e=>a(".description",[e])),[a],[e]);return r.createElement($m,null,r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n},n)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".inputLegend"),variant:"secondary",onClick:t},a(".closeButton"))))}));function ZR(e){switch(e){case LT.Build:return".build";case LT.Mine:return".mine";case LT.DoorsAndSwitches:return".doorsAndSwitches";case LT.OpenContainers:return".openContainers";case LT.AttackPlayers:return".attackPlayers";case LT.AttackMobs:return".attackMobs";case LT.OperatorCommands:return".operatorCommands";case LT.Teleport:default:return".teleport"}}const eL=As((({onRoleChange:e,onPlayerPermissionChange:t,onCloseModal:a})=>{const{t:n}=ws("PlayerPermissionsRoute.RemoveOperatorLevelModal"),l=(0,r.useCallback)((()=>{e&&e(),t&&t()}),[e,t]);return r.createElement($m,null,r.createElement($m.Header,{onClose:a},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".description")},n(".description"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:n(".inputLegend"),variant:"primary",onClick:l},n(".removeOperatorLevelButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".inputLegend"),variant:"secondary",onClick:a},n(".backButton"))))})),tL=a.p+"assets/generic-error-7df2729fadb517daf032.png",aL=a.p+"assets/permissions-missing-fd3a240bebf300e89403.png",nL="c6e06d56653282717326",rL="ca85cae891574a01aa9e";function lL(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oL(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lL(Object(a),!0).forEach((function(t){cL(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lL(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function cL(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var iL;!function(e){e.NoPermissions="no-permissions",e.InvalidEmpty="invalid-empty",e.PlayerPermissions="player-permissions"}(iL||(iL={}));const sL=(e,t)=>{switch(e){case WT.Custom:return()=>r.createElement(LM.PermissionCustom,{disabled:t,className:rL});case WT.Member:return()=>r.createElement(LM.PermissionMemberIcon,{disabled:t,className:rL});case WT.Operator:return()=>r.createElement(LM.PermissionOperator,{disabled:t,className:rL});case WT.Visitor:default:return()=>r.createElement(LM.PermissionVisitor,{disabled:t,className:rL})}};function uL(){const{t:e}=ws("PlayerPermissionsRoute.Details"),t=ws("PlayerPermissionsRoute.role").t,a=p(),n=Sc(),o=f(),c=qR.useModal(),i=eL.useModal(),s=YR.useModal(),u=QR.useModal(),d=JR.useModal(),m=g(),E=$m.useIsAnyModalVisible(),b=Yr("neutral80"),[h,v]=(0,l.useFacetState)(WT.Visitor),[F,y]=(0,l.useFacetState)(""),[S,C]=(0,l.useFacetState)(!1),M=(0,l.useSharedFacet)(BT),w=(0,l.useSharedFacet)(jT),k=(0,l.useSharedFacet)(dh),P=(0,r.useMemo)((()=>[{label:t(".visitor"),description:e(".roleDropdown.description.visitor"),value:WT.Visitor,Icon:sL(WT.Visitor,!1),enumeration:e(".optionEnumeration",["1","4"])},{label:t(".member"),description:e(".roleDropdown.description.member"),value:WT.Member,Icon:sL(WT.Member,!1),enumeration:e(".optionEnumeration",["2","4"])},{label:t(".operator"),description:e(".roleDropdown.description.operator"),value:WT.Operator,Icon:sL(WT.Operator,!1),enumeration:e(".optionEnumeration",["3","4"])},{label:t(".custom"),description:e(".roleDropdown.description.custom"),value:WT.Custom,Icon:sL(WT.Custom,!1),enumeration:e(".optionEnumeration",["4","4"])}]),[t,e]),T=(0,l.useFacetMap)((e=>!Boolean(e.canEditPermissions)),[],[M]),I=(0,l.useFacetMap)((e=>e.playerId),[],[m]),x=(0,l.useFacetMap)((e=>e.playerPermissionLevel),[],[M]),O=(0,l.useFacetMemo)((e=>P.map((t=>oL(oL({},t),{},{Icon:sL(t.value,e)})))),[P],[T]),A=(0,l.useFacetMap)((e=>e.playerPermissionList),[],[M]),N=(0,l.useFacetMemo)(((e,t)=>sL(e,t)),[],[x,T]),R=(0,l.useFacetMemo)((e=>[sL(WT.Custom,e),sL(WT.Member,e),sL(WT.Operator,e),sL(WT.Visitor,e)]),[],[T]),L=(0,l.useFacetMemo)(((e,t)=>{var a;return null===(a=e.players.find((e=>e.id===t)))||void 0===a?void 0:a.isHosting}),[],[w,I]),D=(0,l.useFacetMap)((e=>e.isLocalPlayerHosting),[],[w]),_=(0,l.useFacetMap)((e=>e.canKickPlayer),[],[M]),B=(0,l.useFacetMap)(((e,t)=>!Boolean(e)&&t),[],[L,_]),W=(0,l.useFacetMemo)(((e,t)=>{var a;return String(null===(a=e.players.find((e=>e.id===t)))||void 0===a?void 0:a.name)}),[],[w,I]),U=(0,l.useFacetMap)((e=>e.isWorldTemplateOptionsLocked),[],[M]),z=(0,l.useFacetMemo)((t=>{switch(t){case WT.Visitor:return e(".roleDropdown.description.visitor");case WT.Member:return e(".roleDropdown.description.member");case WT.Operator:return e(".roleDropdown.description.operator");case WT.Custom:return e(".roleDropdown.description.custom")}}),[e],[x]),j=(0,l.useFacetMap)((t=>e(".kickButton",[String(t)])),[e],[W]),H=(0,l.useFacetMap)((e=>e.localPlayerID),[],[w]),G=(0,l.useFacetMap)((e=>e.playerIdInvalidFlag),[],[M]),V=(0,l.useFacetMap)((e=>e.selectedPlayerLeftFlag),[],[M]),$=(0,l.useFacetMap)((e=>e.selectedPlayerPermissionsChangedFlag),[],[M]),X=(0,l.useFacetMap)((e=>e.operatorCommandsRevokedFlag),[],[M]),K=(0,l.useFacetMap)((e=>e.kickCommandState===_T.Error),[],[M]),Y=(0,l.useFacetMap)((e=>e.kickCommandState===_T.Success),[],[M]),q=(0,l.useFacetMap)(((e,t)=>e&&!1===t),[],[G,V]),Q=(0,l.useFacetMap)((e=>e.playerPermissionsMissingFlag),[],[M]),J=(0,l.useFacetMap)(((e,t)=>t?iL.NoPermissions:e?iL.InvalidEmpty:iL.PlayerPermissions),[],[q,Q]),Z=(0,l.useFacetMemo)((e=>null!=e?e:WT.Visitor),[],[x]),ee=(0,l.useFacetCallback)(((e,t)=>a=>{v(a),e.setPlayerPermissionLevel(t,a)}),[v],[M,I]),te=(0,l.useFacetCallback)(((e,t)=>a=>e===WT.Operator?(v(a),void i.show()):a!==WT.Operator||t.areCheatsEnabled?void ee(a):(v(a),void s.show())),[v,ee,i,s],[x,M]),ae=(0,l.useFacetCallback)(((e,t,a)=>()=>{ee(e),t&&i.hide(),a&&s.hide()}),[ee,i,s],[h,i.isVisible,s.isVisible]),ne=(0,l.useFacetCallback)(((e,t)=>(a,n)=>e.setPlayerPermission(t,a,!n)),[],[M,I]),re=(0,l.useFacetCallback)((e=>t=>e.loadPlayerPermissions(t)),[],[M]),le=(0,l.useFacetCallback)((e=>()=>e.enableCheats()),[],[M]),oe=(0,r.useCallback)((()=>{a.push("/game-settings"),C(!0)}),[a,C]),ce=(0,l.useFacetCallback)(((e,t,n,r)=>()=>{e.kickPlayer(t),r||a.replace(`/player-permissions/${n}`),c.hide()}),[c,a],[M,I,H,V]),ie=(0,l.useFacetCallback)((e=>()=>{e.clearErrorFlag(DT.OperatorCommandsPermissionRevoked)}),[],[M]),se=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearErrorFlag(DT.SelectedPlayerLeftWorld),a.replace(`/player-permissions/${t}`)}),[,a],[M,H,V]),ue=(0,l.useFacetCallback)((e=>t=>e.clearErrorFlag(t)),[],[M]);return(0,l.useFacetEffect)((e=>{ue(DT.MissingPlayerPermissions),re(e)}),[re,ue],[I]),(0,l.useFacetEffect)((e=>{"undefined"!==e&&y(e)}),[y],[W]),(0,l.useFacetEffect)(((t,a,n,r,l,o,c)=>{o||(t&&d.show(),a&&(l.queueSnackbar(e(".notification.selectedPlayerPermissionsChangedFlag")),ue(DT.SelectedPlayerPermissionsChanged)),n&&u.show(),r&&(l.queueSnackbar(e(".notification.kickCommandFailedFlag")),ue(DT.KickCommandFailed)),c&&(l.queueSnackbar(e(".notification.kickCommandSuccess")),ue(DT.KickCommandFailed)))}),[u,d,e,ue],[V,$,X,K,k,E,Y]),(0,l.useFacetEffect)(((e,t)=>{e||d.hide(),t||u.hide()}),[d,u],[V,X]),(0,l.useFacetEffect)(((e,t)=>{!e&&t&&C(!1)}),[C],[o,S]),r.createElement(l.Unwrap,{data:J},(t=>{switch(t){case iL.NoPermissions:return r.createElement(aw.Wrapper,null,r.createElement(aw.Title,null,e(".noPermissions.title")),r.createElement(aw.Image,{imgSrc:aL,imgClass:nL}),r.createElement(aw.Text,null,e(".noPermissions.description")));case iL.InvalidEmpty:return r.createElement(aw.Wrapper,null,r.createElement(aw.Image,{imgSrc:tL,imgClass:nL}),r.createElement(aw.Text,null,e(".playerIdInvalidFlag")));case iL.PlayerPermissions:default:return r.createElement(ud,null,r.createElement("div",{className:dl()("aa2e0a03094ae4fd5a2e",b.border.base)},r.createElement(l.Mount,{when:U},r.createElement(Ud,null,r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,e(".SettingsLockedBanner.text")),r.createElement(l.Mount,{when:D},r.createElement(xO.Link,{onClick:oe,"data-testId":"settings-locked-link"},e(".SettingsLockedBanner.link")))))),"desktop"===n?r.createElement($R,{title:e(".roleDropdown.title"),options:O,value:Z,disabled:T,onChange:te}):r.createElement(Ud,null,r.createElement(Zi,{type:"body"},e(".roleDropdown.title")),r.createElement(Vi,{size:2}),r.createElement(WR,{title:e(".roleDropdown.title"),options:P,value:Z,disabled:T,onItemSelect:te,buttonTestId:"player-permission-role-dropdown-button",matchButtonHeight:!0,selectedIcon:N}),r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:z},(e=>null!=e?r.createElement(Zi,{type:"captionShort",variant:"dimmer"},e):null))),r.createElement(l.Map,{array:A},(e=>r.createElement(dL,{item:e,isDisabled:T,selectedRole:Z,onPlayerPermissionChange:ne}))),r.createElement(l.Mount,{when:B},r.createElement(Ud,null,r.createElement("div",{className:"e2c0540bce831a038c4a"},r.createElement(lm,{inputLegend:e(".kickButton.inputLegend"),horizontal:!0,variant:"destructive",onClick:c.show},j)))),r.createElement("div",{className:"fda065f00bbec1a1b2bb"},r.createElement(l.Map,{array:R},(e=>r.createElement(Jd,{icon:e}))))),r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:c.isVisible},r.createElement(qR.Component,{playerName:F,onCloseModal:c.hide,onKickPlayer:ce})),r.createElement(l.Mount,{when:i.isVisible},r.createElement(eL.Component,{onRoleChange:ae,onCloseModal:i.hide})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(YR.Component,{enableCheats:le,onChange:ae,onCloseModal:s.hide})),r.createElement(l.Mount,{when:d.isVisible},r.createElement(JR.Component,{playerName:F,onCloseModal:se})),r.createElement(l.Mount,{when:u.isVisible},r.createElement(QR.Component,{onCloseModal:ie})),r.createElement(l.Mount,{when:S},r.createElement(Jw.Component,{title:e(".loading")})),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}}))}function dL({item:e,isDisabled:t,selectedRole:a,onPlayerPermissionChange:n}){const{t:o}=ws("PlayerPermissionsRoute.Details"),c=eL.useModal(),i=YR.useModal(),s=(0,l.useSharedFacet)(BT),u=(0,l.useFacetMap)((e=>e.abilityIndex),[],[e]),d=(0,l.useFacetMap)((e=>e.isEnabled),[],[e]),m=(0,l.useFacetMemo)((e=>o(`.ability${ZR(e)}`)),[o],[u]),p=(0,l.useFacetMemo)((e=>o(`.ability.description${ZR(e)}`)),[o],[u]),f=(0,l.useFacetCallback)(((e,t,a,r)=>()=>{e!==WT.Operator?t!==LT.OperatorCommands||r.areCheatsEnabled||a?n(t,a):i.show():c.show()}),[n,c,i],[a,u,d,s]),g=(0,l.useFacetCallback)(((e,t,a,r)=>()=>{n(e,t),a&&c.hide(),r&&i.hide()}),[n,c,i],[u,d,c.isVisible,i.isVisible]),E=(0,l.useFacetCallback)((e=>()=>e.enableCheats()),[],[s]);return r.createElement(r.Fragment,null,r.createElement(Vw,{title:m,description:p,disabled:t,value:d,onChange:f}),r.createElement(l.Mount,{when:c.isVisible},r.createElement(eL.Component,{onPlayerPermissionChange:g,onCloseModal:c.hide})),r.createElement(l.Mount,{when:i.isVisible},r.createElement(YR.Component,{enableCheats:E,onChange:g,onCloseModal:i.hide})))}function mL(){const{t:e}=ws("PlayerPermissionsRoute"),t=p(),a=(0,l.useSharedFacet)(BT),n=(0,l.useSharedFacet)(HT),o=oR(),c=(0,l.useFacetMap)((t=>e(".title",[t.worldName])),[e],[n]),i=(0,l.useFacetMap)((e=>!e.isInitialized),[],[n]),s=(0,l.useFacetCallback)((e=>()=>{o(),e.requestSavePermissions(),t.goBack()}),[t,o],[a]);return r.createElement(r.Fragment,null,r.createElement(ZN,{gamepadAlias:"player-permissions-route",title:c,screenAnalyticsId:"PlayerPermissions",onBack:s},(()=>r.createElement(zM,null,r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(pR,null)),r.createElement(zM.Column,{wideSize:8,narrowSize:5},r.createElement(uL,null))),r.createElement(Lm.Space,null)))),r.createElement(l.Mount,{when:i},r.createElement(Jw.Component,null)),r.createElement(ek,{type:"contentful",renderingCompleted:!0}))}const pL=()=>{const e=Cl(),t=(0,l.useSharedFacet)(fh),a=(0,l.useFacetUnwrap)(t),n=(0,r.useRef)(),{t:o}=ws("RenderDistanceWarningRoute"),c=Ln(),i=(0,l.useFacetCallback)((t=>()=>{t.renderDistance=t.defaultRenderDistance,t.showRenderDistanceWarningModal=!1,e.goBack()}),[e],[t]),s=(0,l.useFacetCallback)((t=>()=>{t.showRenderDistanceWarningModal=!1,e.goBack()}),[e],[t]);if(a==l.NO_VALUE)return null;null==n.current&&(n.current=a.renderDistance);const u=[o(".useRecommendedSettingsButton"),o(a.defaultRenderDistance>1?".chunksPluralCaption":".chunksSingularCaption",[`${a.defaultRenderDistance}`])].join(" "),d=n.current>1?".chunksPluralCaption":".chunksSingularCaption",m=[o(".useCurrentSettingsButton"),o(d,[`${n.current}`])].join(" ");return r.createElement(bd,{text:`${o(".title")}. ${o(".body1")}. ${o(".body2")}`},r.createElement($m,null,r.createElement($m.Header,null,o(".title")),r.createElement($m.Content,{focusableIfScrollable:!c},r.createElement($m.Paragraphs,{narrationText:`${o(".body1")}. ${o(".body2")}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong"},o(".body1")),r.createElement(Zi,{type:"captionLong"},o(".body2")))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:o(".confirmInputLegend"),variant:"primary",onClick:i},u),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:o(".confirmInputLegend"),variant:"secondary",onClick:s},m))))};function fL(e){const t=(0,l.useFacetMap)((e=>e.getTechStackForScreen(Lv.PlayScreen)==Dv.OreUI),[],[(0,l.useSharedFacet)(_v)]);return(0,l.useFacetMap)(((e,t)=>t?`/play/realms/${e}`:"/play/friends"),[],[e,t])}const gL=a.p+"assets/icon-highlight-spritesheet-87ec62988bf89f63558d.png",EL=({iconSrc:e,selected:t,border:a=!1,variant:n="small"})=>{const o=Yr("neutral"),c=(0,l.useFacetMap)((e=>!e),[],[(0,l.useFacetWrap)(null!=t&&t)]),i="large"==n;return r.createElement("div",{className:i?"c3788e1f9426fee5b96a":"cd6238215d77d30e83a0"},r.createElement(pu,{aspectRatio:pu.AspectRatio["1:1"],src:e,className:dl()("f69d96db29ee37d056cc",{e2a50ee356fab4727dd7:i}),imageRendering:"pixelated"}),a&&r.createElement("div",{className:dl()(o.border.base,"daa31a3119020fe241c1",{d53293a3436a98e2a72d:i})}),r.createElement("div",{className:"f5e0e40817daa08c97da"},r.createElement(NP,{disabled:c,src:gL,frames:8,duration:500,width:i?36:21.6,height:i?4:2.4,repeat:1,imageRendering:"pixelated"})))},bL={[Yb.PEACEFUL]:".difficultyPeacefulLabel",[Yb.EASY]:".difficultyEasyLabel",[Yb.NORMAL]:".difficultyNormalLabel",[Yb.HARD]:".difficultyHardLabel"},hL={[Qv.ADVENTURE]:".gameModeAdventureLabel",[Qv.CREATIVE]:".gameModeCreativeLabel",[Qv.SURVIVAL]:".gameModeSurvivalLabel",[Qv.UNKNOWN]:".gameModeUnknownLabel",[Qv.SPECTATOR]:".gameModeUnknownLabel",[Qv.DEFAULT]:".gameModeUnknownLabel"};function vL(e,t,a,n,r,o){const{t:c}=ah("WorldSettingsButton"),i=(0,l.useSharedFacet)(_l),s=(0,l.useFacetMap)((e=>e.isStorageLow||e.isStorageFull),[],[i]),u=BI(),d=_I(),m=GA(),p=(0,l.useFacetMap)(((e,t)=>e||t),[],[u,d]);return{disableMainButton:(0,l.useFacetMap)(((e,t,a,n)=>e||t&&a.multiplayerGame||n&&a.multiplayerGame),[],[s,p,t,m]),disableSecondaryButton:(0,l.useFacetMap)(((e,t,a,n)=>!n.multiplayerGame||e||t||a),[],[(0,l.useFacetWrap)(null!=o&&o),p,m,t]),buttonHint:(0,l.useFacetMap)(((e,t)=>{const a=hL[e.gameMode],l=t?".hardcoreModeTitle":bL[e.difficulty],o=""!=e.worldName?e.worldName:c(".worldNamePlaceholder");return n(r,[c(a),c(l),o])}),[n,c,r],[a,e])}}function FL({gifSrc:e,imageSrc:t,className:a,aspectRatio:n,disableAnimation:o=!1}){const c=null!=n,i=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[(0,l.useFacetWrap)(o),Oo()]),s=(0,l.useFacetMap)(((e,t,a)=>e?t:a),[],[i,(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(t)]);return c?r.createElement(pu,{src:s,className:a,imageRendering:"pixelated",isAnimated:i,aspectRatio:n}):r.createElement(pu,{src:s,className:a,imageRendering:"pixelated",isAnimated:i})}function yL({button:e}){return(null==e?void 0:e.action)==hh.EXTERNAL?r.createElement(r.Fragment,null,r.createElement(LM.ExternalLink,{role:"inherit"}),r.createElement(Vi,{size:2})):null}function SL(){const e=p(),{t}=ws("AccountUnlinkRoute"),a=JT(),n=(0,l.useSharedFacet)(FF),o=LO(),c=(0,l.useFacetMap)((e=>t(".unlinkLine1",e?[e.data.xblName]:[""])),[t],[o]),i=(0,l.useFacetMap)((e=>e.accountUnlinkState===HI.RUNNING),[],[n]),s=(0,l.useFacetMap)((e=>e.accountUnlinkState===HI.DONE||e.accountUnlinkState===HI.FAILED),[],[n]),u=(0,l.useFacetCallback)((e=>()=>{e.unlinkMicrosoftAccount(),a({screen:"AccountUnlink",button:"Unlink"})}),[a],[n]);return r.createElement(r.Fragment,null,r.createElement($m,null,r.createElement($m.Header,{onClose:()=>{a({screen:"AccountUnlink",button:"Close"}),e.goBack()}},t(".header")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c},r.createElement(Zi,{type:"captionLong",align:"left"},c)),r.createElement($m.Text,{narrationText:t(".unlinkLine2")},r.createElement(Zi,{type:"captionLong",align:"left"},t(".unlinkLine2"))),r.createElement($m.Text,{narrationText:t(".unlinkLine3")},r.createElement(Zi,{type:"captionLong",align:"left"},t(".unlinkLine3")))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"destructive",gamepadAlias:"unlinkButton",inputLegend:t(".unlinkButton"),onClick:u},t(".unlinkButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:"cancelButton",inputLegend:t(".cancelButton"),onClick:()=>{a({screen:"AccountUnlink",button:"Cancel"}),e.goBack()}},t(".cancelButton")))),r.createElement(l.Mount,{when:i},r.createElement(Jw.Component,{title:t(".progressHeader")})),r.createElement(l.Mount,{when:s},r.createElement(CL,null)))}function CL(){const e=p(),{t}=ws("AccountUnlinkRoute"),a=JT(),n=(0,l.useSharedFacet)(FF),o=(0,l.useFacetMap)((e=>e.accountUnlinkState===HI.DONE?t(".successHeader"):t(".failHeader")),[t],[n]),c=(0,l.useFacetMap)((e=>e.accountUnlinkState===HI.DONE?t(".successBody"):t(".failBody")),[t],[n]),i=(0,l.useFacetCallback)((t=>()=>{t.clearAccountUnlinkState(),a({screen:"AccountUnlink",button:"CloseResults"}),e.goBack()}),[a,e],[n]);return r.createElement($m,null,r.createElement($m.Header,{onClose:i},o),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c},r.createElement(Zi,{type:"captionLong",align:"left"},c))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",gamepadAlias:"closeResultsButton",inputLegend:t(".closeResultsButton"),onClick:i},t(".closeResultsButton"))))}let ML;function wL(){const[e,t]=(0,l.useFacetState)(ML.ACTIVE),a=(0,r.useRef)(),n=(0,l.useSharedFacet)(mh),o=(0,l.useFacetCallback)((e=>()=>{e.isFinishedQueryingProductsAndPurchases?t(ML.IDLE):(t(ML.ACTIVE),a.current=setTimeout((()=>{t(ML.IDLE)}),15e3))}),[t],[n]);return(0,r.useEffect)((()=>(o(),()=>{a.current&&clearTimeout(a.current)})),[o]),e}function kL(){const e=(0,l.useSharedFacet)(iv),t=(0,l.useSharedFacet)(mh),a=(0,l.useSharedFacet)(_l),n=wL(),r=(0,l.useFacetMap)((e=>e===ML.ACTIVE),[],[n]);return{isRealmsTrialAvailable:(0,l.useFacetMap)(((e,t,a,n)=>!xI(a.platform)&&!n&&e.isRealmsTrialAvailable&&t.isFinishedQueryingProductsAndPurchases&&t.isRealmsTrialOfferAvailable),[],[e,t,a,r]),isLoading:r}}!function(e){e[e.IDLE=0]="IDLE",e[e.ACTIVE=1]="ACTIVE"}(ML||(ML={}));const PL={container:"abed96b39e2ff2ecead1"};function TL(){return TL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},TL.apply(null,arguments)}function IL(e){let{minWidth:t,minHeight:a,minBorderWidth:n=0,className:o,style:c}=e,i=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["minWidth","minHeight","minBorderWidth","className","style"]);const s=(0,r.useRef)(null),[u,d]=(0,l.useFacetState)(1),m=(0,l.useFacetMap)((e=>[PL.container,e].filter(Boolean).join(" ")),[],[(0,l.useFacetWrap)(o)]);Bc(s,(({width:e})=>{const a=Math.max(1,Math.floor(e/(t+2*n)));"number"==typeof a&&a>0&&d(a)}));const p=(0,l.useFacetMap)((e=>(t+2*n)*e+"px"),[t,n],[u]),f=(0,l.useFacetMap)((e=>(a+2*n)*e+"px"),[a,n],[u]),g=(0,l.useFacetMap)((e=>n*e+"px solid transparent"),[n],[u]);return r.createElement("fast-div",{ref:s,className:m,style:c},0===n?r.createElement("fast-img",TL({},i,{style:{imageRendering:"pixelated",width:p,height:f}})):r.createElement("fast-img",TL({},i,{style:{imageRendering:"pixelated",width:p,height:f,border:g}})))}function xL({minWidth:e,minHeight:t,minBorderWidth:a,containerClassName:n,frameClassName:o}){const c=(0,r.useRef)(null),[i,s]=(0,l.useFacetState)(1),u=(0,l.useFacetWrap)(o),d=(0,l.useFacetWrap)(n);Bc(c,(({width:t})=>{const n=Math.max(1,Math.floor(t/(e+2*a)));"number"==typeof n&&s(n)}));const m=(0,l.useFacetMap)((t=>(e+2*a)*t+"px"),[e,a],[i]),p=(0,l.useFacetMap)((e=>(t+2*a)*e+"px"),[t,a],[i]),f=(0,l.useFacetMap)((e=>a*e+"px"),[a],[i]);return r.createElement("fast-div",{ref:c,className:d},r.createElement("fast-div",{className:u,style:{width:m,height:p,borderWidth:f}}))}function OL({title:e,text:t,image:a,index:n,maxIndex:o}){const c=(0,l.useFacetWrap)(e),i=(0,l.useFacetWrap)(t),s=(0,l.useFacetWrap)(a),u=(0,l.useFacetWrap)(null!=n?n:-1),d=(0,l.useFacetWrap)(null!=o?o:-1),m=Yr("neutral"),{t:p}=ws("PromoListItem"),f=(0,l.useFacetMap)(((e,t,a,n)=>{const r=[e,p(".role")];return-1!==a&&-1!==n&&r.push(p(".enumeration",[(a+1).toString(),n.toString()])),r.push(t),r.join(" . ")}),[p],[c,i,u,d]);return r.createElement(Wi,{inputLegend:!1,narrationText:f,classNameFocused:Ws,className:dl()("ed2960e282e6cd116a50",m.border.base)},r.createElement(Bs,null),r.createElement("div",{className:dl()("f63135e540df5caf3bcb","acf2617fb2d3a70532ba",m.background.base)},r.createElement(Ks,{effect:"specular"}),r.createElement("div",{className:"ef55a2818763eecb46fc"},r.createElement(IL,{src:s,minWidth:128,minHeight:72,className:"a56f9458d86469448410"})),r.createElement(Vi,{size:2}),r.createElement("div",{className:"f55779031abbb7dca713"},r.createElement(Zi,{type:"header5B"},c),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionLong",variant:"dimmer"},i))))}const AL=a.p+"assets/RealmsSplashImage-b1b9273db014c55c54a2.jpg",NL=a.p+"assets/RealmsTitleImage-517ec17acdae298fbccc.png";function RL({title:e,text:t,showRealmsTitleImage:a=!1,buttonProps:n}){const o=(0,l.useFacetWrap)(null!=n?n:{text:"",onClick:()=>{},tokenCollection:"realms",gamepadAlias:"",isLoading:!1}),c=Cc(70),i=Yr("neutral"),s=Yr("informative"),{t:u}=ws("Splash"),d=(0,l.useFacetMap)((e=>[e.text,u(".enumeration",["1","1"])].join(" . ")),[u],[o]),m=[e,u(".role"),t].join(" . ");return r.createElement("div",{className:dl()("c2c357e23ed10bbf12f2",s.background.base,i.border.base)},r.createElement("div",{className:dl()("ad022a9d7dce046a0c64",{f2ef7c7db5dfcd78d132:!a,b1d4552b0a47d68bd503:!c,a66780de24c925f8300d:!c,f35258d273a83246b972:c})},a&&r.createElement("div",{className:"fb2337020cdfa249e72c"},r.createElement(pu,{src:NL})),r.createElement(_r,{collection:xx},r.createElement(Zi,{type:"header4A",role:"PDPPlus",variant:"stronger"},e)),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionLong"},t),n&&r.createElement("div",{className:"dc855684c833cf0a84a7"},r.createElement(Vi,{size:4}),r.createElement(l.Unwrap,{data:o},(e=>r.createElement(_r,{collection:"realms"===e.tokenCollection?xx:Ix},e.isLoading&&r.createElement("div",{className:"d5a97c21f246366358b1"},r.createElement(id,null)),!e.isLoading&&r.createElement(lm,{inputLegend:u(".select"),narrationPrefix:d,narrationSuffix:m,onClick:e.onClick,variant:"primary",gamepadAlias:e.gamepadAlias,"data-testid":e["data-testid"]},e.text)))))),!c&&r.createElement("div",{className:"ad47d57ef57a3c15ee6a"},r.createElement(pu,{src:AL,aspectRatio:pu.AspectRatio["16:9"]})))}function LL({header:e,title:t,text:a,listText:n,image:o}){const c=(0,l.useFacetWrap)(null!=e?e:""),i=(0,l.useFacetMap)((e=>""!==e),[],[c]),s=(0,l.useFacetWrap)(t),u=(0,l.useFacetWrap)(null!=a?a:""),d=(0,l.useFacetWrap)(null!=n?n:[]),m=(0,l.useFacetWrap)(null!=o?o:""),p=(0,l.useFacetMap)((e=>""!==e),[],[m]),f=(0,l.useFacetMap)((e=>0!=e.length),[],[d]),g=Yr("neutral"),E=Yr("neutral80"),{t:b}=ws("HeroItem"),h=(0,l.useFacetMap)(((e,t,a,n,r)=>n?[e,b(".role"),t,r.join(" . ")].join(" . "):[e,b(".role"),t,a].join(" . ")),[b],[c,s,u,f,d]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(aP,{role:"primary",label:c})),r.createElement(Wi,{inputLegend:!1,narrationText:h,classNameFocused:Ws,className:dl()("af12ec7d87ee65788a63",g.border.base)},r.createElement(Bs,null),r.createElement("div",{className:dl()("fd45b51010b1036a5919",g.background.base)},r.createElement(Zi,{type:"header4A"},s),r.createElement(Vi,{size:4}),r.createElement(l.Unwrap,{data:f},(e=>e?r.createElement(l.Map,{array:d},(e=>r.createElement("div",{className:"d12d120a5fe1f4f44ff1"},r.createElement(Zi,{type:"body"},""),r.createElement(Zi,{type:"captionLong",variant:"dimmer",indent:!0},e)))):r.createElement(Zi,{type:"captionLong",variant:"dimmer"},u)))),r.createElement(l.Mount,{when:p},r.createElement("div",{className:dl()("e1265064d1407b02ce4a",E.shadow.base)},r.createElement(pu,{src:m,aspectRatio:pu.AspectRatio["16:9"]})))))}const DL=a.p+"assets/PersistentMultiplayerWorlds-880a4c87505453a232a5.png",_L=a.p+"assets/MembersPlayFree-265a91b2dbbf57048dec.png",BL=a.p+"assets/EasyAndSafe-18a17730ef0c04a97dce.png",WL=a.p+"assets/AdditionalContentWithRealmsPlus-2567d0ea8095b484c6e8.jpg",UL=a.p+"assets/AdditionalPerksIncludedWithRealms-1153c4cfd063f6dbea4d.jpg",zL="realms-pdp-scrollview",jL="realms-pdp-splash-button";function HL({data:e,index:t,length:a,screenAnalyticsId:n}){const{t:o}=ws("RealmsPDPFAQAccordion"),c=JT(),i=(0,l.useFacetMap)((e=>[o(".enumeration",[`${t+1}`,`${e}`]),o(".clickToExpand")].join(" . ")),[t,o],[a]),s=(0,l.useFacetMap)((e=>[o(".textBlock"),...e.text].join(" . ")),[o],[e]),u=(0,l.useFacetMap)((e=>e.title),[],[e]),d=(0,l.useFacetMap)((e=>e.text),[],[e]),m=(0,l.useFacetMap)((e=>t<e-1),[t],[a]),p=Yr("neutral"),f=r.useCallback((e=>{e&&c({button:"FAQItem",screen:n,details:{index:t.toString()}})}),[c,n,t]);return r.createElement(r.Fragment,null,r.createElement(Yw,{label:u,narrationHint:i,onExpandNarrationHint:"",onChange:f},r.createElement(Wi,{inputLegend:!1,narrationText:s,classNameFocused:Ws,className:dl()("e61dd5a7b20dc93bd3af",p.border.base,p.background.base)},r.createElement(Bs,null),r.createElement(l.Map,{array:d},(e=>r.createElement(Zi,{type:"captionLong",variant:"dimmer"},e))))),r.createElement(l.Mount,{when:m},r.createElement(Vi,{size:2})))}function GL({header:e,footer:t,hideUpsellButton:a=!1,screenAnalyticsId:n="RealmsPDP"}){const{t:o}=ws("RealmsPDPScreen"),c=JT(),i=Cc(70),s=p(),u=(0,l.useSharedFacet)(mh),d=(0,l.useSharedFacet)(Kb),{isRealmsTrialAvailable:m,isLoading:f}=kL(),g=(0,l.useFacetMap)(((e,t,a)=>t?"":e?o(".splash.tryFree"):xI(a.platform)?o(".splash.subscribeNow"):o(".splash.buyNow")),[o],[m,f,(0,l.useSharedFacet)(_l)]),E=(0,l.useFacetMap)(((e,t)=>({text:e,onClick:()=>{c({button:"Upsell",screen:n}),s.push(t.isInGame?"/realms-plan-picker-in-game":"/realms-plan-picker")},tokenCollection:"realms",gamepadAlias:jL,isLoading:""===e,"data-testid":jL})),[s,c,n],[g,d]),b=(0,l.useFacetWrap)(null!=a&&a),h=(0,l.useFacetMap)((e=>{const t=[],a=e.coreSubscriptionPrice,n=e.plusSubscriptionPrice;return t.push({title:o(".FAQ.Realms.title"),text:[o(".FAQ.Realms.description")]}),t.push({title:o(".FAQ.PersonalServer.title"),text:[o(".FAQ.PersonalServer.description")]}),""!=a&&""!=n&&t.push({title:o(".FAQ.Cost.title"),text:[o(".FAQ.Cost.description1"),o(".FAQ.Cost.description2",[a]),o(".FAQ.Cost.description3",[n])]}),t.push({title:o(".FAQ.Friends.title"),text:[o(".FAQ.Friends.description")]}),t.push({title:o(".FAQ.Expiry.title"),text:[o(".FAQ.Expiry.description")]}),t.push({title:o(".FAQ.HowMany.title"),text:[o(".FAQ.HowMany.description")]}),t}),[o],[u]),v=(0,l.useFacetMap)((e=>e.length),[],[h]);return r.createElement(_r,{collection:xx},r.createElement(ud,{gamepadAlias:zL,delegateFocusByAlias:jL},e,r.createElement(l.Unwrap,{data:b},(e=>r.createElement(RL,{title:o(".splash.title"),text:o(".splash.text"),buttonProps:e?void 0:E}))),r.createElement(Vi,{size:2}),r.createElement(aP,{role:"primary",label:o(".promos.header")}),r.createElement(bd,{text:o(".promos.header")},r.createElement(OL,{image:DL,title:o(".promos.persistent.title"),text:o(".promos.persistent.description"),index:0,maxIndex:3}),r.createElement(Vi,{size:2}),r.createElement(OL,{image:_L,title:o(".promos.free.title"),text:o(".promos.free.description"),index:1,maxIndex:3}),r.createElement(Vi,{size:2}),r.createElement(OL,{image:BL,title:o(".promos.easy.title"),text:o(".promos.easy.description"),index:2,maxIndex:3})),r.createElement(Vi,{size:2}),r.createElement(LL,{image:i?void 0:WL,header:o(".hero.content.header"),title:o(".hero.content.title"),listText:[o(".hero.content.text1"),o(".hero.content.text2"),o(".hero.content.text3"),o(".hero.content.text4"),o(".hero.content.text5")]}),r.createElement(Vi,{size:2}),r.createElement(LL,{image:i?void 0:UL,header:o(".hero.perks.header"),title:o(".hero.perks.title"),text:o(".hero.perks.text")}),r.createElement(Vi,{size:2}),r.createElement(aP,{role:"primary",label:o(".FAQ.header")}),r.createElement(bd,{text:o(".FAQ.header")},r.createElement(l.Map,{array:h},((e,t)=>r.createElement(HL,{data:e,index:t,length:v,screenAnalyticsId:n})))),t))}function VL(){const{t:e}=ws("PurchaseRealmOnRetailBanner");return r.createElement(_r,{collection:Ix},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,e(".text"))))}const $L=a.p+"assets/parental-online-safety-8fad2009b4d02bc059bf.png",XL=a.p+"assets/online-safety-dc71d57973878591b475.png";function KL({variant:e,inputLegendExtraSpace:t}){const{t:a}=ws("PlayScreen.xboxPermissionMessage"),n=(0,l.useSharedFacet)(CF),o=(0,l.useSharedFacet)(FF),c=(0,l.useSharedFacet)(_l),i=Nw({wide:8,narrow:6,width:256}),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(a.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.ParentPermissionHelpPage)}),[],[n,o,c]),u=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(a.platform)?t.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.TroubleshootingMultiplayerDisabled)}),[],[n,o,c]);return r.createElement(ud,{floating:!0,flexShrinkWrapper:!0},r.createElement(Vi,{size:2}),r.createElement(aw,{title:a(".title"),text:a("parental"===e?".parentalText":".text"),imgSrc:"parental"===e?$L:XL,imgClass:(0,l.useFacetMap)((e=>e?"c056431ff5fe79fdbb76":"c600f29716b3fe08cf51"),[],[i]),buttons:[{text:a(".learnMore"),imgSrc:EA.imgSrc,inputLegend:a(".learnMore"),onClick:"parental"===e?s:u,buttonTestId:"help-button"}]}),r.createElement(Lm.Space,{extraSpace:t}))}let YL,qL,QL,JL;function ZL({accountAndPlatform:e=0,location:t}){const{t:a}=ws("PlayScreen.guestAccountMessage"),n=JT();let l="",o="";switch(e){case YL.MsaPlaystation:case YL.MsaNintendo:l=t===QL.ServersTab?a(".serversNoMicrosoftAccount"):a(".realmsNoMicrosoftAccount"),o=a(".bannerLogInMicrosoft");break;case YL.PlatformPlaystation:l=t===QL.ServersTab?a(".serversNoPlatformAccountPlaystation"):a(".realmsNoPlatformAccountPlaystation");break;case YL.PlatformNintendo:l=t===QL.ServersTab?a(".serversNoPlatformAccountNintendo",["Servers"]):a(".realmsNoPlatformAccountNintendo",["Realms"])}const c=p();return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,l),e!==YL.PlatformPlaystation&&e!==YL.PlatformNintendo&&r.createElement(xO.Link,{"data-testId":`log-in-link-${t}`,onClick:()=>{n({screen:`${eD(t)}`,button:"SignIn"}),c.push("/sign-in?signInSource=PlayScreen_NotLoggedInWarning_OreUI")}},o))}function eD(e){return e===QL.ServersTab?"ServersTab":"RealmsTab"}function tD({platform:e,location:t}){const{t:a}=ws("PlayScreen.noPremiumSubscriptionMessage");let n="",o="";switch(e){case qL.Playstation:n=t===QL.ServersTab?a(".serversPlaystation"):a(".realmsPlaystation"),o=a(".learnMore");break;case qL.Nintendo:n=t===QL.ServersTab?a(".serversNintendo"):a(".realmsNintendo"),o=a(".learnMore");break;case qL.Xbox:n=t===QL.ServersTab?a(".serversXbox"):a(".realmsXbox")}const c=(0,l.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,l.useSharedFacet)(FF)]);return""===n?null:r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,n),r.createElement(xO.Link,{onClick:c},o))}function aD(){const{t:e}=ws("PlayScreen.BannerMultiplayerDisabled"),t=(0,l.useFacetMap)((e=>II(e.platform)),[],[(0,l.useSharedFacet)(_l)]),a=(0,l.useFacetCallback)(((e,t,a)=>()=>{e?a.updateMultiplayerPrivilegeUsingSystemModal():t.openLink(SF.TroubleshootingMultiplayerDisabled)}),[],[t,(0,l.useSharedFacet)(CF),(0,l.useSharedFacet)(FF)]),n=(0,l.useFacetMap)((t=>e(t?".fixNow":".learnMore")),[e],[t]);return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,e(".text")),r.createElement(xO.Link,{"data-testId":"multiplayer-link",onClick:a},n))}function nD(){return(0,l.useFacetMap)(((e,t)=>{const{isSignedInPlatformNetwork:a,isLoggedInWithMicrosoftAccount:n,hasPremiumNetworkAccess:r}=e,l=xI(t.platform),o=TI(t.platform);return n&&!a&&l?"platform-guest-nintendo":n&&!a&&o?"platform-guest-playstation":!n&&a&&r&&o?"msa-guest-with-premium-playstation":!n&&a&&r&&l?"msa-guest-with-premium-nintendo":!n&&a&&l&&!r?"msa-guest-nintendo":!n&&a&&o&&!r?"msa-guest-playstation":n&&e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)?"multiplayer-disabled":n&&!r&&l?"no-premium-subscription-nintendo":n&&!r&&o?"no-premium-subscription-playstation":"not-signed-in"}),[],[(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(_l)])}function rD({location:e}){const{t}=ws("notLoggedInWarning"),a=p(),n=JT(),l=(0,r.useCallback)((()=>{n({screen:`${lD(e)}`,button:"SignIn"}),a.push(`/sign-in?signInSource=${function(e){switch(e){case JL.PlayScreen_Realms:case JL.PlayScreen_Servers:return"PlayScreen";case JL.TemplatesScreen_MarketplacePass:case JL.TemplatesScreen_Featured:return"TemplatesScreen";case JL.Realms_PlanPicker:return"RealmsPlanPicker";case JL.Realms_PDP:return"RealmsPDP"}}(e)}_NotLoggedInWarning_OreUI`)}),[n,a,e]);return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,function(e){const{t}=ws("notLoggedInWarning.playScreen.message"),{t:a}=ws("notLoggedInWarning.startFromTemplateScreen.message");switch(e){case JL.PlayScreen_Servers:return t(".servers");case JL.TemplatesScreen_MarketplacePass:return a(".marketplacePass");case JL.TemplatesScreen_Featured:return a(".featured");case JL.Realms_PlanPicker:case JL.Realms_PDP:case JL.PlayScreen_Realms:return t(".realms")}}(e)),r.createElement(xO.Link,{"data-testId":`log-in-link-${e}`,onClick:l},t(".loginLink")))}function lD(e){switch(e){case JL.PlayScreen_Realms:return"RealmsTab";case JL.PlayScreen_Servers:return"ServersTab";case JL.TemplatesScreen_MarketplacePass:case JL.TemplatesScreen_Featured:return"TemplatesScreen";case JL.Realms_PlanPicker:return"RealmsPlanPicker";case JL.Realms_PlanPicker:return"RealmsPDP"}}function oD({tab:e}){const t=nD(),a=function(e){switch(e){case QL.ServersTab:return JL.PlayScreen_Servers;case QL.RealmsTab:return JL.PlayScreen_Realms;case QL.RealmsPlanPicker:return JL.Realms_PlanPicker;case QL.RealmsPDP:return JL.Realms_PDP}}(e);return r.createElement("div",null,r.createElement(l.Unwrap,{data:t},(t=>{switch(t){case"msa-guest-nintendo":case"msa-guest-with-premium-nintendo":return r.createElement(ZL,{accountAndPlatform:YL.MsaNintendo,location:e});case"msa-guest-playstation":case"msa-guest-with-premium-playstation":return r.createElement(ZL,{accountAndPlatform:YL.MsaPlaystation,location:e});case"platform-guest-nintendo":return r.createElement(ZL,{accountAndPlatform:YL.PlatformNintendo,location:e});case"platform-guest-playstation":return r.createElement(ZL,{accountAndPlatform:YL.PlatformPlaystation,location:e});case"no-premium-subscription-nintendo":return r.createElement(tD,{platform:qL.Nintendo,location:e});case"no-premium-subscription-playstation":return r.createElement(tD,{platform:qL.Playstation,location:e});case"multiplayer-disabled":return r.createElement(aD,null);case"not-signed-in":return r.createElement(rD,{location:a});default:return null}})))}!function(e){e[e.MsaPlaystation=0]="MsaPlaystation",e[e.MsaNintendo=1]="MsaNintendo",e[e.PlatformPlaystation=2]="PlatformPlaystation",e[e.PlatformNintendo=3]="PlatformNintendo"}(YL||(YL={})),function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo",e[e.Xbox=2]="Xbox"}(qL||(qL={})),function(e){e.ServersTab="servers",e.RealmsTab="realms",e.RealmsPlanPicker="realmsPlanPicker",e.RealmsPDP="realmsPDP"}(QL||(QL={})),function(e){e.PlayScreen_Realms="play-realms",e.PlayScreen_Servers="play-servers",e.TemplatesScreen_MarketplacePass="templates-marketplace-pass",e.TemplatesScreen_Featured="templates-featured",e.Realms_PlanPicker="realms-plan-picker",e.Realms_PDP="realms-pdp"}(JL||(JL={}));const cD=a.p+"assets/generic-empty-6e7cd503710f4a7297df.png";function iD(){const e=Sc(70,100);return dl()({ab1b71628517d9cc878a:"narrow"==e,f46ee3bc5c42a7f331e5:"tablet"===e,d78086ff8683d931de31:"desktop"===e})}function sD(){const{t:e}=ws("PlayScreen.PlatformMultiplayerDisabledMessage"),t=(0,l.useSharedFacet)(_l),a=(0,l.useFacetMap)((t=>TI(t.platform)?e(".textForPlayStation"):e(".text")),[e],[t]);return r.createElement(r.Fragment,null,r.createElement(aw.Wrapper,{borderless:!1},r.createElement(aw.Title,null,e(".title")),r.createElement(aw.Image,{imgClass:iD(),imgSrc:cD}),r.createElement(aw.Text,null,a)),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function uD(){const{t:e}=ws("RealmsPDPScreen"),t=function(){const e=(0,l.useSharedFacet)(FF),t=nD();return(0,l.useFacetMap)(((e,t)=>e.isLoggedInWithMicrosoftAccount&&"not-signed-in"===t?e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)?"parental-online-safety":e.userPermissions.multiplayer.denyReasons.includes(bF.Platform_PlayStation)||e.userPermissions.multiplayer.denyReasons.includes(bF.Platform_NintendoSwitch)?"platform-multiplayer-disabled":"show-default":"show-account-state-banner"),[],[e,t])}(),a=(0,l.useSharedFacet)(sb),n=(0,l.useFacetMap)((e=>"show-account-state-banner"==e),[],[t]),o=(0,l.useFacetMap)(((e,t)=>e||t),[],[a,n]);return r.createElement(_r,{collection:xx},r.createElement(ZN,{screenAnalyticsId:"Realms-PDP",gamepadAlias:"realms-pdp",title:e(".title"),delegateByAlias:zL},(()=>r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(l.Unwrap,{data:t},(e=>{switch(e){case"parental-online-safety":return r.createElement(r.Fragment,null,r.createElement(KL,{variant:"parental"}),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}));case"platform-multiplayer-disabled":return r.createElement(r.Fragment,null,r.createElement(sD,null));default:return r.createElement(GL,{header:r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(VL,null),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(oD,{tab:QL.RealmsPDP}),r.createElement(Vi,{size:2})))),footer:r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}),hideUpsellButton:o})}}))))))))}function dD({qrCodeSrc:e,foregroundColor:t="",backgroundColor:a=""}){const n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(t),c=(0,l.useFacetWrap)(a),i=(0,l.useFacetMap)(((e,t,a)=>(e.startsWith("qr://")&&(t||(t=encodeURIComponent(zo)),a||(a=encodeURIComponent(Ko)),e+=`?foregroundColor=${t}&backgroundColor=${a}`),e)),[],[n,o,c]);return r.createElement(pu,{aspectRatio:{height:1,width:1},imageRendering:"pixelated",className:"cc40038e8ffa606dae3a",src:i})}const mD="AddFriends";function pD(){const{t:e}=ws("AddFriendSideMenu.narration"),t=Sc(),a=(0,l.useSharedFacet)(xh),n=(0,l.useSharedFacet)(FF),o=(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[a,n]);o();const c=LO(),i=(0,l.useFacetMap)((t=>{let a="";return t&&(""!=t.data.xblName&&(a=t.data.xblName),""!=t.data.platformName&&(a=t.data.platformName),""!=t.data.offlineName&&(a=t.data.offlineName)),[a,null!=t?t.data.realName:null,e(".group")].join(" . ")}),[e],[c]);return r.createElement(ud,{floating:!0},r.createElement("div",{className:""+("desktop"===t?"a82c0e1534db6e98941a":"")},r.createElement(tR,{narrationPrefix:i},r.createElement(fD,null))))}function fD(){const{t:e}=ws("AddFriendSideMenu"),{t}=ws("AddFriendSideMenu.narration"),a=LO(),n=JT(),o=(0,l.useSharedFacet)(db),c=(0,l.useSharedFacet)(Wv),i=(0,l.useSharedFacet)(dh),s=(0,l.useSharedFacet)(_l),u=(0,l.useFacetMap)((e=>{if(e){if(""!=e.data.xblName)return e.data.xblName;if(""!=e.data.platformName)return e.data.platformName;if(""!=e.data.offlineName)return e.data.offlineName}return""}),[],[a]),d=(0,l.useFacetCallback)(((t,a,r,l)=>()=>{null!=t&&(t.state.xblState!==Th.Loaded&&t.state.platformState!==Th.Loaded||(a.copyToClipboard(l),r.queueSnackbar(e(".gamertagCopied"))),n({button:"CopyGamertag",screen:mD}))}),[e,n],[a,o,i,u]),m=(0,l.useFacetMap)((e=>e.isShareSupported),[],[c]),p=(0,l.useFacetMap)((e=>!OI(e.platform)),[],[s]),f=(0,l.useFacetCallback)(((t,a,r)=>()=>{t.share(r,e(".shareText"),null!=a?a.data.url:""),n({button:"ShareProfile",screen:mD})}),[e,n],[c,a,u]),g=(0,l.useFacetMap)(((e,a)=>t(".QRHint",[a])),[t],[a,u]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>null!=e&&e.state.xblState===Th.Loaded),[],[a])},r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement(tR.ItemMain,null,r.createElement(Wi.Maybe,{classNameFocused:Ws,className:"bb4bd5364338543a1cd1",isInteractive:Ln(),narrationText:g},r.createElement(Bs,null),r.createElement(dD,{qrCodeSrc:(0,l.useFacetMap)((e=>null!=e?e.data.qrCode:""),[],[a])})))),r.createElement(Vi,{size:2}),r.createElement(tR.Item,null,r.createElement(Zi,{type:"header5B",align:"center"},(0,l.useFacetMap)(((e,t)=>t),[],[a,u])),r.createElement(Zi,{type:"captionShort",variant:"dimmer",align:"center"},(0,l.useFacetMap)((e=>null!=e?e.data.realName:""),[],[a]))))),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:m},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(tR.Item,null,r.createElement(lm,{inputLegend:e(".shareButton"),variant:"hero",linebreak:!0,narrationSuffix:[t(".buttonSiblings",["1","2"]),e(".shareButtonHint")].join(" . "),onClick:f},e(".shareButton"))))),r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(tR.Item,null,r.createElement(lm,{inputLegend:e(".copyGamertagButton"),narrationSuffix:[t(".buttonSiblings",["2","2"]),e(".copyGamertagButton")].join(" . "),variant:"secondary",linebreak:!0,onClick:d},e(".copyGamertagButton"))))))}const gD=a.p+"assets/qr-code-icon-cdeea9da565e9ebc2a48.png",ED="searchByGamertag";function bD({searchQuery:e,onSearchQueryChange:t,searchResultsLength:a,searchResultsState:n}){const{t:o}=ws("AddFriendSearchByGamertag"),{t:c}=ws("AddFriendSearchByGamertag.narration"),i=Yr("neutral"),[s,u]=(0,l.useFacetState)("");(0,l.useFacetEffect)(((e,t,a)=>{if("loading"!==a){const a=[c(".searchBar")];e&&a.push(e),a.push(c(".searchGamertagHint")),t>0?a.push(1===t?c(".singularResult"):c(".pluralResults",[t.toString()])):0===t&&a.push(c(".noResults"),c(".emptyState"),c(".refineSearch")),u(a.join(" . "))}}),[c,u],[e,a,n]);const d=(0,l.useFacetWrap)(!1),m=(0,l.useFacetMap)((({openKeyboard:e})=>"true"===e),[],[g()]),p=(0,r.useRef)(null);return r.createElement(uu,{containerRef:p,alias:ED},r.createElement("div",{ref:p},r.createElement(Ud,{className:dl()("f2754fef37a5ccba2f4e",i.border.base,i.background.base)},r.createElement(jd,{disabled:!0},o(".searchGamertagDescription")),r.createElement(Vi,{size:2}),r.createElement("div",{className:"d3aad0a91b7149a24150"},r.createElement(_d,{narrationText:s,placeholderIcon:Ld.MagnifyingGlass,placeholder:o(".searchGamertag"),value:e,"data-testid":o(".searchGamertag"),onChange:t,selectOnFirstFocus:m}),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(BM.Divider,null),r.createElement(Vi,{size:2}),r.createElement("div",{className:"b76ebd3e62d50db33bb4"},r.createElement(lm,{variant:"secondary",imgSrc:gD,inputLegend:o(".search"),narrationPrefix:c(".searchByQR")}))))),r.createElement(Ks,{effect:"bevel"}))))}function hD({title:e,roleNarrationOverride:t,description:a,buttons:n,stackedButtons:o=!1,border:c=!1,buttonPosition:i="bottom",fullNarrationOverride:s,descriptionWrapper:u=r.Fragment,indented:d=!1,wrapperRole:m="neutral",focusable:p=!1}){const f=(0,r.useRef)(null),g=(0,l.useFacetMap)(((e,t,a,n)=>""!=n?n:[e,t,a].filter((e=>e)).join(" . ")),[],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(null!=t?t:""),(0,l.useFacetWrap)(null!=a?a:""),(0,l.useFacetWrap)(null!=s?s:"")]);return r.createElement(Ud,{border:c,narrationText:g,indented:d,role:m,focusable:null==n&&p},r.createElement("div",{className:dl()("c8b6272ddf99d92bb0bf",{b9d9acbf04214dd6d999:"bottom"===i,fc8667c3c4e3cac7540b:"right"===i})},r.createElement("div",{className:"e3ced6482fb1626666c9"},null!=e&&r.createElement(jd,null,e),null!=a&&r.createElement(u,null,r.createElement(Hd,null,a))),null!=n&&r.createElement(uu,{containerRef:f},r.createElement("div",{ref:f,className:o?"fcac7fbabfeb7e5024c5":"ed1b7a4d9678c3bdeb2a"},n))))}hD.ButtonSpacing=function(){return r.createElement(Vi,{size:2})};function vD({item:e,index:t,listLength:a,onAdditionalActionClick:n,disabled:o,gamepadAlias:c,profileEntryPoint:i,grayscaleAvatarWhenOffline:s=!1,screenAnalyticsId:u=""}){const d=(0,l.useFacetWrap)(c),{t:m}=ws("PlayerListItem"),{t:f}=ws("PlayerListItem.narration"),g=p(),E=(0,l.useFacetWrap)(t),b=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}),[],[e]),h=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),v=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[e]),F=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[e]),y=kI(),S=(0,l.useFacetCallback)((e=>()=>{y(i),Ex(e.platformId)?g.push(Qx(e.platformId)):Ex(e.xuid)&&g.push(qx(e.xuid))}),[g,y,i],[e]),C=(0,l.useSharedFacet)(FF),M=UI(),w=tx(e,"PlayerListItem"),k=(0,l.useFacetMap)((({variant:e})=>"added-not-mutual"===e?"added-status":"added-mutual"===e?"friends-status":"none"),[],[e]),P=(0,l.useFacetMap)(((e,t)=>e||t.disabled),[],[(0,l.useFacetWrap)(o),e]),T=(0,l.useFacetMap)((({variant:e,xuid:t,platformId:a},n)=>"sent-request"===e||"received-request"===e||!(!gx(t)||!gx(a))||null!=n&&n),[],[e,P]),I=(0,l.useFacetMap)((({variant:e,playingOnServerId:t},a,n)=>"player"===e&&null!=t&&a.userPermissions.multiplayer.allowed&&!n?"join":"sent-request"===e?"delete-request":"received-request"===e?"accept-reject-request":"add-friend"===e&&a.userPermissions.addFriends.allowed?"add-friend":"none"),[],[e,C,M]),x=(0,l.useFacetMap)((({variant:e},t,a,n,r,{status:l},o)=>{const c=[];let i=l,s="";switch(e){case"sent-request":i=f(".sentRequest");break;case"received-request":i=f(".receivedRequest");break;case"added-mutual":s=f(".addedMutual");break;case"added-not-mutual":s=f(".addedNotMutual")}return c.push(t,i,f(r?".listItemRole":".buttonRole"),f(".itemOrderContext",[`${o+1}`,`${a}`])),r||c.push(s,f(".playerProfileHint")),"none"!==n&&c.push(f(".additionalActionsHint")),c.join(" . ")}),[f],[e,h,a,I,T,w,E]),O=(0,l.useFacetMap)(((e,t)=>null!=t?t:e.id),[],[e,d]),A=Pe(),N=(0,l.useFacetCallback)(((e,t)=>()=>{n&&n(e),A(t)}),[A,n],[e,(0,l.useFacetWrap)(O)]),R=(0,l.useFacetMap)((e=>e.location),[],[e]);return r.createElement(rT,null,r.createElement(rT.Action,{narrationText:x,inputLegend:m(".viewProfile"),onClick:S,gamepadAlias:O,disabled:T},r.createElement(rT.Cell,{direction:"row"},r.createElement(Uy,{variant:"large",src:v,statusBadge:(0,l.useFacetMap)((({avatar:e})=>e),[],[w]),grayscaleAvatar:(0,l.useFacetMap)((({avatar:e},t)=>"offline"===e&&t),[],[w,(0,l.useFacetWrap)(s)]),shouldShowNewStatus:!0})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,h)),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((({status:e})=>e),[],[w]))),r.createElement(l.Unwrap,{data:k},(e=>{switch(e){case"added-status":return r.createElement(MD,{text:m(".added"),Icon:wd});case"friends-status":return r.createElement(MD,{text:m(".friends"),Icon:wd});default:return r.createElement(r.Fragment,null)}}))),r.createElement(l.Unwrap,{data:I},(e=>{switch(e){case"none":return r.createElement(r.Fragment,null);case"join":return r.createElement(FD,{playingOnServerId:F,onClickAdditionalAction:N,screenAnalyticsId:u,playerId:b});case"delete-request":return r.createElement(yD,{onClickAdditionalAction:N});case"accept-reject-request":return r.createElement(SD,{playerId:b,onClickAdditionalAction:N});case"add-friend":return r.createElement(CD,{playerId:b,onClickAdditionalAction:N,location:R,index:E,listLength:a})}})))}function FD({playingOnServerId:e,onClickAdditionalAction:t,screenAnalyticsId:a,playerId:n}){const{t:o}=ws("PlayerListItem"),{t:c}=ws("PlayerListItem.narration"),i=JT(),s=(0,l.useFacetMap)((e=>null!=e?e:""),[],[e]),{joinFriendServerWithWarningsCallback:u,JoinFriendServerWarningModalsComponent:d}=JI(s),m=(0,l.useFacetCallback)(((e,n)=>()=>{i({screen:a,button:"Join",details:{playerId:e,serverId:n}}),u(),t&&t()}),[u,t,i,a],[n,s]);return r.createElement(r.Fragment,null,r.createElement(rT.AdditionalAction,{narrationText:[c(".joinFriend"),c(".buttonRole")].join(" . "),inputLegend:o(".select"),onClick:m,testId:"player-list-item-join-button"},r.createElement(dI,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort"},r.createElement(ji,null,o(".join")))),r.createElement(d,null))}function yD({onClickAdditionalAction:e}){const{t}=ws("PlayerListItem"),{t:a}=ws("PlayerListItem.narration"),n=(0,r.useCallback)((()=>{e&&e()}),[e]);return r.createElement(rT.AdditionalAction,{inputLegend:t(".select"),onClick:n,narrationText:[a(".delete"),a(".buttonRole")].join(" . ")},r.createElement(rT.Cell,{align:"center"},r.createElement(fI,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{align:"center",type:"captionTiny"},t(".delete"))))}function SD({playerId:e,onClickAdditionalAction:t}){const{t:a}=ws("PlayerListItem"),n=(0,l.useSharedFacet)($b),o=(0,l.useFacetCallback)(((e,a)=>()=>{e.acceptRequest(a),t&&t()}),[t],[n,e]),c=(0,l.useFacetCallback)(((e,a)=>()=>{e.rejectRequest(a),t&&t()}),[t],[n,e]);return r.createElement(r.Fragment,null,r.createElement(rT.AdditionalAction,{inputLegend:a(".select"),onClick:o,narrationText:[a(".accept"),a(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},r.createElement(rT.Cell,{align:"center"},r.createElement(wd,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{align:"center",type:"captionTiny"},a(".accept")))),r.createElement(rT.AdditionalAction,{inputLegend:a(".select"),onClick:c,narrationText:[a(".reject"),a(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},r.createElement(rT.Cell,{align:"center"},r.createElement(Su,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{align:"center",type:"captionTiny"},a(".reject")))))}function CD({playerId:e,onClickAdditionalAction:t,location:a,index:n,listLength:o}){const{t:c}=ws("PlayerListItem"),{t:i}=ws("PlayerListItem.narration"),s=(0,l.useFacetCallback)(((e,a,n)=>()=>{null!=n&&a.addFriend(e,n),t&&t()}),[t],[e,(0,l.useSharedFacet)(Rh),a]),u=(0,l.useFacetMap)(((e,t,a)=>{const n=[c(".addButtonText"),i(".buttonRole")];return a===Nh.ADDFRIENDS_SEARCH&&n.push(c(".narrationItemOrderContext",[`${e+1}`,`${t}`])),n.join(" . ")}),[i,c],[n,o,a]);return r.createElement(rT.AdditionalAction,{inputLegend:c(".addButtonInputLegend"),onClick:s,narrationText:u,testId:"player-list-item-add-button"},r.createElement(rT.Cell,{align:"center"},r.createElement(bI,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{align:"center",type:"captionShort"},c(".addButtonText"))))}function MD({Icon:e,text:t}){return r.createElement(rT.Cell,{direction:"row"},r.createElement(e,null),r.createElement(Vi,{size:2}),r.createElement(Zi,{variant:"dimmer",type:"captionShort"},t),r.createElement(Vi,{size:1}))}let wD;function kD({title:e,players:t,accordionId:a,scrollViewRef:n,position:o,expandedDefaultState:c=!1,collapsible:i=!0,addFriendLocation:s,profileEntryPoint:u}){const{t:d}=ws("AddFriendAccordion"),{t:m}=ws("AddFriendAccordion.narration"),p=JT(),f=d(`.${e}`),g=(0,l.useFacetMap)((e=>e.length),[],[t]),[E,b]=(0,l.useFacetState)(0),h=(0,l.useFacetMap)(((e,t)=>e.slice(0,t)),[],[t,E]),v=(0,l.useFacetMap)(((e,t)=>e.length<=t),[],[t,E]),F=Pe(),y=(0,r.useCallback)(((e=!1)=>{b((e=>e===l.NO_VALUE?e:e+5)),!1===e&&p({button:"LoadMoreResults",screen:mD})}),[b,p]);(0,r.useEffect)((()=>{y(!0)}),[y]);const S=(0,r.useRef)(null),C=dt(),M=(0,l.useFacetCallback)((e=>()=>{F(a),e&&n&&n.current&&S.current&&(n.current.scrollTop=S.current.offsetTop+8),p({button:"BackToTop",screen:mD})}),[a,F,n,p],[C]),w=(0,l.useFacetMap)((t=>{const a=[m(".enumeration",[`${o[0]}`,`${o[1]}`])];return t.length>0?a.push(m(`.${e}Suggestions`,[`${t.length}`])):a.push(m(".noSuggestionsFound"),m(`.noSuggestionsMessage${e}`)),a.join(" . ")}),[o,m,e],[t]),k=(0,l.useFacetMap)((e=>e.length>5),[],[t]),P=(0,l.useFacetMap)((e=>0===e.length),[],[t]);return r.createElement("div",{ref:S,id:a},r.createElement(Vi,{size:2}),r.createElement(Yw,{label:f,count:e!=wD.recommendedFriends?g:void 0,expandedDefaultState:c,narrationHint:w,onExpandNarrationHint:d(".genericOnExpandNarrationHint"),gamepadAlias:a,alwaysShowHint:!0,collapsible:i},r.createElement("div",{className:"b5e627d3d6e8686f0beb"},r.createElement(l.Mount,{when:P,condition:!1},r.createElement(l.Map,{array:h},((e,t)=>r.createElement(PD,{player:e,accordionId:a,index:t,visiblePlayers:h,addFriendLocation:s,profileEntryPoint:u})))),r.createElement(l.Mount,{when:P,condition:!0},r.createElement(TD,{accordionType:e})),r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:"c561c8c2af397fba9510"},r.createElement(lm,{horizontal:!0,narrationSuffix:m(".enumeration",["1","2"]),inputLegend:d(".backToTop"),onClick:()=>{M()}},d(".backToTop")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{horizontal:!0,inputLegend:d(".loadMoreResults"),narrationSuffix:m(".enumeration",["2","2"]),onClick:()=>{y(!1)},gamepadAlias:a+"LoadMore",disabled:v},d(".loadMoreResults"))))))))}function PD({player:e,accordionId:t,index:a,visiblePlayers:n,addFriendLocation:o,profileEntryPoint:c}){const i=JT(),[s,u]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>u(e.isFollowedByMe)),[u],[e]);const d=(0,l.useFacetMap)((e=>function(e,t){return e.gamertag+e.xuid+t}(e,t)),[t],[e]),m=Pe(),p=(0,l.useFacetMap)((e=>e.length),[],[n]),f=(0,l.useFacetCallback)(((e,t)=>()=>{const n=5*(Math.ceil(e.length/5)-1);a===n&&e.length>5&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{m(t)}))}))}),[m,a],[n,d]);(0,r.useEffect)((()=>{f()}),[f]);const g=(0,l.useFacetCallback)((()=>()=>{u(!0),i({button:"AddFriend",screen:mD})}),[u,i],[]),E=(0,l.useFacetMap)(((e,t,a)=>{let n="add-friend";return(null==a?void 0:a.data.xuid)===e.xuid&&(n="self"),(e.isFollowedByMe||t)&&(n=e.isFollowingMe?"added-mutual":"added-not-mutual"),{id:e.xuid,gamerIcon:e.gamerIcon,gamerTag:e.gamertag,xuid:e.xuid,variant:n,location:o,favoriteStatus:mF.NOT_FAVORITE,presenceMessage:"",presence:pF.Unknown,titleName:"",partyPresence:fF.NotInParty}}),[o],[e,s,LO()]);return r.createElement(vD,{item:E,index:a,gamepadAlias:d,onAdditionalActionClick:g,listLength:p,profileEntryPoint:c})}function TD({accordionType:e}){const{t}=ws("AddFriendAccordionEmptyPanel"),a=Yr("neutral80");return r.createElement(Ud,{compact:!0,className:dl()(a.border.base,a.background.base,"a7a1458dfceff16800f6")},r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"body",align:"center"},t(".noSuggestionsFound")),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"captionShort",variant:"dimmer",align:"center"},t(`.${e}`)),r.createElement(Vi,{size:3}))}!function(e){e.recommendedFriends="recommendedFriends",e.recentlyPlayedWith="recentlyPlayedWith",e.followers="followers",e.gamertagSearch="gamertagSearch"}(wD||(wD={}));const ID=a.p+"assets/search-error-image-320294d3b2376f2da601.png",xD=a.p+"assets/parental-control-block-image-c827bbfeea0b872db615.png",OD=a.p+"assets/blocked-adding-friends-image-f34cf248120a1da988fc.png",AD=a.p+"assets/load-error-image-8fa35da1a2442a3b4db5.png",ND="e362ac8984e2ffd18cd1",RD="a8f9fd620fe30f97f38a";let LD;function DD({errorType:e}){const t=(0,l.useFacetWrap)(e),{t:a}=ws("AddFriendError"),n=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(CF)]),o=Aw({wide:8,narrow:6,width:260});return r.createElement(l.Unwrap,{data:t},(e=>{switch(e){case LD.LoadError:return r.createElement(aw,{title:a(".loadErrorTitle"),text:a(".loadErrorMessage"),buttons:[{text:a(".tryAgain"),onClick:()=>{}}],imgSrc:AD,imgClass:o?ND:RD});case LD.ParentalControlError:return r.createElement(aw,{title:a(".parentalControlBlockTitle"),text:a(".parentalControlBlockMessage"),buttons:[{imgSrc:EA.imgSrc,text:a(".learnMore"),onClick:n}],imgSrc:xD,imgClass:o?ND:RD});case LD.BlockedAddingFriendsError:return r.createElement(aw,{title:a(".blockedAddingFriendsTitle"),text:a(".blockedAddingFriendsMessage"),buttons:[{imgSrc:EA.imgSrc,text:a(".learnMore"),onClick:n}],imgSrc:OD,imgClass:RD});case LD.SearchError:return r.createElement(aw,{title:a(".searchErrorTitle"),text:a(".searchErrorMessage"),imgSrc:ID,imgClass:RD});default:return r.createElement("div",null)}}))}!function(e){e[e.NoError=-1]="NoError",e[e.SearchError=0]="SearchError",e[e.LoadError=1]="LoadError",e[e.ParentalControlError=2]="ParentalControlError",e[e.BlockedAddingFriendsError=3]="BlockedAddingFriendsError"}(LD||(LD={}));const _D={columnsContainer:"e708efc2b1872d1c7f01",spinnerContainer:"c229e74af2d8f5ba7ded"};function BD(){const{t:e}=ws("AddFriendRoute"),t=(0,l.useSharedFacet)(Pv),a=(0,l.useSharedFacet)(kv),n=(0,l.useSharedFacet)(Gb),o=(0,l.useSharedFacet)(Xb),c=(0,l.useFacetMap)((e=>e.playerList),[],[t]),i=(0,l.useFacetMap)((e=>e.playerList),[],[a]),s=(0,l.useFacetMap)((e=>e.playerList),[],[n]),u=(0,l.useFacetMap)((e=>e.searchResults),[],[o]),d=(0,r.useRef)(null),[m,p]=(0,l.useFacetState)(""),[f,g]=(0,l.useFacetState)(!1),E=(0,r.useRef)(null),b=(0,l.useFacetCallback)((e=>t=>{g(!0),p(t),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{e.search(t),E.current=null,g(!1)}),500)}),[E,p,g],[o]),h=(0,l.useFacetMap)(((e,t)=>e.isLoading||t),[],[o,f]),v=(0,l.useFacetMap)(((e,t,a)=>e.length>=3||t.searchResultsOverride||a),[],[m,o,h]),F=(0,l.useFacetMap)(((e,t,a)=>e.isLoading||t.isLoading||a.isLoading),[],[t,a,n]),y=[{title:wD.recommendedFriends,players:c,accordionId:"recommendedFriendsAccordionId",expandedDefaultState:!0,location:Nh.ADDFRIENDS_RECOMMENDEDFRIENDS,profileEntryPoint:Ih.AddFriends_RecommendedFriends},{title:wD.recentlyPlayedWith,players:i,accordionId:"recentlyPlayedWithAccordionId",expandedDefaultState:!1,location:Nh.ADDFRIENDS_RECENTLYPLAYEDWITH,profileEntryPoint:Ih.AddFriends_RecentlyPlayedWith},{title:wD.followers,players:s,accordionId:"followersAccordionId",expandedDefaultState:!1,location:Nh.ADDFRIENDS_FOLLOWERS,profileEntryPoint:Ih.AddFriends_Followers}],S=r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:F,condition:!1},r.createElement(r.Fragment,null,y.map(((e,t)=>r.createElement(kD,{key:e.title,title:e.title,players:e.players,accordionId:e.accordionId,scrollViewRef:d,position:[t+1,y.length],expandedDefaultState:e.expandedDefaultState,addFriendLocation:e.location,profileEntryPoint:e.profileEntryPoint}))))),r.createElement(l.Mount,{when:F,condition:!0},r.createElement("div",{className:_D.spinnerContainer},r.createElement(id,null)))),C=(0,l.useFacetMap)((e=>e.xboxAPICallResult===oF.Success),[],[o]),{narrateText:M}=sd(),w=(0,r.useRef)(!1),k=(0,r.useRef)(!1),P=(0,l.useFacetMap)(((e,t,a)=>e?"loading":t?0===a.length?"no-results":"results":"API-error"),[],[h,C,u]),T=(0,l.useFacetMap)(((e,t)=>"results"===t||"no-results"===t?e.length:-1),[],[u,P]);(0,l.useFacetEffect)(((t,a,n)=>{if(a.length>=3||n.searchResultsOverride)switch(t){case"API-error":k.current||M(`${e(".searchCantLoad")} . ${e(".error")} . ${e(".unknownError")}`),k.current=!0,w.current=!1;break;case"no-results":w.current||M(`${e(".noGamertagFound")} . ${e(".emptyState")} . ${e(".refineSearch")}`),w.current=!0,k.current=!1;break;case"results":k.current=!1,w.current=!1}}),[M,e],[P,m,o]);const I=r.createElement(l.Unwrap,{data:P},(e=>{switch(e){case"loading":return r.createElement("div",{className:_D.spinnerContainer},r.createElement(id,null));case"API-error":return r.createElement("div",null,r.createElement(Vi,{size:2}),r.createElement(DD,{errorType:LD.LoadError}));case"no-results":return r.createElement("div",null,r.createElement(Vi,{size:2}),r.createElement(DD,{errorType:LD.SearchError}));default:return r.createElement(kD,{title:wD.gamertagSearch,players:u,accordionId:"gamertagSearchAccordionId",scrollViewRef:d,position:[1,1],expandedDefaultState:!0,addFriendLocation:Nh.ADDFRIENDS_SEARCH,profileEntryPoint:Ih.AddFriends_Search,collapsible:!1})}})),x=(0,l.useSharedFacet)(FF),O=(0,l.useFacetMap)((e=>e.userPermissions.addFriends.denyReasons.includes(bF.XboxLive_Parental)),[],[(0,l.useSharedFacet)(FF)]),A=(0,l.useFacetMap)(((e,t)=>t?LD.ParentalControlError:e.userPermissions.addFriends.allowed?LD.NoError:LD.BlockedAddingFriendsError),[],[x,O]),N=Pe(),R=Sc(),L=r.createElement(r.Fragment,null,r.createElement(zM,{narrowBreakpointWidth:102},r.createElement(Vi,{size:2}),r.createElement(zM.Row,{fullHeight:!0},r.createElement("div",{className:_D.columnsContainer},r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(pD,null)),r.createElement(zM.Column,{wideSize:8,narrowSize:5},"desktop"===R?r.createElement(Vi,{size:2}):"",r.createElement(bD,{searchQuery:m,onSearchQueryChange:b,searchResultsLength:T,searchResultsState:P}),r.createElement(ud,{innerRef:d,delegateFocusFromMemory:!0},r.createElement("div",{className:"desktop"===R?_D.desktopMainMenu:_D.mainMenu},r.createElement(l.Unwrap,{data:v},(e=>e?I:r.createElement("div",null,S))))),r.createElement(Vi,{size:4})))),r.createElement(Lm.Space,null)),r.createElement(WD,{onClick:function(){N(ED)}})),D=r.createElement(zM,{narrowBreakpointWidth:102},r.createElement(Vi,{size:3}),r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(DD,{errorType:A}))),r.createElement(Lm.Space,null),r.createElement(Vi,{size:4})),_=(0,l.useFacetMap)((e=>e!==LD.NoError),[],[A]);return r.createElement(ZN,{title:e(".header"),screenAnalyticsId:"AddFriend",gamepadAlias:"add-friend-route",delegateByAlias:ED},(()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:_,condition:!0},D),r.createElement(l.Mount,{when:_,condition:!1},L))))}function WD({onClick:e}){const{t}=ws("AddFriendRoute");return r.createElement(Ed,{onClick:e,options:(0,l.useFacetMap)((e=>({disabled:!e,button:j.Y,inputLegend:t(".search")})),[t],[rt()])})}const UD=a.p+"assets/MCR_Logo_Primary-c83fae4725ef9dc3ecf9.png",zD=a.p+"assets/Marketplace-Error-8376f52eee1949549f26.png",jD=a.p+"assets/Generic-Error-222c30f7a51a14fc35c7.png",HD=a.p+"assets/Realms-Missing-e89cb34a35facd2151a8.png";function GD({children:e,disabled:t}){const a=el();return r.createElement("div",{className:dl()("d1e9203d1d877ba92c48",{[a.disabled]:t})},r.createElement("div",{className:dl()("dfe3c323e517067907cc",{fe339a9dfc9325f09515:!t})}),e)}function VD({isCorePlan:e,hasFreeTrial:t}){const{t:a}=ws("RealmsPlanPickerScreen"),n=Ln(),o=e?"PDPCore":"PDPPlus",c=e?r.createElement(Zi,{type:"body",align:"left",role:o},a(".featureLine0")):r.createElement(r.Fragment,null,r.createElement(Zi,{type:"body",align:"left",role:o},a(".featureLine0Plus")+" "),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body",align:"left",role:o,variant:"dimmer"},a(".featureLine0PlusNum"))),i=(0,l.useFacetMap)((t=>[a(e?".featureNarrationCore":".featureNarrationPlus"),a(e?".featureLine0Narration":".featureLine0PlusNarration"),a(".featureLine1"),a(".featureLine2Narration"),a(".featureLine3"),a(".featureLine4"),a(".featureLine5Narration"),a(".featureLine6"),t&&!e?a(".featureLine7"):"",e?"":a(".featureLine8")].filter((e=>""!=e)).join(" . ")),[a,e],[t]);return r.createElement(Wi.Maybe,{isInteractive:n,narrationText:i,classNameFocused:Ws,gamepadAlias:"plan-picker-feature-list-text-block-"+(e?"core":"plus")},r.createElement(Bs,null),r.createElement("div",{className:"f685a05830a786fe63da"},r.createElement(GD,null,c),r.createElement(Zi,{type:"body",align:"left",role:o},r.createElement(GD,null,a(".featureLine1")),r.createElement(GD,null,a(".featureLine2")),r.createElement(GD,null,a(".featureLine3")),r.createElement(GD,null,a(".featureLine4")),r.createElement(GD,null,a(".featureLine5")),r.createElement(GD,null,a(".featureLine6"))),r.createElement(l.Mount,{when:t},r.createElement(GD,{disabled:e},r.createElement(Zi,{type:"body",align:"left",role:o,disableable:!0},a(".featureLine7")))),r.createElement(GD,{disabled:e},r.createElement(Zi,{type:"body",align:"left",role:o,disableable:!0},a(".featureLine8")))))}function $D({isLoading:e,narration:t,planTitle:a,button:n,children:o,reflectionRole:c}){const i=Yr("neutral"),s=Yr("informative");return r.createElement(bd,{text:t},r.createElement("div",{className:dl()("a4905c2b5129c701cb30",i.border.base,s.background.base)},r.createElement(Ks,{effect:"specular",role:c}),r.createElement(pu,{src:UD,className:"fdadabda46e4a5454937"}),r.createElement("div",{className:"af57e5e36994fae03183"},r.createElement(Zi,{type:"header5B",align:"center",role:c},a),r.createElement(Vi,{size:4}),r.createElement(l.Unwrap,{data:e},(e=>e?r.createElement("div",{className:"a3041a3188d46392047b"},r.createElement(id,null)):r.createElement(r.Fragment,null,n))),o)),r.createElement(Vi,{size:6}),r.createElement(Lm.Space,null))}function XD(){const e=(0,l.useSharedFacet)(Zh),t=(0,l.useSharedFacet)(ev),a=Ln();(0,l.useFacetEffect)(((e,t)=>()=>{e.state===Jh.IDLE&&t.initialize()}),[],[e,t]);const n=Rd(Ib),{t:o}=ws("RealmsPlanPickerScreen"),c=p(),{isRealmsTrialAvailable:i}=kL(),s=(0,l.useSharedFacet)(mh),u=(0,l.useFacetMap)((e=>e.coreSubscriptionPrice),[],[s]),d=(0,l.useFacetMap)((e=>o(".planCoreCardNarration",[e.coreSubscriptionPrice])),[o],[s]),m=(0,l.useFacetMap)((e=>e.plusSubscriptionPrice),[],[s]),f=(0,l.useFacetMap)((e=>o(".planRealmsPlusCardNarration",[e.plusSubscriptionPrice])),[o],[s]),g=(0,l.useFacetMap)(((e,t)=>e&&t.state===Jh.DONE&&t.canBuyPlusRealm),[],[i,e]),E=function(){const e=(0,l.useSharedFacet)(Zh),t=(0,l.useSharedFacet)(mh),a=wL(),n=(0,l.useSharedFacet)(FF),r=nD();return(0,l.useFacetMap)(((e,t,a,n,r)=>{if(!n.isLoggedInWithMicrosoftAccount||"not-signed-in"!==r)return"show-account-state-banner";if(n.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental))return"parental-online-safety";if(t.state===Jh.FAILED)return"realms-service-failure";if(n.userPermissions.multiplayer.denyReasons.includes(bF.Platform_PlayStation)||n.userPermissions.multiplayer.denyReasons.includes(bF.Platform_NintendoSwitch))return"platform-multiplayer-disabled";if(a===ML.ACTIVE||t.state!==Jh.DONE)return"show-spinner";if(!e.isFinishedQueryingProductsAndPurchases)return"show-default";if(e.isFinishedQueryingProductsAndPurchases&&(""===e.coreSubscriptionPrice||""===e.plusSubscriptionPrice))return"show-prices-not-loaded";const l=!e.isRealmsCoreOfferAvailable||!t.canBuyCoreRealm,o=!e.isRealmsPlusOfferAvailable||!t.canBuyPlusRealm;return l&&o?"show-max-realms-subscriptions":l?"cannot-buy-core-realms":o?"cannot-buy-plus-realms":"show-default"}),[],[t,e,a,n,r])}(),b=(0,l.useFacetMap)((e=>"show-spinner"===e),[],[E]),h=(0,l.useFacetMap)((e=>"cannot-buy-core-realms"===e||"show-account-state-banner"===e),[],[E]),v=r.createElement(lm,{inputLegend:o(".buyButtonCore"),disabled:h,variant:"secondary",gamepadAlias:"buy-core-button",onClick:()=>{c.push(n?"/realms-purchase-subscription/core":"/realms-create-screen?offerTier=2player")},narrationSuffix:o(".buyButtonCoreNarrationHint")},o(".buyButtonCore")),F=(0,l.useFacetMap)((e=>"cannot-buy-plus-realms"===e||"show-account-state-banner"===e),[],[E]),y=r.createElement(l.Unwrap,{data:g},(e=>r.createElement(lm,{disabled:F,inputLegend:o(!0===e?".buyRealmsPlusButtonTrial":".buyButtonPlus"),variant:!0===e?"primary":"secondary",gamepadAlias:"buy-realms-plus-button",onClick:()=>{c.push(n?e?"/realms-purchase-subscription/plus-free-trial":"/realms-purchase-subscription/plus":"/realms-plus-pdp?tab=default")},narrationSuffix:o(".buyButtonPlusNarrationHint")},o(!0===e?".buyRealmsPlusButtonTrial":".buyButtonPlus")))),S=e=>{const t=e?"PDPCore":"PDPPlus";return r.createElement(r.Fragment,null,r.createElement(Zi,{type:"header5B",align:"center",role:t,variant:"stronger"},o(e?".priceCore":".pricePlus")),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"header5B",align:"center",role:t,variant:"dimmer"},e?u:m),r.createElement(Zi,{type:"header5B",align:"center",role:t},`/${o(".priceMonthly")}`))},C=iD(),M=(0,l.useFacetMap)((e=>{switch(e){case"show-prices-not-loaded":return{title:o(".error.title"),body:o(".error.body"),image:zD};case"realms-service-failure":return{title:o(".emptyStates.serviceFailure.title"),body:o(".emptyStates.serviceFailure.body"),image:jD};default:return{title:o(".emptyStates.maxedOutSubscriptions.title"),body:o(".emptyStates.maxedOutSubscriptions.body"),image:HD}}}),[o],[E]),w=(0,l.useFacetMap)((e=>"show-account-state-banner"===e),[],[E]),k=(0,l.useFacetMap)((e=>"cannot-buy-core-realms"===e||"cannot-buy-plus-realms"===e),[],[E]),P=(0,l.useFacetMap)((e=>o("cannot-buy-core-realms"===e?".banners.coreSubscriptionsLimit":".banners.plusSubscriptionsLimit")),[o],[E]);return r.createElement(_r,{collection:xx},r.createElement(ZN,{screenAnalyticsId:"RealmsPlanPicker",gamepadAlias:"realms-plan-picker",title:o(".title"),delegateByAlias:"plan-picker-scrollview"},(()=>r.createElement(ud,{gamepadAlias:"plan-picker-scrollview",delegateFocusByAlias:a?"plan-picker-feature-list-text-block-plus":"buy-realms-plus-button"},r.createElement(l.Unwrap,{data:E},(e=>{switch(e){case"parental-online-safety":return r.createElement(zM,null,r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(KL,{variant:"parental",inputLegendExtraSpace:r.createElement(Vi,{size:2})}))));case"platform-multiplayer-disabled":return r.createElement(zM,null,r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(sD,null))));case"show-prices-not-loaded":case"show-max-realms-subscriptions":case"realms-service-failure":return r.createElement(zM,null,r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(l.Unwrap,{data:M},(e=>r.createElement(aw,{title:e.title,text:e.body,imgSrc:e.image,imgClass:C}))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}))));default:return r.createElement(bd,{text:o(".titleNarrationHint")},r.createElement(zM,null,r.createElement(Vi,{size:6}),r.createElement(l.Mount,{when:w},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(oD,{tab:QL.RealmsPlanPicker}),r.createElement(Vi,{size:6})))),r.createElement(l.Mount,{when:k},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,P)),r.createElement(Vi,{size:6})))),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:5,narrowSize:4},r.createElement($D,{isLoading:b,narration:d,planTitle:S(!0),button:v,reflectionRole:"PDPCore"},r.createElement(VD,{isCorePlan:!0,hasFreeTrial:g}))),r.createElement(zM.Column,{wideSize:5,narrowSize:4},r.createElement($D,{isLoading:b,narration:f,planTitle:S(!1),button:y,reflectionRole:"PDPPlus"},r.createElement(VD,{isCorePlan:!1,hasFreeTrial:g}))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}))))}}))))))}function KD(){const{t:e}=ws("RealmsPlanPickerScreen"),{t}=ws("RealmsPlanPickerScreenInGame"),a=iD();return r.createElement(_r,{collection:xx},r.createElement(ZN,{screenAnalyticsId:"RealmsPlanPickerInGame",gamepadAlias:"realms-plan-picker-in-game",title:e(".title"),delegateByAlias:"plan-picker-scrollview"},(()=>r.createElement(ud,{gamepadAlias:"plan-picker-scrollview"},r.createElement(zM,null,r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(aw,{title:t(".title"),text:t(".message"),imgSrc:HD,imgClass:a}),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}))))))))}let YD;!function(e){e[e.PlayStation=0]="PlayStation",e[e.Nintendo=1]="Nintendo",e[e.Others=2]="Others"}(YD||(YD={}));const qD=As((({variant:e,onClose:t})=>{const{t:a}=ah("RealmsMultiplayerPrivilegeBlockedModal"),n=(0,l.useSharedFacet)(CF),o=(0,l.useSharedFacet)(_l),c=(0,l.useFacetMap)(((e,t)=>{switch(e){case YD.Nintendo:return a(".Platform_NintendoSwitch");case YD.PlayStation:return a(".Platform_PlayStation");default:return II(t.platform)?a(".others.xbox"):a(".others")}}),[a],[e,o]),i=(0,l.useFacetMap)((e=>e===YD.Others),[],[e]),s=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.ParentPermissionHelpPage)}),[],[n]);return r.createElement($m,null,r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c},c)),r.createElement($m.Buttons,null,r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(lm,{Icon:LM.ExternalLink,variant:"primary",inputLegend:a(".select"),onClick:s},a(".getHelp")),r.createElement(Vi,{size:2}))),r.createElement(lm,{variant:"secondary",inputLegend:a(".goBack"),onClick:t},a(".goBack"))))}));let QD,JD;!function(e){e[e.IDLE=0]="IDLE",e[e.PREPARING_APP_STORE=1]="PREPARING_APP_STORE",e[e.CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION=2]="CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION",e[e.CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION_STARTED=3]="CAN_BE_MEMBER_OF_MORE_REALMS_VALIDATION_STARTED",e[e.REALM_NAME_VALIDATION=4]="REALM_NAME_VALIDATION",e[e.REALM_NAME_VALIDATION_STARTED=5]="REALM_NAME_VALIDATION_STARTED",e[e.PURCHASE=6]="PURCHASE",e[e.PURCHASE_STARTED=7]="PURCHASE_STARTED",e[e.COMPLETED=8]="COMPLETED",e[e.FAILED=9]="FAILED"}(QD||(QD={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.NO_ACCESS=1]="NO_ACCESS",e[e.MEMBER_OF_TOO_MANY_REALMS=2]="MEMBER_OF_TOO_MANY_REALMS",e[e.INVALID_REALM_NAME=3]="INVALID_REALM_NAME",e[e.FAILED_CLUB_NAME_VALIDATION=4]="FAILED_CLUB_NAME_VALIDATION",e[e.OFFER_NOT_FOUND=5]="OFFER_NOT_FOUND",e[e.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA=6]="OFFER_NOT_AVAILABLE_INCOMPLETE_DATA",e[e.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED=7]="OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED",e[e.APP_STORE_NOT_READY=8]="APP_STORE_NOT_READY",e[e.CHECK_REALMS_PAYMENT_SERVICE_FAILED=9]="CHECK_REALMS_PAYMENT_SERVICE_FAILED",e[e.PURCHASE_FAILED=10]="PURCHASE_FAILED",e[e.FULFILLMENT_FAILED=11]="FULFILLMENT_FAILED"}(JD||(JD={}));const ZD=(0,l.sharedFacet)("vanilla.realmsPurchaseQueries");let e_,t_;!function(e){e[e.Offer30Days=0]="Offer30Days",e[e.Offer180Days=1]="Offer180Days",e[e.OfferMonthly=2]="OfferMonthly"}(e_||(e_={})),function(e){e[e.Offer2Player=0]="Offer2Player",e[e.Offer10Player=1]="Offer10Player",e[e.Offer16Player=2]="Offer16Player"}(t_||(t_={}));const a_=(0,l.sharedFacet)("vanilla.realmsPurchaseCommands");let n_,r_;!function(e){e[e.IDLE=0]="IDLE",e[e.PREPARING_APP_STORE=1]="PREPARING_APP_STORE",e[e.APP_STORE_READY=2]="APP_STORE_READY",e[e.BLOCKED_BY_PRIOR_PURCHASE_RENEW=3]="BLOCKED_BY_PRIOR_PURCHASE_RENEW",e[e.BLOCKED_BY_PRIOR_PURCHASE_CREATE=4]="BLOCKED_BY_PRIOR_PURCHASE_CREATE",e[e.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID=5]="BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID",e[e.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID=6]="BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID",e[e.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE=7]="BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE",e[e.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD=8]="BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD",e[e.RECONCILIATION_STARTED=9]="RECONCILIATION_STARTED",e[e.COMPLETED=10]="COMPLETED",e[e.FAILED=11]="FAILED"}(n_||(n_={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.APP_STORE_NOT_READY=1]="APP_STORE_NOT_READY",e[e.PURCHASE_FAILED=2]="PURCHASE_FAILED",e[e.FULFILLMENT_FAILED=3]="FULFILLMENT_FAILED"}(r_||(r_={}));const l_=(0,l.sharedFacet)("vanilla.realmsPurchaseReconcilerQueries"),o_="ef5692131329f28a514a",c_=a.p+"assets/realms-plus-banner-image-74c840233d67065e784d.png",i_=a.p+"assets/realms-core-banner-image-d960f675ab3066286119.png",s_=a.p+"assets/minecraft-realms-logo-5a44873eee8ad1c6e5aa.png",u_=a.p+"assets/realms_key_art-87714cbc37a457786232.png",d_=As((({onClose:e,onConfirm:t})=>{const{t:a}=ws("HasMarketplacePassModal"),[n,o]=(0,l.useFacetState)(!1),c=(0,l.useFacetMap)((e=>!e),[],[n]),i=(0,r.useCallback)((()=>{t(),e()}),[e,t]);return r.createElement($m,null,r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:!1},a(".body"))),r.createElement($m.Checkbox,{onChange:o,title:a(".understand"),value:n}),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:a(".select"),onClick:e,horizontal:!0},a(".goBack")),r.createElement(Vi,{size:4}),r.createElement(lm,{inputLegend:a(".select"),onClick:i,variant:"primary",disabled:c,horizontal:!0},a(".purchase"))))}));function m_(){const e="realm-purchase-reconciliation-close",{t}=ws("RealmsPurchaseSubscriptionRoute.ReconciliationModals"),a=g(),n=h(),o=(0,l.useSharedFacet)(FF),c=(0,l.useSharedFacet)(l_),i=(0,l.useSharedFacet)(a_),s=(0,l.useFacetCallback)((e=>()=>{e.resetReconciler()}),[],[i]),u=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>{switch(e.state){case n_.BLOCKED_BY_PRIOR_PURCHASE_RENEW:case n_.BLOCKED_BY_PRIOR_PURCHASE_CREATE:case n_.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID:{const e=n.get("subscriptionId");r.checkUnfulfilledPurchase(t.currentXuid,null!=e?e:"","core"===a.subscription?t_.Offer2Player:t_.Offer10Player,!0);break}case n_.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID:case n_.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD:r.fulfillPriorRealmsPurchase(t.currentXuid)}}),[],[c,o,a,n,i]),d=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE&&a.fulfillPriorRealmsPurchase(t.currentXuid)}),[],[c,o,i]),m=(0,l.useFacetMap)(((e,a)=>{switch(e.state){case n_.BLOCKED_BY_PRIOR_PURCHASE_RENEW:return t(".Body.renew");case n_.BLOCKED_BY_PRIOR_PURCHASE_CREATE:return t(".Body.create");case n_.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID:return t(".Body.mismatchId");case n_.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID:{const e=a.get("subscriptionId");return t(null!=e?".Body.mismatchXuidOnRenew":".Body.mismatchXuidOnCreate")}case n_.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE:{const e=a.get("subscriptionId");return t(null!=e?".Body.informativeOnRenew":".Body.informativeOnCreate")}case n_.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD:{const e=a.get("subscriptionId");return t(null!=e?".Body.noPayloadOnRenew":".Body.noPayloadOnCreate")}default:return""}}),[t],[c,n]);return r.createElement($m,{defaultFocusAlias:e},r.createElement($m.Header,{onClose:s},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:m},m)),r.createElement($m.Buttons,{horizontal:!0},r.createElement(l.Unwrap,{data:c},(a=>a.state===n_.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE?r.createElement(lm,{inputLegend:t(".select"),variant:"secondary",onClick:d,horizontal:!0},t(".ok")):r.createElement(r.Fragment,null,r.createElement(lm,{gamepadAlias:e,inputLegend:t(".select"),variant:"secondary",onClick:s,horizontal:!0},t(".no")),r.createElement(Vi,{size:4}),r.createElement(lm,{inputLegend:t(".select"),variant:"secondary",onClick:u,horizontal:!0},t(".yes")))))))}const p_=As((({parameter:e})=>{const t="realm-purchase-error-close",{t:a}=ws("RealmsPurchaseSubscriptionRoute.ErrorModals"),n=Os(),o=(0,l.useFacetCallback)((e=>()=>{n(),e.cancelAction.onClick()}),[n],[e]),c=(0,l.useFacetMap)((e=>e.cancelAction.caption),[],[e]),i=(0,l.useFacetMap)((e=>null!=e.confirmAction),[],[e]),s=(0,l.useFacetCallback)((e=>()=>{var t;null===(t=e.confirmAction)||void 0===t||t.onClick()}),[],[e]),u=(0,l.useFacetMap)((e=>{var t;return null===(t=e.confirmAction)||void 0===t?void 0:t.caption}),[],[e]);return r.createElement(l.Unwrap,{data:e},(e=>{const n=!0===e.isHorizontal;return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:o},e.title),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:e.body},e.body)),r.createElement($m.Buttons,{horizontal:n},r.createElement(lm,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:o,horizontal:n},c),r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(lm,{gamepadAlias:"realm-purchase-error-confirm",inputLegend:a(".select"),variant:"secondary",onClick:s,Icon:!0===e.isUsingExternalLinkIcon?LM.ExternalLink:void 0,horizontal:n},u)))))}))}));function f_(){const e="realms-purchase-complete-play-solo",{t}=ws("RealmsPurchaseSubscriptionRoute.PurchaseCompleteModal"),a=p(),n=(0,l.useSharedFacet)(al),o=(0,l.useSharedFacet)(a_),c=(0,l.useSharedFacet)(tv),i=(0,l.useSharedFacet)(sh),s=(0,l.useFacetMap)((e=>{var t;const a=e.history.list.length;return!(!a||null===(t=e.history.list[a-3])||void 0===t||!t.pathname.includes("/choose_realm_screen"))}),[],[n]),u=(0,l.useSharedFacet)(nv),d=KI.useModal(),m=(0,l.useFacetCallback)(((e,t,n,r,l)=>()=>{n?(t.resetPurchase(),t.resetReconciler(),a.go(-2)):l.onlyCellularAvailable&&l.showCellularDataFee?d.show():(e.joinRealmWorld(r.realmId,ih.SettingsScreen),t.resetPurchase(),t.resetReconciler())}),[a,d],[i,o,s,u,(0,l.useSharedFacet)(_l)]),f=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{n.useMobileDataOnce=!0,e.joinRealmWorld(a.realmId,ih.SettingsScreen),t.resetPurchase(),t.resetReconciler()}),[],[i,o,u,(0,l.useSharedFacet)(fh)]),g=(0,l.useFacetCallback)(((e,t,n)=>()=>{const r=n.realmId;let l=`/realms-allowlist/${r}`;t&&(l=`/realms-allowlist/${r}/choose_realm_screen`),e.resetPurchase(),e.resetReconciler(),a.push(l)}),[a],[o,s,u]),E=(0,l.useFacetCallback)(((e,t,n)=>()=>{var r;t.reset(),n.resetReconciler();const l=e.history.list.length;l&&null!==(r=e.history.list[l-2])&&void 0!==r&&r.pathname.includes("/realms-plan-picker")?a.go(-2):a.goBack()}),[a],[n,c,o]),b=[t(".body1"),t(".body2")].join(" . ");return r.createElement(l.Unwrap,{data:d.isVisible},(a=>a?r.createElement(KI.Component,{onClose:d.hide,joinServer:f}):r.createElement($m,{defaultFocusAlias:e},r.createElement($m.Header,{onClose:E},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{image:r.createElement(pu,{src:u_,height:"20rem",width:"16rem"}),narrationText:b},t(".body1"),r.createElement(Vi,{size:5}),t(".body2"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".playWithFriends"),variant:"primary",onClick:g,narrationSuffix:t(".enumeration",["1","2"])},t(".playWithFriends")),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:e,inputLegend:t(".playSolo"),variant:"secondary",onClick:m,narrationSuffix:t(".enumeration",["2","2"])},t(".playSolo"))))))}function g_(){const e=Yr("neutral"),t=Yr("neutral80"),{t:a}=ws("RealmsPurchaseSubscriptionRoute"),n="narrow"===Sc(),o=(0,l.useSharedFacet)(mh),c=(0,l.useSharedFacet)(CF),i=g(),s=h(),u=(0,l.useSharedFacet)(xh),d=(0,l.useSharedFacet)(FF),m=(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[u,d]);m();const f=(0,l.useFacetMap)((e=>"core"!=e.subscription),[],[i]),E=(0,l.useFacetMap)((e=>"plus-free-trial"==e.subscription),[],[i]),b=LO(),[v,F]=(0,l.useFacetState)("");(0,l.useFacetEffect)((e=>{const t=e.get("realmName");null!=t&&F(t)}),[F],[s]);const[y,S]=(0,l.useFacetState)(!1),C=(0,l.useFacetMap)((e=>!e),[],[y]),M=(0,l.useFacetMap)((e=>e?"":a(".checkboxUncheckedHint")),[a],[y]),w=(0,l.useFacetMap)((e=>e?"":[a(".purchaseButton.disabled"),a(".purchaseButton.disabled.hint")].join(" . ")),[a],[y]),k=(0,l.useFacetMap)((e=>{let t="";return null!=e?(""!==e.data.xblName&&(t=e.data.xblName),e.state.xblState===Th.Loaded?a(".inputPlaceholder",[t]):""):""}),[a],[b]),P=(0,l.useFacetUnwrap)(k),T=(0,l.useFacetMap)(((e,t)=>t?e.plusSubscriptionTerms:e.coreSubscriptionTerms),[],[o,f]),I=(0,l.useFacetMap)(((e,t)=>t?e.plusSubscriptionTermsExtra:e.coreSubscriptionTermsExtra),[],[o,f]),x=(0,l.useFacetMap)((e=>""===e),[],[I]),O=(0,l.useFacetMap)(((e,t)=>t?e.plusSubscriptionPrice:e.coreSubscriptionPrice),[],[o,f]),A=(0,l.useFacetMap)(((e,t,n)=>null!=n.get("subscriptionId")?a(".heroButton.renew",[e]):t?a(".heroButton.trial"):a(".heroButton.create",[e])),[a],[O,E,s]),N=(0,l.useFacetMap)(((e,t)=>{if(null!=t.get("subscriptionId"))return a(".header.renew");switch(e.subscription){case"core":return a(".header.core");case"plus":return a(".header.plus");case"plus-free-trial":return a(".header.trial");default:return"title"}}),[a],[i,s]),R=(0,l.useFacetMap)((e=>{switch(e.subscription){case"core":return"Realms-Core";case"plus":return"Realms-Plus";case"plus-free-trial":return"Realms-Plus-Free-Trial"}}),[],[i]),L=(0,l.useFacetUnwrap)(R),D=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.TermsAndServicePage)}),[],[c]),_=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.PrivacyPolicyPage)}),[],[c]),B=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.ContactSupport)}),[],[c]),W=(0,l.useSharedFacet)(ZD),U=(0,l.useSharedFacet)(a_),z=(0,l.useSharedFacet)(l_),j=(0,l.useSharedFacet)(nv),H=(0,l.useFacetMap)(((e,t)=>({purchaseState:e.state,purchaseFailureReason:e.failureReason,reconciliationState:t.state,reconciliationFailureReason:t.failureReason})),[],[W,z]),G=(0,l.useFacetMap)(((e,t)=>{const a=e.purchaseState!=QD.IDLE&&e.purchaseState!=QD.FAILED&&e.purchaseState!=QD.COMPLETED,n=e.reconciliationState===n_.RECONCILIATION_STARTED,r=t.state===av.FETCHING_WORLD&&(e.purchaseState===QD.COMPLETED||e.reconciliationState===n_.COMPLETED);return a||n||r}),[],[H,j]),V=(0,l.useFacetMap)((e=>e.reconciliationState===n_.FAILED||e.purchaseState===QD.FAILED&&e.purchaseFailureReason!=JD.FAILED_CLUB_NAME_VALIDATION),[],[H]),$=(0,l.useFacetCallback)((e=>()=>e.resetPurchase()),[],[U]),X=p(),K=(0,l.useFacetCallback)((e=>()=>{e.resetReconciler()}),[],[U]),Y=(0,l.useFacetCallback)(((e,t,n,r,l,o)=>c=>{if(c)e.prepareAppStoreForReconciliation(t.currentXuid);else if(null!=n){let t=r;if(""===t&&n.state.xblState===Th.Loaded&&""!==n.data.xblName&&(t=a(".inputPlaceHolder",[n.data.xblName])),"plus-free-trial"===l.subscription)e.prepareAppStoreForTrialPurchases(n.data.xuid,t);else{const a=o.get("subscriptionId");e.prepareAppStoreForPurchases(n.data.xuid,t,null!=a?a:"",e_.OfferMonthly,"core"===l.subscription?t_.Offer2Player:t_.Offer10Player)}}}),[a],[U,d,b,v,i,s]),[q,Q]=ik(!1),J=(0,l.useFacetMap)(((e,t)=>e||t.purchaseState===QD.FAILED&&t.purchaseFailureReason===JD.FAILED_CLUB_NAME_VALIDATION),[],[Q.isVisible,H]),Z=(0,l.useFacetCallback)((e=>()=>{e.resetPurchase(),Q.hide()}),[Q],[U]),ee=qD.useModal(),te=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.Platform_NintendoSwitch)?YD.Nintendo:e.userPermissions.multiplayer.denyReasons.includes(bF.Platform_PlayStation)?YD.PlayStation:YD.Others),[],[d]),ae=(0,l.useFacetCallback)(((e,t,n,r,l,o,c)=>()=>{if(e.isLoggedInWithMicrosoftAccount)if(e.hasPremiumNetworkAccess)if(e.userPermissions.multiplayer.denyReasons.includes(bF.Minecraft_Ban)||e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Ban)){const t=e.banExpiration;if(""===t||"Indefinite"===t)return void X.push(`/player-banned-modal?banReason=${e.banReason}&timesRemaining=0&isHours=0&isPermanent=1`);const a=function(e){const t=WA(e),a=t.hours+(0===t.minutes?0:1),n=t.days+(0===a?0:1);return{remaining:0===t.days?a:n,isHours:0===t.days}}(t);X.push(`/player-banned-modal?banReason=${e.banReason}&timesRemaining=${a.remaining}&isHours=${a.isHours}&isPermanent=0`)}else if(0===e.userPermissions.multiplayer.denyReasons.length){if(t.purchaseDisabledDueToStoreVersion)X.push("/update-version");else if(null!=r){const e=c.get("subscriptionId"),t=null!=e?e:"",i="core"===o.subscription?t_.Offer2Player:t_.Offer10Player;let s=l;""===s&&r.state.xblState===Th.Loaded&&""!==r.data.xblName&&(s=a(".inputPlaceHolder",[r.data.xblName])),"plus-free-trial"===o.subscription?n.purchaseTrial(r.data.xuid,s):n.purchase(r.data.xuid,s,t,e_.OfferMonthly,i),n.checkUnfulfilledPurchase(r.data.xuid,t,i,!1)}}else ee.show();else e.showPremiumNetworkUpsellModal();else X.push("/sign-in?signInSource=RealmsPurchaseSubscription")}),[a,X,ee],[d,W,U,b,v,i,s]),ne=d_.useModal(),re=(0,l.useFacetCallback)(((e,t,a)=>()=>{"plus-free-trial"!==t.subscription&&"plus"!==t.subscription||null!=a.get("subscriptionId")||!0!==e.isMarketplacePassSubscriptionActive?ae():ne.show()}),[ae,ne],[d,i,s]),le=(0,l.useFacetCallback)(((e,t,a)=>()=>{ck(a,t)?Q.show():e.isLoggedInWithMicrosoftAccount?re():X.push("/sign-in?signInSource=RealmsPurchaseSubscription")}),[Q,X,re],[d,v,(0,l.useSharedFacet)(Dh)]),oe=(0,l.useFacetMap)(((e,t)=>t.state===av.WORLD_AVAILABLE&&(e.purchaseState===QD.IDLE&&e.reconciliationState===n_.COMPLETED||e.purchaseState===QD.COMPLETED&&e.reconciliationState===n_.IDLE)),[],[H,j]),ce=(0,l.useFacetMap)(((e,t)=>{if(e.reconciliationState===n_.FAILED)switch(e.reconciliationFailureReason){case r_.APP_STORE_NOT_READY:return{title:a(".errorModals.appStoreNotReady.title"),body:a(".errorModals.appStoreNotReady.body"),cancelAction:{caption:a(".errorModals.appStoreNotReady.cancel"),onClick:K},confirmAction:{caption:a(".errorModals.appStoreNotReady.confirm"),onClick:()=>{Y(!0)}},isHorizontal:!0};case r_.PURCHASE_FAILED:return{title:a(".errorModals.purchaseFailed.title"),body:a(".errorModals.purchaseFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:K}};case r_.FULFILLMENT_FAILED:return{title:a(".errorModals.fulfillmentFailed.title"),body:a(".errorModals.fulfillmentFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:K},confirmAction:{caption:a(".errorModals.fulfillmentFailed.confirm"),onClick:B},isUsingExternalLinkIcon:!0}}if(e.purchaseState===QD.FAILED)switch(e.purchaseFailureReason){case JD.NO_ACCESS:return{title:a(".errorModals.noAccess.title"),body:a(".errorModals.noAccess.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case JD.MEMBER_OF_TOO_MANY_REALMS:return{title:a(".errorModals.memberOfTooManyRealms.title"),body:a(".errorModals.memberOfTooManyRealms.body"),cancelAction:{caption:a(".errorModals.memberOfTooManyRealms.cancel"),onClick:$}};case JD.INVALID_REALM_NAME:return{title:a(".errorModals.invalidRealmName.title"),body:a(".errorModals.invalidRealmName.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case JD.OFFER_NOT_FOUND:return{title:a(".errorModals.offerNotFound.title"),body:a(".errorModals.offerNotFound.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case JD.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return{title:a(".errorModals.offerNotAvailableIncompleteData.title"),body:a(".errorModals.offerNotAvailableIncompleteData.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:$}};case JD.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:{let e="",n="";switch(t.subscription){case"core":e=a(".errorModals.offerNotAvailableAllOffersOccupied.core.title"),n=a(".errorModals.offerNotAvailableAllOffersOccupied.core.body");break;case"plus":e=a(".errorModals.offerNotAvailableAllOffersOccupied.plus.title"),n=a(".errorModals.offerNotAvailableAllOffersOccupied.plus.body");break;default:e=a(".errorModals.offerNotAvailableAllOffersOccupied.trial.title"),n=a(".errorModals.offerNotAvailableAllOffersOccupied.trial.body")}return{title:e,body:n,cancelAction:{caption:a(".ErrorModals.close"),onClick:$}}}case JD.APP_STORE_NOT_READY:return{title:a(".errorModals.appStoreNotReady.title"),body:a(".errorModals.appStoreNotReady.body"),cancelAction:{caption:a(".errorModals.appStoreNotReady.cancel"),onClick:$},confirmAction:{caption:a(".errorModals.appStoreNotReady.confirm"),onClick:()=>{Y(!1)}},isHorizontal:!0};case JD.CHECK_REALMS_PAYMENT_SERVICE_FAILED:return{title:a(".errorModals.checkRealmsPaymentServiceFailed.title"),body:a(".errorModals.checkRealmsPaymentServiceFailed.body"),cancelAction:{caption:a(".errorModals.checkRealmsPaymentServiceFailed.cancel"),onClick:$}};case JD.PURCHASE_FAILED:return{title:a(".errorModals.purchaseFailed.title"),body:a(".errorModals.purchaseFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:$}};case JD.FULFILLMENT_FAILED:return{title:a(".errorModals.fulfillmentFailed.title"),body:a(".errorModals.fulfillmentFailed.body"),cancelAction:{caption:a(".errorModals.purchaseFailed.cancel"),onClick:$},confirmAction:{caption:a(".errorModals.fulfillmentFailed.confirm"),onClick:B},isUsingExternalLinkIcon:!0}}return{title:a(".errorModals.genericFailure.title"),body:a(".errorModals.genericFailure.body"),cancelAction:{caption:a(".ErrorModals.close"),onClick:()=>{}}}}),[a,$,K,B,Y],[H,i]),ie=Ln(),{narrateText:se}=sd(),ue=(0,l.useFacetCallback)(((e,t)=>a=>{se(a?t:e)}),[se],[T,I]),de=(0,l.useFacetMap)((e=>[a(".termsAndConditionsTextBlock.name"),a(".termsAndConditionsTextBlock.role"),e?"":a(".termsAndConditionsTextBlock.enum",["1","2"]),a(".termsAndConditionsTextBlock.hint")].filter((e=>""!==e)).join(" . ")),[a],[x]),me=(0,l.useFacetMap)(((e,t)=>[a(".inputLabel"),a(".inputLabel.role"),""===e?t:e,a(".inputLabel.hint")].join(" . ")),[a],[v,k]),pe=(0,l.useFacetMap)((e=>e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_RENEW||e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_CREATE||e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_ID||e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_MISMATCH_XUID||e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_INFORMATIVE||e.state===n_.BLOCKED_BY_PRIOR_PURCHASE_NO_PAYLOAD),[],[z]);return r.createElement(_r,{collection:xx},r.createElement(ZN,{title:N,gamepadAlias:"realms-purchase-subscription",screenAnalyticsId:L!==l.NO_VALUE?L:""},(()=>r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(ud,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:dl()(e.border.base,"fe7698f9cb35eea0619a")},r.createElement(E_,{isPlus:f,isTrial:E,price:O,isNarrow:n}),r.createElement(dk,{label:a(".inputLabel"),onChange:F,placeholder:P!==l.NO_VALUE?P:"",value:v,onBlur:q,narrationOverride:me}),r.createElement(hD,{stackedButtons:n,title:a(".panelButton.title"),roleNarrationOverride:a(".panelButton.role"),buttons:r.createElement(r.Fragment,null,r.createElement(lm,{onClick:D,inputLegend:a(".select"),Icon:LM.ExternalLink,horizontal:!n,narrationSuffix:a(".panelButton.enum",["1","2"])},a(".panelButton.termsAndConditions")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{onClick:_,inputLegend:a(".select"),Icon:LM.ExternalLink,horizontal:!n,narrationSuffix:a(".panelButton.enum",["2","2"])},a(".panelButton.privacyPolicy")))}),r.createElement(Wi.Maybe,{classNameFocused:Ws,className:dl()(o_,t.background.base),isInteractive:ie,narrationText:de,onClick:()=>{ue(!1)},inputLegend:a(".select")},r.createElement(Bs,null),r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"captionLong"},T),r.createElement(Vi,{size:3})),r.createElement(l.Mount,{when:x,condition:!1},r.createElement(Wi.Maybe,{classNameFocused:Ws,className:dl()(o_,t.background.base),isInteractive:ie,narrationText:[a(".termsAndConditionsTextBlock.name"),a(".termsAndConditionsTextBlock.role"),a(".termsAndConditionsTextBlock.enum",["2","2"]),a(".termsAndConditionsTextBlock.hint")].join(" . "),onClick:()=>{ue(!0)},inputLegend:a(".select")},r.createElement(Bs,null),r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"captionLong"},I),r.createElement(Vi,{size:3}))),r.createElement(_r,{collection:Ix},r.createElement(Td,{title:a(".checkboxLabel"),onChange:S,value:y,hintNarration:M})),r.createElement(Ud,null,r.createElement(lm,{onClick:le,inputLegend:a(".select"),variant:"hero",disabled:C,narrationSuffix:w},A))),r.createElement(Vi,{size:2}),r.createElement(Lm.Space,null))))))),r.createElement(l.Mount,{when:G},r.createElement(Jw.Component,{title:a(".modals.purchaseInProgress")})),r.createElement(l.Mount,{when:V},r.createElement(p_.Component,{parameter:ce})),r.createElement(l.Mount,{when:pe},r.createElement(m_,null)),r.createElement(l.Mount,{when:J},r.createElement(Zw.Component,{onClose:Z})),r.createElement(l.Mount,{when:oe},r.createElement(f_,null)),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(Zw.Component,{onClose:Q.hide})),r.createElement(l.Mount,{when:ne.isVisible},r.createElement(d_.Component,{onClose:ne.hide,onConfirm:ae})),r.createElement(l.Mount,{when:ee.isVisible},r.createElement(qD.Component,{onClose:ee.hide,variant:te})))}function E_({isPlus:e,isTrial:t,price:a,isNarrow:n}){const{background:o}=Yr("informative"),c=(0,l.useFacetMap)((e=>e?c_:i_),[],[e]),{t:i}=ws("RealmsPurchaseSubscriptionRoute"),s=(0,l.useFacetMap)(((e,t)=>t?`${i(".banner.subheading.trial",[e])}`:`${i(".banner.subheading",[e])}`),[i],[a,t]),u=(0,l.useFacetMap)(((e,t,a)=>[i(e?".banner.heading.plus":".banner.heading.core"),i(".banner.role"),i(t?".banner.subheading.trial.narration":".banner.subheading.narration",[a])].join(" . ")),[i],[e,t,a]),d=Ln();return r.createElement(Wi.Maybe,{classNameFocused:Ws,isInteractive:d,className:dl()(o.base,"fc664479bc86f395286a"),narrationText:u},r.createElement(Bs,null),!n&&r.createElement(pu,{className:"f669210341328144391c",src:s_}),r.createElement("div",{className:"b75fc7b3d6f29f6bbc4c"},r.createElement(Zi,{type:"body",role:"neutral"},s)),r.createElement(pu,{className:"bcaa8ab7d0bca62b7948",src:c}))}function b_({loading:e,emptyMessage:t,header:a,renderItem:n,data:o,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:i,itemSeparator:s,footer:u,renderTracker:d,horizontal:m=!1,padSpinnerVertically:p,scrollViewRef:f,gamepadAlias:g,delegateFocusByAlias:E,delegateFocusFromMemory:b}){const h=Vu(),v=(0,l.useFacetWrap)(o),F=(0,l.useFacetMap)((e=>e.length),[],[v]),y=(0,l.useFacetUnwrap)(F),S=(0,l.useFacetUnwrap)(e),C=S!==l.NO_VALUE&&S;return r.createElement(Wu,null,r.createElement(h_,{padSpinnerVertically:p,loading:C,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:i,renderTracker:d,horizontal:m,scrollViewRef:f,gamepadAlias:g,delegateFocusFromMemory:b,delegateFocusByAlias:E},null!=a&&r.createElement(r.Fragment,null,a,s),!1===h&&r.createElement(l.Map,{array:v},((e,t)=>r.createElement(r.Fragment,null,t>0&&s,n({itemFacet:e,index:t,listLengthFacet:F})))),null!=y&&0===y&&r.createElement(Uu,null,r.createElement(r.Fragment,null,t)),null!=u&&r.createElement(r.Fragment,null,s,u)))}function h_({loading:e,children:t,scrollIntoViewAlign:a,scrollIntoViewSpeedFactor:n,renderTracker:o,horizontal:c,padSpinnerVertically:i,scrollViewRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m}){const p=Gu(),f=Vu(),g=(0,l.useFacetMap)((t=>e||t||f),[e,f],[p]);return r.createElement(ud,{padSpinnerVertically:i,loading:g,scrollIntoViewAlign:a,scrollIntoViewSpeedFactor:n,renderTracker:o,horizontal:c,innerRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m},t)}const v_="realm-preview-create-preview-realm-close",F_=As((({onConfirm:e,onClose:t})=>{const{t:a}=ws("RealmsPreviews.create"),n=(0,l.useSharedFacet)(cb),o=(0,l.useFacetMap)((e=>e.isBetaBuild?a(".titleAndButtonLabel.beta"):a(".titleAndButtonLabel.preview")),[a],[n]),c=(0,l.useFacetMap)((e=>e.isBetaBuild?a(".message.beta"):a(".message.preview")),[a],[n]),i=(0,l.useFacetMap)((e=>e.isBetaBuild?a(".cancel.beta"):a(".cancel.preview")),[a],[n]);return r.createElement($m,{defaultFocusAlias:v_},r.createElement($m.Header,{onClose:t},o),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c},c)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".select"),variant:"primary",onClick:e},o),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:v_,inputLegend:a(".select"),variant:"secondary",onClick:t},i)))})),y_=As((({onClickClose:e})=>{const t="realm-error-cannot-contact-realms-close",{t:a}=ws("Realms.ErrorModals"),n=Os(),l=(0,r.useCallback)((()=>{n(),e&&e()}),[n,e]);return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:l},a(".CannotContactRealms.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".CannotContactRealms.message"),center:!0},a(".CannotContactRealms.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:l},a(".close"))))})),S_=As((({onClickClose:e})=>{const t="realm-error-something-went-wrong-close",{t:a}=ws("Realms.ErrorModals"),n=Os(),l=(0,r.useCallback)((()=>{n(),e&&e()}),[n,e]);return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:l},a(".somethingWentWrong.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".somethingWentWrong.message"),center:!0},a(".somethingWentWrong.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:l},a(".close"))))})),C_=As((({onClickClose:e})=>{const t="realm-error-posting-comment-failed",{t:a}=ws("Realms.ErrorModals");return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:e},a(".postingCommentFailed.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".postingCommentFailed.message"),center:!0},a(".postingCommentFailed.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:e},a(".close"))))})),M_=As((({onClickClose:e})=>{const t="realm-rate-limit-error",{t:a}=ws("Realms.ErrorModals");return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:e},a(".rateLimitError.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".rateLimitError.message"),center:!0},a(".rateLimitError.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:a(".select"),variant:"secondary",onClick:e},a(".close"))))})),w_=a.p+"assets/GenericEmptyState-45ab1891ec2f3d291016.png";function k_(e){const{narrateText:t}=sd();(0,r.useEffect)((()=>{const a=setInterval((()=>{t(e)}),1e4);return()=>clearInterval(a)}),[e,t])}function P_({onClickClose:e}){const{t}=ws("Realms.LoadingModals");return k_(t(".fetchingSubscriptionInformation")),r.createElement(Jw.Component,{title:t(".fetchingSubscriptionInformation"),onClose:e})}function T_({onClickClose:e}){const{t}=ws("Realms.LoadingModals");return k_(t(".creatingRealm")),r.createElement(Jw.Component,{title:t(".creatingRealm"),onClose:e})}function I_({onClickClose:e}){const{t}=ws("Realms.LoadingModals");return k_(t(".activatingSlot")),r.createElement(Jw.Component,{title:t(".activatingSlot"),onClose:e})}function x_({onClickClose:e}){const{t}=ws("Realms.LoadingModals");return k_(t(".contactingRealms")),r.createElement(Jw.Component,{title:t(".contactingRealms"),onClose:e})}function O_({realm:e,index:t,maxIndex:a,asSubscription:n,onItemClick:o}){const{t:c}=ws("ChooseRealmRoute"),i=(0,l.useFacetMap)((e=>c(".players",[e.maxPlayers.toString()])),[c],[e]),s=(0,l.useFacetMap)((e=>e.gameMode===Qv.CREATIVE?c(".creative"):e.gameMode===Qv.SURVIVAL?c(".survival"):c(".adventure")),[c],[e]),u=(0,l.useFacetMap)((e=>n?c(".realmSubscription",[(t+1).toString()]):e.slotName),[c,t,n],[e]),d=(0,l.useFacetMap)((e=>n?c(".pairedWith",[e.realmName]):e.realmName),[c,n],[e]),m=(0,l.useFacetMap)(((e,a,r,l,o)=>[l,c(".realmChoiceNumber",[(t+1).toString(),e.toString()]),o,n?c(".typeOfSubscription",[a]):c(".typeOfWorld",[r])].join(" . ")),[c,t,n],[a,i,s,u,d]);return r.createElement(_r,{collection:xx},r.createElement(rT,{tall:!0},r.createElement(rT.Action,{inputLegend:c(".select"),narrationText:m,onClick:o},r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,u)),r.createElement(Zi,{type:"body",variant:"dimmer"},r.createElement(ji,null,d)),r.createElement(Vi,{size:1}),n&&r.createElement(rk,{role:"primaryTint"},i),!n&&r.createElement(rk,{role:"neutral100"},s)))))}function A_(){const{t:e}=ws("ChooseRealmRoute"),t=(0,l.useSharedFacet)(gF),a=(0,l.useSharedFacet)(gb),n=(0,l.useSharedFacet)(IF),o=(0,l.useSharedFacet)(fv),c=p(),i=(0,l.useFacetCallback)(((e,t,a)=>n=>{"uninitialized"!==a.currentWorldId?c.push(`/realms-choose-slot/${t[n].id}`):e.inWorldCreation&&e.selectRealmToCreateOn(`${t[n].id}`)}),[c],[a,o,n]),s=(0,r.useCallback)((()=>{c.replace("/realms-choose-realm/realm-subscriptions")}),[c]),u=Sc(),d=(0,l.useSharedFacet)(cb);return r.createElement(b_,{gamepadAlias:"wrapper",header:r.createElement(Vi,{size:2}),data:o,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>O_({realm:e,index:t,maxIndex:a,asSubscription:!1,onItemClick:()=>i(t)}),footer:r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>e.realms.length>0&&0!=t.length),[],[t,o])},r.createElement(Uu,null,r.createElement("div",{className:dl()({f225e919892b63f459c3:"tablet"===u},{d73f2bbc954cb902761d:"desktop"===u},{ea8a461988a18195eeed:"narrow"===u})},r.createElement(Vi,{size:4}),r.createElement(lm,{inputLegend:e(".select"),variant:"secondary",onClick:s},(0,l.useFacetMap)((t=>t.isBetaBuild?e(".addNewBetaRealm"):e(".addNewPreviewRealm")),[e],[d])),r.createElement(Vi,{size:4}))))})}function N_({onItemClick:e}){const t=(0,l.useSharedFacet)(hb),a=(0,l.useSharedFacet)(EF),n=(0,l.useFacetCallback)(((t,a)=>n=>{e(),t.createPreviewRealmFromSubscriptionId(`${a[n].id}`)}),[e],[t,a]);return r.createElement(b_,{header:r.createElement(Vi,{size:2}),footer:r.createElement(Vi,{size:2}),data:a,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>O_({realm:e,index:t,maxIndex:a,asSubscription:!0,onItemClick:()=>n(t)})})}function R_(){const e=p(),{t}=ws("ChooseRealmRoute"),a=(0,l.useSharedFacet)(cb),n=(0,l.useSharedFacet)(pv),o=(0,l.useSharedFacet)(gF),c=(0,l.useSharedFacet)(hb),i=(0,l.useSharedFacet)(gb),s=(0,l.useSharedFacet)(fv),u=(0,l.useSharedFacet)(IF),d=(0,l.useSharedFacet)(wv),[m,E]=(0,l.useFacetState)(!1),b=(0,l.useFacetMap)(((e,t,a)=>e.state===mv.Loading||t.state===mv.Loading||a),[],[n,o,m]),h=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===HI.RUNNING),[],[c]),v=g(),F=(0,l.useFacetMap)((e=>"realm-subscriptions"===e.tab),[],[v]),y=(0,l.useFacetMap)(((e,a)=>e?t(".chooseARealmSubscription"):a.isBetaBuild?t(".chooseABetaRealm"):t(".chooseAPreviewRealm")),[t],[F,a]),S=(0,l.useSharedFacet)(EF),C=(0,l.useFacetCallback)(((t,a,n,r,l,o)=>()=>{t&&0!==a.length&&0!==n.length&&r.inWorldCreation?e.replace("/realms-choose-realm/preview-realms"):("uninitialized"!==l.currentWorldId&&o.clearUploadWorldToRealmTaskState(),e.goBack())}),[e],[F,s,S,i,u,d]),M=f();(0,l.useFacetEffect)(((e,t)=>{!e&&t&&E(!1)}),[E],[M,m]),(0,l.useFacetEffect)(((e,t)=>{t.inWorldCreation&&e.createPreviewRealmFromSubscriptionTaskState===HI.DONE&&(e.reset(),E(!0),t.createWorldOnPreviewRealm(e.getCreatedPreviewRealmId()))}),[E],[c,i]),(0,l.useFacetEffect)(((e,t,a)=>{"uninitialized"!==t.currentWorldId&&e.createPreviewRealmFromSubscriptionTaskState===HI.DONE&&(e.reset(),a.setPreviewRealmForUpload(e.getCreatedPreviewRealmId()))}),[],[c,u,d]);const w=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===HI.FAILED),[],[c]),k=(0,l.useFacetCallback)((e=>()=>{e.reset()}),[],[c]),P=Sc(),T=t(".backButtonHint"),I=Yr("inherit"),x=(0,l.useFacetMap)((e=>t(".screen",[e])),[t],[y]),O=(0,l.useFacetMap)(((e,t)=>!e&&0===t.length),[],[F,s]),A=(0,l.useFacetMap)(((e,t)=>e&&0===t.length),[],[F,S]),N=(0,l.useFacetMap)(((e,t)=>e||t),[],[O,A]),R=(0,l.useFacetCallback)(((e,t,a)=>()=>{e?a.forceFetchUnpairedRealmsList():t.forceFetchRealmsList()}),[],[F,n,o]),L=(0,l.useFacetMap)(((e,a)=>e?t(".emptyState.noSubscriptionErrorTitle"):a.isBetaBuild?t(".emptyState.noRealmsErrorTitle.beta"):t(".emptyState.noRealmsErrorTitle.preview")),[t],[A,a]),[D,_]=(0,l.useFacetState)(!1);return r.createElement(ay,null,r.createElement(ty,{text:x,interruptible:!1}),r.createElement(l.Mount,{when:b},r.createElement("div",{className:dl()("e3ef14355a46e862a003",I.overlay.base)},r.createElement(id,null))),r.createElement(l.Mount,{when:b,condition:!1},r.createElement(r.Fragment,null,r.createElement(BM,{onBackButton:C,backButtonHint:T,center:r.createElement(Zi,{type:"header5A"},y),gamepadAlias:"choose-realm-route",delegateByAlias:"wrapper"},r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(l.Mount,{when:N,condition:!1},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:"tablet"===P?1:"desktop"===P?2:12,narrowSize:0}),r.createElement(zM.Column,{wideSize:"tablet"===P?10:"desktop"===P?8:12,narrowSize:8},r.createElement(tk,{tab:"realm-subscriptions"},r.createElement(N_,{onItemClick:()=>_(!0)})),r.createElement(tk,{tab:"preview-realms"},r.createElement(A_,null)),r.createElement(Lm.Space,null)))),r.createElement(l.Mount,{when:N},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:2,narrowSize:0}),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(ud,null,r.createElement(Vi,{size:2}),r.createElement(aw,{title:L,text:t(".emptyState.message"),imgSrc:w_,buttons:[{text:t(".emptyState.tryAgain"),inputLegend:t(".select"),onClick:R}]}))))))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}),r.createElement(l.Mount,{when:D},r.createElement(F_.Component,{onConfirm:(0,l.useFacetCallback)(((e,t,a)=>()=>{let n=t.inWorldCreation;"uninitialized"!==a.currentWorldId&&(n=!0),e.activateNewPreviewRealm(n),_(!1)}),[_],[c,i,u]),onClose:(0,l.useFacetCallback)((e=>()=>{e.reset(),_(!1)}),[_],[c])})),r.createElement(l.Mount,{when:w},r.createElement(y_.Component,{onClickClose:k})),r.createElement(l.Mount,{when:h},r.createElement(T_,{onClickClose:(0,l.useFacetCallback)((e=>()=>e.reset()),[],[c])}))))))}var L_=a(59241),D_=a.n(L_);const __=Symbol("filler"),B_=({horizontalIndex:e,verticalIndex:t,index:a,itemSeparatorHorizontal:n,renderItem:o,item:c,listLengthFacet:i})=>r.createElement(Uu,null,r.createElement(r.Fragment,null,e>0&&n,r.createElement("div",{className:"d5d0b9b95e3f7d3f9133"},r.createElement(l.With,{data:(0,l.useFacetMemo)((e=>e!==__?e:void 0),[],[c])},(n=>o({itemFacet:n,index:a,rowIndex:t,columnIndex:e,listLengthFacet:i})))))),W_=({children:e})=>r.createElement(r.Fragment,null,e);function U_({loading:e,emptyMessage:t,renderItem:a,listWrapper:n=W_,data:o,focusGridIndex:c,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:s,itemSeparatorHorizontal:u,itemSeparatorVertical:d,firstRowSeparatorVertical:m,header:p,footer:f,renderTracker:g,columns:E,gamepadAlias:b,innerRef:h}){const v=Vu(),F=(0,l.useFacetWrap)(o),y=(0,l.useFacetMap)((e=>e.length),[],[F]),S=(0,l.useFacetUnwrap)(y),C=(0,l.useFacetMemo)((e=>{if(e.length>0){const t=D_()(E,e),a=t[t.length-1];return jk()((()=>a.push(__)),E-a.length),t}return[]}),[E],[F]);return r.createElement(Wu,null,r.createElement(z_,{loading:(0,l.useFacetWrap)(null!=e&&e),focusGridIndex:c,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:s,renderTracker:g,gamepadAlias:b,innerRef:h},p,r.createElement(n,null,!v&&r.createElement(l.Map,{array:C},((e,t)=>r.createElement(r.Fragment,null,0===t&&m,t>0&&d,r.createElement("div",{className:"dcfe757cdbb4a3063d16"},r.createElement(l.Map,{array:e},((e,n)=>r.createElement(B_,{horizontalIndex:n,verticalIndex:t,index:t*E+n,itemSeparatorHorizontal:u,renderItem:a,item:e,listLengthFacet:y})))))))),null!=S&&0===S&&r.createElement(Uu,null,r.createElement(r.Fragment,null,t)),f))}function z_({loading:e,focusGridIndex:t,children:a,scrollIntoViewAlign:n,scrollIntoViewSpeedFactor:o,renderTracker:c,horizontal:i,gamepadAlias:s,innerRef:u}){const d=Vu(),m=(0,l.useFacetMap)(((e,t)=>e||d||t),[d],[Gu(),e]);return r.createElement(ud,{innerRef:u,loading:m,focusGridIndex:t,scrollIntoViewAlign:n,scrollIntoViewSpeedFactor:o,renderTracker:c,horizontal:i,gamepadAlias:s,delegateFocusFromMemory:!0},a)}const j_={"250HostileMobs":a.p+"assets/250HostileMobs-141adf19c2fb37e8e561.png",AllMobNameEasterEggs:a.p+"assets/AllMobNameEasterEggs-4b8ed7fd64455e726bff.png",CookEverything:a.p+"assets/CookEverything-fc277f7d8b35041df988.png",DefeatEnderdragon:a.p+"assets/DefeatEnderdragon-cc8e0a05a2869d1481b3.png",DefeatWither:a.p+"assets/DefeatWither-0783a59ace6384b01d8c.png",DiamondEverything:a.p+"assets/DiamondEverything-c49257f11023c18eae3f.png",FirstAbandonedMineshaftFound:a.p+"assets/FirstAbandonedMineshaftFound-f9296ec6449e8f636f28.png",FirstAncientCityFound:a.p+"assets/FirstAncientCityFound-8d6da611faef146c050d.png",FirstBadlandsFound:a.p+"assets/FirstBadlandsFound-0495ea2ac8c8a7d0f8a0.png",FirstConduit:a.p+"assets/FirstConduit-4ce50675f3dfc92b088a.png",FirstDiamondFound:a.p+"assets/FirstDiamondFound-862961a7d3697df5fbd5.png",FirstEnchantment:a.p+"assets/FirstEnchantment-6f488c469526a603ffd7.png",FirstEnderDragonDefeated:a.p+"assets/FirstEnderDragonDefeated-7b89df142b388a987faa.png",FirstEndPortal:a.p+"assets/FirstEndPortal-720f31fffb04a406795c.png",FirstFullyExploredMap:a.p+"assets/FirstFullyExploredMap-2e9926667df4cf4d1ba4.png",FirstMushroomFieldFound:a.p+"assets/FirstMushroomFieldFound-c9d4edd0a62971d1056f.png",FirstNetherFortressFound:a.p+"assets/FirstNetherFortressFound-5990a1bfc6a2b0d593dd.png",FirstCraftedNetherite:a.p+"assets/FirstCraftedNetherite-26887a7b405e730280f4.png",FirstNetherPortalLit:a.p+"assets/FirstNetherPortalLit-9b93d748b0547a2913c6.png",FirstPeakMountainFound:a.p+"assets/FirstPeakMountainFound-77bba36b907a808917fb.png",FirstPillagerOutpostFound:a.p+"assets/FirstPillagerOutpostFound-87eef152efd00cb3a834.png",FirstPoweredBeacon:a.p+"assets/FirstPoweredBeacon-886be5f1b4fb0ab7966a.png",FirstWitherDefeated:a.p+"assets/FirstWitherDefeated-a95d8f43e039c754eeda.png",FirstWoodlandMansionFound:a.p+"assets/FirstWoodlandMansionFound-a68128deae6a4b05e5d0.png",NamedMob:a.p+"assets/NamedMob-5a8fd26592b1df5af75a.png",NamedMobDies:a.p+"assets/NamedMobDies-b5ee3fb853affcf982c7.png",NewMember:a.p+"assets/NewMember-6422cc9d6948d7f514b6.png",PillagerCaptainDefeated:a.p+"assets/PillagerCaptainDefeated-3a8edebee8082b7588c0.png",RealmCreated:a.p+"assets/RealmCreated-10a261101b087061a8da.png",SlotSwitch:a.p+"assets/SlotSwitch-f6f21bc26b908762b2ba.png"},H_={xuid:"0UnknownPlayer",gamerTag:"unknownPlayer",gamerIcon:"",role:jh.VISITOR,fetchProfileStatus:nF.Success,lastSeenTime:0,isOnline:!1,isInRealm:!1,hasOptedIn:!1};function G_(e){return j_[e]}let V_;!function(e){e[e.List=0]="List",e[e.NoGamertag=1]="NoGamertag"}(V_||(V_={}));const $_={full:11,narrow:5},X_={full:5,narrow:2};function K_(e,t,a){if(0===t.length)return console.log("Error in newMemberGroupedText: playerData is empty"),e(".invalid");if(2===t.length)return e(".eventText.list.twoMembers",[t[0].gamerTag,t[1].gamerTag]);const n=Math.min(t.length,a);let r=t[0].gamerTag;for(let a=1;a<n-1;a++)r=e(".eventText.list",[r,t[a].gamerTag]);if(t.length<=a)return e(".eventText.list.end",[r,t[t.length-1].gamerTag]);{r=e(".eventText.list",[r,t[n-1].gamerTag]);const l=t.length-a;return 1===l?e(".eventText.list.overflow.single",[r]):e(".eventText.list.overflow.multi",[r,`${l}`])}}const Y_=new Map([["FirstEnderDragonDefeated",{treatmentSize:"large"}],["FirstWitherDefeated",{treatmentSize:"large"}],["250HostileMobs",{treatmentSize:"medium",groupType:V_.List}],["AllMobNameEasterEggs",{treatmentSize:"medium",groupType:V_.List}],["CookEverything",{treatmentSize:"medium"}],["DefeatEnderdragon",{treatmentSize:"medium",groupType:V_.NoGamertag}],["DefeatWither",{treatmentSize:"medium",groupType:V_.NoGamertag}],["DiamondEverything",{treatmentSize:"medium",groupType:V_.List}],["FirstAbandonedMineshaftFound",{treatmentSize:"medium"}],["FirstAncientCityFound",{treatmentSize:"medium"}],["FirstBadlandsFound",{treatmentSize:"medium"}],["FirstConduit",{treatmentSize:"medium"}],["FirstDiamondFound",{treatmentSize:"medium"}],["FirstEnchantment",{treatmentSize:"medium",groupType:V_.List}],["FirstEndPortal",{treatmentSize:"medium"}],["FirstFullyExploredMap",{treatmentSize:"medium"}],["FirstMushroomFieldFound",{treatmentSize:"medium"}],["FirstNetherFortressFound",{treatmentSize:"medium"}],["FirstCraftedNetherite",{treatmentSize:"medium",groupType:V_.List}],["FirstNetherPortalLit",{treatmentSize:"medium"}],["FirstPeakMountainFound",{treatmentSize:"medium"}],["FirstPillagerOutpostFound",{treatmentSize:"medium"}],["FirstPoweredBeacon",{treatmentSize:"medium"}],["FirstWoodlandMansionFound",{treatmentSize:"medium"}],["NamedMob",{treatmentSize:"medium",metadataTransform:e=>[e]}],["NamedMobDies",{treatmentSize:"medium"}],["NewMember",{treatmentSize:"medium",groupType:V_.List}],["PillagerCaptainDefeated",{treatmentSize:"medium"}],["RealmCreated",{treatmentSize:"medium"}],["SlotSwitch",{treatmentSize:"medium"}]]);function q_(e){const t=Y_.get(e);return t||console.log(`Error in getRealmEventInfo: ${e} not found`),t}function Q_(e){const t=Y_.get(e);if(t)return t.treatmentSize;console.log(`Error in getRealmEventTreatmentSize: ${e} not found`)}const J_=({t:e,eventId:t,playerData:a,maxDisplayedPlayers:n,eventMetadata:r})=>{const l=q_(t);if(!l)return e(".invalid");const o=l.metadataTransform?l.metadataTransform(r):[];return a.length>1&&null!=l.groupType?l.groupType===V_.List?e(`.${l.treatmentSize}.${t}.grouped`,[K_(e,a.slice().reverse(),n),...o]):e(`.${l.treatmentSize}.${t}.grouped`,o):"medium"===l.treatmentSize&&a.length>=1?e(`.${l.treatmentSize}.${t}`,[a[0].gamerTag,...o]):e(`.${l.treatmentSize}.${t}`,o)},Z_="c133279442f57d8f1891",eB="fca4a0337de4387d30e2",tB="e9fe741dbf35e2038352",aB=a.p+"assets/comments_light-88de71c61561c7e9d25b.png",nB=a.p+"assets/heart_sprite-03fc4d41b35759336205.png",rB=a.p+"assets/heart_outline-84139b8b649c87799c88.png",lB=a.p+"assets/options-9456a60bb745e1e0967c.png";function oB({index:e,content:t,totalComments:a="",totalLikes:n,hasLiked:o,hideLikes:c,readOnly:i=(0,l.createStaticFacet)(!1),openCommentsCallback:s=(()=>{}),toggleLikeCallback:u,openOptionsCallback:d}){const{t:m}=ws("RealmsStories.feedPost"),p=Sc(),f=Ln(),g=""===a,E=g?"comment-entry-":"story-entry-",b=(0,l.useFacetWrap)(a),h=(0,l.useFacetWrap)(i),v=(0,l.useFacetMap)(((e,t,a)=>{let n=1;return e||n++,t||(n+=2),""!=a&&(n++,"narrow"!=p&&n++),n}),[p],[c,h,b]),F=(0,l.useFacetMap)(((e,t,a)=>{let n=1;return t||n++,a||(n+=2),"narrow"!=p&&n++,[m(".comments"),m(".role.button"),m(".enumeration",[`${n}`,`${e}`]),m(".commentsHint")].join(" . ")}),[m,p],[v,c,h]),y=(0,l.useFacetMap)(((e,t,a)=>[m(".commentsNarration"),m(".role.button"),m(".enumeration",[t?"2":"3",`${e}`]),a,m(".commentsHint")].join(" . ")),[m],[v,c,b]),S=(0,l.useFacetMap)(((e,t,a,n,r)=>{let l,o=0;return t||o++,a||(o+=2),""!=n&&"narrow"!=p&&o++,l=m(""!=n?r?".unlikeHint":".likeHint":r?".unlikeCommentHint":".likeCommentHint"),[m(".like"),m(".role.button"),m(".enumeration",[`${o}`,`${e}`]),l].join(" . ")}),[m,p],[v,c,h,b,o]),C=(0,l.useFacetMap)(((e,t)=>[m(".likesNarration"),m(".role.textBlock"),m(".enumeration",["2",`${e}`]),t].join(" . ")),[m],[v,n]),M=(0,l.useFacetMap)((e=>[m(".options"),m(".role.button"),m(".collapsed"),m(".enumeration",[`${e}`,`${e}`]),m(".optionsHint")].join(" . ")),[m],[v]),w=(0,l.useFacetMap)((e=>m(e?".liked":".like")),[m],[o]),k=(0,l.useFacetMap)((e=>e?nB:rB),[],[o]),P=(0,l.useFacetUnwrap)(o),T=P!==l.NO_VALUE&&P,I=T?"primary":"neutral",x=(0,l.useFacetMap)(((e,t)=>!g||!e||!t),[g],[h,c]),O=(0,l.useFacetMap)((e=>g&&1==e),[g],[h]),A=Yr("neutral");return r.createElement(r.Fragment,null,r.createElement(hl,null,t),r.createElement(l.Mount,{when:x},r.createElement(hl,null,r.createElement(l.Unwrap,{data:O},(t=>r.createElement(rT,{small:t},r.createElement("div",{className:dl()(Z_,"ef03de36369ac696d53e",A.background.base,A.bevel.base)},r.createElement(rT.Main,null,r.createElement(l.Mount,{when:c,condition:!1},r.createElement(Wi.Maybe,{isInteractive:f,narrationText:C,classNameFocused:Ws},r.createElement(Bs,null),r.createElement("div",{className:"b1f698fe13af0acba37a"},r.createElement(pu,{src:nB,className:eB,imageRendering:"pixelated"}),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"body",align:"left",role:"neutral"},r.createElement(ji,null,n)))))),"narrow"!==p&&!g&&r.createElement(rT.Cell,null,r.createElement(Wi,{narrationText:y,inputLegend:m(".viewComments"),classNameFocused:Ws,className:dl()("d387d0e6ebf2ce7926aa",A.border.disable),onClick:s},r.createElement(Bs,null),r.createElement(Zi,{type:"body",align:"right",role:"neutral"},a)))),r.createElement(bd,{text:[m(".postActions"),m(".postActionsRole")].join(" . ")},r.createElement(rT.AdditionalAction,{gamepadAlias:E+"like-"+e,narrationText:S,inputLegend:m(".like"),onClick:u,role:I,isSelected:T,hidden:i,extraWide:!0},r.createElement(pu,{src:k,className:eB,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny",role:I},w)),!g&&r.createElement(rT.AdditionalAction,{narrationText:F,inputLegend:m(".viewComments"),onClick:s,extraWide:!0},r.createElement(pu,{src:aB,className:eB,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny"},m(".comments"))),r.createElement(rT.AdditionalAction,{narrationText:M,inputLegend:m(".options"),onClick:d,hidden:i,extraWide:!0},r.createElement(pu,{src:lB,className:eB,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny"},m(".options"))))))))))}function cB({body:e,timePosted:t,timePostedNarration:a,storyFeedElementCount:n,shouldShowUnreadPostBadge:o,image:c=(0,l.createStaticFacet)(""),author:i,commentPostType:s=!1,hasBottomSection:u=!0,onContentClicked:d}){const{t:m}=ws("RealmsStories.feedPost"),p=Sc(),f=(0,l.useFacetMap)((e=>e.gamerTag),[],[i]),g=(0,l.useFacetMap)((e=>e.gamerIcon),[],[i]),E=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[i]),b=(0,l.useFacetMap)((e=>""!==e),[],[c]),h=(0,l.useFacetMap)(((e,t,a,n,r,l)=>{const o=[];return s?o.push(m(".storyComment")):o.push(m(".storyPost")),o.push(m(".role.textBlock")),n&&o.push(m(".unread")),o.push(m(".enumeration",["1",`${l}`])),s?o.push(m(".storyCommentDetails",[t,a])):o.push(m(".storyPostDetails",[t,a])),o.push(e),r&&o.push(m(".hasImage")),o.join(" . ")}),[m,s],[e,f,a,o,b,n]),v=Yr("neutral"),F=Yr("neutral80"),y=(0,l.useFacetCallback)((e=>()=>{d&&""!=e&&d({image:e})}),[d],[c]),S=(0,l.useFacetMap)((e=>!!e&&m(".viewScreenshot")),[m],[b]),C=(0,l.useFacetMap)((e=>dl()("ca3de034f8206048c078",v.border.base,F.background.base,{[Z_]:0==e})),[F.background.base,v.border.base],[(0,l.useFacetWrap)(u)]);return r.createElement(Wi,{inputLegend:S,narrationText:h,className:C,classNameFocused:Ws,onClick:y},r.createElement(Bs,null),r.createElement(Vi,{size:4}),r.createElement("div",{className:"eb74d32b8bfda217a335"},r.createElement("div",null,r.createElement(Uy,{src:g,statusBadge:E,variant:"large"})),r.createElement(Vi,{size:4}),r.createElement("div",{className:"cd2c68179f96b4d01d91"},r.createElement("div",{className:"dfbe80a9b71d2314b999"},r.createElement("div",{className:dl()({f2c1a1939b445c733a09:"narrow"!==p,b80c9e985f0150cff3f9:"narrow"===p})},r.createElement(Zi,{type:"body",align:"left",role:"neutral80"},r.createElement(ji,null,f))),r.createElement("div",{className:dl()("b729e0b0f77cc506bfb7",{b9a22461a6c660bb63f7:"narrow"===p})},r.createElement(Zi,{type:"captionShort",align:"narrow"===p?"left":"right",role:"neutral80",variant:"dimmer"},t))),r.createElement(l.Mount,{when:b},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:tB},r.createElement("div",{className:dl()(Z_,v.border.base)},r.createElement(pu,{src:c,aspectRatio:pu.AspectRatio["16:9"]}))))),r.createElement(Vi,{size:2}),r.createElement("div",{className:tB},r.createElement(Zi,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},e)))),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"e49c4f1ee3e293ca9fa1"},r.createElement(Lk,{role:"secondary"}))))}const iB=a.p+"assets/no-internet-art-53f294e4a76adfdada67.png";function sB(){const{t:e}=ws("RealmsStories");return r.createElement(aw,{title:e(".messages.title"),text:e(".messages.noInternetBody"),imgSrc:iB,imgClass:iD()})}const uB=a.p+"assets/GenericError-d52243af7ab562667d70.png";function dB({onClick:e,pageName:t}){const{t:a}=ws("RealmsStories"),n=(0,l.useFacetWrap)(null!=t?t:""),o=(0,l.useFacetMap)((e=>""!==e?a(".messages.titleWithArg",[e]):a(".messages.title")),[a],[n]);return r.createElement(aw,{title:o,text:a(".messages.unknownErrorBody"),imgSrc:uB,imgClass:iD(),buttons:[{text:a(".messages.button"),onClick:e,inputLegend:a(".messages.button")}]})}function mB({forOptedOutMembers:e}){const{t}=ws("RealmsStories");return r.createElement(xO,{role:"noticeTint"},r.createElement("div",{className:"ff17a65c8ab5b43e4438"},r.createElement(LM.Warning,{color:"#1e1e1f"})),r.createElement(xO.Text,null,t(e?".members.warning.optedOut":".members.warning")))}const pB="ff9ce8a0566f8c0c4dd7",fB="e426e6fc8713e7d1a98b",gB=a.p+"assets/timeline-opt-in-cf8cede534faf5afd81b.png",EB=e=>(0,l.useFacetMemo)((e=>{const t=[],a=[],n=[],r=[],l=[];return e.forEach((e=>{e.isOnline&&a.push(e),e.isInRealm&&n.push(e),e.hasOptedIn?r.push(e):l.push(e),t.push(e)})),{allMembers:t,onlinePlayers:a,inRealmPlayers:n,optedInPlayers:r,optedOutPlayers:l}}),[],[e]);let bB;function hB(e){const t=g(),a=(0,l.useSharedFacet)(Hv),n=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,l.useSharedFacet)(Bh)]);return(0,l.useFacetCallback)(((t,a,n)=>r=>{n.fireEventRealmsStoriesOptIn(e,r,a.realmId,t)}),[e],[n,t,a])}function vB({correlationId:e}){const t=g(),{t:a}=ws("RealmsStories.messages.timelineOptIn"),n=Yr("neutral80"),o=f(),c=Mc(70),i=(0,l.useSharedFacet)(Hh),s=(0,l.useSharedFacet)(_h),u=(0,l.useSharedFacet)(Sv),d=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,l.useSharedFacet)(Bh)]),m=(0,l.useFacetMap)((e=>aI(e.players,(e=>e.role!==jh.NONMEMBER))),[],[i]),p=EB(m),E=(0,l.useFacetMap)((e=>[e.optedInPlayers.length.toString(),e.allMembers.length.toString()]),[],[p]),b=(0,l.useFacetMap)((e=>a(".members",e)),[a],[E]),h=(0,l.useFacetMap)((e=>[a(".title"),a(".textblock"),a(".body"),a(".membersNarration",e)].join(" . ")),[a],[E]),v=(0,l.useFacetCallback)(((t,a,n)=>()=>{t.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,yv.OptedIn,e,bB.OptIn_Success,a)}),[e],[s,d,t]),F=(0,l.useFacetMap)((e=>dl()({d91b964b5a88bf33918c:e,d9bb1cce5880c981f53a:!e})),[],[c]),y=(0,l.useFacetMap)(((e,t)=>e&&(t.currentPostState===rF.InputInvalid||t.currentPostState===rF.InternalError||t.currentPostState===rF.UploadFailed||t.currentPostState===rF.PostingFailed)),[],[o,u]),S=(0,l.useFacetMap)(((e,t)=>e&&t.currentPostState===rF.RateLimit),[],[o,u]),C=(0,l.useFacetMap)(((e,t,a,n)=>e&&!a&&!n&&(t.currentPostState===rF.InProgress||t.currentPostState===rF.Uploading)),[],[o,u,y,S]),M=(0,l.useFacetCallback)(((e,t,a)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(a.realmId))}),[],[s,C,t]),w=r.createElement(r.Fragment,null,r.createElement(Zi,{className:"ed7533ee348beac21995",type:"header5A",align:"center"},a(".title")),r.createElement(Vi,{size:2}),r.createElement("fast-div",{className:F},r.createElement(pu,{src:gB,aspectRatio:pu.AspectRatio["16:9"]})));return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:C},r.createElement(x_,null)),r.createElement(l.Mount,{when:y},r.createElement(y_.Component,{onClickClose:M})),r.createElement(l.Mount,{when:S},r.createElement(M_.Component,{onClickClose:M})),r.createElement(ud,{gamepadAlias:"timeline-opt-in-scrollview",delegateFocusByAlias:"timeline-opt-in-button"},r.createElement(zM,{noGutters:!0},r.createElement(bd,{text:h},r.createElement(zM.Row,null,r.createElement(l.Mount,{when:c,condition:!1},r.createElement(zM.Column,{wideSize:6,narrowSize:0},r.createElement("div",{className:dl()(pB,fB,n.background.base,n.border.base)},w))),r.createElement(zM.Column,{wideSize:6,narrowSize:8},r.createElement("div",{className:dl()(pB,fB,"a1788dc3e0c9fd39f65b",n.background.base,n.border.base)},r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,w,r.createElement(Vi,{size:4}))),r.createElement("div",{className:"f63987d06d4abcbf7eb3"},r.createElement(Zi,{type:"paragraphs",align:"left"},a(".body")),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"paragraphs",align:"left",role:"neutral80",variant:"dimmest"},r.createElement("fast-text",{text:b})),r.createElement(Vi,{size:4})),r.createElement(lm,{inputLegend:a(".button"),variant:"primary",gamepadAlias:"timeline-opt-in-button",onClick:v},a(".button")))))))))}!function(e){e.OptIn_Success="OptIn_Success",e.OptIn_WaitingOnOwner="OptIn_WaitingOnOwner",e.OptIn_BadAccountSettings="OptIn_BadAccountSettings",e.OptOut_InfoDialog="OptOut_InfoDialog",e.OptOut_Settings="OptOut_Settings",e.CancelOptOut_InfoDialog="CancelOptOut_InfoDialog",e.CancelOptOut_Settings="CancelOptOut_Settings",e.BackOut_InfoDialog="BackOut_InfoDialog",e.LearnMore="LearnMore",e.ViewedTimeline_OptInMessage="ViewedTimeline_OptInMessage",e.ViewedTimeline_OptedOut_TimelineDisabled="ViewedTimeline_OptedOut_TimelineDisabled",e.ViewedTimeline_TimelineContent="ViewedTimeline_TimelineContent",e.ViewedTimeline_OptedIn_TimelineDisabled="ViewedTimeline_OptedIn_TimelineDisabled",e.OptIn_TimelineRequired="OptIn_TimelineRequired",e.BackOut_TimelineRequired="BackOut_TimelineRequired"}(bB||(bB={}));let FB;function yB({sender:e,timestamp:t,image:a,content:n,containerType:o}){const c=Yr("neutral"),i=(0,l.useFacetWrap)(null!=a?a:""),s=(0,l.useFacetMap)((e=>""!==e),[],[i]),{t:u}=ws("SideStoryPostContainer"),d=(0,l.useFacetMap)(((e,t,a)=>[u(".hint",[e]),t,a].join(" . ")),[u],[e,t,n]);return r.createElement(tR,{narrationPrefix:u(".name"),narrationRole:u(".role"),narrationSuffix:d,spacingAroundSideMenu:r.createElement(Vi,{size:2})},r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement("div",{className:"d8762a02dd514c543044"},r.createElement(l.Unwrap,{data:o},(e=>{switch(e){case FB.LARGE_EVENT:return r.createElement(pu,{src:i,aspectRatio:pu.AspectRatio["16:9"]});case FB.MEDIUM_EVENT:return r.createElement(r.Fragment,null,r.createElement(xL,{minWidth:64,minHeight:36,minBorderWidth:3,containerClassName:"c93c76414992ebb18852",frameClassName:"a520f66ebe23ed8a212a"}),r.createElement(IL,{src:i,minWidth:64,minHeight:36,minBorderWidth:3,className:"dea31de3d453d8b18a6c"}));case FB.STORY:return r.createElement(pu,{src:i,aspectRatio:pu.AspectRatio["16:9"],className:dl()("c34e79af1fe80797f070",c.border.base)});default:return null}})))),r.createElement(Vi,{size:2}))),r.createElement(tR.Item,null,r.createElement(Zi,{type:"captionShort"},e),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},t),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionLong",overflowWrap:"break-word",whiteSpace:"preWrap"},n)))}var SB;!function(e){e[e.STORY=0]="STORY",e[e.MEDIUM_EVENT=1]="MEDIUM_EVENT",e[e.LARGE_EVENT=2]="LARGE_EVENT"}(FB||(FB={})),function(e){e[e.DELETE=0]="DELETE",e[e.NOTIFY=1]="NOTIFY",e[e.REPORT=2]="REPORT"}(SB||(SB={}));const CB=As((({isAuthor:e,isRealmOwner:t,isCommentOptions:a=!1,isEvent:n=!1,onClose:o,onDelete:c,onNotify:i,onReport:s})=>{const{t:u}=ws("RealmsStories.feedPost"),d=u(a?".options.comment.delete":".options.delete"),m=(0,l.useFacetMap)(((e,t,a)=>{const n=[{isVisible:t||e&&!a,gamepadAlias:"OPTION-DELETE",label:d,value:SB.DELETE},{isVisible:!t,gamepadAlias:"OPTION-NOTIFY",label:u(".options.notify"),value:SB.NOTIFY},{isVisible:!e&&!a,gamepadAlias:"OPTION-REPORT",label:u(".options.report"),value:SB.REPORT}].filter((e=>e.isVisible)),r=n.length;return n.map(((e,t)=>({enumeration:u(".options.enumeration",[`${t+1}`,`${r}`]),gamepadAlias:e.gamepadAlias,label:e.label,value:e.value})))}),[u,d],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(t),(0,l.useFacetWrap)(n)]),p=(0,r.useCallback)((e=>{switch(e){case SB.DELETE:c();break;case SB.NOTIFY:i();break;case SB.REPORT:s()}}),[c,i,s]);return r.createElement(fP,{onClose:o,onItemSelect:p,isOpen:!0,title:u(".options"),items:m})})),MB="confirm-delete-story-modal",wB=As((({onConfirm:e,onCancel:t,isCommentOptions:a})=>{const{t:n}=ws(a?"RealmsStories.feedPost.options.comment":"RealmsStories.feedPost.options");return r.createElement($m,{defaultFocusAlias:MB},r.createElement($m.Header,{onClose:t},n(".delete.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".delete.message.narration")},n(".delete.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:MB,inputLegend:n(".delete"),variant:"destructive",onClick:e},n(".delete")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".delete.cancel"),variant:"secondary",onClick:t,narrationSuffix:n(".delete.cancel.description")},n(".delete.cancel"))))})),kB="confirm-notify-story-modal",PB=As((({onConfirm:e,onCancel:t,isCommentOptions:a})=>{const{t:n}=ws("RealmsStories.feedPost.options.notify"),l=n(a?".message.comment":".message"),o=n(a?".message.comment.narration":".message.narration");return r.createElement($m,{defaultFocusAlias:kB},r.createElement($m.Header,{onClose:t},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o},l)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:kB,inputLegend:n(".confirm"),variant:"destructive",onClick:e},n(".confirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".cancel"),variant:"secondary",onClick:t,narrationSuffix:n(".cancel.description")},n(".cancel"))))})),TB="delete-failed-modal",IB=As((({onClose:e,isCommentOptions:t})=>{const{t:a}=ws(t?"RealmsStories.feedPost.options.failed.comment":"RealmsStories.feedPost.options.failed");return r.createElement($m,{defaultFocusAlias:TB},r.createElement($m.Header,{onClose:e},a(".deleteTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".deleteMessage")},a(".deleteMessage"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:TB,inputLegend:a(".close"),variant:"secondary",onClick:e},a(".close"))))})),xB="notify-failed-modal",OB=As((({onClose:e})=>{const{t}=ws("RealmsStories.feedPost.options.failed");return r.createElement($m,{defaultFocusAlias:xB},r.createElement($m.Header,{onClose:e},t(".notifyTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".notifyMessage")},t(".notifyMessage"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:xB,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),AB="report-failed-modal",NB=(As((({onClose:e})=>{const{t}=ws("RealmsStories.feedPost.options.failed");return r.createElement($m,{defaultFocusAlias:AB},r.createElement($m.Header,{onClose:e},t(".reportTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".reportMessage")},t(".reportMessage"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:AB,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))})),"confirm-delete-story-modal"),RB=As((({reportStatus:e,onClose:t})=>{const{t:a}=ws("RealmsStories.ReportResultModal"),n=(0,l.useFacetMap)((e=>e===rF.Success),[],[e]),o=(0,l.useFacetMap)((e=>a(e?".title.success":".title.fail")),[a],[n]),c=(0,l.useFacetMap)((e=>a(e?".text.success":".text.fail")),[a],[n]),i=(0,l.useFacetMap)((e=>[a(".text.role"),e].join(" . ")),[a],[c]);return r.createElement($m,{defaultFocusAlias:NB},r.createElement($m.Header,{onClose:t},o),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:i},c)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:NB,inputLegend:a(".button.inputLegend"),onClick:t},a(".button.close"))))})),LB=(0,l.sharedFacet)("vanilla.realmsFeatureFlags");function DB(e){const t=(0,l.useFacetWrap)(e);return(0,l.useFacetMap)(((e,t)=>-1!=t.flags.indexOf(e)),[],[t,(0,l.useSharedFacet)(LB)])}const _B=(0,l.sharedFacet)("vanilla.realmsStories.reports"),BB=(0,l.sharedFacet)("vanilla.realmsStories.reportCommands");let WB,UB,zB;!function(e){e[e.Player=0]="Player",e[e.Admin=1]="Admin",e[e.Owner=2]="Owner"}(WB||(WB={})),function(e){e[e.ManageWorlds=0]="ManageWorlds",e[e.ManageSettings=1]="ManageSettings",e[e.AddRemoveMembers=2]="AddRemoveMembers",e[e.SetRoles=3]="SetRoles",e[e.SetPermissions=4]="SetPermissions",e[e.ManageHubSettings=5]="ManageHubSettings",e[e.ManageStories=6]="ManageStories",e[e.InteractWithStories=7]="InteractWithStories",e[e.ManageSubscription=8]="ManageSubscription"}(UB||(UB={})),function(e){e[e.Idle=0]="Idle",e[e.Fetching=1]="Fetching",e[e.Posting=2]="Posting",e[e.Error=3]="Error"}(zB||(zB={}));const jB=(0,l.sharedFacet)("vanilla.realmsRolesAndPermissionsQueries"),HB=(0,l.sharedFacet)("vanilla.realmsRolesAndPermissionsCommands"),GB=(0,l.sharedFacet)("vanilla.openAndCloseRealmCommandsFacet");let VB,$B;!function(e){e[e.NonMember=0]="NonMember",e[e.Visitor=1]="Visitor",e[e.Member=2]="Member",e[e.Operator=3]="Operator",e[e.Owner=4]="Owner"}(VB||(VB={})),function(e){e[e.Idle=0]="Idle",e[e.Error=1]="Error"}($B||($B={}));const XB=(0,l.sharedFacet)("vanilla.realmsPlayerListQueries"),KB=(0,l.sharedFacet)("vanilla.realmsPlayerListCommands");let YB;!function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.FetchFailed=4]="FetchFailed",e[e.RateLimit=5]="RateLimit"}(YB||(YB={}));function qB(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function QB(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qB(Object(a),!0).forEach((function(t){JB(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qB(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function JB(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let ZB;!function(e){e.Post="story",e.Comment="comment",e.ReportedItem="reportedItem"}(ZB||(ZB={}));var eW,tW,aW;!function(e){e[e.FeedItem=0]="FeedItem",e[e.Comment=1]="Comment",e[e.Gamertag=2]="Gamertag"}(eW||(eW={})),function(e){e[e.SexuallyInappropriate=0]="SexuallyInappropriate",e[e.Violence=1]="Violence",e[e.Harassment=2]="Harassment",e[e.Spam=3]="Spam",e[e.TerroristContent=4]="TerroristContent",e[e.SomethingElse=5]="SomethingElse"}(tW||(tW={})),function(e){e[e.ImminentHarm=0]="ImminentHarm",e[e.HateSpeech=1]="HateSpeech",e[e.Fraud=2]="Fraud",e[e.Cheating=3]="Cheating",e[e.ChildAbuse=4]="ChildAbuse",e[e.DrugsOrAlcohol=5]="DrugsOrAlcohol",e[e.Profanity=6]="Profanity",e[e.SelfHarm=7]="SelfHarm",e[e.Other=8]="Other"}(aW||(aW={}));const nW={[eW.FeedItem]:"feedItem",[eW.Comment]:"comment",[eW.Gamertag]:"gamertag"},rW={[tW.SexuallyInappropriate]:"sexuallyinappropriate",[tW.Violence]:"violenceorgore",[tW.Harassment]:"harassment",[tW.Spam]:"spamoradvertising",[tW.TerroristContent]:"terroristorviolentextremist",[tW.SomethingElse]:"somethingElse"},lW={[aW.ImminentHarm]:"imminentharmpersonsorproperty",[aW.HateSpeech]:"hatespeech",[aW.Fraud]:"fraud",[aW.Cheating]:"cheating",[aW.ChildAbuse]:"csam",[aW.DrugsOrAlcohol]:"drugsoralcohol",[aW.Profanity]:"profanity",[aW.SelfHarm]:"selfharmorsuicide",[aW.Other]:"other"};function oW(){const e=(0,l.useSharedFacet)(vv),t=(0,l.useSharedFacet)(Cv),a=(0,l.useSharedFacet)(_B),n=(0,l.useSharedFacet)(Hh),o=(0,l.useSharedFacet)(_h),c=(0,l.useSharedFacet)(BB),{t:i}=ws("RealmsStories.ReportFeedItem"),s=Yr("inherit"),u=p(),d=g(),m=h(),f=u.goBack,E=(0,l.useFacetMap)((e=>{if(null!=e.postType){if(e.postType==ZB.Post)return ZB.Post;if(e.postType==ZB.Comment)return ZB.Comment;if(e.postType==ZB.ReportedItem)return ZB.ReportedItem}}),[],[d]),b=(0,l.useFacetMap)((e=>e.get("postId")),[],[m]),v=(0,l.useFacetMap)(((e,t,a,n,r)=>{if(null!=t&&null!=e){if(t===ZB.Post)return a.stories.find((t=>t.id===e));if(t===ZB.Comment)return n.comments.find((t=>t.id===e));if(t===ZB.ReportedItem)return r.reports.find((t=>t.id===e))}}),[],[b,E,e,t,a]),F=(0,l.useFacetMap)(((e,t)=>e==ZB.ReportedItem&&null!=t?"isComment"in t&&1==t.isComment:e==ZB.Comment),[],[E,v]),y=(0,l.useFacetMap)(((e,t)=>{if(e){const a=t.players.find((t=>t.xuid===e.authorXuid));return a?a.gamerTag:void 0}}),[],[v,n]),S=(0,l.useFacetMap)(((e,t,a)=>null!=e&&null!=t&&null!=a?{postId:t.id,parentPostId:"parentId"in t?t.parentId:"",authorGamertag:a,timePosted:t.timePosted,timePostedNarration:t.timePostedNarration,image:"image"in t?t.image:"",body:t.body}:{postId:"",parentPostId:"",authorGamertag:"",timePosted:"",timePostedNarration:"",image:"",body:""}),[],[E,v,y]),C=(0,l.useFacetMap)(((e,t,a,n)=>null!=e&&null!=t&&null!=a&&null!=n),[],[E,b,v,y]),M=(0,l.useFacetMap)(((e,t,a,n)=>e?i(n?".screenTitle.comment":".screenTitle.feedItem",[a.authorGamertag]):i(".error.title")),[i],[C,E,S,F]),w=i(".hideContent"),[k,P]=(0,l.useFacetState)(!1),T=(0,l.useFacetMap)((e=>e.authorGamertag),[],[S]),I=(0,l.useFacetMap)((e=>e.timePosted),[],[S]),x=(0,l.useFacetMap)((e=>e.body),[],[S]),O=(0,l.useFacetMap)((e=>e.image),[],[S]),A=(0,l.useFacetWrap)(FB.STORY),N=(0,l.useFacetMap)((e=>i(".targetPanel.title",[e])),[i],[T]),R=i(".targetPanel.description"),L=(0,l.useFacetMap)((e=>[e,R].join(" . ")),[R],[N]),[D,_]=(0,l.useFacetState)(eW.FeedItem);(0,l.useFacetEffect)(((e,t)=>_(t?eW.Comment:eW.FeedItem)),[_],[E,F]);const B=(0,l.useFacetMemo)(((e,t,a)=>{const n=[];return n.push(a?{value:eW.Comment,label:i(`.targetOption.${nW[eW.Comment]}`),gamepadAlias:nW[eW.Comment]}:{value:eW.FeedItem,label:i(`.targetOption.${nW[eW.FeedItem]}`),gamepadAlias:nW[eW.FeedItem]}),n.push({value:eW.Gamertag,label:i(`.targetOption.${nW[eW.Gamertag]}`),gamepadAlias:nW[eW.Gamertag]}),n.map(((e,a,n)=>{const r=e.value===t;return QB(QB({},e),{},{enumeration:i(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))}),[i],[E,D,F]),W=(0,l.useFacetMap)((e=>i(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[i],[B]),U=(0,l.useFacetMap)((e=>i(`.targetPanel.description.${nW[e]}`)),[i],[D]),[z,j]=(0,l.useFacetState)(void 0),H=(0,l.useFacetMemo)((e=>[{value:tW.SexuallyInappropriate,label:i(`.reasonOption.${rW[tW.SexuallyInappropriate]}`),gamepadAlias:rW[tW.SexuallyInappropriate]},{value:tW.Violence,label:i(`.reasonOption.${rW[tW.Violence]}`),gamepadAlias:rW[tW.Violence]},{value:tW.Harassment,label:i(`.reasonOption.${rW[tW.Harassment]}`),gamepadAlias:rW[tW.Harassment]},{value:tW.Spam,label:i(`.reasonOption.${rW[tW.Spam]}`),gamepadAlias:rW[tW.Spam]},{value:tW.TerroristContent,label:i(`.reasonOption.${rW[tW.TerroristContent]}`),gamepadAlias:rW[tW.TerroristContent]},{value:tW.SomethingElse,label:i(`.reasonOption.${rW[tW.SomethingElse]}`),gamepadAlias:rW[tW.SomethingElse]}].map(((t,a,n)=>{const r=t.value===e;return QB(QB({},t),{},{enumeration:i(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))),[i],[z]),G=(0,l.useFacetMap)((e=>i(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[i],[H]),V=(0,l.useFacetMap)((e=>e===tW.SomethingElse),[],[z]),[$,X]=(0,l.useFacetState)(void 0),K=(0,l.useFacetMemo)((e=>[{value:aW.ImminentHarm,label:i(`.somethingElseOption.${lW[aW.ImminentHarm]}`),gamepadAlias:lW[aW.ImminentHarm]},{value:aW.HateSpeech,label:i(`.somethingElseOption.${lW[aW.HateSpeech]}`),gamepadAlias:lW[aW.HateSpeech]},{value:aW.Fraud,label:i(`.somethingElseOption.${lW[aW.Fraud]}`),gamepadAlias:lW[aW.Fraud]},{value:aW.Cheating,label:i(`.somethingElseOption.${lW[aW.Cheating]}`),gamepadAlias:lW[aW.Cheating]},{value:aW.ChildAbuse,label:i(`.somethingElseOption.${lW[aW.ChildAbuse]}`),gamepadAlias:lW[aW.ChildAbuse]},{value:aW.DrugsOrAlcohol,label:i(`.somethingElseOption.${lW[aW.DrugsOrAlcohol]}`),gamepadAlias:lW[aW.DrugsOrAlcohol]},{value:aW.Profanity,label:i(`.somethingElseOption.${lW[aW.Profanity]}`),gamepadAlias:lW[aW.Profanity]},{value:aW.SelfHarm,label:i(`.somethingElseOption.${lW[aW.SelfHarm]}`),gamepadAlias:lW[aW.SelfHarm]},{value:aW.Other,label:i(`.somethingElseOption.${lW[aW.Other]}`),gamepadAlias:lW[aW.Other]}].map(((t,a,n)=>{const r=t.value===e;return QB(QB({},t),{},{enumeration:i(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))),[i],[$]),Y=(0,l.useFacetMap)((e=>i(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[i],[K]),[q,Q]=(0,l.useFacetState)(""),J=(0,l.useFacetMap)((e=>[i(`.commentPanel.description.${nW[e]}`),i(".commentPanel.description.addComment")].join(" ")),[i],[D]),Z=(0,l.useFacetMap)(((e,t)=>null==e||e===tW.SomethingElse&&null==t),[],[z,$]),ee=(0,l.useFacetMap)((e=>{const t=i(".enumeration",["1","2"]);return e?[t,i(".reportPanel.report.disabledHint")].join(" . "):t}),[i],[Z]),te=(0,l.useFacetCallback)(((e,t,a,n,r,l,o,c,i)=>()=>{let s="";if(r&&null!=l?s=lW[l]:null==n||r||(s=rW[n]),i==ZB.ReportedItem)return e===eW.Gamertag?c.reportGamertagToXbox(a.authorGamertag,a.postId,s,o):c.reportFeedItemToXbox(a.postId,s,o),void u.goBack();e===eW.Gamertag?t.reportGamertagToXbox(a.authorGamertag,a.postId,a.parentPostId,s,o):t.reportFeedItemToXbox(a.postId,a.parentPostId,s,o),u.goBack()}),[u],[D,o,S,z,V,$,q,c,E]);return r.createElement(_r,{collection:xx},r.createElement(ZN,{onBack:f,title:M,screenAnalyticsId:"RealmsStoriesReportFeedItem",gamepadAlias:"realms-stories-report-feed-item"},(()=>r.createElement(zM,null,r.createElement(Vi,{size:4}),r.createElement(zM.Row,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:C,condition:!1},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(aw,{title:i(".error.title"),text:i(".error.text"),buttons:[{text:i(".error.buttonText"),onClick:f,inputLegend:i(".buttonLegend")}]}))),r.createElement(l.Mount,{when:C},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:4,narrowSize:0},r.createElement("div",{className:dl()("b87410b60b220ba30a45",s.border.base)},r.createElement(Vw,{title:w,value:k,onChange:P})),r.createElement(l.Mount,{when:k,condition:!1},r.createElement(yB,{sender:T,timestamp:I,content:x,image:O,containerType:A}))),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(ud,{floating:!0,delegateFocusFromMemory:!0},r.createElement("div",{className:dl()("adaf5aecd4888ba8ada5",s.border.base)},r.createElement(Ud,{narrationText:L},r.createElement(jd,null,N),r.createElement(Hd,null,R),r.createElement(Vi,{size:2}),r.createElement(WR,{title:i(".targetOptions.title"),options:B,value:D,onItemSelect:_,buttonTestId:"target-dropdown-button",closeButtonNarrationSuffix:W,dropdownNarrationSuffix:U}),r.createElement(Vi,{size:4}),r.createElement(Hd,null,U)),r.createElement(Ud,{narrationText:[i(".reasonPanel.title"),i(".reasonPanel.description")].join(" . ")},r.createElement(jd,null,i(".reasonPanel.title")),r.createElement(Hd,null,i(".reasonPanel.description")),r.createElement(Vi,{size:2}),r.createElement(WR,{title:i(".reasonOptions.title"),options:H,value:z,onItemSelect:j,placeholderText:i(".reasonOptions.placeholder"),buttonTestId:"reason-dropdown-button",closeButtonNarrationSuffix:G}),r.createElement(l.Mount,{when:V},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(WR,{title:i(".reasonOptions.title"),options:K,value:$,onItemSelect:X,placeholderText:i(".reasonOptions.placeholder"),buttonTestId:"something-else-dropdown-button",closeButtonNarrationSuffix:Y})))),r.createElement(gm,{label:i(".commentPanel.title"),description:J,placeholder:i(".commentPanel.placeholder"),value:q,maxLength:350,rows:6,onChange:Q}),r.createElement(hD,{title:i(".reportPanel.title"),description:i(".reportPanel.description"),stackedButtons:!0,buttons:r.createElement(r.Fragment,null,r.createElement(lm,{variant:"destructive",inputLegend:i(".buttonLegend"),onClick:te,narrationSuffix:ee,disabled:Z},i(".reportPanel.report")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{variant:"secondary",inputLegend:i(".buttonLegend"),onClick:f,narrationSuffix:i(".enumeration",["2","2"])},i(".reportPanel.cancel")))})))))))),r.createElement(Vi,{size:4}),r.createElement(Lm.Space,null)))))}function cW({storyComment:e}){const t=(0,l.useSharedFacet)(Hh),a=(0,l.useFacetMap)((e=>e.players),[],[t]),n=(0,l.useFacetMap)((e=>e.body),[],[e]),o=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),c=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),i=(0,l.useFacetWrap)(!1),s=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),u=(0,l.useFacetMap)(((e,t)=>{const a=SE(t,(t=>t.xuid===e));return null!=a?a:H_}),[],[s,a]),d=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[bn()]),m=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),p=(0,l.useFacetMap)(((e,t)=>e||!t),[],[d,m]),f=(0,l.useFacetMap)(((e,t)=>{let a=1;return e||a++,t&&(a+=2),a}),[],[m,d]);return r.createElement(cB,{body:n,timePosted:o,timePostedNarration:c,storyFeedElementCount:f,author:u,hasBottomSection:(0,l.useFacetWrap)(null==p||p),shouldShowUnreadPostBadge:i,commentPostType:!0})}function iW({storyComment:e,index:t,numberOfComments:a}){const{t:n}=ws("RealmsStories.feedPost"),o=(0,l.useSharedFacet)(Bh),c=p(),i=g(),s=(0,l.useFacetMap)((e=>1===e.totalLikes?n(".totalLike",[e.totalLikes.toString()]):n(".totalLikes",[e.totalLikes.toString()])),[n],[e]),u=(0,l.useFacetMap)((e=>e.hasLiked),[],[e]),d=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),m=(0,l.useFacetMap)((e=>!e.isPrimaryUser),[],[bn()]),f=(0,l.useSharedFacet)(_h),E=(0,l.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus!==rF.InProgress&&t.toggleLike(e.id,e.parentId)}),[],[e,f]),b=CB.useModal(),h=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),v=(0,l.useFacetMap)(((e,t)=>e===t.userXuid),[],[h,o]),F=(0,l.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[o]),y=wB.useModal(),S=(0,r.useCallback)((()=>{y.hide(),b.hide()}),[y,b]),C=(0,l.useFacetCallback)(((e,t)=>()=>{t.delete(e.id,e.parentId),S()}),[S],[e,f]),M=(0,l.useFacetMap)((e=>e.deleteStatus==rF.InputInvalid||e.deleteStatus==rF.InternalError||e.deleteStatus==rF.UploadFailed||e.deleteStatus==rF.PostingFailed),[],[e]),w=(0,l.useFacetCallback)(((e,t)=>()=>t.clearDeleteStatus(e.id)),[],[e,f]),k=PB.useModal(),P=(0,r.useCallback)((()=>{k.hide(),b.hide()}),[k,b]),T=(0,l.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,e.parentId),P()}),[P],[e,f]),I=(0,l.useFacetMap)((e=>e.reportToClubOwnerStatus==rF.InputInvalid||e.reportToClubOwnerStatus==rF.InternalError||e.reportToClubOwnerStatus==rF.UploadFailed||e.reportToClubOwnerStatus==rF.PostingFailed),[],[e]),x=(0,l.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[e,f]),O=(0,l.useFacetCallback)(((e,t)=>()=>{b.hide(),c.push(`/realms-stories-report-feed-item/${ZB.Comment}/${e.realmId}?postId=${t.id}`)}),[c,b],[i,e]),A=(0,l.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),N=(0,l.useFacetMap)((e=>e!==rF.Idle&&e!==rF.InProgress&&e!==rF.RateLimit),[],[A]),R=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[f,e]),L=(0,l.useFacetMap)((e=>e.deleteStatus==rF.RateLimit||e.reportToClubOwnerStatus==rF.RateLimit||e.reportToXboxStatus==rF.RateLimit),[],[e]),D=(0,l.useFacetCallback)((e=>()=>{e.deleteStatus==rF.RateLimit&&w(),e.reportToClubOwnerStatus==rF.RateLimit&&x(),e.reportToXboxStatus==rF.RateLimit&&R()}),[w,x,R],[e]),_=(0,l.useSharedFacet)(dh);(0,l.useFacetEffect)(((e,t,a)=>{e.reportToClubOwnerStatus===rF.Success&&(t.queueSnackbar(n(".options.notify.toast")),a.clearReportToClubOwnerStatus(e.id))}),[n],[e,_,f]);const B=(0,l.useFacetMap)((e=>[n(".commentPostGroup"),n(".postGroupRole"),n(".postGroupEnumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,n],[a]);return r.createElement(r.Fragment,null,r.createElement(bd,{text:B},r.createElement(oB,{content:r.createElement(cW,{storyComment:e}),index:t,totalLikes:s,hasLiked:u,hideLikes:d,readOnly:m,toggleLikeCallback:E,openOptionsCallback:b.show})),r.createElement(l.Mount,{when:b.isVisible},r.createElement(CB.Component,{isAuthor:v,isRealmOwner:F,isCommentOptions:!0,onClose:b.hide,onDelete:y.show,onNotify:k.show,onReport:O})),r.createElement(l.Mount,{when:y.isVisible},r.createElement(wB.Component,{onConfirm:C,onCancel:S,isCommentOptions:!0})),r.createElement(l.Mount,{when:M},r.createElement(IB.Component,{onClose:w,isCommentOptions:!0})),r.createElement(l.Mount,{when:k.isVisible},r.createElement(PB.Component,{onConfirm:T,onCancel:P,isCommentOptions:!0})),r.createElement(l.Mount,{when:I},r.createElement(OB.Component,{onClose:x})),r.createElement(l.Mount,{when:L},r.createElement(M_.Component,{onClickClose:D})),r.createElement(l.Mount,{when:N},r.createElement(RB.Component,{reportStatus:A,onClose:R})))}function sW(){const e=f(),{t}=ws("RealmsStories.CommentsScreen"),{t:a}=ws("RealmsStories.feedEvent"),{t:n}=ws("RealmsStories.feed"),o=g(),c=(0,l.useFacetMap)((e=>e.id),[],[o]),i=(0,l.useSharedFacet)(vv),s=(0,l.useSharedFacet)(Cv),u=(0,l.useSharedFacet)(zh),d=(0,l.useSharedFacet)(_l),m=(0,l.useFacetMap)(((e,t)=>SE(e.stories,(e=>e.id===decodeURIComponent(t)))),[],[i,c]),p=(0,l.useFacetMap)((e=>{var t;return null===(t=(null==e?void 0:e.commentsStatus)===nF.InProgress)||void 0===t||t}),[],[m]),E=(0,l.useFacetMap)((e=>e?e.body:""),[],[m]),b=(0,l.useFacetMap)((e=>!!e&&(null==e?void 0:e.isEvent)&&(null==e?void 0:e.isEventLoaded)),[],[m]),h=(0,l.useFacetMap)(((e,t)=>{if(e){const e=q_(t);if(e)return"large"===e.treatmentSize?FB.LARGE_EVENT:FB.MEDIUM_EVENT}return FB.STORY}),[],[b,E]),v=(0,l.useSharedFacet)(Hh),F=(0,l.useFacetMap)(((e,t,a)=>{const n=[];return e&&t&&t.eventPlayerXuids.map((e=>{var t;const r=null!==(t=SE(a.players,(t=>t.xuid===e)))&&void 0!==t?t:H_;n.push(r)})),n}),[],[b,m,v]),y=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.eventMetadata)&&void 0!==t?t:""}),[],[m]),S=Mc(70),C=(0,l.useFacetMap)(((e,t,n,r,l)=>{if(e){var o;const e="large"===(null!==(o=Q_(t))&&void 0!==o?o:"medium")?$_:X_;return J_({eventId:t,t:a,playerData:n,maxDisplayedPlayers:r?e.narrow:e.full,eventMetadata:l})}return t}),[a],[b,E,F,S,y]),M=(0,l.useFacetMap)((e=>e.players),[],[v]),w=(0,l.useFacetMap)(((e,a,n)=>{var r;return n?t(".realmEvent"):(e&&null!==(r=SE(a,(t=>t.xuid===e.authorXuid)))&&void 0!==r?r:H_).gamerTag}),[t],[m,M,b]),k=(0,l.useFacetMap)((e=>e?e.timePosted:""),[],[m]),P=(0,l.useFacetMap)(((e,t,a)=>e?G_(a):t?t.image:""),[],[b,m,E]),T=(0,l.useFacetMap)(((e,t)=>e.comments.filter((e=>e.parentId===decodeURIComponent(t)))),[],[s,c]),I=(0,l.useFacetMap)((e=>e.length),[],[T]),x=Sc(),O=(0,l.useFacetMap)((e=>e.commentInProgressBody),[],[u]),A=(0,l.useFacetCallback)((e=>t=>{e.commentInProgressBody=t}),[],[u]),N=(0,l.useSharedFacet)(_h),[R,L]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)(((e,t,a,n)=>{n||a||(L(!0),e.fetchStoryComments(decodeURIComponent(t)))}),[L],[N,c,p,R]);const[D,_]=ik(!1),B=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{ck(n,t)?_.show():(a.commentInProgressBody=t,e.postComment())}),[_],[N,O,u,(0,l.useSharedFacet)(Dh)]);(0,l.useFacetEffect)(((e,t)=>{e.postCommentStatus===rF.Success&&(A(""),t.clearPostCommentStatus())}),[A],[s,N]);const W=(0,l.useFacetMap)(((e,t)=>e&&(t.postCommentStatus==rF.InputInvalid||t.postCommentStatus==rF.InternalError||t.postCommentStatus==rF.UploadFailed||t.postCommentStatus==rF.PostingFailed)),[],[e,s]),U=(0,l.useFacetMap)(((e,t)=>e&&t.postCommentStatus==rF.RateLimit),[],[e,s]),z=(0,l.useFacetCallback)((e=>()=>{e.clearPostCommentStatus()}),[],[N]),j=(0,l.useFacetMap)(((e,t)=>""===e||t.postCommentStatus===rF.InProgress||t.postCommentStatus===rF.Uploading),[],[O,s]),H=(0,l.useFacetUnwrap)(j),G=Yr("neutral"),V=(0,l.useFacetMap)((e=>!e.isOnline),[],[d]),$=(0,l.useFacetMap)(((e,t)=>!(!e||e.commentsStatus!==nF.InternalError&&e.commentsStatus!==nF.FetchFailed&&e.commentsStatus!==nF.RateLimit||t)),[],[m,V]),X=(0,l.useFacetMap)(((e,t)=>e||t),[],[V,$]),K=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchStoryComments(decodeURIComponent(t))}),[],[N,c]),Y=(0,r.useRef)(null),q=(0,l.useFacetMap)(((e,a)=>[t(".writeYourComment"),t(".inputField"),t(".enumeration",["1","2"]),e.length>0?e:t(".inputFieldHint"),a?t(".textFieldEmptyStateNarration"):""].join(" . ")),[t],[O,j]),Q=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[bn()]);return r.createElement(_r,{collection:xx},r.createElement(ZN,{title:t(".header"),gamepadAlias:"realms-stories-comments-route",screenAnalyticsId:"StoriesComments",delegateByAlias:"comments-text-box"},(()=>r.createElement(zM,null,r.createElement(l.Mount,{when:X},r.createElement(zM.Row,null,r.createElement(Vi,{size:"narrow"===x?0:1}),r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(l.Mount,{when:V},r.createElement(sB,null)),r.createElement(l.Mount,{when:$},r.createElement(dB,{onClick:K,pageName:t(".header")}))),r.createElement(Vi,{size:"narrow"===x?0:1}))),r.createElement(l.Mount,{when:_.isVisible},r.createElement(Zw.Component,{onClose:_.hide})),r.createElement(l.Mount,{when:X,condition:!1},r.createElement(zM.Row,{className:"a261c16139b18ed9fa05"},r.createElement(zM.Column,{wideSize:4,narrowSize:0},r.createElement(yB,{content:C,sender:w,timestamp:k,image:P,containerType:h})),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:Q},r.createElement(uu,{containerRef:Y,alias:"comments-text-box"},r.createElement("div",{ref:Y,className:dl()("ea07c2ad61b8cf76002a",G.border.base)},r.createElement(Uu,null,r.createElement(dk.WithButton,{buttonInputLegend:t(".select"),buttonText:t(".post"),buttonOnClick:B,placeholder:t(".writeYourComment"),label:"",maxLength:350,value:O,onChange:A,narrationOverride:q,buttonDisabled:j,buttonVariant:!1===H?"primary":"secondary",buttonNarrationHint:t(".enumeration",["2","2"]),onBlur:D}))))),r.createElement(l.Mount,{when:Q,condition:!1},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(_r,{collection:Ix},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,n(".guestAccountNotificationBanner")))))),r.createElement(U_,{loading:p,firstRowSeparatorVertical:r.createElement(Vi,{size:1}),data:T,header:r.createElement(Vi,{size:"narrow"===x?1:3}),columns:1,itemSeparatorVertical:r.createElement(Vi,{size:"narrow"===x?2:4}),renderItem:({itemFacet:e,index:t})=>r.createElement(iW,{storyComment:e,index:t,numberOfComments:I}),footer:r.createElement(Vi,{size:4})})))),r.createElement(Lm.Space,null)))),r.createElement(l.Mount,{when:W},r.createElement(C_.Component,{onClickClose:z})),r.createElement(l.Mount,{when:U},r.createElement(M_.Component,{onClickClose:z})))}const uW=(0,r.createContext)({getId:()=>0,set:()=>{}}),dW=e=>{const t=(0,r.useContext)(uW),[a,n]=(0,l.useFacetState)(l.NO_VALUE);(0,r.useEffect)((()=>{a.get()==l.NO_VALUE&&n(t.getId())}),[a,n,t]),(0,l.useFacetEffect)(((e,a)=>{t.set(e,a)}),[t],[a,(0,l.useFacetWrap)(e)])};function mW({children:e,setNarrationTextState:t}){const a=(0,r.useRef)(0);return r.createElement(uW.Provider,{value:(0,r.useMemo)((()=>({getId:()=>a.current++,set:(e,a)=>t((t=>t===l.NO_VALUE?[]:(t[e]=!1===a?"":a,t)))})),[t])},e)}function pW({children:e,onClick:t,inputLegend:a,gamepadAlias:n,onFocusChanged:o,onHoverChanged:c,narrationSuffix:i,narrationTextOverride:s,role:u="neutral",narrateCardRole:d=!0,hideShadow:m=!1,fillShadow:p=!1}){const f=Qr("neutral"),[g,E]=(0,l.useFacetState)([]),b=(0,l.useFacetWrap)(m),h=Yr(u),v=(0,l.useFacetWrap)(null!=s?s:""),{t:F}=ws("Card"),y=(0,l.useFacetMap)(((e,t,a)=>t||[...e,d?F(".narrationComponentTypeButton"):null,a].filter(Boolean).join(" . ")),[F,d],[g,v,(0,l.useFacetWrap)(null!=i?i:"")]);return r.createElement(Sr,{role:u},r.createElement("div",{className:"b7b8c8a1ff08ea3b9a84"},r.createElement(Kd,{gamepadAlias:n,className:dl()("ec9b392c07ed5cf6ab91",h.border.interactive,h.text.base),classNameHovered:"c789c580faf579530149",classNamePressed:"a7ae4600c828be4684d8",inputLegend:a,narrationText:y,onClick:t,onFocusChanged:o,onHoverChanged:c,soundEffectPressed:f.press},r.createElement(Bs,null),r.createElement(mW,{setNarrationTextState:E},e),r.createElement(l.Mount,{when:b,condition:!1},r.createElement(r.Fragment,null,r.createElement("div",{className:dl()("d78224c3fee2aec8ab8f",h.shadow.base)}),p&&r.createElement("div",{className:dl()("ea49ef6ae9d367b4b0ca",h.background.base,h.background.hover)})))),r.createElement("div",{className:dl()("c5ea9c5c22d25fa54165",h.dropShadow.base)})))}pW.Information=function({children:e,innerRef:t,narrationText:a}){const n=Yr("inherit");return dW(a),r.createElement("div",{className:dl()("e5788679938579f2cc42",n.border.base,n.background.base,n.background.hover),ref:t},r.createElement(Vi,{size:2}),e,r.createElement(Vi,{size:2}))};const fW=a.p+"assets/emptyRealmSlotBig-174b3e1ac62d8732ed96.png",gW=a.p+"assets/emptyRealmSlotSmall-fe677a75d61b2e50cad2.png",EW=a.p+"assets/celebration_world_icon-46ff8b725d471803e976.jpg",bW=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",hW="realm-preview-replace-preview-realm-close",vW=As((({onConfirm:e,onClose:t})=>{const{t:a}=ws("RealmsPreviews.ReplaceWorld"),n=a(".message");return r.createElement($m,{defaultFocusAlias:hW},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n},n)),r.createElement($m.Buttons,null,r.createElement(lm,{"data-testid":"replace-world-confirm-button",inputLegend:a(".select"),variant:"primary",onClick:e},a(".confirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:hW,inputLegend:a(".select"),variant:"secondary",onClick:t},a(".cancel"))))}));let FW;function yW({world:e,index:t,onItemClick:a}){const{t:n}=ws("ChooseSlotRoute"),o=(0,l.useFacetMap)((e=>e.worldName),[],[e]),c=(0,l.useFacetMap)((e=>-1===e.id?fW:e.slotImage.length>0?EW:bW),[],[e]),i=(0,l.useFacetMap)((e=>-1===e.id?n(".emptySlotHint"):n(".slotHint")),[n],[e]),s=(0,l.useFacetMap)((e=>n(".slotEnumeration",[(t+1).toString(),e.toString()])),[n,t],[i]);return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(pW,{inputLegend:n(".select"),onClick:a,narrationSuffix:s},r.createElement(pu,{src:c,aspectRatio:pu.AspectRatio["16:9"]}),r.createElement(pW.Information,{narrationText:o},r.createElement(Zi,{type:"body",verticalAlign:"center"},o))))}function SW({onItemClick:e}){return r.createElement(U_,{data:(0,l.useFacetMap)((e=>e.realmSlots),[],[(0,l.useSharedFacet)(hv)]),columns:3,itemSeparatorHorizontal:r.createElement(Vi,{size:4}),renderItem:({itemFacet:t,index:a})=>r.createElement(yW,{world:t,index:a,onItemClick:()=>e(a)})})}function CW({world:e,index:t,onItemClick:a}){const{t:n}=ws("ChooseSlotRoute"),o=(0,l.useFacetMap)((e=>e.worldName),[],[e]),c=(0,l.useFacetMap)((e=>-1===e.id?gW:e.slotImage.length>0?EW:bW),[],[e]),i=Yr("neutral80"),s=(0,l.useFacetMap)(((e,a)=>n(".slotButtonNarration",[a.toString(),(t+1).toString(),-1===e.id?n(".emptySlotHint"):n(".slotHint")])),[n,t],[e,o]);return r.createElement(rT,{tall:!0},r.createElement(rT.Action,{inputLegend:n(".select"),narrationText:s,onClick:a},r.createElement("div",{className:"c4aacc600ea0c5c7cfdf"},r.createElement(pu,{src:c,aspectRatio:pu.AspectRatio["16:9"],className:dl()(i.border.base,"acfa678ff5d5d7d02287")})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},o))))}function MW({onItemClick:e}){return r.createElement(b_,{header:r.createElement(Vi,{size:2}),data:(0,l.useFacetMap)((e=>e.realmSlots),[],[(0,l.useSharedFacet)(hv)]),renderItem:({itemFacet:t,index:a})=>r.createElement(CW,{world:t,index:a,onItemClick:()=>e(a)})})}function wW(){const e=Cl(),{t}=ws("ChooseSlotRoute"),a=Mc(70),n=(0,l.useSharedFacet)(hv),o=(0,l.useSharedFacet)(IF),c=(0,l.useSharedFacet)(wv),i=function(){const[e,t]=(0,l.useFacetState)(FW.IDLE),a=(0,l.useSharedFacet)(hv),n=(0,l.useFacetCallback)(((e,a)=>n=>{e==FW.IDLE&&(t(FW.SELECTING_SLOT),a.selectSlot(n))}),[t],[e,a]),r=(0,l.useFacetCallback)((e=>()=>{t(FW.IDLE),e.reset()}),[t],[a]);return(0,l.useFacetEffect)(((e,a)=>{a==FW.SELECTING_SLOT&&(e.isSlotSelected?t(FW.SLOT_SELECTED):e.didFailToActivateSlot&&t(FW.ERROR))}),[t],[a,e]),{state:e,select:e=>n(e),reset:r}}(),s=(0,l.useFacetMap)(((e,t)=>e.isLoading&&t!==FW.SELECTING_SLOT),[],[n,i.state]),u=(0,l.useFacetMap)((e=>t(".chooseSlotHeader",[e.selectedRealmName])),[t],[n]),d=g(),m=(0,l.useFacetMap)((e=>e.id),[],[d]),p=(0,l.useSharedFacet)(gb),f=(0,r.useRef)(!1);(0,l.useFacetEffect)(((e,t)=>{f.current||(f.current=!0,e.getSelectedRealmDetails(t))}),[f],[n,m]),(0,l.useFacetEffect)(((e,t,a,n,r)=>{a===FW.SLOT_SELECTED&&"uninitialized"!==n.currentWorldId&&(i.reset(),r.setPreviewRealmForUpload(t))}),[e,i],[p,m,i.state,o,c]),(0,l.useFacetEffect)(((e,t,a,n)=>{a===FW.SLOT_SELECTED&&"uninitialized"===n.currentWorldId&&(i.reset(),e.createWorldOnPreviewRealm(t))}),[e,i],[p,m,i.state,o]);const E=(0,l.useFacetMap)(((e,t)=>!e.isShowingConfirmationModal&&t===FW.SELECTING_SLOT),[],[n,i.state]),b=(0,l.useFacetMap)(((e,t)=>e.isShowingConfirmationModal&&t==FW.SELECTING_SLOT),[],[n,i.state]),h=(0,l.useFacetCallback)((e=>()=>{e.confirm()}),[],[n]),v=(0,l.useFacetMap)((e=>e.didFailToActivateSlot),[],[n]),F=(0,l.useFacetMap)((e=>e.didFailToQuerySelectedRealmDetails),[],[n]),y=Yr("inherit"),S=t(".backHint"),C=(0,l.useFacetMap)((e=>t(".screen",[e])),[t],[u]),M=(0,l.useFacetCallback)(((e,t)=>()=>{e.didFailToQuerySelectedRealmDetails&&e.getSelectedRealmDetails(t)}),[],[n,m]);return r.createElement(ay,null,r.createElement(l.Mount,{when:s},r.createElement("div",{className:dl()("b38aa75e2b386d5319d5",y.overlay.base)},r.createElement(id,null))),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(ty,{text:C,interruptible:!1}),r.createElement(BM,{onBackButton:e.goBack,backButtonHint:S,center:r.createElement(Zi,{type:"header5A"},u),gamepadAlias:"choose-slote-route"},r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(l.Mount,{when:F,condition:!1},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:a},(e=>e?r.createElement(MW,{onItemClick:i.select}):r.createElement(SW,{onItemClick:i.select}))))),r.createElement(l.Mount,{when:F},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:2,narrowSize:0}),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(ud,null,r.createElement(Vi,{size:2}),r.createElement(aw,{title:t(".noSlotsErrorTitle"),text:t(".noSlotsErrorMessage"),imgSrc:w_,buttons:[{text:t(".noSlotsErrorButton"),inputLegend:t(".select"),onClick:M}]})))))))),r.createElement(l.Mount,{when:b},r.createElement(vW.Component,{onConfirm:h,onClose:i.reset})),r.createElement(l.Mount,{when:v},r.createElement(y_.Component,{onClickClose:i.reset})),r.createElement(l.Mount,{when:E},r.createElement(I_,{onClickClose:i.reset})))),r.createElement(Lm.Space,null))}function kW({realmPlayer:e,index:t,role:a="neutral",isSimpleLayout:n=!1,totalPlayers:o,onClick:c}){const{t:i}=ws("RealmsStories"),s=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),u=(0,l.useFacetMap)((e=>e.gamerIcon),[],[e]),d=p(),m=(0,l.useFacetCallback)((e=>()=>{c&&c(),d.push(qx(e.xuid))}),[d,c],[e]),f=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[e]),g=(0,l.useFacetMap)((e=>{switch(e.role){case jh.OWNER:return"";case jh.OPERATOR:return i(".members.operator");case jh.MEMBER:return i(".members.member");case jh.VISITOR:default:return i(".members.visitor")}}),[i],[e]),E=(0,l.useFacetMap)((e=>e.isInRealm?i(".feed.inRealm"):e.isOnline?i(".feed.online"):i(".feed.offline")),[i],[e]),b=(0,l.useFacetMap)(((e,a,r,l)=>[e,i(".RealmPlayerListItem.role"),a,n?void 0:r,null!=l?i(".narrationPlayerXOfY",[t.toString(),l.toString()]):void 0,i(".RealmPlayerListItem.hint")].filter((e=>null!=e&&""!==e)).join(" . ")),[i,t,n],[s,E,g,(0,l.useFacetWrap)(o)]),h=(0,l.useFacetMap)((e=>e.role!==jh.OWNER&&!1===n),[n],[e]),v=(0,l.useFacetMap)((e=>e.role===jh.VISITOR?"neutral100":"primaryTint"),[],[e]),F=r.createElement(rk,{role:v},g),y=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.role===jh.OPERATOR),[],[e])),S=y!=l.NO_VALUE&&y?Ix:xx;return r.createElement(rT,null,r.createElement(rT.Action,{narrationText:b,inputLegend:i(".RealmPlayerListItem.viewProfile"),onClick:m,role:a},r.createElement(rT.Cell,null,r.createElement(Uy,{src:u,variant:"large",statusBadge:f})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},s),!n&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body",variant:"dimmer"},r.createElement(ji,null,E)))),r.createElement(l.Mount,{when:h},r.createElement(rT.Cell,null,r.createElement(_r,{collection:S},F)))))}!function(e){e[e.IDLE=0]="IDLE",e[e.SELECTING_SLOT=1]="SELECTING_SLOT",e[e.SLOT_SELECTED=2]="SLOT_SELECTED",e[e.ERROR=3]="ERROR"}(FW||(FW={}));const PW=(e,t,a)=>(0,l.useFacetMemo)(((e,t)=>{if(t.length<=a)return t;const n=nx(t);let r=0;const l=n.findIndex((t=>t.xuid===e.ownerXuid));if(l>=0&&TW(n,l,r++),e.userXuid!==e.ownerXuid){const t=n.findIndex((t=>t.xuid===e.userXuid));t>=0&&TW(n,t,r++)}const o=nx(n,r).sort(((e,t)=>Number(t.hasOptedIn)-Number(e.hasOptedIn)));return n.splice(r,n.length,...o),nx(n,0,a)}),[a],[e,t]),TW=(e,t,a)=>[e[t],e[a]]=[e[a],e[t]],IW=a.p+"assets/members-empty-320294d3b2376f2da601.png";function xW({maximumDisplayedMembers:e}){const{t}=ws("RealmsStories.members"),a=null!=e?e:300,n=(0,l.useSharedFacet)(Bh),o=(0,l.useSharedFacet)(zh),c=(0,l.useSharedFacet)(Hh),i=(0,l.useFacetMap)((e=>e.ownerXuid),[],[n]),s=(0,l.useFacetMap)((e=>e.currentMemberFilterOption),[],[o]),u=(0,l.useFacetMap)((e=>e.currentMemberSortOption),[],[o]),d=(0,l.useFacetMap)((e=>e.currentMemberSearchText),[],[o]),m=(0,l.useFacetMap)(((e,t)=>aI(e.players,(e=>e.xuid!=t&&e.role!==jh.NONMEMBER))),[],[c,i]),p=(0,l.useFacetMap)(((e,t)=>0===t.length?aI(e,(e=>e.fetchProfileStatus===nF.Success)):aI(e,(e=>e.gamerTag.toLowerCase().includes(t.toLowerCase())))),[],[m,d]),f=PW(n,p,a-1),g=EB(f),E=(0,l.useFacetMemo)(((e,t,a)=>{let n=e.allMembers;if(t===Wh.Online)n=e.onlinePlayers;else if(t===Wh.InRealm&&(n=e.inRealmPlayers,a===Uh.LeastRecent||a===Uh.MostRecent))return n;let r=[];switch(a){case Uh.AlphabeticalAscending:r=Gh(n);break;case Uh.AlphabeticalDescending:r=$h(n);break;case Uh.LeastRecent:r=qh(n);break;case Uh.MostRecent:default:r=Kh(n)}return r}),[],[g,s,u,f]),b=(0,l.useFacetMap)((e=>e.length),[],[E]),h=(0,l.useFacetMap)((e=>e.length>0),[],[E]),v=(0,l.useFacetMap)(((e,t)=>SE(e.players,(e=>e.xuid===t))),[],[c,i]),F=(0,l.useFacetMap)(((e,t,a)=>null!=e&&!(t===Wh.Online&&!e.isOnline)&&!(t===Wh.InRealm&&!e.isInRealm)&&(0===a.length||e.gamerTag.toLowerCase().includes(a.toLowerCase()))),[],[v,s,d]),y=(0,l.useFacetMap)(((e,t)=>e||t),[],[h,F]),S=(0,l.useFacetMap)((e=>[t(".realmOwner"),t(".section"),t(".enumeration",["1",e?"2":"1"])].join(" . ")),[t],[h]),C=(0,l.useFacetMap)((e=>[t(".realmMembers"),t(".section"),t(".enumeration",e?["2","2"]:["1","1"])].join(" . ")),[t],[F]),M=Gu(),w=Vu(),k=(0,l.useFacetMap)((e=>null!=SE(e,(e=>e.fetchProfileStatus===nF.InProgress))),[],[E]),P=(0,l.useFacetMap)(((e,t)=>e.fetchMembersStatus===nF.InProgress||e.fetchOnlineMembersStatus===nF.InProgress||t),[],[c,k]),T=(0,l.useFacetMap)(((e,t)=>t||e||w),[w],[M,P]);return r.createElement(r.Fragment,null,r.createElement(ud,{loading:T,delegateFocusFromMemory:!0},r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:y},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:F},r.createElement(r.Fragment,null,r.createElement(bd,{text:S},r.createElement(aP,{role:"primary",label:t(".realmOwner")}),r.createElement(l.With,{data:v},(e=>r.createElement(kW,{realmPlayer:e,index:0})))),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:h},r.createElement(r.Fragment,null,r.createElement(bd,{text:C},r.createElement(aP,{role:"primary",label:t(".realmMembers")}),!1===w&&r.createElement(l.Map,{array:E},((e,t)=>r.createElement(kW,{realmPlayer:e,index:t+1,totalPlayers:b})))))))),r.createElement(l.Mount,{when:y,condition:!1},r.createElement(Uu,null,r.createElement(aw,{title:t(".noMembersFound"),imgSrc:IW,imgClass:iD()}))),r.createElement(Vi,{size:1})))}const OW="e5c8dc5ed69e16e52880";function AW(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function NW(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?AW(Object(a),!0).forEach((function(t){RW(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AW(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function RW(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function LW({isStoriesRouteActive:e,maximumDisplayedMembers:t}){const a=null!=t?t:300,n=(0,l.useSharedFacet)(zh),o=(0,l.useSharedFacet)(Hh),c=(0,l.useSharedFacet)(Bh),i=(0,l.useSharedFacet)(_l),s=(0,l.useSharedFacet)(_h),u=Sc(),{t:d}=ws("RealmsStories"),{t:m}=ws("RealmsStories.members"),{t:f}=ws("Realms.LoadingModals"),{t:E}=ws("TextField"),b=(0,l.useFacetMap)((e=>e.userXuid),[],[c]),h=(0,l.useFacetMap)((e=>e.ownerXuid),[],[c]),v=(0,l.useFacetMap)(((e,t,a)=>a.isPrimaryUser&&e===t),[],[b,h,bn()]),F=(0,l.useFacetMap)((e=>e.currentMemberFilterOption),[],[n]),y=(0,l.useFacetMap)((e=>e.currentMemberSearchText),[],[n]),S=(0,l.useFacetMap)((e=>e.currentMemberSortOption),[],[n]),[C,M]=(0,l.useFacetState)(!1),w=(0,l.useFacetMemo)((e=>{const t=[];return t.push({label:m(".allMembers"),value:Wh.All},{label:m(".onlineMembers"),value:Wh.Online},{label:m(".inRealmMembers"),value:Wh.InRealm}),t.map(((t,a,n)=>NW(NW({},t),{},{enumeration:m(".enumeration",[`${a+1}`,`${n.length}`]),gamepadAlias:`gamepad-alias-filter-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[m],[F]),k=(0,l.useFacetMemo)(((e,t)=>{const a=[];return t!==Wh.InRealm&&a.push({label:m(".recentlyPlayed"),value:Uh.MostRecent},{label:m(".leastRecentlyPlayed"),value:Uh.LeastRecent}),a.push({label:m(".fromAtoZ"),value:Uh.AlphabeticalAscending},{label:m(".fromZtoA"),value:Uh.AlphabeticalDescending}),a.map(((t,a,n)=>NW(NW({},t),{},{enumeration:m(".enumeration",[`${a+1}`,`${n.length}`]),gamepadAlias:`gamepad-alias-sort-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[m],[S,F]),P=(0,l.useFacetCallback)((e=>()=>{e.currentMemberFilterOption!==Wh.InRealm||e.currentMemberSortOption!==Uh.LeastRecent&&e.currentMemberSortOption!==Uh.MostRecent||(e.currentMemberSortOption=Uh.AlphabeticalAscending)}),[],[n]),T=(0,l.useFacetMap)(((e,t)=>aI(e.players,(e=>e.xuid!=t&&e.role!==jh.NONMEMBER))),[],[o,h]),I=(0,l.useFacetMap)(((e,t)=>0===t.length?aI(e,(e=>e.fetchProfileStatus===nF.Success)):aI(e,(e=>e.gamerTag.toLowerCase().includes(t.toLowerCase())))),[],[T,y]),x=PW(c,I,a-1),O=PW(c,x,a-1),A=EB(x),N=(0,l.useFacetMemo)(((e,t,a)=>{let n=e.allMembers;if(t===Wh.Online)n=e.onlinePlayers;else if(t===Wh.InRealm&&(n=e.inRealmPlayers,a===Uh.LeastRecent||a===Uh.MostRecent))return n;let r=[];switch(a){case Uh.AlphabeticalAscending:r=Gh(n);break;case Uh.AlphabeticalDescending:r=$h(n);break;case Uh.LeastRecent:r=qh(n);break;case Uh.MostRecent:default:r=Kh(n)}return r}),[],[A,F,S,x]);(0,l.useFacetEffect)(((e,t)=>{!e&&t&&M(!1)}),[M],[e,C]);const R=(0,l.useFacetMap)(((e,t)=>SE(e.players,(e=>e.xuid===t))),[],[o,h]),L=(0,l.useFacetMap)(((e,t,a)=>null!=e&&!(t===Wh.Online&&!e.isOnline)&&!(t===Wh.InRealm&&!e.isInRealm)&&(0===a.length||e.gamerTag.toLowerCase().includes(a.toLowerCase()))),[],[R,F,y]),{narrateText:D}=sd({interruptible:!1}),[_,B]=(0,l.useFacetState)(!1),W=(0,l.useFacetCallback)(((e,t,n,r,l)=>()=>{if(!e)return;B(!1);let o=r.length,c=l.length;n&&(o+=1,c+=1);const i=[m(".searchResult.name"),m(".searchResult.role")];""===t.currentMemberSearchText?i.push(m(".searchResult.hint.cleared")):0===c?i.push(m(".searchResult.hint.noResult")):1===c?i.push(m(".searchResult.hint.oneResult")):c<a?i.push(m(".searchResult.hint.multiResult",[`${o}`])):(i.push(m(".warning")),i.push(m(".searchResult.hint.multiResultTooManyPlayers",[`${c}`,`${o}`]))),D(i.join(" . "))}),[B,D,m,a],[_,n,L,I,N,O]);(0,l.useFacetEffect)((()=>{W()}),[W],[O]);const U=(0,l.useFacetMap)((e=>{const t=[m(".search"),E(".narrationComponentType"),m(".enumeration",["1","3"])];return e.currentMemberSearchText&&t.push(e.currentMemberSearchText),t.join(" . ")}),[m,E],[n]),[z,j]=(0,l.useFacetState)(!1),H=(0,l.useFacetCallback)(((e,t,a)=>n=>{B(!0),e.currentMemberSearchText=n,t&&D(a)}),[D,B],[n,z,U]),G=(0,l.useFacetMap)((e=>!e.isOnline),[],[i]),V=(0,l.useFacetMap)(((e,t)=>(e.fetchMembersStatus===nF.InternalError||e.fetchMembersStatus===nF.FetchFailed||e.fetchMembersStatus===nF.RateLimit)&&!t),[],[o,G]),$=(0,l.useFacetMap)(((e,t)=>e||t),[],[G,V]),X=(0,l.useFacetCallback)((e=>()=>{e.fetchMembers()}),[],[s]),K=g(),Y=p(),q=(0,l.useSharedFacet)(Kb),Q=(0,l.useFacetCallback)(((e,t)=>()=>{Y.push(`/${t.isInGame?"game-settings":"settings"}/members/${e.realmId}`),M(!0)}),[Y,M],[K,q]),J=(0,l.useFacetMap)((e=>e.players.length>a),[a],[o]);return r.createElement(Wu,null,r.createElement(zM,{noGutters:!0},r.createElement(l.Mount,{when:$},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(l.Mount,{when:G},r.createElement(sB,null)),r.createElement(l.Mount,{when:V},r.createElement(dB,{onClick:X,pageName:d(".members")}))),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))),r.createElement(l.Mount,{when:$,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:J},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(mB,null)),r.createElement(Vi,{size:4}))),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:4,narrowSize:8},r.createElement(_d,{"data-testid":"member-search-field-id",placeholder:m(".search"),narrationText:U,onSelectedChange:j,placeholderIcon:Ld.MagnifyingGlass,value:y,onBlur:H,maxLength:20,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})),r.createElement(zM.Column,{wideSize:4,narrowSize:4},r.createElement("div",{className:OW},r.createElement(Vi,{size:"narrow"===u?2:0}),r.createElement(WR,{title:m(".filter.title"),options:w,value:F,onItemSelect:(0,l.useFacetCallback)((e=>t=>{e.currentMemberFilterOption=t,P()}),[P],[n]),buttonTestId:"realms-members-filter-dropdown-button",dropdownOptionRoleHint:m(".filter.title"),dropdownEnumeration:m(".enumeration",["2","3"])}))),r.createElement(zM.Column,{wideSize:4,narrowSize:4},r.createElement("div",{className:OW},r.createElement(Vi,{size:"narrow"===u?2:0}),r.createElement(WR,{title:m(".sort.title"),options:k,value:S,onItemSelect:(0,l.useFacetCallback)((e=>t=>{e.currentMemberSortOption=t}),[],[n]),buttonTestId:"realms-members-sort-dropdown-button",dropdownOptionRoleHint:m(".sort.title"),dropdownEnumeration:m(".enumeration",["3","3"])})))),r.createElement(Vi,{size:3}),r.createElement(l.Mount,{when:v,condition:!1},r.createElement("div",{className:"a68f055d1f8d619b3153"},r.createElement(mO,{role:"neutral80",reversed:!1}))),r.createElement(DW,{isOwner:v,onManageMembers:Q},r.createElement(l.Mount,{when:v},r.createElement(mO,{role:"neutral80",reversed:!1})),r.createElement(xW,{maximumDisplayedMembers:t})))),r.createElement(l.Mount,{when:C},r.createElement(Jw.Component,{title:f(".loading")}))))}function DW({children:e,isOwner:t,onManageMembers:a}){const{t:n}=ws("RealmsStories.members");return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(lm,{inputLegend:n(".manage"),variant:"secondary",gamepadAlias:"manage-members-button",onClick:a},n(".manage"))),r.createElement(zM.Column,{wideSize:8,narrowSize:5},e))),r.createElement(l.Mount,{when:t,condition:!1},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},e),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))))}const _W=a.p+"assets/empty-592da933a6c054615c04.png";function BW(){const e=p(),{t}=ws("RealmsStories.OptedOutMembers"),a=(0,l.useSharedFacet)(Bh),n=(0,l.useSharedFacet)(Hh),o=(0,l.useFacetMap)((e=>Kh(aI(e.players,(e=>!e.hasOptedIn&&e.role!==jh.NONMEMBER)))),[],[n]),c=PW(a,o,300),i=(0,l.useFacetMap)((e=>e.length),[],[c]),s=(0,l.useFacetMap)((e=>e>0),[],[i]),u=(0,l.useFacetMap)(((e,t)=>t.length<e.length),[],[o,c]),d=(0,l.useFacetMap)((e=>e.fetchMembersStatus===nF.InProgress||e.fetchOnlineMembersStatus===nF.InProgress),[],[n]),m=(0,l.useFacetMap)((e=>null!=SE(e,(e=>e.fetchProfileStatus===nF.InProgress))),[],[c]),f=Gu(),g=Vu(),E=(0,l.useFacetMap)(((e,t,a)=>e||t||a||g),[g],[d,m,f]),b=t(".header"),h=t(".screen",[b]),v=[h,t(".listName"),t(".listRole")].join(" . "),F=iD();return r.createElement(_r,{collection:xx},r.createElement(ay,null,r.createElement(BM,{onBackButton:e.goBack,center:r.createElement(Zi,{type:"header5A"},b),gamepadAlias:"realms-stories-opted-out-members"},r.createElement(Wu,null,r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Vi,{size:1}),r.createElement(ud,{loading:E,delegateFocusFromMemory:!0},r.createElement(l.Unwrap,{data:s},(e=>e?r.createElement(bd,{text:v},r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:u},r.createElement(r.Fragment,null,r.createElement(mB,{forOptedOutMembers:!0}),r.createElement(Vi,{size:2}))),r.createElement(l.Map,{array:c},((e,t)=>r.createElement(kW,{realmPlayer:e,index:t+1,totalPlayers:i})))):r.createElement(Uu,null,r.createElement(bd,{text:h},r.createElement(Vi,{size:1}),r.createElement(aw,{title:t(".noOptedOutMembers"),imgSrc:_W,imgClass:F}))))),r.createElement(Vi,{size:2}))),r.createElement(zM.Column,{wideSize:1,narrowSize:0})))))))}const WW=a.p+"assets/IconBootsGrey-142a375cbe9eecc3879d.png";function UW(){return UW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},UW.apply(null,arguments)}const zW=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("b5b5407f0d97ad460ab9",t);return r.createElement(pu,UW({},a,{className:n,src:WW,imageRendering:"pixelated"}))},jW=a.p+"assets/IconClockGrey-ea5642bd84ad58714dd4.png";function HW(){return HW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},HW.apply(null,arguments)}const GW=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("c6a638bbbcaac5994e7e",t);return r.createElement(pu,HW({},a,{className:n,src:jW,imageRendering:"pixelated"}))},VW=a.p+"assets/IconSwordGrey-9087f66e9056b3b959aa.png";function $W(){return $W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$W.apply(null,arguments)}const XW=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("c56e4813735a8064a6df",t);return r.createElement(pu,$W({},a,{className:n,src:VW,imageRendering:"pixelated"}))},KW=a.p+"assets/IconPickaxeGrey-cb118f7d544ff4fce2e2.png";function YW(){return YW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},YW.apply(null,arguments)}const qW=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("cfe8b3843ef1053a24d2",t);return r.createElement(pu,YW({},a,{className:n,src:KW,imageRendering:"pixelated"}))},QW="cc5bc5ac25b30e8245f4",JW=({item:e,index:t,listLength:a})=>{const{t:n}=ws("StatListItem"),o=(0,l.useFacetMap)((e=>null==e.compareData||e.data.value>=e.compareData.value),[],[e]),c=(0,l.useFacetMap)((e=>null!=e.compareData&&e.data.value<=e.compareData.value),[],[e]),i=function(e){switch(e){case CE.Boots:return r.createElement(zW,null);case CE.Clock:return r.createElement(GW,null);case CE.Sword:return r.createElement(XW,null);case CE.Pickaxe:return r.createElement(qW,null);default:return r.createElement(r.Fragment,null)}}((0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.icon),[],[e])));return r.createElement(rT,{isFocusable:!0,narrationText:(0,l.useFacetMap)(((e,a)=>[e.label,null==e.compareData?e.data.narration:n(".compareNarration",[e.data.narration,e.compareData.narration]),n(".itemNarration",[`${t+1}`,`${a}`])].join(" . ")),[t,n],[e,a])},r.createElement(rT.Cell,{direction:"row"},r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:o},i),r.createElement(l.Mount,{when:o,condition:!1},r.createElement("div",{className:QW}))),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmest"},(0,l.useFacetMap)((e=>e.label),[],[e])),r.createElement("div",{className:"c180ae5a8a2048980319"},r.createElement(Zi,{type:"captionShort"},(0,l.useFacetMap)((e=>e.data.display),[],[e])),r.createElement(l.With,{data:(0,l.useFacetMap)((e=>null==e.compareData?void 0:e.compareData.display),[],[e])},(e=>r.createElement(Zi,{type:"captionShort"},e)))),r.createElement(l.With,{data:(0,l.useFacetMap)((e=>{if(null!=e.compareData)return 0===e.compareData.value&&0===e.data.value?.5:e.data.value/(e.data.value+e.compareData.value)}),[],[e])},(e=>r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(bm,{percentage:e,fillComplement:!0}))))),r.createElement(rT.Cell,{direction:"row"},r.createElement(l.Mount,{when:c},i),r.createElement(l.Mount,{when:c,condition:!1},r.createElement("div",{className:QW})),r.createElement(Vi,{size:2})))};function ZW(e,t){return{gamerIcon:e.xblProfilePic,gamerTag:e.xblName,playingOnServerId:void 0,variant:t?"self":"player",id:e.xuid,xuid:e.xuid,favoriteStatus:e.favoriteStatus,presenceMessage:"",presence:e.presence,titleName:e.titleName,partyPresence:e.partyPresence}}const eU="compare-stats-player-item-0";function tU({currentProfileFacet:e,loadedProfileFacet:t,statisticsFacet:a}){const{t:n}=ws("CompareStatsRoute");(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,t.currentPlatformId)}),[],[(0,l.useSharedFacet)(xh),(0,l.useSharedFacet)(FF)])();const o=(0,l.useFacetMap)(((e,t)=>e.state.xblState===Th.Loaded&&t.state.xblState===Th.Loaded),[],[t,e]),c=(0,l.useFacetMap)((e=>ZW(e.data,!1)),[],[t]),i=(0,l.useFacetMap)((e=>ZW(e.data,!0)),[],[e]),s=(0,l.useFacetWrap)(2),u=(0,l.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.currentUserValueRaw,display:e.currentUserValueDisplay,narration:e.currentUserValueNarration},compareData:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[a]),d=(0,l.useFacetMap)((e=>!e.loaded),[],[a]);return r.createElement(ZN,{title:n(".header"),screenAnalyticsId:"CompareStats",gamepadAlias:"compare-stats-route",delegateByAlias:eU},(()=>r.createElement(zM,{narrowBreakpointWidth:102},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(b_,{header:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(bd,{text:[n(".playerItemsNarration"),n(".playerItemsListRole")].join(" . ")},r.createElement(Vi,{size:2}),r.createElement("div",{className:"e8fe377d691702899c5f"},r.createElement(vD,{item:i,index:0,listLength:s,disabled:!0,gamepadAlias:eU,profileEntryPoint:Ih.Profile_CompareStatsCurrent}),r.createElement(Vi,{size:2}),r.createElement(vD,{item:c,index:1,listLength:s,disabled:!0,gamepadAlias:"compare-stats-player-item-1",profileEntryPoint:Ih.Profile_CompareStatsLoaded})),r.createElement(Vi,{size:2})))),data:u,gamepadAlias:"compare-stats-list",renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(JW,{item:e,index:t,listLength:a}),loading:d,footer:r.createElement(r.Fragment,null,r.createElement(Lm.Space,null),r.createElement(Vi,{size:2}))}))))))}let aU;!function(e){e.Feed="feed",e.Members="members",e.Timeline="timeline"}(aU||(aU={}));function nU({playerData:e,iconSize:t}){const a=(0,l.useFacetMap)((e=>e.gamerIcon),[],[e]);return r.createElement(Uy,{src:a,statusBadge:"offline",variant:t})}function rU({players:e,normalIconCount:t=5,narrowIconCount:a=1,iconSize:n="medium"}){const o="narrow"===Sc()?a:t,c=(0,l.useFacetMap)((e=>e.length>o),[o],[e]),i=(0,l.useFacetMap)(((e,t)=>t?e.slice(e.length-o,e.length).reverse():e.slice().reverse()),[o],[e,c]),s=(0,l.useFacetMap)((e=>"+"+(e.length-o)),[o],[e]);return r.createElement("div",{className:"a99cdb17939621b70f4c"},r.createElement(l.Map,{array:i},((e,t)=>r.createElement(r.Fragment,null,r.createElement(nU,{playerData:e,iconSize:n}),t<o-1&&r.createElement(Vi,{size:1})))),r.createElement(l.Mount,{when:c},r.createElement("div",{className:"e23a8bfac9763d43033e"},r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},s))))}const lU=a.p+"assets/realms_milestone_blank_medium-595d0ea07f52a4852445.png",oU=a.p+"assets/realms_no_player_icon-215e26cd2efdb79fe605.png";function cU({eventId:e,timePosted:t,timePostedNarration:a,storyFeedElementCount:n,shouldShowUnreadPostBadge:o,image:c,involvedPlayers:i,coordinates:s,eventMetadata:u}){const d=Mc(70),{t:m}=ws("RealmsStories.feedEvent"),p=(0,l.useSharedFacet)(Sv),f=(0,l.useFacetMap)((e=>0==e.length?[{gamerTag:"",gamerIcon:oU,hasOptedIn:!0}]:e),[],[i]),g=(0,l.useFacetWrap)(null!=c?c:lU),E=(0,l.useFacetMap)(((e,t)=>!!t.realmCoordinatesStatus&&e.length>0),[],[s,p]),b=(0,l.useFacetMap)(((e,t)=>e?m(".coordinatePrefix")+" "+t.join(", ").toString():""),[m],[E,s]),h=m(".title"),v=(0,l.useFacetWrap)(null!=u?u:""),F=(0,l.useFacetMap)(((e,t,a,n)=>J_({t:m,eventId:e,playerData:t,maxDisplayedPlayers:a?X_.narrow:X_.full,eventMetadata:n})),[m],[e,f,d,v]),y=(0,l.useFacetMap)(((e,t,a,n)=>[h,m(".narration.textblock"),m(".enumeration",["1",`${n}`]),e,t,a].join(" . ")),[m,h],[a,F,b,n]),S=Yr("neutral"),C=Yr("neutral80"),M=Yr("informative");return r.createElement(Wi,{inputLegend:!1,narrationText:y,className:dl()(S.border.base,M.background.base),classNameFocused:Ws},r.createElement("div",{className:dl()("d08de630d73b915ef411",S.border.base)},r.createElement(Vi,{size:2}),r.createElement("div",{className:"aa39822fe5bcd932014e"},r.createElement("div",null,r.createElement(rU,{players:f,normalIconCount:X_.full,narrowIconCount:X_.narrow,iconSize:"small"})),r.createElement(Vi,{size:3}),r.createElement("div",{className:"de11b1964924c8fb188a"},r.createElement("div",{className:"ab2abb77475b8193116c"},r.createElement(Zi,{verticalAlign:"center",type:"body",align:"left",role:"neutral80"},r.createElement(ji,null,h))),r.createElement("div",{className:"b3e4ff64ba170a5b63a8"},r.createElement(Zi,{verticalAlign:"center",type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},t)))),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"c5c80b40d520c9753427"},r.createElement(Lk,{role:"secondary"})))),r.createElement("div",{className:dl()("a0c10a8da86be15719ff",S.border.base,C.background.base)},r.createElement(Vi,{size:2}),r.createElement("div",{className:"f84ecaad7d05d843ab11"},r.createElement(l.Mount,{when:d,condition:!1},r.createElement(r.Fragment,null,r.createElement("div",{className:"d43510b163a1d5425654"},r.createElement("div",{className:"a333d235a5f450856c5c"}),r.createElement(pu,{className:"b3334e9cd17606346c08",src:g,imageRendering:"pixelated"})),r.createElement(Vi,{size:4}))),r.createElement("div",{className:"dc3ea5d0457d89cf42d3"},r.createElement(Zi,{verticalAlign:"center",type:"body",role:"neutral80"},F),r.createElement(l.Mount,{when:E},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(rk,{role:"neutral100"},b)))))),r.createElement(Bs,null))}function iU({eventId:e,timePosted:t,timePostedNarration:a,storyFeedElementCount:n,shouldShowUnreadPostBadge:o,image:c,involvedPlayers:i,eventMetadata:s}){const{t:u}=ws("RealmsStories.feedEvent"),d=u(".title"),m=Mc(70),p=Yr("neutral"),f=Yr("informative"),g=Yr("neutral80"),[E,b]=(0,l.useFacetState)("0px"),h=(0,r.useRef)(null);Bc(h,(({width:e})=>{b(e/1.778+"px")}));const v=(0,l.useFacetWrap)(c),F=(0,l.useFacetWrap)(null!=s?s:""),y=(0,l.useFacetMap)(((e,t,a,n)=>J_({t:u,eventId:e,playerData:t,maxDisplayedPlayers:a?$_.narrow:$_.full,eventMetadata:n})),[u],[e,i,m,F]),S=(0,l.useFacetMap)(((e,t,a,n)=>{const r=a.map((e=>e.gamerTag));return[d,u(".narration.textblock"),u(".enumeration",["1",`${n}`]),e,t,u(".playersInvolved"),r].join(" . ")}),[u,d],[a,y,i,n]);return r.createElement(Wi,{inputLegend:!1,narrationText:S,className:dl()(p.border.base,f.background.base),classNameFocused:Ws},r.createElement("div",{className:dl()("ed288867b6beb176f924",p.border.base,f.background.base)},r.createElement("div",{className:"cf9d9776cd81c614b447"},r.createElement(Zi,{type:"body",align:"left",role:"neutral80"},r.createElement(ji,null,d))),r.createElement("div",{className:"adaa0467a7ffd14f26d4"},r.createElement(Zi,{type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},t)),r.createElement(l.Mount,{when:o},r.createElement("div",{className:"cc6a828218818936c72f"},r.createElement(Lk,{role:"secondary"})))),r.createElement("fast-div",{ref:h,className:dl()("ecc5b9c48396bf2f92f4",g.background.base),style:{height:E}},r.createElement("div",{className:"c6cdd73f6fb84e21044d"},r.createElement(pu,{aspectRatio:pu.AspectRatio["16:9"],src:v})),r.createElement("div",{className:"ea4dfd0abd62d5dff14d"},r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"header5B",align:"center",role:"neutral80"},y),r.createElement(Vi,{size:2}),r.createElement(rU,{players:i,normalIconCount:$_.full,narrowIconCount:$_.narrow,iconSize:"medium"}),r.createElement(Vi,{size:4}))),r.createElement(Bs,null))}const sU=e=>{const t=Sc(),a=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),n=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[bn()]);return(0,l.useFacetMap)(((e,a)=>{let n=2;return a&&(n+=2),e||n++,"narrow"!=t&&n++,n}),[t],[a,n])};function uU({realmStory:e,onContentClicked:t}){const a=(0,l.useSharedFacet)(Hh),n=(0,l.useSharedFacet)(Bh),o=(0,l.useSharedFacet)(Sv),c=(0,l.useFacetMap)((e=>e.body),[],[e]),i=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),s=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),u=(0,l.useFacetMap)((e=>e.image),[],[e]),d=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),m=(0,l.useFacetMap)((e=>e.players),[],[a]),p=(0,l.useFacetMap)(((e,t)=>{const a=SE(t,(t=>t.xuid===e));return null!=a?a:H_}),[],[d,m]),f=(0,l.useFacetMap)((e=>e.hasViewed),[],[e]),g=(0,l.useFacetMap)(((e,t,a,n)=>!e&&t!==a.userXuid&&n.realmNotificationsStatus),[],[f,d,n,o]),E=sU(e);return r.createElement(cB,{body:c,timePosted:i,timePostedNarration:s,storyFeedElementCount:E,shouldShowUnreadPostBadge:g,image:u,author:p,onContentClicked:t})}function dU({realmStory:e}){const t=(0,l.useSharedFacet)(Hh),a=(0,l.useSharedFacet)(Sv),n=(0,l.useFacetMap)((e=>e.players),[],[t]),o=(0,l.useFacetMap)((e=>e.body),[],[e]),c=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),i=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),s=(0,l.useFacetMap)((e=>e.hasViewed),[],[e]),u=(0,l.useFacetMap)(((e,t)=>!e&&t.realmNotificationsStatus),[],[s,a]),d=(0,l.useFacetMap)((e=>Y_.has(e.body)?G_(e.body):""),[],[e]),m=(0,l.useFacetMap)((e=>{const t=[];if(e.isEvent&&e.isEventLoaded)for(let a=0;a<e.eventPlayerXuids.length;a++)t.push(e.eventPlayerXuids[a]);return t}),[],[e]),p=(0,l.useFacetMap)(((e,t)=>t.filter((t=>e.includes(t.xuid))).map((e=>null!=e&&""!=e.gamerTag?e:H_))),[],[m,n]),f=(0,l.useFacetMap)((e=>e.isEventLoaded&&e.isEvent&&e.eventHasCoordinates?[e.eventXCoordinate,e.eventYCoordinate,e.eventZCoordinate]:[]),[],[e]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=Q_(e.body))&&void 0!==t?t:"medium"}),[],[e]),E=(0,l.useFacetMap)((e=>e.eventMetadata),[],[e]),b=sU(e);return r.createElement(l.Unwrap,{data:g},(e=>{switch(e){case"medium":return r.createElement(cU,{eventId:o,timePosted:c,timePostedNarration:i,storyFeedElementCount:b,shouldShowUnreadPostBadge:u,image:d,involvedPlayers:p,coordinates:f,eventMetadata:E});case"large":return r.createElement(iU,{eventId:o,timePosted:c,timePostedNarration:i,storyFeedElementCount:b,shouldShowUnreadPostBadge:u,image:d,involvedPlayers:p,eventMetadata:E});default:return null}}))}function mU({realmStory:e,index:t,numberOfStories:a,deleteStory:n,onContentClicked:o}){const c=(0,l.useSharedFacet)(_h),i=(0,l.useSharedFacet)(zh),s=(0,l.useSharedFacet)(Bh),{t:u}=ws("RealmsStories.feedPost"),d=p(),m=g();!function(e){const t=(0,l.useSharedFacet)(_h),a=(0,l.useFacetMap)((e=>e.id),[],[e]),n=(0,l.useFacetMap)((e=>e.imageStatus),[],[e]);(0,l.useFacetEffect)(((e,t,a)=>{e===nF.Idle&&t.fetchStoryImage(a)}),[],[n,t,a])}(e),function(e){const t=(0,l.useSharedFacet)(_h),a=(0,l.useFacetCallback)((e=>t=>{e.setViewed(t,"")}),[],[t]);(0,l.useFacetEffect)((e=>{e.setViewedStatus===rF.Idle&&a(e.id)}),[a],[e])}(e);const f=(0,l.useFacetMap)((e=>!e.isPrimaryUser),[],[bn()]),E=(0,l.useFacetMap)((e=>1===e.totalComments?u(".totalComment",[e.totalComments.toString()]):u(".totalComments",[e.totalComments.toString()])),[u],[e]),b=(0,l.useFacetMap)((e=>1===e.totalLikes?u(".totalLike",[e.totalLikes.toString()]):u(".totalLikes",[e.totalLikes.toString()])),[u],[e]),h=(0,l.useFacetMap)((e=>e.hasLiked),[],[e]),v=(0,l.useFacetMap)((e=>0===e.totalLikes),[],[e]),F=(0,l.useSharedFacet)(vv),y=g(),S=(0,l.useFacetMap)((e=>e.realmId),[],[y]),C=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{t.currentStoryId=e.id,Fv(a.stories),d.push(`/realms-story-comments/${encodeURIComponent(e.id)}/${n}`)}),[d],[e,i,F,S]),M=(0,l.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus!==rF.InProgress&&(t.clearToggleLikeStatus(e.id),t.toggleLike(e.id,""))}),[],[e,c]),w=CB.useModal(),k=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),P=(0,l.useFacetMap)(((e,t)=>e===t.userXuid),[],[k,s]),T=(0,l.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[s]),I=(0,l.useFacetMap)((e=>e.isEventLoaded&&e.isEvent),[],[e]),x=(0,l.useFacetMap)((e=>!e.isEvent||e.isEventLoaded),[],[e]),O=wB.useModal(),A=(0,r.useCallback)((()=>{O.hide(),w.hide()}),[O,w]),N=(0,l.useFacetCallback)((e=>()=>{n(e.id),A()}),[n,A],[e,c]),R=PB.useModal(),L=(0,r.useCallback)((()=>{R.hide(),w.hide()}),[R,w]),D=(0,l.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,""),L()}),[L],[e,c]),_=(0,l.useFacetMap)((e=>e.reportToClubOwnerStatus==rF.InputInvalid||e.reportToClubOwnerStatus==rF.InternalError||e.reportToClubOwnerStatus==rF.UploadFailed||e.reportToClubOwnerStatus==rF.PostingFailed),[],[e]),B=(0,l.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[e,c]),W=(0,l.useFacetCallback)(((e,t)=>()=>{w.hide(),d.push(`/realms-stories-report-feed-item/${ZB.Post}/${e.realmId}?postId=${t.id}`)}),[d,w],[m,e]),U=(0,l.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),z=(0,l.useFacetMap)((e=>e!==rF.Idle&&e!==rF.InProgress&&e!==rF.RateLimit),[],[U]),j=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[c,e]),H=(0,l.useSharedFacet)(dh);(0,l.useFacetEffect)(((e,t,a)=>{e.reportToClubOwnerStatus===rF.Success&&(t.queueSnackbar(u(".options.notify.toast")),a.clearReportToClubOwnerStatus(e.id))}),[u],[e,H,c]);const G=(0,l.useFacetMap)((e=>e.reportToClubOwnerStatus==rF.RateLimit||e.reportToXboxStatus==rF.RateLimit),[],[e]),V=(0,l.useFacetCallback)((e=>()=>{e.reportToClubOwnerStatus==rF.RateLimit&&B(),e.reportToXboxStatus==rF.RateLimit&&j()}),[B,j],[e]),$=(0,l.useFacetMap)((e=>[u(".storyPostGroup"),u(".postGroupRole"),u(".postGroupEnumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,u],[a]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:x},r.createElement(bd,{text:$},r.createElement(oB,{content:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:I},r.createElement(dU,{realmStory:e})),r.createElement(l.Mount,{when:I,condition:!1},r.createElement(uU,{realmStory:e,onContentClicked:o}))),index:t,totalComments:E,totalLikes:b,hasLiked:h,hideLikes:v,readOnly:f,openCommentsCallback:C,toggleLikeCallback:M,openOptionsCallback:w.show}))),r.createElement(l.Mount,{when:w.isVisible},r.createElement(CB.Component,{isAuthor:P,isRealmOwner:T,isEvent:I,onClose:w.hide,onDelete:O.show,onNotify:R.show,onReport:W})),r.createElement(l.Mount,{when:O.isVisible},r.createElement(wB.Component,{onConfirm:N,onCancel:A,isCommentOptions:!1})),r.createElement(l.Mount,{when:R.isVisible},r.createElement(PB.Component,{onConfirm:D,onCancel:L,isCommentOptions:!1})),r.createElement(l.Mount,{when:_},r.createElement(OB.Component,{onClose:B})),r.createElement(l.Mount,{when:G},r.createElement(M_.Component,{onClickClose:V})),r.createElement(l.Mount,{when:z},r.createElement(RB.Component,{reportStatus:U,onClose:j})))}let pU;!function(e){e[e.IDLE=0]="IDLE",e[e.DELETING_POST=1]="DELETING_POST",e[e.SWAPING_PAGE=2]="SWAPING_PAGE",e[e.ERROR=3]="ERROR"}(pU||(pU={}));const fU=As((({src:e,isLoading:t=!1,onClose:a,narrationText:n,closeNarration:o,closeInputLegend:c})=>{const i=(0,r.useRef)(null),s=(0,l.useFacetWrap)(t);return r.createElement("div",{className:"a5cd7cebe15b66ff4ea8"},r.createElement("div",{className:"db27406151565e5eff65"},r.createElement(bd,{text:n},r.createElement("div",{ref:i,className:"b568fdba539205785282"},r.createElement(uu,{containerRef:i,shouldBindFocus:!0,delegateFocusFromMemory:!0},r.createElement(l.Mount,{when:s},r.createElement("div",{className:"a10a7c7951be7771ec68"},r.createElement(id,null))),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(pu,{src:e,className:"a8a0ff68df75e9928ac1",cover:!0})),r.createElement(Ed,{onClick:a,options:{button:j.B,inputLegend:c}}),r.createElement("div",{className:"b270615b9a056a787250"},r.createElement(lm,{inputLegend:c,narrationPrefix:o,Icon:cy,onClick:a,"data-testid":"fullImageModalCloseButtonTestId"})))))),r.createElement(Lm.Space,null))}));function gU(){const e=Mc(102.3),t=(0,l.useSharedFacet)(vv),a=(0,l.useSharedFacet)(Hh),n=(0,l.useSharedFacet)(_h),o=(0,l.useSharedFacet)(sv),c=(0,l.useSharedFacet)(_l),i=(0,l.useSharedFacet)(zh),{t:s}=ws("RealmsStories"),{t:u}=ws("RealmsStories.feed"),d="story-entry-like-0",m=p(),f=Pe(),E=Sc(70,100);let b=1,h=4,v=6,F=10;"narrow"===E?(b=0,h=3,v=5,F=8):"tablet"===E&&(b=0,v=8,F=12);const y=(0,r.useRef)(!0);(0,l.useFacetEffect)(((e,t)=>{y.current&&(e.loadStoriesSlice(0,t.pageLength),y.current=!1)}),[],[n,t]);const S=(0,l.useFacetMap)((e=>e?2:7),[],[e]),C=(0,l.useFacetMap)((e=>!e.storiesFirstPageReady),[],[t]),M=(0,l.useFacetMap)((e=>e.stories),[],[t],(()=>()=>!1)),w=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.stories.length)&&void 0!==t?t:0}),[],[t]),[k,P]=(0,l.useFacetState)(1),T=(0,r.useRef)(null),I=(0,l.useFacetMap)((e=>Math.ceil(e.totalStories/e.pageLength)),[],[t]),x=(0,l.useFacetCallback)(((e,t)=>a=>{Fv(t.stories),P(a);const n=(a-1)*t.pageLength,r=n+t.pageLength;e.loadStoriesSlice(n,r),T.current&&(T.current.scrollTop=0),f(d)}),[P,f],[n,t]),O=function(e,t){const[a,n]=(0,l.useFacetState)(pU.IDLE),[r,o]=(0,l.useFacetState)(""),[c,i]=(0,l.useFacetState)(0),[s,u]=(0,l.useFacetState)(rF.Idle),d=(0,l.useSharedFacet)(vv),m=(0,l.useSharedFacet)(_h),p=(0,l.useFacetCallback)(((e,t)=>a=>{e===pU.IDLE&&(o(a),n(pU.DELETING_POST),t.delete(a,""))}),[n,o],[a,m]),f=(0,l.useFacetCallback)(((e,t,a)=>()=>{e!==pU.IDLE&&(e===pU.ERROR&&(t.clearDeleteStatus(a),u(rF.Idle)),o(""),i(0),n(pU.IDLE))}),[o,i,n,u],[a,m,r]);return(0,l.useFacetEffect)(((e,a,r,l)=>{if(e!==pU.DELETING_POST)return;const o=r.stories.find((e=>e.id===a));o?o.deleteStatus!==rF.InputInvalid&&o.deleteStatus!==rF.InternalError&&o.deleteStatus!==rF.UploadFailed&&o.deleteStatus!==rF.PostingFailed&&o.deleteStatus!==rF.RateLimit||(u(o.deleteStatus),n(pU.ERROR)):r.totalStories>0&&0===r.stories.length&&l>1?(i(l),n(pU.SWAPING_PAGE),t(l-1)):f()}),[u,n,f,i,t],[a,r,d,e]),(0,l.useFacetEffect)(((e,t,a,n)=>{e===pU.SWAPING_PAGE&&t!==a&&0!==n.stories.length&&f()}),[t,e,f],[a,e,c,d]),{state:a,error:s,delete:e=>p(e),reset:f}}(k,x),A=(0,l.useFacetMap)((e=>e===rF.InputInvalid||e===rF.InternalError||e===rF.UploadFailed||e===rF.PostingFailed),[],[O.error]),N=(0,l.useFacetMap)((e=>e===rF.RateLimit),[],[O.error]),R=(0,l.useFacetMap)(((e,t)=>0===e.length&&t===pU.IDLE),[],[M,O.state]),L=(0,l.useFacetMap)(((e,t)=>{const a=Kh(aI(e.players,(e=>0!==e.lastSeenTime))),n=Math.min(t,a.length),r=[];for(let e=0;e<n;e++)r.push({xuid:a[e].xuid,gamerTag:a[e].gamerTag,gamerIcon:a[e].gamerIcon,role:a[e].role,isOnline:a[e].isOnline,isInRealm:a[e].isInRealm,fetchProfileStatus:a[e].fetchProfileStatus,lastSeenTime:a[e].lastSeenTime,hasOptedIn:a[e].hasOptedIn});return r}),[],[a,S]),D=(0,l.useFacetMap)((e=>e.length),[],[L]),_=(0,l.useFacetMap)((e=>e.fetchMembersStatus!==nF.Success),[],[a]),B=(0,l.useFacetMap)(((e,t,a)=>e||t.fetchSessionStatus!==nF.Success||!a.every((e=>e.fetchProfileStatus===nF.Success))),[],[_,o,L]),W=(0,l.useFacetMap)((e=>e.length>0),[],[L]),U=g(),z=(0,l.useFacetMap)((e=>e.realmId),[],[U]),j=(0,l.useFacetCallback)(((e,t)=>()=>{Fv(e.stories),m.push(`/realms-new-story/${t}`)}),[m],[t,z]),H=(0,l.useFacetMap)((e=>!e.isOnline),[],[c]),G=(0,l.useFacetMap)(((e,t)=>(e.storiesStatus===nF.InternalError||e.storiesStatus===nF.FetchFailed||e.storiesStatus===nF.RateLimit)&&!t),[],[t,H]),V=(0,l.useFacetMap)(((e,t)=>e||t),[],[H,G]),$=(0,l.useFacetMap)(((e,t)=>t.storiesFirstPageReady&&e),[],[R,t]),X=(0,l.useFacetCallback)((e=>()=>{e.clearStoryFeedStatus(),e.fetchStories()}),[],[n]);(0,l.useFacetEffect)((e=>{e.newPostAvailable&&(e.newPostAvailable=!1,x(1))}),[x],[i]);const K=(0,r.useRef)(null),[Y,q]=(0,l.useFacetState)(""),Q=fU.useModal(),J=(0,r.useCallback)((e=>{q(e.image),Q.show()}),[Q,q]),Z=(0,l.useFacetMap)((e=>[u(".fullImage",[e.name]),u(".fullImageRole")].join(" . ")),[u],[(0,l.useSharedFacet)(Bh)]),ee=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[bn()]);return r.createElement(Wu,null,r.createElement(zM,{noGutters:!0},r.createElement(Uu,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:V},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:b,narrowSize:b}),r.createElement(zM.Column,{wideSize:F,narrowSize:8},r.createElement(l.Mount,{when:H},r.createElement(sB,null)),r.createElement(l.Mount,{when:G},r.createElement(dB,{onClick:X,pageName:s(".storyFeed")}))),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(fU.Component,{src:Y,onClose:Q.hide,narrationText:Z,closeNarration:u(".fullImageClose"),closeInputLegend:u(".fullImageClose")})),r.createElement(l.Mount,{when:V,condition:!1},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:b,narrowSize:b}),r.createElement(zM.Column,{wideSize:h,narrowSize:h},r.createElement(uu,{containerRef:K,delegateFocusByAlias:"add-story-button"},r.createElement("div",{ref:K,className:"d8a0d6aafe8f1b58eaaa"},r.createElement(l.Mount,{when:ee},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(lm,{inputLegend:u(".addStory"),variant:"hero",gamepadAlias:"add-story-button",onClick:j},u(".addStory")))),r.createElement(l.Mount,{when:W},r.createElement(bd,{text:`${u(".recentlyPlayed")} . ${u(".recentlyPlayedComponentRole")}`},r.createElement(ud,{loading:B,delegateFocusFromMemory:!0},r.createElement(Vi,{size:2}),r.createElement(aP,{role:"primary",label:u(".recentlyPlayed")}),r.createElement(l.Map,{array:L},((e,t)=>r.createElement(kW,{realmPlayer:e,index:t+1,isSimpleLayout:!0,totalPlayers:D}))))))))),r.createElement(zM.Column,{wideSize:v,narrowSize:v},r.createElement(Uu,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:$},r.createElement(aw,{title:u(".emptyStoryFeedTitle"),text:u(".emptyStoryFeedText")})),r.createElement(l.Mount,{when:A},r.createElement(IB.Component,{onClose:O.reset,isCommentOptions:!1})),r.createElement(l.Mount,{when:N},r.createElement(M_.Component,{onClickClose:O.reset})),r.createElement(ud,{innerRef:T,loading:C,scrollIntoViewAlign:"center",gamepadAlias:"story-feed-posts-wrapper",delegateFocusByAlias:d,delegateFocusFromMemory:!0,renderTracker:e=>r.createElement(ek,{renderingCompleted:e,type:"meaningful"})},r.createElement(l.Mount,{when:ee,condition:!1},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(_r,{collection:Ix},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,u(".guestAccountNotificationBanner")))))),r.createElement(Vi,{size:1}),r.createElement(l.Map,{array:M},((e,t)=>r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(mU,{realmStory:e,index:t,numberOfStories:w,deleteStory:O.delete,onContentClicked:J}),r.createElement(l.Unwrap,{data:w},(e=>t===e-1?r.createElement(Vi,{size:1}):r.createElement(Vi,{size:"narrow"===E?1:3})))))),r.createElement(Vi,{size:3}),r.createElement(FO,{totalPages:I,currentPage:k,onChange:x}),r.createElement(Vi,{size:1})))))))))))}const EU=a.p+"assets/generic-empty-fd3eaf870915431ee566.png",bU="e75869685d5e27c32bf7",hU="f6fa6a0b4bb22e2b4033",vU="ec16f6d4ab48f64fcace",FU=a.p+"assets/hanger-3e72e9e92ff4c4221b4a.png",yU=a.p+"assets/options-4558c1dd329badc5712c.png",SU=a.p+"assets/icon_alex-5480bbe64203ace650e9.png",CU=a.p+"assets/friends-6037f8bc7504754fb48a.png",MU=a.p+"assets/checkmark_square-3c7c4ca33227f14337ef.png",wU="b3ea77029532ae5c1380",kU="cad011cd688da5294d75",PU="cc9a151298193f829a2c",TU="f795a0af3e374205f489",IU="c61f96cf5e1c013afbe9",xU="e7275deba6b38768a501",OU="fc3748dddee923ad3d23";function AU(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function NU(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?AU(Object(a),!0).forEach((function(t){RU(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AU(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function RU(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let LU;!function(e){e[e.RemoveFriend=0]="RemoveFriend",e[e.Block=1]="Block",e[e.Mute=2]="Mute",e[e.Report=3]="Report",e[e.ViewXboxProfile=4]="ViewXboxProfile",e[e.ViewXboxProfileInBrowser=5]="ViewXboxProfileInBrowser",e[e.ShareMyProfile=6]="ShareMyProfile",e[e.SignOut=7]="SignOut",e[e.PrivacyAndSafety=8]="PrivacyAndSafety",e[e.AddToFavorites=9]="AddToFavorites",e[e.RemoveFromFavorites=10]="RemoveFromFavorites",e[e.ManageAccountXboxApp=11]="ManageAccountXboxApp"}(LU||(LU={}));const DU=As((function({onClose:e,onShare:t,player:a,hideReportOption:n=!1}){const{t:o}=ws("PlayerOptionsModal"),c=(0,l.useSharedFacet)(Rh),i=(0,l.useFacetWrap)(a),s=(0,l.useSharedFacet)(CF),u=(0,l.useSharedFacet)(FF),d=(0,l.useSharedFacet)(_l),m=p(),f=(0,l.useSharedFacet)(Kb),g=Rd(Mb),E=(0,l.useFacetWrap)(n),b=(0,l.useFacetMap)(((e,t,a,n,r)=>{const l=t.platform,c=RI(t.platform),i=l===Ye.XBOX;let s=[];if(e.relation===kh.Self)s=[{label:o(".shareMyProfile"),value:LU.ShareMyProfile,testId:"share-my-profile"}],l===Ye.UWP_GDK_PC||l===Ye.XBOX||n.isInGame||s.push({label:o(".signOut"),value:LU.SignOut,testId:"sign-out"}),l===Ye.UWP_GDK_PC&&s.push({label:o(".manageAccount"),value:LU.ManageAccountXboxApp,Icon:LM.ExternalLink,testId:"manage-account"}),l!==Ye.UWP_GDK_PC&&c&&s.push({label:o(".manageXboxProfile"),value:LU.ViewXboxProfileInBrowser,Icon:LM.ExternalLink,testId:"manage-xbox-profile"}),c&&s.push({label:o(".privacyAndSafety"),value:LU.PrivacyAndSafety,Icon:LM.ExternalLink,testId:"privacy-and-safety"});else{if(s=[{label:o(".block"),value:LU.Block,isSelected:e.isBlocked,isSelectable:!0,testId:"block-player"},{label:o(".mute"),value:LU.Mute,isSelected:e.isMuted,isSelectable:!0,testId:"mute-player"}],r||s.push({label:o(".report"),value:LU.Report,testId:"report-player"}),a.userPermissions.addFriends.allowed&&(e.relation===kh.TwoWayFriend||e.relation===kh.Following)&&(s.unshift({label:o(".removeFriend"),value:LU.RemoveFriend,testId:"remove-friend"}),g)){const t=e.favoriteStatus===mF.FAVORITE;s.unshift({label:o(t?".removeFromFavorites":".addToFavorites"),value:t?LU.RemoveFromFavorites:LU.AddToFavorites,testId:t?"remove-from-favorites":"add-to-favorites"})}i?s.push({label:o(".viewXboxProfile"),value:LU.ViewXboxProfile,testId:"view-xbox-profile"}):c&&s.push({label:o(".viewXboxProfile"),value:LU.ViewXboxProfileInBrowser,Icon:LM.ExternalLink,testId:"view-xbox-profile"})}return s.map(((e,t)=>NU(NU({},e),{},{gamepadAlias:`options${t}`,enumeration:o(".optionsEnumeration",[`${t+1}`,`${s.length}`])})))}),[o,g],[i,d,u,f,E]),h=(0,l.useFacetCallback)(((e,t)=>()=>t.favorite(e.xuid)),[],[i,c]),v=(0,l.useFacetCallback)(((e,t)=>()=>t.unfavorite(e.xuid)),[],[i,c]),F=(0,l.useFacetCallback)(((e,t)=>()=>e.removeFriend(t.xuid)),[],[c,i]),y=(0,l.useFacetCallback)(((e,t)=>()=>t.isBlocked?e.unblock(t.xuid):e.block(t.xuid)),[],[c,i]),S=(0,l.useFacetCallback)(((e,t)=>()=>t.isMuted?e.unmute(t.xuid):e.mute(t.xuid)),[],[c,i]),C=(0,l.useFacetCallback)((e=>()=>{const t=e.relation===kh.TwoWayFriend||e.relation===kh.Following;m.push(lN(e.xuid,""===e.xblName?e.platformName:e.xblName,t,e.platformId))}),[m],[i]),M=(0,l.useFacetCallback)((e=>()=>e.openLink(SF.XboxPrivacyAndOnlineSafety)),[],[s]),w=(0,l.useFacetCallback)(((e,t)=>()=>e.showXboxProfileCard(t.xuid)),[],[c,i]),k=(0,l.useFacetCallback)(((e,t)=>()=>t.openLinkWithParams(SF.XboxAccountProfile,e.xblName)),[],[i,s]),P=(0,l.useFacetCallback)((e=>()=>{e.signOutOfMicrosoftAccount()}),[],[u]),T=(0,l.useFacetCallback)((e=>()=>{e.manageMicrosoftAccount()}),[],[u]),I=(0,r.useCallback)((()=>{t()}),[t]),x=(0,r.useCallback)((t=>{switch(t){case LU.RemoveFriend:F();break;case LU.Block:y();break;case LU.Mute:S();break;case LU.Report:C();break;case LU.ViewXboxProfile:w();break;case LU.ViewXboxProfileInBrowser:k();break;case LU.ShareMyProfile:I();break;case LU.SignOut:P();break;case LU.PrivacyAndSafety:M();break;case LU.ManageAccountXboxApp:T();break;case LU.AddToFavorites:h();break;case LU.RemoveFromFavorites:v()}e(t)}),[F,y,S,C,e,M,w,k,P,T,I,h,v]);return r.createElement(fP,{onClose:e,onItemSelect:x,isOpen:!0,title:o(".optionsTitle"),items:b})})),_U=As((function({onClose:e}){const{t}=ws("ShareCurrentPlayerProfileModal");return r.createElement($m,null,r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement(Vi,{size:3}),r.createElement(fD,null),r.createElement(Vi,{size:3})))})),BU=a.p+"assets/IconAddPlayerGrey-565a6950faa92e2f7879.png";function WU(){return WU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},WU.apply(null,arguments)}const UU=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("ce961c95f5edf56698a4",t);return r.createElement(pu,WU({},a,{className:n,src:BU,imageRendering:"pixelated"}))},zU=a.p+"assets/screenshot_1-48404d5a8f0097356091.jpg",jU=a.p+"assets/screenshot_2-7c721593cd419875cf29.jpg",HU=a.p+"assets/screenshot_3-9dd41022b2ee8d8c2c08.jpg",GU=a.p+"assets/screenshot_4-72ff980d133dc323944c.jpg",VU=a.p+"assets/screenshot_5-5636d6b539bf7f23759d.jpg",$U=a.p+"assets/screenshot_6-380c0205af54e86438ac.jpg",XU=a.p+"assets/screenshot_7-6cfec1e1e1009ea73447.jpg",KU=a.p+"assets/screenshot_8-b5f240429090c0ddd613.jpg";function YU(e){return(0,l.useFacetMap)((e=>{const t=[zU,jU,HU,GU,VU,$U,XU,KU];let a=0;for(let t=0;t<e.length;t++)a+=e.charCodeAt(t);return t[a%t.length]}),[],[e])}let qU;!function(e){e[e.Options=0]="Options",e[e.ButtonIfWide=1]="ButtonIfWide",e[e.NotPresent=2]="NotPresent"}(qU||(qU={}));const QU="player-card-options-button",JU="player-card-action-button";function ZU({playerFacet:e,featuredImgSrc:t,featuredImgLoading:a,reportLocation:n=qU.Options,screenAnalyticsId:o}){const{t:c}=ws("PlayerCard"),i=Yr("neutral80"),s=Sc(),u=(0,l.useFacetWrap)("narrow"===s),d=DU.useModal(),m=Pe(),f=_U.useModal(),g=(0,l.useSharedFacet)(FF),E=p(),b=h(),v=(0,l.useFacetMap)((e=>""!=e.xblName?e.xblName:""!=e.platformName?e.platformName:e.offlineName),[],[e]),F=tx((0,l.useFacetMap)((e=>({id:e.xuid||e.platformId||"player-card",xuid:"",gamerTag:"",gamerIcon:"",variant:"player",presence:e.presence,platform:void 0,presenceMessage:"",titleName:e.titleName,favoriteStatus:e.favoriteStatus,location:Nh.PROFILE_MAIN,partyPresence:e.partyPresence})),[],[e]),"PlayerCard"),y=(0,l.useFacetMap)((e=>""===e.realName?void 0:e.realName),[],[e]),S=(0,l.useFacetMap)((({status:e},t)=>null!=t?t:e),[],[F,y]),C=(0,l.useFacetMap)((e=>!(e.xuid||e.platformId)||"if-enabled"),[],[e]),M=r.createElement(Uy,{src:(0,l.useFacetMap)((e=>""!==e.xblProfilePic?e.xblProfilePic:""!==e.platformProfilePic?e.platformProfilePic:SU),[],[e]),variant:"large",statusBadge:(0,l.useFacetMap)((({avatar:e})=>e),[],[F]),usePersonaPicRendering:C,shouldShowNewStatus:!0}),w=QI(e),k=(0,l.useFacetMap)((e=>e==qU.ButtonIfWide&&"narrow"!=s),[s],[(0,l.useFacetWrap)(n)]),P=(0,l.useFacetMap)(((e,t,a,n)=>{let r="add-friend",l=!1;switch(e.relation){case kh.Self:r="dressing-room";break;case kh.TwoWayFriend:r=a?"join":"friends";break;case kh.Following:r="added";break;case kh.Follower:case kh.Stranger:r="add-friend",l=!t.userPermissions.addFriends.allowed}return{type:r,disabled:l,hideReportButton:!n}}),[],[e,g,w,k]),T=(0,l.useFacetMap)(((e,t)=>!!e.avatar&&!t&&e.avatarState===sF.Success),[],[e,u]),I=r.createElement("div",{className:kU},r.createElement(l.Unwrap,{data:T},(e=>e?r.createElement(r.Fragment,null,r.createElement("div",{className:"be49435e9a7ab3bbd2d2"}),r.createElement(Vi,{size:2})):r.createElement(r.Fragment,null,M,r.createElement(Vi,{size:2})))),r.createElement("div",{className:"ac7448fcd239236b1f62"},r.createElement(Vi,{size:1}),r.createElement(az,{displayName:v,description:S}),r.createElement(Vi,{size:1}))),x=(0,r.useCallback)((e=>{d.hide(),e!==LU.ShareMyProfile&&m(QU)}),[d,m]),O=(0,r.useCallback)((()=>{f.hide(),m(QU)}),[f,m]),A=(0,l.useFacetMap)(((e,t,{status:a})=>[c(".cardNarration"),e,t,a].join(" . ")),[c],[v,y,F]),N=(0,l.useFacetCallback)((e=>()=>{E.push(Jx("set-featured-screenshot",e))}),[E],[b]),R=(0,l.useFacetWrap)(Rd(Ab)),L=(0,l.useFacetWrap)(Rd(Nb)),D=(0,l.useFacetWrap)(a),_=(0,l.useFacetMap)(((e,t,a,n)=>e.relation===kh.Self&&""!==e.xuid&&t&&a&&!n),[],[e,R,L,D]),B=YU((0,l.useFacetMap)((e=>e.xuid?e.xuid:e.platformId),[],[e])),W=(0,l.useFacetMap)(((e,t)=>""===e?t:e),[],[(0,l.useFacetWrap)(t),B]),U=pu.aspectRatioToPercentage(pu.AspectRatio["16:9"]),z=(0,l.useFacetMap)(((e,t)=>t||e==qU.NotPresent),[],[(0,l.useFacetWrap)(n),k]);return r.createElement(r.Fragment,null,r.createElement(Sr,{role:"neutral"},r.createElement(bd,{text:A},r.createElement(l.Mount,{when:u},r.createElement("div",{className:dl()(wU,"cfdfb462a95f1a51c994",i.background.base,i.border.base)},r.createElement("div",{className:"a467b7ac28ebbbf52ae5"},I,r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.relation!==kh.Unknown),[],[e])},r.createElement(nz,{playerFacet:e,buttonsState:P,optionsClick:d.show,screenAnalyticsId:o}))),r.createElement("div",{className:"ce85aa1190044faf5956"},r.createElement(ez,{playerFacet:e}),r.createElement(l.Mount,{when:D,condition:!1},r.createElement(pu,{className:dl()(IU,i.border.base),src:W,imageRendering:"pixelated",aspectRatio:pu.AspectRatio["16:9"]})),r.createElement(l.Mount,{when:D},r.createElement("div",{style:{paddingTop:U},className:dl()(IU,i.border.base)},r.createElement("div",{className:xU},r.createElement("div",{className:OU},r.createElement(id,null))))),r.createElement(l.Mount,{when:_},r.createElement(yP,{inputLegend:c(".setFeaturedScreenshot"),narrationText:c(".setFeaturedScreenshot"),onClick:N,"data-testid":"set-featured-image-button",className:"ce278a3418febb81cd96"},r.createElement(LM.EditImage,null)))))),r.createElement(l.Mount,{when:u,condition:!1},r.createElement("div",{className:dl()(wU,i.background.base,i.border.base)},r.createElement("div",{className:"c99ffaec3029da4a87e9"},r.createElement(l.Mount,{when:D,condition:!1},r.createElement(pu,{className:dl()(TU,i.border.base),src:W,imageRendering:"pixelated",aspectRatio:pu.AspectRatio["16:9"]})),r.createElement(l.Mount,{when:D},r.createElement("div",{style:{paddingTop:U},className:dl()(TU,i.border.base)},r.createElement("div",{className:xU},r.createElement("div",{className:OU},r.createElement(id,null))))),r.createElement(ez,{playerFacet:e}),r.createElement(tz,{playerFacet:e}),r.createElement(l.Mount,{when:T},r.createElement("div",{className:"c72117dd90e5ec13dea3"},M)),r.createElement(l.Mount,{when:_},r.createElement(yP,{inputLegend:c(".setFeaturedScreenshot"),narrationText:[c(".setFeaturedScreenshot"),c(".buttonRole")].join(" . "),onClick:N,"data-testid":"set-featured-image-button",className:"b5de6503bbef77f973e3"},r.createElement(LM.EditImage,null)))),r.createElement(Vi,{size:2}),r.createElement("div",{className:"e029b233669f292c691e"},I),r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.relation!==kh.Unknown),[],[e])},r.createElement("div",{className:"c0d0e3a4658d188285cf"},r.createElement(nz,{playerFacet:e,buttonsState:P,optionsClick:d.show,screenAnalyticsId:o}))))),r.createElement(l.Mount,{when:d.isVisible},r.createElement(DU.Component,{player:e,onClose:x,onShare:f.show,hideReportOption:z})),r.createElement(l.Mount,{when:f.isVisible},r.createElement(_U.Component,{onClose:O})))))}function ez({playerFacet:e}){const{t}=ws("PlayerCard");return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.isBlocked),[],[e])},r.createElement("div",{className:PU},r.createElement(rk,{role:"destructiveTint"},t(".blocked")))),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.isMuted&&!e.isBlocked),[],[e])},r.createElement("div",{className:PU},r.createElement(rk,{role:"noticeTint"},t(".muted")))))}function tz({playerFacet:e}){const t=(0,l.useFacetMap)((e=>{const t=e.avatarState!==sF.Success;return dl()("e00b5062b199c807b468",{c8ef8012a20e620f06ea:t})}),[],[e]);return r.createElement(pu,{className:t,src:(0,l.useFacetMap)((e=>e.avatar),[],[e]),imageRendering:"pixelated"})}function az({displayName:e,description:t}){return r.createElement(r.Fragment,null,r.createElement(Zi,{type:"header5B"},r.createElement(ji,null,e)),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,t)))}function nz({buttonsState:e,playerFacet:t,optionsClick:a,screenAnalyticsId:n}){const{t:o}=ws("PlayerCard"),c=(0,l.useSharedFacet)(Rh),i=(0,l.useSharedFacet)(FF),s=p(),u=(0,l.useFacetCallback)(((e,t)=>()=>e.addFriend(t.xuid,Nh.PROFILE_MAIN)),[],[c,t]),d=(0,l.useFacetMap)((e=>e.isLoggedInWithMicrosoftAccount),[],[i]),m=(0,r.useCallback)((()=>{s.push("/persona")}),[s]),f=(0,l.useFacetMap)(((e,t)=>e.relation!=kh.Self&&!t.hideReportButton),[],[t,e]),g=(0,l.useFacetMap)(((e,t)=>("friends"===e.type||"added"===e.type?1:2)+(t?1:0)),[],[e,f]),E=(0,l.useFacetMap)((e=>o(".buttonSiblings",["1",`${e}`])),[o],[g]),b=(0,l.useFacetMap)(((e,t)=>"friends"===e.type||"added"===e.type?o(".buttonSiblings",["1",`${t}`]):o(".buttonSiblings",["2",`${t}`])),[o],[e,g]),h=(0,l.useFacetMap)((e=>o(".buttonSiblings",[`${e}`,`${e}`])),[o],[g]),v=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[t]),{joinFriendServerWithWarningsCallback:F,JoinFriendServerWarningModalsComponent:y}=JI(v);return r.createElement("div",{className:"ba7c3665c5aaf1a265a1"},r.createElement("div",{className:kU},r.createElement(y,null),r.createElement(l.Unwrap,{data:e},(({type:e,disabled:a})=>{switch(e){case"dressing-room":return r.createElement(lm,{inputLegend:o(".dressingRoomButton"),imgSrc:FU,horizontal:!0,onClick:m,gamepadAlias:JU,narrationSuffix:E},o(".dressingRoomButton"));case"friends":return r.createElement(oz,{narrationText:o(".friendsButton")},r.createElement(rm,{typeVariant:"dimmer",imgSrc:CU,role:"neutral100"},o(".friendsButton")));case"join":return r.createElement(rz,{playerFacet:t,joinFriendServerWithWarningsCallback:F,narrationSuffix:E,screenAnalyticsId:n});case"added":return r.createElement(oz,{narrationText:o(".addedButton")},r.createElement(rm,{typeVariant:"dimmer",imgSrc:MU},o(".addedButton")));case"add-friend":return r.createElement(lm,{inputLegend:o(".addFriendButton"),variant:"primary",Icon:a?UU:bI,horizontal:!0,onClick:u,disabled:a,gamepadAlias:JU,narrationSuffix:E},o(".addFriendButton"))}})),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:"e33ddf2ea78a6bac302e"},r.createElement(lm,{inputLegend:o(".optionsButton"),narrationPrefix:o(".optionsButton"),imgSrc:yU,onClick:a,gamepadAlias:QU,narrationSuffix:b,"data-testid":"options-button"}))))),r.createElement(l.Mount,{when:f},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(lz,{player:t,narrationSuffix:h}))))}function rz({playerFacet:e,joinFriendServerWithWarningsCallback:t,narrationSuffix:a,screenAnalyticsId:n}){const{t:o}=ws("PlayerCard"),c=JT(),i=(0,l.useFacetMap)((e=>e.playingOnServerId),[],[e]),s=(0,l.useFacetMap)((e=>e.xuid),[],[e]),u=(0,l.useFacetCallback)(((e,a)=>()=>{c({button:"Join",screen:n,details:{serverId:e,playerId:a}}),t()}),[c,t,n],[s,i]);return r.createElement(lm,{inputLegend:o(".joinButton"),variant:"primary",Icon:LM.Play,horizontal:!0,onClick:u,gamepadAlias:JU,narrationSuffix:a},o(".joinButton"))}function lz({player:e,telemetryScreenName:t="ProfileRoute",narrationSuffix:a}){const n=(0,l.useFacetWrap)(e),o=p(),{t:c}=ws("PlayerCard"),i=JT(),s=(0,l.useFacetCallback)((e=>()=>{const a=e.relation===kh.TwoWayFriend||e.relation===kh.Following;i({button:"ReportButton",screen:t}),o.push(lN(e.xuid,""===e.xblName?e.platformName:e.xblName,a,e.platformId))}),[o,t,i],[n]);return r.createElement(lm,{inputLegend:c(".report"),variant:"secondary",Icon:LM.Warning,onClick:s,"data-testid":"report-player",narrationSuffix:a},c(".report"))}function oz({children:e,narrationText:t}){const a=Yr("neutral80");return r.createElement(Wi.Maybe,{className:dl()("c0981236ef6698c2c597",a.border.base),isInteractive:Ln(),inputLegend:!1,narrationText:t,classNameFocused:Ws,gamepadAlias:JU},r.createElement(Bs,null),e)}const cz=a.p+"assets/achievements-a42ab3d4b8e49c24b217.png",iz=a.p+"assets/friends-9e435522a799e248f3c5.png",sz=a.p+"assets/followers-bec3d954895866890570.png",uz=a.p+"assets/gallery-10d21b3ca655e32b1ac8.png",dz=a.p+"assets/gamerscore_icon-53b10130cb6f6c0271cb.png",mz="f5aca8648d7500a6e106";function pz(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fz(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pz(Object(a),!0).forEach((function(t){gz(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pz(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function gz(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ez="profile-friends-list";function bz({currentProfileFacet:e,loadedProfileFacet:t,followingListFacet:a}){const{t:n}=ws("ProfileFriendsListRoute"),o=(0,l.useFacetMap)((e=>e.state.xblState!==Th.Loaded||e.data.relation===kh.Self?n(".headerSelf"):n(".headerOther",[`${e.data.xblName}`])),[n],[t]);(0,l.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[(0,l.useSharedFacet)(xh),(0,l.useSharedFacet)(FF)])();const c=(0,l.useFacetMap)(((e,t)=>{const a=!t.data.xuid||t.state.xblState!==Th.Loaded&&t.state.platformState!==Th.Loaded?"":t.data.xuid;return{players:e.playerList.map((e=>function(e,t){let a="add-friend";return t===e.xuid?a="self":e.isFollowedByMe&&e.isFollowingMe?a="added-mutual":e.isFollowedByMe&&(a="added-not-mutual"),{id:e.xuid,gamerIcon:e.gamerIcon,gamerTag:e.gamertag,playingOnServerId:void 0,variant:a,xuid:e.xuid,location:Nh.PROFILE_FRIENDSLIST,favoriteStatus:mF.NOT_FAVORITE,presenceMessage:"",presence:pF.Unknown,partyPresence:fF.NotInParty,titleName:""}}(e,a))),loading:e.isLoading}}),[],[a,e]),i=(0,l.useFacetMap)((e=>e.players.map((e=>{var t;return fz(fz({},e),{},{id:null!==(t=e.xuid)&&void 0!==t?t:""})}))),[],[c]),s=(0,l.useFacetMap)((e=>e.loading),[],[c]),u=(0,r.useRef)(null),[d,m]=(0,l.useFacetState)(0),p=(0,r.useCallback)((({height:e})=>m(e)),[m]);return Bc(u,p),r.createElement(ZN,{title:o,screenAnalyticsId:"ProfileFriendsList",gamepadAlias:"profile-friends-list-route",delegateByAlias:Ez},(()=>r.createElement("div",{className:"a4d6e1ee3325f14da88d",ref:u},r.createElement(zM,{narrowBreakpointWidth:102},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Zk,{rowSizeRem:7,header:r.createElement(Vi,{size:2}),loading:s,containerSizePixels:d,data:i,gamepadAlias:Ez,columnCount:1,footer:r.createElement(r.Fragment,null,r.createElement(Lm.Space,null),r.createElement(Vi,{size:2})),renderItem:e=>r.createElement(vD,{item:e.item,listLength:e.listLength,index:e.index,profileEntryPoint:Ih.Profile_FriendsList})})))))))}const hz=a.p+"assets/NoFollowers-20be59a51855e8a3cabb.png";function vz(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fz(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vz(Object(a),!0).forEach((function(t){yz(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vz(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function yz(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Sz(e){return{id:e.xuid,gamerIcon:e.gamerIcon,gamerTag:e.gamertag,playingOnServerId:void 0,variant:e.isFollowedByMe?"added-mutual":"add-friend",xuid:e.xuid,location:Nh.PROFILE_FOLLOWERSLIST,favoriteStatus:mF.NOT_FAVORITE,presenceMessage:"",partyPresence:fF.NotInParty,presence:e.isOnline?pF.Online:pF.Offline,titleName:""}}const Cz="profile-followers-list";function Mz(){const{t:e}=ws("ProfileFollowersListRoute"),t=(0,l.useSharedFacet)(Gb),a=(0,l.useFacetMap)((e=>({players:e.playerList.map(Sz),loading:e.isLoading})),[],[t]),n=(0,l.useFacetMap)((e=>!e.loading&&0===e.players.length),[],[a]),o=Nw({wide:8,narrow:6,width:260}),c=(0,l.useFacetMap)((e=>e?"a189e83c12f9a3c9d2c5":"b2b010dc0b31d3c0e184"),[],[o]),i=(0,r.useRef)(null),[s,u]=(0,l.useFacetState)(0),d=(0,r.useCallback)((({height:e})=>u(e)),[u]);Bc(i,d);const m=(0,l.useFacetMap)((e=>e.loading),[],[a]),p=(0,l.useFacetMap)((e=>e.players.map((e=>{var t,a;return Fz(Fz({},e),{},{id:null!==(t=null!==(a=e.xuid)&&void 0!==a?a:e.platformId)&&void 0!==t?t:""})}))),[],[a]);return r.createElement(ZN,{title:e(".header"),screenAnalyticsId:"ProfileFollowersList",gamepadAlias:"profile-followers-list-route",delegateByAlias:Cz},(()=>r.createElement("div",{className:"d32b24df35bf1fb2252d",ref:i},r.createElement(zM,{narrowBreakpointWidth:102},r.createElement(l.Mount,{when:n,condition:!1},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Zk,{rowSizeRem:7,header:r.createElement(Vi,{size:2}),loading:m,containerSizePixels:s,data:p,gamepadAlias:Cz,columnCount:1,footer:r.createElement(r.Fragment,null,r.createElement(Lm.Space,null),r.createElement(Vi,{size:2})),renderItem:e=>r.createElement(vD,{item:e.item,listLength:e.listLength,index:e.index,profileEntryPoint:Ih.Profile_FollowersList})})))),r.createElement(l.Mount,{when:n,condition:!0},r.createElement(r.Fragment,null,r.createElement(Vi,{size:4}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(aw,{imgClass:c,gamepadAlias:"no-followers-error",imgSrc:hz,title:e(".errorMessageTitle"),text:e(".errorMessage")})),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))))))))}const wz=a.p+"assets/achievements_empty-f34cf248120a1da988fc.png";function kz(){const e=(0,l.useSharedFacet)(cb),t=(0,l.useSharedFacet)(_l);return(0,l.useFacetMap)(((e,t)=>TI(e.platform)||t.isAnyBeta),[],[t,e])}function Pz(e){return(0,l.useFacetMap)((e=>(e.state.xblState===Th.Loaded||e.state.platformState===Th.Loaded)&&e.data.relation===kh.Self),[],[e])}function Tz(e){return(0,l.useFacetMap)((e=>e.state.platformState===Th.Loaded&&""!==e.data.platformId),[],[e])}function Iz(e){return(0,l.useFacetMap)((e=>e.state.platformState===Th.Loaded&&""!==e.data.platformId&&""!==e.data.xuid),[],[e])}function xz(e,t,a,n,r,o,c,i,s,u){return(0,l.useFacetCallback)(((e,t,a,n,r,l,o,c,i,s)=>()=>{const{xuid:u,platformId:d}=e;if(a.subscribeToProfile(u,d),""!==u&&t.isLoggedInWithMicrosoftAccount){n.load(u),r.load(u),l.load(u),o.load(u);const e=t.currentXuid===u;i&&s&&!e&&(c.loadCount(u),c.loadFeaturedScreenshot(u))}}),[],[e,c,t,a,n,r,o,i,s,u])}function Oz(e){return`xuid=${e.xuid}&playerName=${e.playerName}&relation=${e.relation}`}function Az(){return(0,l.useFacetMap)((e=>{var t,a,n;return{xuid:null!==(t=e.get("xuid"))&&void 0!==t?t:"",playerName:null!==(a=e.get("playerName"))&&void 0!==a?a:"",relation:null!==(n=Number(e.get("relation")))&&void 0!==n?n:kh.Unknown}}),[],[h()])}const Nz="c5664f99741239e55af0",Rz="bc0f22d82937b0d09079",Lz="c322d72fcc2b0a50ad5c",Dz="d2188e35458495eaea49",_z="ab3a7576112b869e91c8",Bz="c1c46353a6faa9267a53";function Wz(e){return`screenshot-${e}-in-gallery`}function Uz({screenshot:e,index:t,length:a,onScreenshotClicked:n,variant:o,loading:c=!1,isSelected:i=!1,gamepadAlias:s="",imageAspectRatioOverride:u,narrationSuffix:d=""}){const{t:m}=ws("ScreenshotGalleryItem"),{t:p}=ws("ScreenshotGalleryItem.narration"),f=Yr(),g=(0,l.useFacetWrap)(e),E=(0,l.useFacetWrap)(i),b=(0,l.useFacetWrap)(d),h=(0,l.useFacetWrap)(c),v=pu.aspectRatioToPercentage(null!=u?u:pu.AspectRatio["16:9"]),F=(0,l.useFacetMap)((e=>e.thumbnail),[],[g]),y=(0,l.useFacetMap)((e=>"manage"===o?m(".removeScreenshot"):e.captureTimeLabel),[o,m],[g]),S=(0,l.useFacetMap)(((e,a,n,r,l)=>{let c=[];return c="select"===o?[p(r?".checked":".notChecked"),p(".checkboxRole"),e.featured?p(".featured"):"",e.showcased?p(".showcased"):"",p(".enumeration",[(t+1).toString(),a.toString()]),l]:"manage"===o?[n,e.featured?p(".featured"):"",e.showcased&&!e.featured?p(".showcased"):"",p(".cardRole"),p(".enumeration",[(t+1).toString(),a.toString()]),l]:[n,p(".cardRole"),e.featured?p(".featured"):"",e.showcased?p(".showcased"):"",p(".enumeration",[(t+1).toString(),a.toString()]),l],c.filter((e=>null!=e&&""!==e)).join(" . ")}),[p,t,o],[g,a,y,E,b]),C=(0,l.useFacetMap)((e=>e.featured),[],[g]),M=(0,l.useFacetMap)((e=>e.showcased),[],[g]),w=Rd(Nb),k=(0,l.useFacetCallback)((e=>()=>{n(e)}),[n],[g]),P=(0,l.useFacetMap)((e=>"manage"===o||!xI(e.platform)),[o],[(0,l.useSharedFacet)(_l)]),T=(0,l.useFacetMap)(((e,a)=>""!==a?a:Wz(t)),[t],[a,(0,l.useFacetWrap)(s)]);return r.createElement(hl,null,r.createElement(pW,{inputLegend:m(".screenshotInputLegend"),narrationTextOverride:S,onClick:k,gamepadAlias:T,fillShadow:!0},r.createElement(l.Unwrap,{data:h},(e=>e?r.createElement(zz,{paddingTop:v}):r.createElement("div",null,r.createElement(pu,{src:F,aspectRatio:null!=u?u:pu.AspectRatio["16:9"]}),w&&r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:M},r.createElement("div",{className:dl()(f.neutral80.background.base,f.neutral80.border.base,"ebf58d540f5be0da3ac9")},r.createElement(LM.Friends,{role:"neutral",width:24,height:24}))),r.createElement(l.Mount,{when:C},r.createElement("div",{className:Nz},r.createElement(rk,{role:"primaryTint"},m(".featured"))))),"select"===o&&r.createElement("div",{className:"c9e3d7ef492df5e7c097"},r.createElement(kd,{value:E,narrationText:!1,mountFocusBorder:!1}))))),r.createElement(l.Mount,{when:P},r.createElement(pW.Information,{narrationText:S},r.createElement(Zi,{variant:"dimmer",type:"body"},y))),r.createElement(l.Mount,{when:P,condition:!1},r.createElement(pW.Information,{narrationText:!1},r.createElement(Vi,{size:4})))))}function zz({paddingTop:e}){const t=Yr("inherit");return r.createElement("div",{style:{paddingTop:e},className:dl()(Rz,Lz,t.background.base)},r.createElement("div",{className:"bc12099e3d448199df82","data-testid":"screenshot-loading-spinner"},r.createElement(id,null)))}function jz(e){return"desktop"===e?6:"narrow"===e?2:4}function Hz({displayData:e,onScreenshotClicked:t,innerRef:a,changePage:n,totalPages:o,currentPage:c,paginationEnabled:i,selectionEnabled:s=!1,selectedScreenshots:u,isLoadingScreenshots:d=!1,disableHomeEnd:m=!1}){const p=(0,l.useFacetMap)((e=>e.length),[],[e]),f=Sc(),g=(0,r.useRef)(null),E=(0,l.useFacetWrap)(s),b=(0,l.useFacetMap)(((e,t,a)=>e?a.map((e=>t.includes(e.id))):null),[],[E,u,e]),h=Pe(),v=(0,l.useFacetCallback)((e=>t=>{if(!t.repeat&&!m){if(t.keyCode==pe.HOME)return void h(Wz(0));if(t.keyCode==pe.END)return void h(Wz(e-1))}}),[m,h],[p]);return(0,r.useEffect)((()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)})),[v]),r.createElement(l.Unwrap,{data:b},(s=>r.createElement(U_,{loading:d,gamepadAlias:"screenshot-gallery-grid",data:e,columns:jz(f),firstRowSeparatorVertical:r.createElement(Vi,{size:2}),itemSeparatorHorizontal:r.createElement(Vi,{size:2}),itemSeparatorVertical:r.createElement(Vi,{size:2}),innerRef:a,footer:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i,condition:!0},r.createElement("div",null,r.createElement(Vi,{size:4}),r.createElement("div",null,r.createElement(uu,{containerRef:g},r.createElement("div",{ref:g},r.createElement(FO,{totalPages:o,currentPage:c,onChange:n})))),r.createElement(Vi,{size:4}))),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Vi,{size:4})),r.createElement(Lm.Space,null)),renderItem:({itemFacet:e,index:a})=>r.createElement(Uz,{length:p,screenshot:e,onScreenshotClicked:t,index:a,variant:null!=s?"select":"view",isSelected:null!=s&&s[a]})})))}let Gz,Vz;Uz.Empty=function({index:e,length:t,variant:a,loading:n=!1,imgSrc:o,onClick:c,gamepadAlias:i,narrationSuffix:s="",imageAspectRatioOverride:u,featured:d=!1}){const{t:m}=ws("ScreenshotGalleryItem"),{t:p}=ws("ScreenshotGalleryItem.narration"),f=Yr("inherit"),g=Yr("neutral80"),E=(0,l.useFacetWrap)(a),b=(0,l.useFacetWrap)(n),h=(0,l.useFacetWrap)(s),v=(0,l.useFacetMap)(((t,a,n)=>[m("manage"===a?".pickScreenshot":".emptyScreenshotSlot"),p(".cardRole"),p(".enumeration",[(e+1).toString(),t.toString()]),n].filter((e=>null!=e&&""!==e)).join(" . ")),[p,m,e],[t,E,h]),F=pu.aspectRatioToPercentage(null!=u?u:pu.AspectRatio["16:9"]),y=(0,l.useFacetMap)((e=>`url(${e})`),[],[(0,l.useFacetWrap)(o)]);return"manage"===a?r.createElement(hl,null,r.createElement(pW,{inputLegend:m(".screenshotInputLegend"),narrationTextOverride:v,onClick:c,gamepadAlias:i,fillShadow:!0},r.createElement(l.Unwrap,{data:b},(e=>e?r.createElement(zz,{paddingTop:F}):r.createElement(l.Unwrap,{data:y},(e=>r.createElement(r.Fragment,null,r.createElement("div",{style:{paddingTop:F,backgroundImage:e},className:dl()(Rz,Lz,f.background.base)},r.createElement("div",{className:dl()(Dz,d?Bz:"")},r.createElement(LM.AddImage,{className:_z}))),d&&r.createElement("div",{className:Nz},r.createElement(rk,{role:"primaryTint"},m(".featured")))))))),r.createElement(pW.Information,{narrationText:v},r.createElement(Zi,{variant:"dimmer",type:"body"},m(".pickScreenshot"))))):r.createElement("div",{className:"bd5eaab4045ae251f6ba"},r.createElement(Wi,{inputLegend:!1,narrationText:v,className:dl()("ef14b7a5b377bef4a132",g.border.base,g.background.base),classNameFocused:Ws,gamepadAlias:i},r.createElement(Bs,null),r.createElement(l.Unwrap,{data:b},(e=>e?r.createElement(zz,{paddingTop:F}):r.createElement(l.Unwrap,{data:y},(e=>r.createElement("div",{style:{paddingTop:F,backgroundImage:e},className:dl()(Rz,Lz,g.background.base)},r.createElement("div",{className:dl()(Dz,d?Bz:"")},r.createElement(LM.Image,{className:_z})))))))))},function(e){e[e.NewestFirst=0]="NewestFirst",e[e.OldestFirst=1]="OldestFirst",e[e.None=2]="None"}(Gz||(Gz={})),function(e){e[e.ShowAll=0]="ShowAll",e[e.Showcased=1]="Showcased",e[e.Unmarked=2]="Unmarked",e[e.Featured=3]="Featured"}(Vz||(Vz={}));const $z="bf363882c81bc598792a",Xz="d92db03da279ad719764",Kz="ec8ec750443dcf11b4e1",Yz="bdabb5c23bf925c17a70",qz=a.p+"assets/Not-Logged-In-02f5b287b650a10c9da0.png",Qz=a.p+"assets/Load-Error-0d717f89a7e7bf0b8443.png",Jz=a.p+"assets/No-Showcaseable-072605ef9808cdf8df05.png",Zz=a.p+"assets/iconCameraButton-db27c8a087910f3ef4f9.png";function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ej.apply(null,arguments)}const tj=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("d84d84a98fb7ceaaa783",t);return r.createElement(pu,ej({},a,{className:n,src:Zz,imageRendering:"pixelated"}))};function aj(){const{t:e}=ws("useCaptureScreenshotInfo"),t=(0,l.useSharedFacet)(_l);return(0,l.useFacetMap)((t=>{const a=e(".emptyGalleryTitle");if(NI(t.platform)){const t=e(".controlHint.keyboard");return{icon:r.createElement(Om,{keyCode:pe.F2}),text:t,narration:t,title:a}}const n=e(".controlHint.touchscreen");return{icon:r.createElement(tj,null),text:n,narration:n,title:a}}),[e],[t])}function nj(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rj(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let lj;function oj({errorType:e}){const{t}=ws("ScreenshotGalleryError"),a=Yr("neutral80"),n=p(),o=Aw({wide:8,narrow:6,width:260}),c=(0,l.useFacetWrap)(e),i=(0,l.useSharedFacet)(Nv),s=(0,l.useFacetCallback)((e=>()=>{e.clearLoadGalleryError(),e.retryLoadGallery()}),[],[i]),u=(0,r.useCallback)((()=>{n.push("/sign-in?signInSource=ProfileScreen_OreUI")}),[n]),d=aj(),m=(0,l.useFacetMap)(((e,a)=>{switch(e){case lj.EmptyGallery:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nj(Object(a),!0).forEach((function(t){rj(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nj(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a);case lj.NoShowcaseable:return{icon:r.createElement(pu,{className:o?Kz:Yz,imageRendering:"pixelated",src:Jz}),text:t(".noShowcaseableMessage"),title:t(".noShowcaseableTitle")};case lj.NotSignedIn:return{icon:r.createElement(pu,{className:o?Kz:Yz,imageRendering:"pixelated",src:qz}),text:t(".notLoggedInMessage"),title:t(".notLoggedInTitle"),button:{text:t(".signInWithMicrosoft"),onClick:u}};case lj.LoadError:return{icon:r.createElement(pu,{className:o?Kz:Yz,imageRendering:"pixelated",src:Qz}),text:t(".loadErrorMessage"),title:t(".loadErrorTitle"),button:{text:t(".tryAgain"),onClick:s,variant:"secondary"}};default:return{icon:r.createElement(r.Fragment,null),text:"",title:""}}}),[o,u,t,s],[c,d]);return r.createElement(l.Unwrap,{data:m},(e=>{var t;return r.createElement("div",{className:dl()("f113e0ac1e2697184782",a.background.base,a.border.base)},r.createElement(Zi,{type:"secondaryButton",align:"center"},e.title),r.createElement(Vi,{size:4}),r.createElement("div",{className:"a9f09a99dda999f5ce5d"},e.icon),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"captionShort",variant:"dimmest",align:"center"},e.text),null!=e.button&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:"e67bae56db371eb97412"},r.createElement(lm,{inputLegend:e.button.text,variant:null!==(t=e.button.variant)&&void 0!==t?t:"primary",onClick:e.button.onClick},e.button.text))))}))}!function(e){e[e.NoError=0]="NoError",e[e.EmptyGallery=1]="EmptyGallery",e[e.NotSignedIn=2]="NotSignedIn",e[e.LoadError=3]="LoadError",e[e.NoShowcaseable=4]="NoShowcaseable"}(lj||(lj={}));const cj="filter-dropdown-alias",ij="sort-dropdown-alias";function sj({headerText:e,showHeaderNumbers:t=!1,onScreenshotClicked:a,screenshotLists:n,scrollViewRef:o,managementRowButtons:c,isLoadingScreenshots:i=!1,onSubmitSelection:s,onCancelSelection:u,selectionType:d="confirm",maxSelection:m=-1,onGoBack:p,selectionEnabled:f=!1,banner:g,filterType:E="all"}){const{t:b}=ws("ScreenshotGalleryContainer"),{t:h}=ws("ScreenshotGalleryContainer.narration"),v=Rd(Nb),F=(0,l.useFacetWrap)(d),y=(0,l.useFacetWrap)(m),[S,C]=(0,l.useFacetState)(Vz.ShowAll),M=(0,l.useSharedFacet)(Nv),w=(0,l.useFacetWrap)(i),k=(0,l.useFacetWrap)(f),[P,T]=(0,l.useFacetState)(1),[I,x]=(0,l.useFacetState)(!1),O=Pe(),A=(0,r.useCallback)((()=>{null!=o&&null!=o.current&&(o.current.scrollTop=0),O(Wz(0))}),[o,O]),N=(0,r.useCallback)((e=>{var t;const a=e.target,n=null!==(t=null==a?void 0:a.scrollTop)&&void 0!==t?t:0;x(n>0)}),[x]);(0,r.useEffect)((()=>{const e=null==o?void 0:o.current;return requestAnimationFrame((()=>{const e=null==o?void 0:o.current;null==e||e.addEventListener("scroll",N)})),()=>{null==e||e.removeEventListener("scroll",N)}}),[o,N]);const R=(0,r.useCallback)((e=>{T(e),A()}),[A,T]),[L,D]=(0,l.useFacetState)([]);(0,l.useFacetEffect)((e=>{e&&C(Vz.ShowAll),R(1),D([])}),[R,C,D],[k]);const _=(0,l.useFacetMap)((e=>0===e.length),[],[L]),B=(0,l.useFacetCallback)((e=>t=>{D((a=>a===l.NO_VALUE?l.NO_VALUE:a.includes(t.id)?a.filter((e=>e!==t.id)):-1===e||a.length<e?[...a,t.id]:a))}),[D],[y]),W=(0,l.useFacetCallback)((e=>()=>{s&&s(e)}),[s],[L]),U=(0,l.useFacetMap)(((e,t)=>"delete"===e?b(1===t.length?".deleteButtonTextSingular":".deleteButtonText",[`${t.length}`]):b(".confirmButtonText")),[b],[F,L]),z=Sc(),[j,H]=(0,l.useFacetState)(Gz.NewestFirst),G=(0,r.useCallback)((e=>{H(e),A(),R(1)}),[R,A,H]),V=(0,r.useCallback)((e=>{C(e),A(),R(1)}),[R,A,C]),$=(0,l.useFacetWrap)([{label:b(".newestFirst"),value:Gz.NewestFirst,gamepadAlias:"screenshot-sort-menu-options1",enumeration:b(".optionsEnumeration",["1","2"])},{label:b(".oldestFirst"),value:Gz.OldestFirst,gamepadAlias:"screenshot-sort-menu-options2",enumeration:b(".optionsEnumeration",["2","2"])}]),X=function(e,t="all"){const{t:a}=ws("ScreenshotGalleryContainer"),n=(0,l.useFacetWrap)(t);return(0,l.useFacetMap)(((e,t)=>{const n=[{label:a("all"===t?".showAll":".available",[e.all.length.toString()]),value:Vz.ShowAll,gamepadAlias:"screenshot-filter-menu-options-1",enumeration:""}];e.showcased.length>0&&"all"===t&&n.push({label:a(".showcased",[e.showcased.length.toString()]),value:Vz.Showcased,gamepadAlias:`screenshot-filter-menu-options-${n.length+1}`,enumeration:""}),e.unmarked.length>0&&n.push({label:a(".unmarked",[e.unmarked.length.toString()]),value:Vz.Unmarked,gamepadAlias:`screenshot-filter-menu-options-${n.length+1}`,enumeration:""}),e.featured.length>0&&n.push({label:a(".featured",[e.featured.length.toString()]),value:Vz.Featured,gamepadAlias:`screenshot-filter-menu-options-${n.length+1}`,enumeration:""});for(let e=0;e<n.length;e++)n[e].enumeration=a(".optionsEnumeration",[`${e+1}`,`${n.length}`]);return n}),[a],[e,n])}(n,E),K=(0,l.useFacetWrap)(e),Y=(0,l.useFacetWrap)(t),q=(0,l.useFacetMap)(((e,t,a,n,r,l,o)=>t&&-1===l||!r?e:b(".headerTextWithNumbers",[e,`${t?a.length:n.all.length}`,`${t?l:o.maxScreenshots}`])),[b],[K,k,L,n,Y,y,M]),Q=function(e,t,a,n=1){const r=(0,l.useFacetWrap)(n);return(0,l.useFacetMap)(((e,t,a,n)=>{let r=[];switch(a){case Vz.Showcased:r=nx(e.showcased);break;case Vz.Featured:r=nx(e.featured);break;case Vz.Unmarked:r=nx(e.unmarked);break;default:r=nx(e.all)}t===Gz.NewestFirst?r=r.sort(((e,t)=>t.captureTime-e.captureTime)):t===Gz.OldestFirst&&(r=r.sort(((e,t)=>e.captureTime-t.captureTime)));const l=r.slice(48*(n-1),48*n);return{fullData:r,pageData:l}}),[],[e,t,a,r])}(n,j,S,P),J=(0,l.useFacetMap)((e=>e.pageData),[],[Q]),Z=(0,l.useFacetMap)((e=>e.fullData),[],[Q]),[ee,te]=(0,l.useFacetState)(!1),[ae,ne]=(0,l.useFacetState)(1);(0,l.useFacetEffect)(((e,t)=>{const a=t.length>48,n=Math.ceil(t.length/48);te(a),ne(n),0===e.length&&0!==t.length&&R(n)}),[R,te,ne],[J,Z]);const re=(0,l.useFacetCallback)(((e,t,n)=>r=>{n?B(r):a(r,e,t)}),[a,B],[j,S,k]),le=(0,l.useFacetMap)(((e,t,a,n,r)=>a.isLoggedInWithMicrosoftAccount?n.loadGalleryError===Av.HttpError?lj.LoadError:null!=e&&0!==e.length||t?lj.NoError:"noShowcased"==r?lj.NoShowcaseable:lj.EmptyGallery:lj.NotSignedIn),[],[Z,w,(0,l.useSharedFacet)(FF),M,(0,l.useFacetWrap)(E)]),oe=(0,l.useFacetMap)(((e,t)=>e&&t===lj.NoError),[],[I,le]),ce=(0,l.useFacetMap)(((e,t)=>e===lj.NoError&&!t),[],[le,k]),ie=(0,l.useFacetMap)((e=>!xI(e.platform)),[],[(0,l.useSharedFacet)(_l)]),se=(0,l.useFacetMap)((e=>e?v?"both":"justSort":v?"justFilter":"empty"),[v],[ie]),ue=(0,l.useFacetMap)((e=>"justSort"===e?ij:"empty"===e?void 0:cj),[],[se]),de=(0,l.useFacetMap)((e=>"narrow"===z&&"both"===e?"cceb038cb0a692de4b77":"ce2abe913cdc066f8027"),[z],[se]),me=(0,l.useFacetMap)((e=>dl()("b0001b0b1b3f83491783","narrow"===z?"":"both"===e?"b6d5db4f5f3ed2b58716":"be7a8d0be9e4d65314e1")),[z],[se]),pe=(0,l.useFacetMap)((e=>"justFilter"===e||"both"===e),[],[se]),fe=(0,l.useFacetMap)((e=>"justSort"===e||"both"===e),[],[se]),ge=(0,l.useFacetMap)((e=>"empty"===e),[],[se]),Ee=(0,l.useFacetMap)(((e,t)=>[h(".screenshots"),h(".grid"),h(e?"confirm"===t?".selectionClickInstructions":".deletionClickInstructions":".screenshotClickInstructions")].join(" . ")),[h],[k,F]);return r.createElement(ZN,{screenAnalyticsId:"ScreenshotGalleryContainer",title:q,gamepadAlias:"screenshot-gallery-container",delegateByAlias:ue,onBack:p},(()=>r.createElement(zM,null,r.createElement(Vi,{size:3}),r.createElement(l.Mount,{when:ce},r.createElement(zM.Row,null,r.createElement(bd,{text:[h(".screenshotOptions"),h(".horizontalGroupChoice")].join(" . ")},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement("fast-div",{className:de},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:ge,condition:!1},r.createElement(r.Fragment,null,r.createElement("fast-div",{className:me},r.createElement(l.Mount,{when:pe},r.createElement(r.Fragment,null,r.createElement("div",{className:$z},r.createElement(WR,{title:b(".filterOptions"),options:X,value:S,onItemSelect:V,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0,gamepadAlias:cj})),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:fe},r.createElement("div",{className:$z},r.createElement(WR,{title:b(".sortOptions"),options:$,value:j,onItemSelect:G,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0,gamepadAlias:ij})))),r.createElement(Vi,{size:2}))),c)),g)))),r.createElement(l.Mount,{when:k},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement("div",{className:"f2a6a8e876a1d512bed5"},r.createElement("div",{className:Xz},r.createElement(lm,{inputLegend:b(".cancel"),onClick:u,"data-testid":"cancel-selection"},b(".cancel"))),r.createElement(Vi,{size:2}),r.createElement("div",{className:Xz},r.createElement(l.Unwrap,{data:F},(e=>r.createElement(lm,{inputLegend:U,onClick:W,disabled:_,"data-testid":"submit-selection",variant:"confirm"===e?"primary":"destructive"},U)))))))),r.createElement(Vi,{size:3}),r.createElement(l.Mount,{when:oe},r.createElement("div",{className:"d03a81eca2b1f809348f","data-testid":"gallery-content-divider"},r.createElement(mO,{role:"neutral80",reversed:!1}))),r.createElement(zM.Row,{fullHeight:!0},r.createElement(l.Unwrap,{data:le},(e=>e===lj.NoError?r.createElement(zM.Column,{narrowSize:8,wideSize:12},r.createElement(bd,{text:Ee},r.createElement(Hz,{displayData:J,onScreenshotClicked:re,changePage:R,currentPage:P,totalPages:ae,paginationEnabled:ee,innerRef:o,selectedScreenshots:L,isLoadingScreenshots:w,selectionEnabled:k}))):r.createElement(r.Fragment,null,r.createElement(zM.Column,{narrowSize:0,wideSize:1}),r.createElement(zM.Column,{narrowSize:8,wideSize:10},r.createElement(oj,{errorType:e})),r.createElement(zM.Column,{narrowSize:0,wideSize:1}))))),r.createElement(Lm.Space,null))))}function uj(e){const t=(0,l.useFacetWrap)(e),a=(0,l.useFacetMap)(((e,t)=>null==t?e.screenshots:t),[],[(0,l.useSharedFacet)(Nv),t]);return(0,l.useFacetMap)((e=>({all:e,showcased:aI(e,(e=>e.showcased)),featured:aI(e,(e=>e.featured)),unmarked:aI(e,(e=>!e.showcased&&!e.featured))})),[],[a])}const dj=({onScreenshotSelect:e,onGoBack:t,managementRowButtons:a,filterType:n="all"})=>{const{t:o}=ws("ScreenshotPicker"),c=(0,r.useRef)(null),i=(0,l.useSharedFacet)(Nv),s=(0,l.useFacetWrap)(n),u=(0,l.useFacetMap)(((e,t)=>{const a=e.screenshots;return"all"===t?a:a.filter((e=>!e.showcased||e.featured))}),[],[i,s]),d=uj(u),m=o(".header"),p=(0,r.useCallback)((t=>{e(t)}),[e]),f=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[i]);return r.createElement(sj,{headerText:m,onScreenshotClicked:p,screenshotLists:d,scrollViewRef:c,isLoadingScreenshots:f,onGoBack:t,managementRowButtons:a,filterType:n})},mj=As((({onConfirm:e,onCancel:t,title:a,message:n,option:o})=>{const{t:c}=ws("ManageShowcaseModal"),[i,s]=(0,l.useFacetState)(!1),u=(0,l.useSharedFacet)(uh),d=(0,l.useFacetCallback)(((t,a,n)=>()=>{console.log("manageshowcasemodal ",n,a),console.log(JSON.stringify(t)),a&&(t[n]=!0),e()}),[e],[u,i,(0,l.useFacetWrap)(o)]);return r.createElement($m,null,r.createElement($m.Header,{onClose:t},a),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n},n)),r.createElement($m.Buttons,{horizontal:!0,header:r.createElement($m.Checkbox,{value:i,onChange:s,title:c(".doNotShowAgain")})},r.createElement(lm,{inputLegend:c(".cancel"),variant:"secondary",onClick:t,horizontal:!0},c(".cancel")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:c(".confirm"),variant:"primary",onClick:d,horizontal:!0},c(".confirm"))))}));var pj;function fj(){const e=p(),t="narrow"===Sc(),{t:a}=ws("ProfileRoute"),n=(0,l.useSharedFacet)(Nv),o=(0,l.useSharedFacet)(uh),c=mj.useModal(),[i,s]=(0,l.useFacetState)(pj.None),[u,d]=(0,l.useFacetState)(""),m=(0,l.useFacetCallback)(((t,a,n)=>()=>{a===pj.Remove?t.removeShowcasedScreenshot(n):t.addScreenshotToShowcase(n,!0),e.goBack()}),[e],[n,i,u]),f=(0,l.useFacetMap)((e=>e.screenshots.find((e=>e.featured))),[],[n]),g=(0,l.useFacetMap)((e=>null!=e),[],[f]),E=(0,l.useFacetCallback)(((e,t)=>a=>{s(pj.Replace),d(a.id),!e||t.doNotShowManageShowcaseReplaceWarning?m():c.show()}),[c,s,d,m],[g,o]),b=(0,l.useFacetCallback)(((e,t)=>()=>{null!=e&&(s(pj.Remove),d(e.id),t.doNotShowManageShowcaseClearWarning?m():c.show())}),[c,s,d,m],[f,o]),h=(0,l.useFacetMap)((e=>e===pj.Remove?a(".resetFeaturedTitle"):a(".replaceFeaturedTitle")),[a],[i]),v=(0,l.useFacetMap)((e=>e===pj.Remove?a(".resetFeaturedMessage"):a(".replaceFeaturedMessage")),[a],[i]),F=(0,l.useFacetMap)((e=>e===pj.Remove?"doNotShowManageShowcaseClearWarning":"doNotShowManageShowcaseReplaceWarning"),[],[i]);return r.createElement(r.Fragment,null,r.createElement(dj,{onScreenshotSelect:E,managementRowButtons:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement("div",{className:dl()("cb918e96663ba7891491",{ad7211e974b2a415e2bb:!t})},r.createElement("div",{className:dl()(["d5039a17019ce3c4f006"],!t)},r.createElement(lm,{inputLegend:a(".resetFeaturedImage"),narrationPrefix:a(".resetFeaturedImage"),onClick:b},a(".resetFeaturedImage"))))))}),r.createElement(l.Mount,{when:c.isVisible},r.createElement(mj.Component,{onConfirm:m,onCancel:e.goBack,title:h,message:v,option:F})))}function gj({profileFacet:e}){const{t}=ws("ProfileRoute"),a=(0,l.useSharedFacet)(_l),n=(0,l.useFacetMap)((e=>TI(e.platform)?t(".playStationAccount"):xI(e.platform)?t(".nintendoAccount"):""),[t],[a]),o=(0,l.useFacetMap)(((e,a)=>[t(".linkedAccountHeader"),`${a.data.platformName}`,e].join(" . ")),[t],[n,e]);return r.createElement(r.Fragment,null,r.createElement(aP,{role:"neutral",label:t(".linkedAccountHeader")}),r.createElement(rT,{isFocusable:!0,narrationText:o},r.createElement(Vi,{size:2}),r.createElement(rT.Cell,null,r.createElement(Uy,{src:(0,l.useFacetMap)((e=>e.data.platformProfilePic),[],[e]),variant:"large",statusBadge:"offline",usePersonaPicRendering:!1})),r.createElement(Vi,{size:2}),r.createElement(rT.Cell,null,r.createElement("div",null,r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"header5B"},r.createElement(ji,null,(0,l.useFacetMap)((e=>e.data.platformName),[],[e]))),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,n)),r.createElement(Vi,{size:1})))),r.createElement(Vi,{size:2}))}!function(e){e[e.Remove=0]="Remove",e[e.Replace=1]="Replace",e[e.None=2]="None"}(pj||(pj={}));const Ej=a.p+"assets/generic_error-aa90619c4c1746eb7ac0.png",bj=a.p+"assets/connection_error-01bc20883b3a2f7e5fb3.png",hj=a.p+"assets/permissions_child_account-8fad2009b4d02bc059bf.png",vj=a.p+"assets/permissions_adult_account-dc71d57973878591b475.png",Fj=a.p+"assets/nothing_to_see-1107fc6902173eb98f28.png";function yj({errorMessage:e,xuid:t,onRetryLoad:a}){const{t:n}=ws("ProfileRoute"),o=p(),c=Nw({wide:8,narrow:6,width:256}),i=(0,l.useFacetMap)((e=>e?"d156b4e1cad25336baa3":"c51ff4039ee30364ff86"),[],[c]),s=(0,l.useSharedFacet)(CF),u=(0,l.useSharedFacet)(_l),d=(()=>{const e=wI();return(0,r.useCallback)(((t,a)=>{e("ProfileError",{profileXuid:{value:t,privacyTag:zv.EUPI},profileErrorMessageType:{value:a,privacyTag:zv.SystemMetadata}})}),[e])})(),m=(0,l.useFacetCallback)(((e,t)=>()=>{d(e,t)}),[d],[t,e]);(0,r.useEffect)((()=>{m()}),[m]);const f=(0,l.useFacetCallback)((e=>()=>e.openLink(SF.XboxPrivacyAndOnlineSafety)),[],[s]),g=()=>{o.push("/sign-in?signInSource=ProfileScreen_OreUI")},E=(0,l.useFacetMap)((e=>RI(e.platform)?[{text:n(".learnMoreButton"),onClick:f,imgSrc:EA.imgSrc}]:[]),[n,f],[u]);return r.createElement(l.Unwrap,{data:e},(e=>{switch(e){case Ph.UserNotFound:return r.createElement(aw,{title:n(".loadErrorTitle"),text:n(".loadErrorMessage"),buttons:[{text:n(".errorRetryButton"),onClick:a}],imgSrc:Ej,imgClass:i});case Ph.NoInternet:return r.createElement(aw,{title:n(".loadErrorTitle"),text:n(".noInternetErrorMessage"),imgSrc:bj,imgClass:i});case Ph.NotAllowedToViewProfilesAdult:return r.createElement(aw,{title:n(".needPermissionErrorTitle"),text:n(".needPermissionErrorMessage"),buttons:E,imgSrc:vj,imgClass:i});case Ph.NotAllowedToViewProfilesChild:return r.createElement(aw,{title:n(".needPermissionErrorTitle"),text:n(".needPermissionErrorMessage"),buttons:E,imgSrc:hj,imgClass:i});case Ph.NotLoggedInWithMSA:return r.createElement(aw,{title:n(".profileUnavailableErrorTitle"),text:n(".notLoggedInMSAErrorMessage"),buttons:[{text:n(".signInButton"),onClick:g,variant:"primary"}],imgSrc:Fj,imgClass:i});case Ph.LoggedInWithMSAButPlatformProfile:return r.createElement(aw,{title:n(".profileUnavailableErrorTitle"),text:n(".platformOnlyProfileErrorMessage"),imgSrc:Fj,imgClass:i});default:return r.createElement(r.Fragment,null)}}))}function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Sj.apply(null,arguments)}const Cj="profile-overview-list",Mj="profile-tabs",wj="player-card-scroll-view";function kj(e){const t=p(),a=h();return(0,l.useFacetCallback)((a=>()=>{t.push(Jx(e,a))}),[t,e],[a])}function Pj(){return(0,l.useFacetMap)(((e,t)=>{var a,n,r,l;return t.has("xuid")?!t.has("platformId")||e.isLoggedInWithMicrosoftAccount||e.isSignInInProgress?{xuid:null!==(a=t.get("xuid"))&&void 0!==a?a:"",platformId:null!==(n=t.get("platformId"))&&void 0!==n?n:""}:{xuid:"",platformId:null!==(r=t.get("platformId"))&&void 0!==r?r:""}:t.has("platformId")?{xuid:"",platformId:null!==(l=t.get("platformId"))&&void 0!==l?l:""}:{xuid:e.currentXuid,platformId:e.currentPlatformId}}),[],[(0,l.useSharedFacet)(FF),h()])}function Tj(){const e=(0,l.useSharedFacet)(FF),t=(0,l.useSharedFacet)(Ah),a=(0,l.useSharedFacet)(wE),n=LO(),o=Pj(),c=RO(o),i=(0,l.useFacetWrap)(Rd(Ab)),s=(0,l.useFacetWrap)(Rd(Nb)),u=xz(o,(0,l.useSharedFacet)(xh),a,t,(0,l.useSharedFacet)(gh),(0,l.useSharedFacet)(wh),e,(0,l.useSharedFacet)(Rv),i,s),d=(0,l.useFacetMap)((e=>e.isSignInInProgress),[],[e]),[m,p]=(0,l.useFacetState)({wasActive:!1,query:"",wasSignInInProgress:!1},l.strictShallowObjectEqualityCheck),[g,b]=(0,l.useFacetState)({shouldFireProfileLoaded:!1,shouldFireAchievementsDisplayed:!1},l.strictShallowObjectEqualityCheck);(0,l.useFacetEffect)(((e,t,a,n,r)=>{const l=t&&!n.wasActive,o=t&&n.wasActive&&n.query!==a.toString(),c=e.startsWith("/profile"),i=n.wasSignInInProgress&&!r;p({wasActive:t,query:a.toString(),wasSignInInProgress:r}),c&&(i||!r&&(l||o))&&(u(),b({shouldFireProfileLoaded:!0,shouldFireAchievementsDisplayed:!0}))}),[u,p,b],[E(),f(),h(),m,d]);const v=(0,l.useFacetMap)((e=>null!=e?e:l.NO_VALUE),[],[c]),F=(0,l.useFacetMap)((e=>null!=e?e:l.NO_VALUE),[],[n]),y=(0,l.useFacetMap)(((e,t)=>null!=e&&null!=t),[],[c,n]);return r.createElement(l.Mount,{when:y},r.createElement(Ij,{profileFacet:v,currentProfileFacet:F,telemetryState:g,setTelemetryState:b}))}function Ij({profileFacet:e,currentProfileFacet:t,telemetryState:a,setTelemetryState:n}){const{t:o}=ws("ProfileRoute"),c=g(),i=(0,l.useFacetMap)((e=>e.tab),[],[c]),s=(0,l.useSharedFacet)(FF),u=Pj(),d=(0,l.useSharedFacet)(Ah),m=(0,l.useSharedFacet)(wE),p=(0,l.useSharedFacet)(_l),f=Tz(e),E=Pz(e),b=(0,l.useFacetMap)(((e,t,a,n,r)=>a.isOnline?t.isLoggedInWithMicrosoftAccount||t.isSignInInProgress||n||r?e.state.xblError===Ph.UserNotFound?Ph.UserNotFound:Ph.None:Ph.NotLoggedInWithMSA:Ph.NoInternet),[],[e,s,p,E,f]),h=(0,l.useFacetWrap)(Rd(Ab)),v=(0,l.useFacetWrap)(Rd(Nb)),F=(0,l.useFacetWrap)(Rd(Lb)),y=xz(u,(0,l.useSharedFacet)(xh),m,d,(0,l.useSharedFacet)(gh),(0,l.useSharedFacet)(wh),s,(0,l.useSharedFacet)(Rv),h,v),S=(0,l.useFacetCallback)(((e,t)=>()=>{const{xuid:a,platformId:n}=t;y(),e.refetchProfile(a,n)}),[y],[(0,l.useSharedFacet)(xh),u]),C=(0,l.useFacetMap)((e=>e!==Ph.None),[],[b]),M=(0,l.useFacetMap)(((e,t,a)=>t?o(".headerSelf"):""!=a.xuid&&e.state.xblState===Th.Loaded&&e.data.relation!==kh.Self?o(".headerOther",[e.data.xblName]):""!=a.platformId&&e.state.platformState===Th.Loaded&&e.data.relation!==kh.Self?o(".headerOther",[e.data.platformName]):o(".headerSelf")),[o],[e,C,u]),w=(0,l.useFacetMap)((e=>e.xuid),[],[u]);return r.createElement(l.Unwrap,{data:i},(o=>"friends-list"===o?r.createElement(bz,{loadedProfileFacet:e,currentProfileFacet:t,followingListFacet:d}):"compare-stats"===o?r.createElement(tU,{loadedProfileFacet:e,currentProfileFacet:t,statisticsFacet:m}):"followers-list"===o?r.createElement(Mz,null):"set-featured-screenshot"===o?r.createElement(fj,null):r.createElement(ZN,{title:M,screenAnalyticsId:"Profile",gamepadAlias:"profile-route",delegateByAlias:wj,friendsDrawer:F},(()=>r.createElement(l.Unwrap,{data:C},(t=>t?r.createElement(zM,{narrowBreakpointWidth:70},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Vi,{size:2}),r.createElement(yj,{errorMessage:b,onRetryLoad:S,xuid:w})),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))):r.createElement(xj,{profileFacet:e,xuid:w,telemetryState:a,setTelemetryState:n})))))))}const xj=({profileFacet:e,xuid:t,telemetryState:a,setTelemetryState:n})=>{const o=Pe(),c=g(),i=h(),s=(0,l.useFacetMap)((e=>e.tab),[],[c]),u=p(),d=(0,l.useSharedFacet)(FF),m=(0,l.useSharedFacet)(wh),f=(0,l.useFacetCallback)((e=>t=>{o(_k.getFocusAlias(Mj,t)),u.replace(M(`/profile/${t}`,e))}),[o,u],[i]),E=(0,l.useFacetWrap)(Rd(jb));(0,l.useFacetEffect)((()=>{o(wj)}),[o],[t]);const{t:b}=ws("ProfileRoute"),v=[{label:b(".overviewTabButtonLabel"),value:"overview"},{label:b(".statsTabButtonLabel"),value:"stats"}],F=Pz(e),y=Tz(e),S=function(e){return(0,l.useFacetMap)((e=>e.state.platformState===Th.Loaded&&""!==e.data.platformId&&""===e.data.xuid),[],[e])}(e),C=(0,l.useFacetMap)(((e,t,a,n,r)=>{if(!e.isLoggedInWithMicrosoftAccount&&!e.isSignInInProgress&&(t||n))return Ph.NotLoggedInWithMSA;if(!t){if(e.isLoggedInWithMicrosoftAccount&&r)return Ph.LoggedInWithMSAButPlatformProfile;if(a.loaded&&!a.data.viewTargetProfile)return Ph.NotAllowedToViewProfilesAdult;if(!e.userPermissions.viewProfiles.allowed)return e.userPermissions.viewProfiles.denyReasons.includes(bF.XboxLive_Parental)?Ph.NotAllowedToViewProfilesChild:Ph.NotAllowedToViewProfilesAdult}return Ph.None}),[],[d,F,m,y,S]),[w,k]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)((e=>k(e!==Ph.None)),[k],[C]);const P=(0,l.useFacetMap)(((e,t,a,n,r)=>!(""===e||!n.isLoggedInWithMicrosoftAccount&&!n.isSignInInProgress||a||r||t.loaded)),[],[t,m,F,d,S]),T=(()=>{const e=wI();return(0,r.useCallback)(((t,a)=>{e("ProfileLoaded",{profileXuid:{value:t,privacyTag:zv.EUPI},relationToCurrentUser:{value:a,privacyTag:zv.SystemMetadata}})}),[e])})();(0,l.useFacetEffect)(((e,t,a,r)=>{e.state.xblState===Th.Loaded&&t.loaded&&a.shouldFireProfileLoaded&&!r&&(T(e.data.xuid,e.data.relation),a.shouldFireProfileLoaded=!1,n(a))}),[T,n],[e,m,a,w]);const I=Iz(e),x=function(e,t,a,n,r){const o=Rd(Ab),c=Rd(Nb);return(0,l.useFacetMap)(((e,t,a,n,r)=>a!==Ph.NotAllowedToViewProfilesAdult&&a!==Ph.NotAllowedToViewProfilesChild&&o&&c&&""!==e&&t.isLoggedInWithMicrosoftAccount?e===t.currentXuid?{src:n.featuredScreenshot,loading:n.isLoadingFeaturedScreenshot}:{src:r.featuredScreenshot,loading:r.isLoadingFeaturedScreenshot}:{src:"",loading:!1}),[o,c],[e,t,a,n,r])}(t,d,C,(0,l.useSharedFacet)(Nv),(0,l.useSharedFacet)(Rv)),O=(0,l.useFacetMap)(((e,t)=>{let a=!1;""!==e.data.xuid&&(a=e.state.xblState===Th.Loading),""!==e.data.platformId&&(a=e.state.platformState===Th.Loading);const n=e.data.avatarState===sF.Requested;return a||n||t}),[],[e,P,x]),A=(0,l.useFacetMap)((e=>e.data),[],[e]),N=(0,l.useFacetMap)((e=>e.src),[],[x]),R=(0,l.useFacetMap)((e=>e.loading),[],[x]),L=(0,l.useFacetMap)((e=>e?qU.ButtonIfWide:qU.Options),[],[E]);return r.createElement(zM,{narrowBreakpointWidth:70},r.createElement(Vi,{size:2}),r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:4,narrowSize:0},r.createElement(ud,{loading:O,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"player-card-scroll-view",delegateFocusByAlias:JU},r.createElement(ZU,{playerFacet:A,featuredImgSrc:N,featuredImgLoading:R,reportLocation:L,screenAnalyticsId:"Profile"}),r.createElement(Lm.Space,null))),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(l.Unwrap,{data:w},(o=>o?r.createElement(r.Fragment,null,r.createElement(Oj,{playerFacet:A,featuredImgSrc:N,featuredImgLoading:R,separateReportButton:!1,screenAnalyticsId:"Profile"}),r.createElement(l.Mount,{when:I},r.createElement(gj,{profileFacet:e})),r.createElement(yj,{errorMessage:C,onRetryLoad:()=>{},xuid:t})):r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:P,condition:!1},r.createElement(_k,{gamepadAliasNamespace:Mj,value:s,onChange:f,tabs:v,narrationTitle:b(".narration.title"),enableGamepadShortcuts:!0})),r.createElement(tk,{tab:"overview"},r.createElement(Nj,{profileFacet:e,telemetryState:a,setTelemetryState:n,loading:P,featuredImgSrc:N,featuredImgLoading:R})),r.createElement(tk,{tab:"stats"},r.createElement(Lj,{profileFacet:e,featuredImgSrc:N,featuredImgLoading:R}))))))))};function Oj(e){const t=Sc(),a=Rd(jb),n=(0,l.useFacetMap)(((e,t)=>t.relation!==kh.Self&&a&&e),[a],[(0,l.useFacetWrap)(e.separateReportButton),e.playerFacet]),o=(0,l.useFacetMap)((e=>e?qU.NotPresent:qU.Options),[],[n]);return"narrow"===t?r.createElement(r.Fragment,null,r.createElement(ZU,Sj({},e,{reportLocation:o})),r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:"a4843956205e6d05b1e8"},r.createElement(lz,{player:e.playerFacet})))),r.createElement(Vi,{size:2})):null}const Aj=({profileFacet:e})=>{const t=p(),{t:a}=ws("ProfileRoute"),n=Yr("neutral"),o=(0,l.useSharedFacet)(Ah),c=(0,l.useSharedFacet)(_l),i=(0,l.useSharedFacet)(CF),s=(0,l.useSharedFacet)(cb),u=(0,l.useSharedFacet)(Nv),d=(0,l.useSharedFacet)(Rv),m=(0,l.useFacetWrap)(Rd(Lb)),f=kj("friends-list"),g=kj("followers-list"),E=Pz(e),b=(0,l.useFacetMap)((e=>!e),[],[E]),h=kz(),v=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[h,(0,l.useSharedFacet)(Eh)]),F=(0,l.useFacetMap)((e=>e.isLoading),[],[o]),y=(0,l.useFacetMap)((e=>e.playerList.length),[],[o]),S=(0,l.useFacetMap)((e=>!e.isLoading&&0===e.playerList.length),[],[o]),C=(0,l.useFacetMap)((e=>""!==e.data.xuid?e.data.xblName:""!==e.data.platformName?e.data.platformName:""!==e.data.offlineName?e.data.offlineName:""),[],[e]),M=(0,l.useFacetMap)(((e,t,n)=>n?a(".friendsNarrationWithName",[t,`${e}`]):a(".friendsNarration",[`${e}`])),[a],[y,C,m]),w=(0,l.useFacetMap)(((e,t)=>t&&!e.isLoading?e.playerList.length:0),[],[(0,l.useSharedFacet)(Gb),E]),k=(0,l.useFacetMap)((e=>a(".followersNarration",[`${e}`])),[a],[w]),P=(0,l.useFacetMap)((e=>0===e),[],[w]),T=(0,l.useFacetMap)(((e,t,a)=>a?e.count:t.count),[],[u,d,E]),I=(0,l.useFacetMap)(((e,t,a)=>a?e.maxScreenshots:t.maxScreenshots),[],[u,d,E]),x=(0,l.useFacetMap)(((e,t)=>{const a=t.data.find((e=>e.name===ME.HoursPlayed)),n=null!=a?Math.floor(a.currentUserValueRaw/60):-1;return{loaded:e.status===TE.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(YE).length,rewardsTotal:tb(e.data.achievements),rewardsUnlocked:eb(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:n}}),[],[(0,l.useSharedFacet)(gh),(0,l.useSharedFacet)(wE)]),O=Rd(Ab),A=Rd(Nb),N=(0,l.useFacetMap)((e=>e&&O),[O],[E]),R=(0,l.useFacetMap)((e=>e.isLoadingCount),[],[u]),L=(0,l.useFacetMap)((e=>!e&&O&&A),[O,A],[E]),D=(0,l.useFacetMap)((e=>!e.isLoadingCount&&0===e.count),[],[d]),_=(0,l.useFacetMap)((e=>e.isLoadingCount),[],[d]),B=Rd("vanilla.profileFeedback"),W=(0,l.useFacetMap)((e=>e.state.xblState===Th.Loaded&&e.data.relation===kh.Follower),[],[e]),U=(0,l.useFacetMap)(((e,t)=>e?a(".friendsItemLabelWithName",[`${t}`]):a(".friendsItemLabel")),[a],[m,C]),z=(0,l.useFacetMap)((e=>a(".addFollowerBackBanner",[`${e}`])),[a],[C]),j=(0,l.useFacetMap)((e=>RI(e.platform)&&B),[B],[c]),H=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.ProfileFeedbackMain)}),[],[i]),G=(0,l.useFacetMap)(((e,t)=>e&&t),[],[S,P]),V=(0,l.useFacetMap)((e=>e.isAnyBeta),[],[s]),$=Nw({wide:8,narrow:6,width:256}),X=(0,l.useFacetMap)((e=>e?"fed064b643083037c3f5":"bdc840d8eab17b9683c1"),[],[$]),K=Iz(e),Y=(0,l.useFacetCallback)((()=>()=>{t.push("/screenshot-gallery")}),[t],[e]),q=(0,l.useFacetCallback)((e=>()=>{var a;t.push(`/screenshot-showcase?${Oz({xuid:(a=e.data).xuid,playerName:a.xblName,relation:a.relation})}`)}),[t],[e]),Q=(0,l.useFacetMap)(((e,t)=>!t||t&&!e),[],[E,m]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:j},r.createElement(r.Fragment,null,r.createElement("div",{className:dl()("d6d67a699c2a1ea8c417",n.background.base,n.border.base)},r.createElement(lm,{inputLegend:a(".feedbackButton"),Icon:LM.ExternalLink,onClick:H},a(".feedbackButton")),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort"},a(".feedbackText"))),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:W},r.createElement(r.Fragment,null,r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,z)),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:K},r.createElement(gj,{profileFacet:e})),r.createElement(rT,null,r.createElement(l.Mount,{when:Q},r.createElement(rT.Action,{narrationText:M,inputLegend:a(".friendsInputLegend"),onClick:f,disabled:S},r.createElement(rT.Cell,null,r.createElement(pu,{src:iz,imageRendering:"pixelated",className:mz})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmest"},U),r.createElement(l.Mount,{when:F,condition:!1},r.createElement(Zi,{type:"body"},y)),r.createElement(l.Mount,{when:F},r.createElement(Vi,{size:5}))))),r.createElement(l.Mount,{when:E},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:G},r.createElement("div",{className:dl()("b51a56d36951249a958e",n.border.base)})),r.createElement(rT.Action,{narrationText:k,inputLegend:a(".followersInputLegend"),onClick:g,disabled:P},r.createElement(l.Mount,{when:m},r.createElement(rT.Cell,null,r.createElement(pu,{src:sz,imageRendering:"pixelated",className:mz}))),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmest"},a(".followersItemLabel")),r.createElement(Zi,{type:"body"},w)))))),r.createElement(l.Mount,{when:N},r.createElement(rT,null,r.createElement(rT.Action,{narrationText:(0,l.useFacetMap)(((e,t)=>a(".screenshotsNarration",[`${e}`,`${t}`])),[a],[T,I]),inputLegend:a(".screenshotsInputLegend"),onClick:Y},r.createElement(rT.Cell,null,r.createElement(pu,{src:uz,imageRendering:"pixelated",className:mz})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmest"},a(".screenshotsItemLabel")),r.createElement(l.Mount,{when:R,condition:!1},r.createElement(Zi,{type:"body"},(0,l.useFacetMap)(((e,t)=>a(".listItemFractionValue",[`${e}`,`${t}`])),[a],[T,I]))),r.createElement(l.Mount,{when:R},r.createElement(Vi,{size:5})))))),r.createElement(l.Mount,{when:L},r.createElement(rT,null,r.createElement(rT.Action,{narrationText:(0,l.useFacetMap)(((e,t)=>a(".screenshotsNarration",[`${e}`,`${t}`])),[a],[T,I]),inputLegend:a(".screenshotsInputLegend"),onClick:q,disabled:D},r.createElement(rT.Cell,null,r.createElement(pu,{src:uz,imageRendering:"pixelated",className:mz})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmest"},a(".showcaseItemLabel")),r.createElement(l.Mount,{when:_,condition:!1},r.createElement(Zi,{type:"body"},(0,l.useFacetMap)(((e,t)=>a(".listItemFractionValue",[`${e}`,`${t}`])),[a],[T,I]))),r.createElement(l.Mount,{when:_},r.createElement(Vi,{size:5})))))),r.createElement(l.Mount,{when:V},r.createElement(aw,{title:a(".achievementsInPreviewTitle"),text:a(".achievementsInPreviewDesc"),imgSrc:wz,imgClass:X})),r.createElement(l.Mount,{when:v},r.createElement(rT,null,r.createElement(rT.Action,{narrationText:(0,l.useFacetMap)((e=>[a(".achievementsNarration",[`${e.unlocked}`,`${e.total}`]),a(".gamerscoreNarration",[`${e.gamerScore}`,`${e.maxGamerScore}`])].join(" . ")),[a],[x]),inputLegend:a(".achievementsInputLegend"),onClick:()=>t.push("/achievements"),disabled:b},r.createElement(rT.Cell,null,r.createElement(pu,{src:cz,imageRendering:"pixelated",className:mz})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmest"},a(".achievementsItemLabel")),r.createElement(Zi,{type:"body"},(0,l.useFacetMap)((e=>a(".listItemFractionValue",[`${e.unlocked}`,`${e.total}`])),[a],[x]))),r.createElement(rT.Cell,{direction:"row"},r.createElement(pu,{className:"ee4a864527c4b09ebe84",src:dz,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},(0,l.useFacetMap)((e=>a(".listItemFractionValue",[`${e.gamerScore}`,`${e.maxGamerScore}`])),[a],[x])),r.createElement(Vi,{size:1}))))))};function Nj({profileFacet:e,telemetryState:t,setTelemetryState:a,loading:n,featuredImgSrc:o,featuredImgLoading:c}){const{t:i}=ws("ProfileRoute"),s=(0,l.useSharedFacet)(bh),u=(0,l.useFacetMap)((e=>e.suggested.slice(0,3)),[],[s]),d=(0,l.useFacetMap)((e=>e.completed.slice(0,3)),[],[s]),m=(()=>{const e=wI();return(0,r.useCallback)(((t,a)=>{e("ProfileSuggestedAchievementsDisplayed",{profileXuid:{value:t,privacyTag:zv.EUPI},suggestedNextAchievementIds:{value:a.join(","),privacyTag:zv.CustomerContent}})}),[e])})();(0,l.useFacetEffect)(((e,t,n,r)=>{const l=t.map((e=>e.id));e&&r.shouldFireAchievementsDisplayed&&(m(n.data.xuid,l),r.shouldFireAchievementsDisplayed=!1,a(r))}),[m,a],[(0,l.useSharedFacet)(Eh),u,e,t]);const p=Pz(e),f=(0,l.useFacetMap)((e=>!e),[],[p]),g=kz(),E=(0,l.useFacetMap)(((e,t)=>!e||t),[],[(0,l.useSharedFacet)(Eh),n]),b=r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(Oj,{playerFacet:(0,l.useFacetMap)((e=>e.data),[],[e]),featuredImgSrc:o,featuredImgLoading:c,separateReportButton:!0,screenAnalyticsId:"Profile"}),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(Aj,{profileFacet:e}),r.createElement(Vi,{size:2})),h=r.createElement(r.Fragment,null,r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}),r.createElement(Vi,{size:1}));return r.createElement(bd,{text:i(".tabNarration",[i(".overviewTabButtonLabel"),"1","2"])},r.createElement(l.Mount,{when:n},r.createElement(Vi,{size:2})),r.createElement(l.Mount,{when:g},r.createElement(ud,{loading:n,renderTracker:e=>r.createElement(ek,{type:"meaningful",renderingCompleted:e}),gamepadAlias:Cj,delegateFocusFromMemory:!0},b,h)),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(nI,{gamepadAlias:Cj,delegateFocusFromMemory:!0,header:b,loading:E,data:(0,l.useFacetMap)(((e,t)=>[{role:"informativeTint",title:i(".suggestedAchievementsListLabel"),data:e},{role:"successTint",title:i(".completedAchievementsListLabel"),data:t}]),[i],[u,d]),footer:h,sectionSeparator:r.createElement(Vi,{size:2}),renderSectionHeader:(e,t)=>r.createElement(aP,{role:t,label:e}),renderItem:({itemFacet:e,index:t,sectionIndex:a,listLengthFacet:n})=>r.createElement(Rj,{item:e,index:t,sectionIndex:a,listLength:n,disabled:f}),renderTracker:e=>r.createElement(ek,{type:"meaningful",renderingCompleted:e}),padSpinnerVertically:!0})))}const Rj=({item:e,index:t,listLength:a,disabled:n})=>{const o=p();return r.createElement(mT,{item:e,onClick:(0,l.useFacetCallback)((e=>()=>{o.push(`/achievement-detail/${e.id}`)}),[o],[e]),index:t,listLength:a,disabled:n})};function Lj({profileFacet:e,featuredImgSrc:t,featuredImgLoading:a}){const{t:n}=ws("ProfileRoute"),o=kj("compare-stats"),c=(0,l.useSharedFacet)(wE),i=(0,l.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[c]),s=r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(Oj,{playerFacet:(0,l.useFacetMap)((e=>e.data),[],[e]),featuredImgSrc:t,featuredImgLoading:a,separateReportButton:!1,screenAnalyticsId:"Profile"}),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.state.xblState===Th.Loaded&&e.data.relation!==kh.Self),[],[e])},r.createElement(r.Fragment,null,r.createElement("div",{className:"e89df93bd07001ab3c49"},r.createElement(lm,{inputLegend:n(".compareStats"),onClick:o},n(".compareStats"))),r.createElement(Vi,{size:2})))),u=(0,l.useFacetMap)((e=>!e.loaded),[],[c]);return r.createElement(bd,{text:n(".tabNarration",[n(".statsTabButtonLabel"),"2","2"])},r.createElement(l.Mount,{when:u},r.createElement(Vi,{size:2})),r.createElement(b_,{gamepadAlias:"profile-stats-list",delegateFocusFromMemory:!0,data:i,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(JW,{item:e,index:t,listLength:a}),loading:u,header:s,footer:r.createElement(r.Fragment,null,r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}),r.createElement(Vi,{size:1})),padSpinnerVertically:!0}))}function Dj({gamerIcon:e,gamerTag:t,onlineStatus:a,onClick:n}){const o=(0,l.useFacetWrap)(a),c=(0,l.useFacetWrap)(e),i=Yr("neutral"),{t:s}=ah("PlayerTag"),u=(0,l.useFacetMap)((e=>[e,s(".role"),s(".hint")].join(" . ")),[s],[(0,l.useFacetWrap)(t)]);return r.createElement(Wi,{inputLegend:s(".viewProfile"),narrationText:u,onClick:n,className:dl()("dd638cd02a970673aca7",i.background.base,i.border.base,i.background.interactive),classNameFocused:dl()("ddc435cdf9fecbc886e3",i.outline.base)},r.createElement(Uy,{src:c,statusBadge:o,variant:"medium"}),r.createElement("div",{className:"f8dc9df5257ff2328476"},r.createElement(Zi,{type:"body",align:"left"},r.createElement(ji,null,t))),r.createElement(Ks,{effect:"bevel"}))}const _j="e8b9cffa210e522d7ee3";function Bj({laneSegmentData:e}){const t=(0,l.useFacetWrap)(null!=e?e:{darkenLevel:0,narrationText:""}),a=Yr("neutral80"),n=Yr("neutral"),o=(0,l.useFacetMap)((e=>dl()(0===e.darkenLevel?n.background.base:2===e.darkenLevel?a.shadow.base:a.background.base,"a26e341716e7f9818dbb",n.border.base)),[n,a],[t]);return r.createElement("div",{className:_j},r.createElement("fast-div",{className:o}))}function Wj({laneSegmentData:e}){const t=(0,l.useFacetWrap)(null!=e?e:{darkenLevel:0,narrationText:""}),a=(0,l.useFacetMap)((e=>e.narrationText),[],[t]),n=Yr("neutral");return r.createElement("div",{className:_j},r.createElement(Wi,{classNameFocused:dl()("c348abe50962bcc099c2",n.outline.base),inputLegend:!1,narrationText:a,onClick:()=>{}},r.createElement("div",{className:"db7e68e414baacf65554"})))}const Uj=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function zj({unitWidth:e,color:t,blockData:a}){const n=Yr(Uj[t%Uj.length]),o=Yr("neutral");return r.createElement("fast-div",{className:dl()("f8be81aaaa6e5177b115",n.background.base),style:{left:(0,l.useFacetMap)((t=>t.start*e*100+"%"),[e],[a]),width:(0,l.useFacetMap)((t=>t.size*e*100+"%"),[e],[a])}},r.createElement("div",{className:"c95734e6ef4a0ed6d962"},r.createElement("div",{className:dl()("a7167c600977227028d0",o.border.base)})))}function jj({isDarker:e=!1,numberOfSegments:t,maximumBlockCount:a,highlightedSegment:n=-1,blackenedSegmentBefore:o=-1,blackenedSegmentAfter:c=-1,blocks:i,blockColor:s,narrationText:u=(0,l.createStaticFacet)([])}){const d=1/a,m=(0,l.useFacetWrap)(n),p=(0,l.useFacetWrap)(o),f=(0,l.useFacetWrap)(c),g=(0,l.useFacetMap)(((a,n,r,l)=>{const o=[];for(let c=0;c<t;c++)o.push({darkenLevel:c===a?0:c<n&&-1!==n||c>r&&-1!==r||e?2:1,narrationText:c<l.length?l[c]:""});return o}),[t,e],[m,p,f,u]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"d26cfb14b94708de77ad"},r.createElement(l.Map,{array:g},(e=>r.createElement(Bj,{laneSegmentData:e}))),r.createElement(l.Map,{array:i},(e=>r.createElement(zj,{blockData:e,unitWidth:d,color:s}))),Ln()?r.createElement("div",{className:"f8bb2f68641ff846d56f"},r.createElement(l.Map,{array:g},(e=>r.createElement(Wj,{laneSegmentData:e})))):null))}function Hj({isDarker:e,numberOfSegments:t,maximumBlockCount:a,highlightedSegment:n,blackenedSegmentBefore:o,blockColor:c,playerData:i}){const s=Cc(),u=Yr("neutral"),d=p(),m=(0,l.useFacetCallback)((e=>()=>d.push(qx(e.gamerXuid))),[d],[i]);return r.createElement("div",{className:dl()("f13220542fc68fe07cc8","c680191b549bd269da1a")},r.createElement("div",{className:dl()({e63c5925ed7670cd07a8:s},{ef06a2036dd109580f79:!s},"ec390a401265944d7f52",u.border.base)},r.createElement(Dj,{gamerIcon:(0,l.useFacetMap)((e=>e.gamerIcon),[],[i]),gamerTag:(0,l.useFacetMap)((e=>e.gamerTag),[],[i]),onlineStatus:(0,l.useFacetMap)((e=>!0===e.gamerOnline?"online":"offline"),[],[i]),onClick:m})),r.createElement("div",{className:dl()({a92f8fb04dfd66869cc7:s},{e35ad42fa830444cc5ce:!s},"d3ed7614d8ed1c239f9a",u.border.base)},r.createElement(jj,{isDarker:e,blockColor:c,numberOfSegments:t,maximumBlockCount:a,highlightedSegment:n,blackenedSegmentBefore:o,blocks:(0,l.useFacetMap)((e=>e.blocks),[],[i]),narrationText:(0,l.useFacetMap)((e=>e.narrationText),[],[i])})))}const Gj=a.p+"assets/timeline-options-20a5e0d4ba1cdec040f9.png",Vj=({onChange:e,onInformation:t,totalPages:a,currentPage:n,isNarrow:l})=>{const{t:o}=ws("Modal"),{t:c}=ws("RealmsStories.Timeline");return r.createElement("div",{className:dl()("c92f3c83649298a5537c",{a65868bdbc661c051b3d:l})},r.createElement(FO,{totalPages:a,currentPage:n,onChange:e,counterStyle:"hide-counter",middleSpacingsSize:2}),r.createElement(Vi,{size:4}),r.createElement("div",{className:"daa298a02b1c5278c992"},r.createElement(lm,{"data-testid":"timeline-options-button",inputLegend:o(".select"),onClick:t,imgSrc:Gj,narrationPrefix:c(".OptionsModal.narrationHint")})))},$j=[".month00",".month01",".month02",".month03",".month04",".month05",".month06",".month07",".month08",".month09",".month10",".month11"],Xj=[".monthShort00",".monthShort01",".monthShort02",".monthShort03",".monthShort04",".monthShort05",".monthShort06",".monthShort07",".monthShort08",".monthShort09",".monthShort10",".monthShort11"],Kj=[".day0",".day1",".day2",".day3",".day4",".day5",".day6"],Yj=[".dayShort0",".dayShort1",".dayShort2",".dayShort3",".dayShort4",".dayShort5",".dayShort6"],qj=1440,Qj=864e5;function Jj(){{const e=new Date;return e.setHours(13),e}}const Zj=36e5;var eH;!function(e){e[e.ABOUT=0]="ABOUT",e[e.MEMBERS=1]="MEMBERS",e[e.OPT_OUT=2]="OPT_OUT"}(eH||(eH={}));const tH={[eH.ABOUT]:"OPTION-ABOUT",[eH.MEMBERS]:"OPTION-MEMBERS",[eH.OPT_OUT]:"OPTION-OPT_OUT"},aH=As((({onClose:e,onClickAbout:t,onClickMembers:a,onClickOptOut:n})=>{const{t:o}=ws("RealmsStories.Timeline.OptionsModal"),c=(0,l.useSharedFacet)(Hh),i=(s=(0,l.useFacetMap)((e=>aI(e.players,(e=>e.role!==jh.NONMEMBER))),[],[c]),(0,l.useFacetMemo)((e=>{const t=[],a=[],n=[],r=[],l=[];return e.forEach((e=>{e.isOnline&&a.push(e),e.isInRealm&&n.push(e),e.hasOptedIn?r.push(e):l.push(e),t.push(e)})),{allMembers:t,onlinePlayers:a,inRealmPlayers:n,optedInPlayers:r,optedOutPlayers:l}}),[],[s]));var s;const u=(0,l.useFacetMap)((e=>e.optedOutPlayers.length),[],[i]),d="3",m=(0,l.useFacetMap)((e=>[{enumeration:o(".options.enumeration",["1",d]),gamepadAlias:tH[eH.ABOUT],label:o(".options.about"),value:eH.ABOUT},{enumeration:o(".options.enumeration",["2",d]),gamepadAlias:tH[eH.MEMBERS],label:o(".options.members",[`${e}`]),value:eH.MEMBERS},{enumeration:o(".options.enumeration",["3",d]),gamepadAlias:tH[eH.OPT_OUT],label:o(".options.optOut"),value:eH.OPT_OUT}]),[o,d],[u]),p=(0,r.useCallback)((e=>{switch(e){case eH.ABOUT:t();break;case eH.MEMBERS:a();break;case eH.OPT_OUT:n()}}),[t,a,n]);return r.createElement(fP,{onClose:e,onItemSelect:p,isOpen:!0,title:o(".options"),items:m})})),nH="timeline-information-learn-more",rH=As((({closeModal:e,learnMore:t})=>{const{t:a}=ws("RealmsStories.Timeline.Information"),n=(0,r.useCallback)((()=>{e(),t()}),[t,e]);return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:nH},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message")},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:nH,variant:"primary",inputLegend:a(".select"),onClick:n,narrationSuffix:a(".enumeration",["1","2"])},a(".learnMore")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".select"),onClick:e,narrationSuffix:a(".enumeration",["2","2"])},a(".close"))))})),lH=As((({onClose:e,onOptOutCompleted:t,onOptOutCancelled:a})=>{const n="Opt-Out-Button",{t:l}=ws("RealmsStories"),{t:o}=ws("RealmsStories.OptOutModal"),c=(0,r.useCallback)((()=>{e(),t()}),[e,t]),i=(0,r.useCallback)((()=>{e(),a()}),[e,a]),s=o(".title"),u=[o(".message"),o(".title")],d=u.join(" . ");return r.createElement($m,{defaultFocusAlias:n},r.createElement($m.Header,{onClose:e},s),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:d,spaceBetweenParagraphs:5},u.map(((e,t)=>r.createElement(Zi,{key:t,type:"captionLong"},e))))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:n,inputLegend:l(".select"),variant:"destructive",onClick:c,narrationSuffix:o(".enumeration",["1","2"])},o(".confirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:l(".select"),variant:"secondary",onClick:i,narrationSuffix:o(".enumeration",["2","2"])},o(".cancel"))))})),oH="Ok-Button",cH=As((({onClose:e})=>{const{t}=ws("RealmsStories"),{t:a}=ws("RealmsStories.OptOutInGameModal"),n=a(".title");return r.createElement($m,{defaultFocusAlias:oH},r.createElement($m.Header,{onClose:e},n),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message")},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:oH,inputLegend:t(".select"),variant:"secondary",onClick:e},a(".confirm"))))}));function iH({headerSegmentData:e=(0,l.createStaticFacet)({text1:"text1",text2:"text2",narrationText:"",darkenLevel:0,size:1})}){const t=Yr("neutral60"),a=Yr("neutral"),n=Yr("neutral80"),o=(0,l.useFacetMap)((e=>`cacb2259488b1bcbd305 ${a.border.base} ${0===e.darkenLevel?t.background.base:1===e.darkenLevel?a.background.base:n.background.base}`),[t,a,n],[e]),c=(0,l.useFacetMap)((e=>e.narrationText),[],[e]),i=(0,l.useFacetMap)((e=>e.text1),[],[e]),s=(0,l.useFacetMap)((e=>e.text2),[],[e]),u=(0,l.useFacetMap)((e=>""!==e.text2),[],[e]);return r.createElement("fast-div",{className:"f7f588121278ea75d3c8",style:{width:(0,l.useFacetMap)((e=>100*e.size+"%"),[],[e])}},r.createElement("fast-div",{className:o},r.createElement(Zi,{type:"body",align:"center"},i),r.createElement(l.Mount,{when:u},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body",align:"center",variant:"dimmer"},s)))),Ln()?r.createElement("div",{className:"c49079b0e7bbd4cec88e"},r.createElement(Wi,{classNameFocused:dl()("df4dc1fcbf68dfa22af0",a.outline.base),inputLegend:!1,narrationText:c,onClick:()=>{}},r.createElement("div",{className:"aadce915272d44a1d926"}))):null)}function sH({rowData:e}){return r.createElement("div",{className:"ce1849b594ffa527674e"},r.createElement(l.Map,{array:e},(e=>r.createElement(iH,{headerSegmentData:e}))))}function uH({correlationId:e}){const t=Cc(),a=Ln(),n=t?5:7,o=n*qj,c=Math.ceil(28/n),i=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),E=p(),b=f(),[h,v]=(0,l.useFacetState)(c),F=g(),y=(0,l.useSharedFacet)(_h),S=(0,l.useSharedFacet)(Bh),C=(0,l.useSharedFacet)(Sv),M=hB(e),w=(0,l.useSharedFacet)(Kb),k=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[S]),P=(0,l.useFacetCallback)((e=>()=>{e>c&&v(c)}),[c,v],[h]);(0,r.useEffect)((()=>{const e=()=>{P()};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}));const{t:T}=ws("Timeline"),{t:I}=ws("RealmsStories.Timeline"),x=Jj(),O=((e,t,a,n,r)=>(0,l.useFacetMap)((e=>{const l=[];let o=-1;for(let c=0;c<a;c++){const i=a*(t-e)+(a-1-c),s=new Date(n.getTime()+0-i*Qj),u=s.getMonth(),d=s.getFullYear().toString();u!==o?l.push({text1:r(Xj[u]),text2:d,narrationText:[r(".monthYear",[r($j[u]),d]),r(".date"),r(".monthAndTheYear")].join(" . "),darkenLevel:1,size:1/a}):(l[l.length-1].text1=r($j[u]),l[l.length-1].size=(l[l.length-1].size*a+1)/a),o=u}return l}),[a,t,n,r],[e]))(h,c,n,x,T),A=((e,t,a,n,r)=>(0,l.useFacetMap)((e=>{const l=[];for(let o=0;o<a;o++){const c=a*(t-e)+(a-1-o),i=new Date(n.getTime()+0-c*Qj),s=i.getDay(),u=i.getDate();l.push({text1:r(Yj[s]),text2:("0"+u).slice(-2),narrationText:[r(".dayAndDate",[r(Kj[s]),u.toString()]),r(".date"),r(".dayOfTheWeek"),r(".enumeration",[(o+1).toString(),a.toString()])].join(" . "),darkenLevel:0===c?0:c<28?1:2,size:1/a})}return l}),[a,t,n,r],[e]))(h,c,n,x,T),N=(0,l.useSharedFacet)(sv),R=(e=>(0,l.useFacetMap)((e=>{const t=[];for(let a=0;a<e.sessions.length;a++)t.push(e.sessions[a]);return t.sort(((e,t)=>e.userXuid===t.userXuid?e.login-t.login:e.userXuid.localeCompare(t.userXuid)))}),[],[e]))(N),L=(0,l.useSharedFacet)(Bh),D=(0,l.useSharedFacet)(Hh),_=(0,l.useFacetMap)((e=>e.players),[],[D]),B=((e,t,a,n)=>(0,l.useFacetMemo)(((e,t,a)=>{const r=new Map;a.sessions.forEach((e=>{r.set(e.userXuid,e)}));const l=t.filter((e=>{const t=e.hasOptedIn||r.get(e.xuid)&&e.lastSeenTime>=function(){{const e=new Date(Jj().getTime()+0);return e.setDate(e.getDate()-28+1),e.setHours(0,0,1),Math.round(e.getTime()/1e3)}}();return e.role!==jh.NONMEMBER&&t})).sort(((t,a)=>{if(t.xuid===a.xuid)return 0;if(t.xuid===e.userXuid)return-1;if(a.xuid===e.userXuid)return 1;const n=r.get(t.xuid),l=r.get(a.xuid);return n&&l?t.lastSeenTime===a.lastSeenTime?t.gamerTag.localeCompare(a.gamerTag):a.lastSeenTime-t.lastSeenTime:n||l?n?-1:1:t.gamerTag.localeCompare(a.gamerTag)})),o=new Map;for(let e=0;e<Math.min(n,l.length);e++)o.set(l[e].gamerTag,e);return o}),[n],[t,a,e]))(N,L,_,300),W=(0,l.useFacetMap)((e=>e.players.length>300),[],[D]),U=((e,t,a,n,r,o,c,i)=>(0,l.useFacetMemo)(((e,t,a,n)=>{const l=[],s=new Set,u=1*Math.floor(Math.abs(0)/60),d=1*Math.floor(Math.abs(0)%60),m=o*(r-t),p=new Date(c.getTime()-m*Qj);p.setHours(0-u,0-d,0,0),p.setTime(p.getTime()+Qj-1);const f=o*(r-t+1)-1,g=Math.min(27,f),E=new Date(c.getTime()-g*Qj);E.setHours(0-u,0-d,0,0);const b=function(e,t){let a=0,n=-1,r=0;for(let l=0;l<t;l++){const t=new Date(e.getTime()+Qj*(l-.5));if(a=new Date(e.getTime()+Qj*(l+.5)).getTimezoneOffset()-t.getTimezoneOffset(),0!==a){n=l;for(let t=0;t<24;t++){const a=new Date(e.getTime()+Qj*l+Zj*t),n=new Date(a.getTime()+Zj),o=n.getHours()-a.getHours();if(a.getHours()===n.getHours()||o>1||-23===o&&1===n.getHours()||-22===o&&0===n.getHours()){r=t+1;break}}break}}return{dayLightSavingsOffset:a,dayLightSavingsSegment:n,dayLightSavingsHour:r}}(E,o),h=new Date(c.getTime()-f*Qj);h.setHours(0-u,0-d,0,0);const v=new Map;a.forEach((e=>{v.set(e.xuid,e)}));let F="";for(let t=0;t<e.length;t++){const a=e[t].userXuid,r=v.get(a);if(null==r||r.role===jh.NONMEMBER||!n.has(r.gamerTag))continue;const o=new Date;o.setTime(1e3*e[t].login);const c=new Date;c.setTime(1e3*e[t].logout);const i={start:0,size:0};if(o.getTime()<=p.getTime()&&o.getTime()>=E.getTime()||c.getTime()<=p.getTime()&&c.getTime()>=E.getTime()){const e=new Date(Math.max(o.getTime(),E.getTime())).getTime(),t=new Date(Math.min(c.getTime(),p.getTime())).getTime(),a=b.dayLightSavingsOffset;let n=(e-h.getTime())/1e3/60,r=(t-e)/1e3/60;const l=new Date(E.getTime()+b.dayLightSavingsSegment*Qj+b.dayLightSavingsHour*Zj);a>0?(e>l.getTime()&&(n=(e-h.getTime()-Math.min(e-h.getTime(),Zj))/1e3/60),e<=l.getTime()&&t>l.getTime()&&(r=(t-e-Math.min(t-l.getTime(),Zj))/1e3/60)):a<0&&(e>=l.getTime()&&(n=(e-h.getTime()+Zj)/1e3/60),e<l.getTime()&&t>=l.getTime()&&(r=t-e+Math.min(p.getTime()-c.getTime(),Zj))),i.start=n,i.size=r}if(a!==F){const e=[];0!==i.size&&e.push(i),l.push({gamerXuid:r.xuid,gamerTag:r.gamerTag,gamerIcon:r.gamerIcon,gamerOnline:r.isOnline,gamerOptedIn:r.hasOptedIn,narrationText:[""],blocks:e}),s.add(r.gamerTag)}else 0!==i.size&&l[l.length-1].blocks.push(i);F=a}for(let e=0;e<a.length;e++){if(a[e].role===jh.NONMEMBER||!n.has(a[e].gamerTag))continue;const t=a[e].gamerTag;s.has(t)||(l.push({gamerXuid:a[e].xuid,gamerTag:t,gamerIcon:a[e].gamerIcon,gamerOnline:a[e].isOnline,gamerOptedIn:a[e].hasOptedIn,narrationText:[""],blocks:[]}),s.add(t))}for(let e=0;e<l.length;e++){const a=[];for(let n=0;n<o;n++){const s=n*qj,u=(n+1)*qj-1,d=[];for(let t=0;t<l[e].blocks.length;t++){const a=l[e].blocks[t].start,n=a+l[e].blocks[t].size;if(a>=s&&a<u||n>s&&n<=u){const e=Math.max(a,s)-s,t=Math.floor(e%60),r=Math.floor(e/60),l=Math.min(n,u)-s,o=Math.floor(l%60),c=Math.floor(l/60);d.push(i(".fromTo",[i(".timeFormat",[r.toString(),t.toString()]),i(".timeFormat",[c.toString(),o.toString()])]))}}const m=o*(r-t)+o-n-1,p=new Date;p.setDate(c.getDate()-m);const f=i(".onDayOfMonthYear",[i(Kj[p.getDay()]),p.getDate().toString(),i(".monthYear",[i($j[p.getMonth()]),p.getFullYear().toString()])]);if(0===d.length)a.push(i(".timeline")+" . "+i(".didNotPlay",[l[e].gamerTag,f]));else{let t="";for(let e=0;e<d.length;e++)t=0===e?d[e]:i(".and",[t,d[e]]);a.push([i(".timeline"),1===d.length?i(".timeblock"):i(".timeblocks"),i(".played",[l[e].gamerTag,t,f])].join(" . "))}}l[e].narrationText=a}return l}),[o,r,c,i],[t,e,a,n]))(h,R,_,B,c,n,x,T),z=(j=U,H=B,(0,l.useFacetMap)(((e,t)=>[...e].sort(((e,a)=>{var n,r;return(null!==(n=null==t?void 0:t.get(e.gamerTag))&&void 0!==n?n:0)-(null!==(r=null==t?void 0:t.get(a.gamerTag))&&void 0!==r?r:0)}))),[],[j,H]));var j,H;const G=(0,l.useFacetMap)((e=>c===e?n-1:-1),[c,n],[h]),V=(0,l.useFacetMap)((e=>1===e?n*c-28:-1),[c,n],[h]),$=Yr("neutral"),[X,K]=(0,l.useFacetState)([]);(0,l.useFacetEffect)((e=>{K(e)}),[K],[z]);const Y=(0,l.useFacetMap)((e=>e[0]),[],[X]),q=(0,l.useFacetMap)((e=>0!==e.length&&!t),[t],[X]),Q=aH.useModal(),J=rH.useModal(),Z=(0,r.useCallback)((()=>{Q.hide(),E.push("/realms-stories-timeline-information")}),[E,Q]),ee=(0,l.useFacetCallback)((e=>()=>{Q.hide(),E.push(`/realms-stories-opted-out-members/${e.realmId}`)}),[Q,E],[F]),te=lH.useModal(),ae=(0,l.useFacetCallback)(((t,a,n)=>()=>{t.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,yv.OptedOut,e,bB.OptOut_Settings,a),Q.hide()}),[Q,e],[y,k,F]),ne=(0,l.useFacetMap)(((e,t)=>e&&(t.currentPostState===rF.InputInvalid||t.currentPostState===rF.InternalError||t.currentPostState===rF.UploadFailed||t.currentPostState===rF.PostingFailed)),[],[b,C]),re=(0,l.useFacetMap)(((e,t)=>e&&t.currentPostState===rF.RateLimit),[],[b,C]),le=(0,l.useFacetMap)(((e,t,a,n)=>e&&!a&&!n&&(t.currentPostState===rF.InProgress||t.currentPostState===rF.Uploading)),[],[b,C,ne,re]),oe=(0,l.useFacetCallback)(((e,t,a)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(a.realmId))}),[],[y,le,F]),ce=(0,l.useFacetMap)((e=>e.fetchSessionStatus===nF.Success&&0===e.sessions.length),[],[(0,l.useSharedFacet)(sv)]),ie=cH.useModal(),se=(0,l.useFacetMap)((e=>e.isInGame),[],[w]),ue=(0,l.useFacetCallback)((e=>1==e?ie.show:te.show),[ie,te],[se]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:W},r.createElement(r.Fragment,null,r.createElement(mB,null),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:ce},r.createElement(r.Fragment,null,r.createElement(_r,{collection:Ix},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,I(".noDataBanner")))),r.createElement(Vi,{size:2}))),!t&&r.createElement(uu,{containerRef:m},r.createElement("div",{ref:m},r.createElement("div",{className:dl()(bU,"a62d9b04e1dbb7f8f8ae","db24cb4da5b6e1a80e82")},r.createElement(Vj,{totalPages:c,currentPage:h,onChange:v,isNarrow:t,onInformation:Q.show})))),r.createElement("div",{className:dl()(bU,"d3a27df024f047e95a19")},r.createElement("div",{className:dl()({d2f01a9be3dc023d2014:t},{a0b02d5ddf3eb2294dc9:!t},hU,vU,$.border.base,"b10b4cc8627c34411c3a")},t&&r.createElement(uu,{containerRef:d},r.createElement("div",{ref:d},r.createElement(Vj,{totalPages:c,currentPage:h,onChange:v,isNarrow:t,onInformation:Q.show})))),r.createElement("div",{className:dl()({ed33719ad97569bb0221:t},{fe15f9b00ad4b12ba9ca:!t},"d9f5386ed8495db5a472",hU,$.border.base)},r.createElement(uu,{containerRef:s},r.createElement("div",{ref:s},r.createElement(sH,{rowData:O}))),r.createElement(uu,{containerRef:u},r.createElement("div",{ref:u},r.createElement(sH,{rowData:A}))))),r.createElement(l.Mount,{when:Q.isVisible},r.createElement(aH.Component,{onClose:Q.hide,onClickAbout:J.show,onClickMembers:ee,onClickOptOut:ue})),r.createElement(l.Mount,{when:J.isVisible},r.createElement(rH.Component,{closeModal:J.hide,learnMore:Z})),r.createElement(l.Mount,{when:te.isVisible},r.createElement(lH.Component,{onClose:te.hide,onOptOutCompleted:ae,onOptOutCancelled:()=>M(bB.CancelOptOut_Settings)})),r.createElement(l.Mount,{when:ie.isVisible},r.createElement(cH.Component,{onClose:ie.hide})),r.createElement(l.Mount,{when:le},r.createElement(x_,null)),r.createElement(l.Mount,{when:ne},r.createElement(y_.Component,{onClickClose:oe})),r.createElement(l.Mount,{when:re},r.createElement(M_.Component,{onClickClose:oe})),r.createElement(l.Mount,{when:q},r.createElement(uu,{containerRef:i,focusControlDisabled:a},r.createElement("div",{ref:i},r.createElement(Hj,{isDarker:!1,numberOfSegments:n,maximumBlockCount:o,highlightedSegment:G,blackenedSegmentBefore:V,blockColor:0,playerData:Y})))),r.createElement("div",{className:dl()(bU,"bcb4acbb6c96c1e74dc7",$.border.base)},r.createElement("div",{className:dl()({ade4ed885af15b8d5e41:t},{a466b8000e0d188a3852:!t})},r.createElement(ud,{floating:!0,focusControlDisabled:!0},r.createElement("div",{className:dl()("f9648df911aa63351ff9",vU,$.border.base)},r.createElement(l.Map,{array:(0,l.useFacetMap)((e=>e.slice(t?0:1)),[t],[X])},((e,a)=>r.createElement(Hj,{isDarker:a%2==(t?1:0),numberOfSegments:n,maximumBlockCount:o,highlightedSegment:G,blackenedSegmentBefore:V,blockColor:a+(t?0:1),playerData:e}))))))))}const dH=({children:e})=>r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},e),r.createElement(zM.Column,{wideSize:1,narrowSize:0}));function mH(){const{t:e}=ah("RealmsStories"),t=g(),a=iD(),n=Yr("neutral"),o=Yr("neutral80"),c=f(),i=(0,r.useContext)(s),u=(0,l.useSharedFacet)(_h),d=(0,l.useSharedFacet)(Sv),m=`${Math.floor(1e9*Math.random())}`,p=hB(m),E=(0,l.useFacetMap)(((e,t,a)=>e.isOnline?t.currentFetchState===nF.InternalError||t.currentFetchState===nF.FetchFailed||t.currentFetchState===nF.RateLimit||a.fetchSessionStatus===nF.InternalError||a.fetchSessionStatus===nF.FetchFailed||a.fetchSessionStatus===nF.RateLimit?"fetch-status-error-message":t.currentFetchState===nF.InProgress?"settings-loading":t.realmTimelineStatus?t.playerOptIn!=yv.OptedIn&&(t.currentPostState===rF.Idle||t.currentPostState===rF.Success)||t.playerOptIn==yv.OptedIn&&t.currentPostState!==rF.Success&&t.currentPostState!==rF.Idle?"realms-opt-in-message":"no-message":"timeline-off-message":"no-internet-message"),[],[(0,l.useSharedFacet)(_l),d,(0,l.useSharedFacet)(sv)]),b=(0,l.useFacetCallback)(((e,t)=>()=>e&&!t),[],[c,i]);(0,l.useFacetEffect)(((e,t)=>{if(!0===b()&&(t.currentPostState===rF.Idle||t.currentPostState===rF.Success))switch(e){case"timeline-off-message":return void p(t.playerOptIn===yv.OptedIn?bB.ViewedTimeline_OptedIn_TimelineDisabled:bB.ViewedTimeline_OptedOut_TimelineDisabled);case"realms-opt-in-message":return void p(bB.ViewedTimeline_OptInMessage);case"no-message":return void p(bB.ViewedTimeline_TimelineContent)}}),[p,b],[E,d]);const h=(0,l.useFacetMap)((e=>"no-message"!=e),[],[E]),v=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchSessions(),e.fetchSettings(t.realmId)}),[],[u,t]);return r.createElement(zM,{noGutters:!0},r.createElement(l.Mount,{when:h},r.createElement(l.Unwrap,{data:E},(t=>{switch(t){case"no-internet-message":return r.createElement(dH,null,r.createElement(sB,null));case"fetch-status-error-message":return r.createElement(dH,null,r.createElement(dB,{onClick:v,pageName:e(".timeline")}));case"timeline-off-message":return r.createElement(dH,null,r.createElement(aw,{title:e(".messages.timelineOff.title"),text:e(".messages.timelineOff.body"),imgSrc:EU,imgClass:a}));case"settings-loading":return r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement("div",{"data-testid":"timeline-fetching-spinner",className:dl()("bacb2b9c7255c5e91ec1",n.border.base,o.overlay.base)},r.createElement(id,null))));case"realms-opt-in-message":return r.createElement(vB,{correlationId:m});default:return r.createElement(r.Fragment,null)}}))),r.createElement(l.Mount,{when:h,condition:!1},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(uH,{correlationId:m})))))}function pH(){const e=(0,l.useSharedFacet)(_h),t=(0,l.useSharedFacet)(Bh),a=(0,l.useSharedFacet)(Sv),n=p(),{t:o}=ws("RealmsStories"),c=Ml(),i="realms-stories",s=Pe(),u=(0,l.useFacetMap)((e=>`${o(".header",[e.name])}`),[o],[t]),d=(0,l.useFacetMap)((e=>`${o(".screen",[e])}`),[o],[u]),m=f(),g=(0,l.useFacetCallback)((e=>()=>{e&&n.goBack()}),[n],[m]),E=(0,l.useSharedFacet)(vv),b=(0,l.useFacetMap)(((e,t)=>e.realmNotificationsStatus&&!t.mostRecentStoriesViewed&&t.unreadStoryCount>0),[],[a,E]),h=(0,l.useFacetMap)(((e,t)=>e?t.unreadStoryCount>1?o(".unreadStoryHint",[`${t.unreadStoryCount}`]):o(".oneUnreadStoryHint"):""),[o],[b,E]),v=(0,l.useFacetMap)(((e,t,a)=>[{label:o(".storyFeed"),value:aU.Feed,hint:a,badge:t?e.unreadStoryCount:void 0},{label:o(".timeline"),value:aU.Timeline},{label:o(".members"),value:aU.Members}]),[o],[E,b,h]),F=(0,l.useSharedFacet)(vv),y=(0,l.useFacetCallback)((e=>t=>{Fv(e.stories),n.replace(`/realms-stories/${t}/${c.realmId}`),s(_k.getFocusAlias(i,t))}),[c.realmId,n,s],[F]),S=(0,l.useFacetCallback)((e=>()=>{Fv(e.stories),n.push(`/realms-stories-settings/${c.realmId}`)}),[c.realmId,n],[F]),C=(0,l.useSharedFacet)(_l),M=(0,l.useFacetMap)((e=>!e.isOnline),[],[C]),w=c.tab===aU.Feed,k=(0,l.useFacetCallback)(((e,t)=>()=>{t.fetchMembersStatus!==nF.InProgress&&t.fetchOnlineMembersStatus!==nF.InProgress&&(e.clearFetchMembersStatus(),e.fetchMembers())}),[],[e,(0,l.useSharedFacet)(Hh)]),P=(0,l.useFacetCallback)(((e,t)=>()=>{t.fetchSessionStatus!==nF.InProgress&&(e.clearFetchSessionsStatus(),e.fetchSessions())}),[],[e,(0,l.useSharedFacet)(sv)]),T=(0,l.useFacetCallback)(((e,t)=>()=>{t.storiesStatus!==nF.InProgress&&(e.clearStoryFeedStatus(),e.fetchStories()),t.eventsStatus!==nF.InProgress&&(e.clearEventsStatus(),e.fetchEvents())}),[],[e,E]),[I,x]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)(((e,t)=>{!e&&t.isRealmWorldValid&&(x(!0),k(),T(),P())}),[k,T,P,x],[I,t]);const O=(0,l.useFacetMap)((e=>e.isPrimaryUser),[],[bn()]);return r.createElement(_r,{collection:xx},r.createElement(ay,null,r.createElement(BM,{onBackButton:g,center:r.createElement(Zi,{type:"header5A"},u),narrationText:d,right:r.createElement(l.Unwrap,{data:O},(e=>e?r.createElement(BM.MenuButton,{onClick:S,type:"filter",narrationText:o(".narration.settings")}):r.createElement(r.Fragment,null))),gamepadAlias:"realms-stories-route",delegateFocusFromMemory:!0},r.createElement("div",{className:"ef594b6e6503f7063027"},r.createElement(zM,null,r.createElement(l.Mount,{when:M,condition:!1},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(_k,{gamepadAliasNamespace:i,tabs:v,value:null!=c.tab?c.tab:aU.Feed,enableGamepadShortcuts:!0,onChange:y,narrationTitle:o(".narration.title"),badgeRole:"secondary"}),!w&&r.createElement(Vi,{size:2})))),r.createElement(tk,{tab:aU.Feed},r.createElement(gU,null)),r.createElement(tk,{tab:aU.Timeline},r.createElement(mH,null)),r.createElement(tk,{tab:aU.Members},r.createElement(LW,{isStoriesRouteActive:m})),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}))))))}const fH="b5cfb6bf81dc3dfc08ca";function gH(){return gH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gH.apply(null,arguments)}const EH={"16:9":"1.777777778","4:3":"1.333333333","1:1":"1"},bH=(e,t,a,n)=>e.map(((l,o,c)=>{let{children:i}=l,s=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(l,["children"]);return r.createElement(r.Fragment,{key:o},r.createElement(lm,gH({},s,{horizontal:t,narrationSuffix:a?[n(".buttonEnumeration",[`${o+1}`,`${e.length}`]),s.narrationSuffix].filter(Boolean).join(" . "):s.narrationSuffix}),i),o!==c.length-1&&r.createElement(Vi,{size:2}))})),hH=({title:e,narrationSuffix:t,sectionRole:a="neutral80",buttonsRole:n="neutral",aspectRatio:l="16:9",leftContent:o,rightContent:c,buttons:i,shouldEnumerateButtons:s,delegateFocusByAlias:u,onGoBack:d})=>{const m=(0,r.useRef)(null),p=go(),f=Yr(a),g=Yr(n),E="narrow"===Sc(93),{t:b}=ws("HeroMessage"),h=(0,r.useRef)(null),v=(0,r.useRef)(null),F=(0,r.useRef)(null),y=E?"header5A":"header3",S=[e,t].filter(Boolean).join(" . ");return(0,r.useEffect)((()=>{requestAnimationFrame((()=>{if(F.current){var t;if(F.current.style.setProperty("--heroMessageAspectRatioMultiple",EH[l]),F.current.style.setProperty("--safeZoneTop",`${p.top}px`),F.current.style.setProperty("--safeZoneBottom",`${p.bottom}px`),0===e.length)return void(null===(t=F.current)||void 0===t||t.style.setProperty("--heroMessageTitleHeight","0px"));let a=0;const n=()=>{var t,r;if(a>10){var l;const t=e.length>32?2:1,a=`--typography${y.charAt(0).toUpperCase()+y.slice(1)}LineHeight`;return void(null===(l=F.current)||void 0===l||l.style.setProperty("--heroMessageTitleHeight",`calc(var(${a}) * ${t} + var(--spacingSize4))`))}const o=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect().height;if(null==v.current||0===o)return a++,void requestAnimationFrame(n);null===(r=F.current)||void 0===r||r.style.setProperty("--heroMessageTitleHeight",`${o}px`)};n()}}))}),[l,p.top,p.bottom,e.length,y]),r.createElement(bd,{text:S},r.createElement(uu,{containerRef:h,delegateFocusByAlias:u,delegateFocusFromMemory:!0},r.createElement("div",{ref:h,className:"aa5f79ad91bf0071d0db",style:{marginLeft:p.left+"px",marginRight:p.right+"px",marginTop:p.top+"px",marginBottom:E?0:p.bottom+"px"}},r.createElement("div",{className:"a5f712b35e26a7c79bf8"},r.createElement(zM,{narrowBreakpointWidth:53},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:E?6:7,narrowSize:3},r.createElement("div",{className:dl()(fH,"b89e1554ffaa3de1182a",f.background.base,f.border.base)},r.createElement(Zi,{innerRef:v,className:"e28017ad17722ab08d29",type:y,align:"center"},e),r.createElement("fast-div",{ref:F,className:"daefeffc5f70fbcdaf6b"},o))),r.createElement(zM.Column,{wideSize:E?6:5,narrowSize:5},r.createElement("div",{className:dl()("d44500ab38e99a535155",f.background.base)},r.createElement(bd,{getText:()=>m.current?[$M(XM(m.current))].filter(Boolean).join(" . "):""},r.createElement("div",{className:dl()("ad442d6b30e385bbdef4",fH,f.border.base),ref:m},c),!E&&r.createElement("div",{className:dl()("eb0c8f870621d99646cf",fH,g.background.base,g.border.base)},bH(i,!1,s,b))))))))),E&&r.createElement("div",{className:dl()("d2c6f038a314e35427e6",g.background.base)},r.createElement(Ks,{effect:"bevel",left:!1,right:!1}),r.createElement("div",{className:"d988845b017bbe4f05c3",style:{paddingLeft:p.left+"px",paddingRight:p.right+"px",paddingBottom:p.bottom+"px"}},bH(i,!0,s,b)),r.createElement(Lm.Space,{addSafeZone:!1}))),!E&&r.createElement(Lm.Space,null),d&&r.createElement(Ed,{onClick:d,options:{button:j.B,inputLegend:wu.Buttons.Back.useLocalization().t(".inputLegend")}}))};hH.Content=({children:e})=>r.createElement(ud,null,r.createElement("div",{className:"d0ea79063d54a6e6492f"},e));const vH=a.p+"assets/timeline-opt-in-cf8cede534faf5afd81b.png";function FH({worldId:e,screen:t,button:a,telemetryLocation:n}){const r=(0,l.useSharedFacet)(sh),o=JT(),c=(0,l.useFacetMap)((e=>e.joinRealmTaskState),[],[r]),i=VI((e=>function*(t){e.joinRealmWorld(t,n),yield c,e.clearJoinRealmTaskState()}),[c,n],[r]);return(0,l.useFacetCallback)((e=>()=>{o({screen:t,button:a,details:{realmId:e}}),i(e)}),[i,o,t,a],[e])}function yH(){const{t:e}=ws("RealmsStories.messages.timelineOptIn"),t=p(),a=(0,l.useSharedFacet)(al),n=f(),o=g(),c=(0,l.useSharedFacet)(_h),i=(0,l.useSharedFacet)(Sv),s=`${Math.floor(1e9*Math.random())}`,u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[o]),d=hB(s),m=FH({worldId:u,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:ih.TimelineRequiredScreen}),E=(0,l.useFacetCallback)(((e,a)=>()=>{e&&(d(bB.BackOut_TimelineRequired),a.history.list.some((e=>null==e?void 0:e.pathname.includes("/online-play-warning/")))?t.go(-2):t.goBack())}),[d,t],[n,a]),b=(0,l.useFacetCallback)(((e,t)=>()=>{""!=t.realmId&&e.setPlayerOptInStatusAndPostWithOptInTelemetry(t.realmId,yv.OptedIn,s,bB.OptIn_TimelineRequired,!1)}),[s],[c,o]);(0,l.useFacetEffect)(((e,t)=>{e&&t.playerOptIn==yv.OptedIn&&t.currentPostState===rF.Success&&m()}),[m],[n,i]);const h=(0,l.useFacetMap)(((e,t)=>e&&(t.currentPostState===rF.InputInvalid||t.currentPostState===rF.InternalError||t.currentPostState===rF.UploadFailed||t.currentPostState===rF.PostingFailed)),[],[n,i]),v=(0,l.useFacetMap)(((e,t,a)=>e&&!a&&(t.currentPostState===rF.InProgress||t.currentPostState===rF.Uploading)),[],[n,i,h]),F=(0,l.useFacetCallback)(((e,t)=>()=>{t||e.clearSettingsStatus()}),[],[c,v,o]);return r.createElement(_r,{collection:xx},r.createElement(l.Mount,{when:v},r.createElement(x_,null)),r.createElement(l.Mount,{when:h},r.createElement(y_.Component,{onClickClose:F})),r.createElement(hH,{onGoBack:E,buttons:[{variant:"primary",inputLegend:"Select",onClick:b,children:e(".button")},{variant:"secondary",inputLegend:"Select",onClick:E,children:e(".maybeLaterButton")}],shouldEnumerateButtons:!0,title:e(".requiredTitle"),narrationSuffix:"",leftContent:r.createElement(pu,{src:vH,aspectRatio:pu.AspectRatio["16:9"]}),rightContent:r.createElement(r.Fragment,null,r.createElement(wu,null,r.createElement(Zi,{type:"body",align:"center",shouldNarrate:!0},e(".ownerRequire.title"))),r.createElement(hH.Content,null,r.createElement(Zi,{type:"paragraphs",shouldNarrate:!0},e(".ownerRequire.body"),e(".body"))))}))}function SH({onClickClose:e,title:t,narrationText:a}){var n;const{t:o}=ws("Realms.LoadingModals"),c=null!=t?t:o(".fetchingRealmInformation");return function(e,t=1e4){const{narrateText:a}=sd();(0,l.useFacetEffect)((e=>{const n=setInterval((()=>{a(e)}),t);return()=>clearInterval(n)}),[a,t],[(0,l.useFacetWrap)(e)])}(null!==(n=null!=a?a:t)&&void 0!==n?n:o(".fetchingRealmInformation")),r.createElement(Jw.Component,{title:c,onClose:e})}function CH(){const e=Cl(),t=(0,l.useSharedFacet)(hb),a=(0,l.useSharedFacet)(gF),n=(0,r.useRef)(!1),[o,c]=(0,l.useFacetState)(!1),i=(0,l.useSharedFacet)(EF);(0,l.useFacetEffect)(((e,t,a)=>{t.state!==mv.Loading&&!n.current&&a.length>0&&(c(!0),e.createPreviewRealmFromSubscriptionId(`${a[0].id}`),n.current=!0)}),[n,c],[t,a,i]);const s=(0,l.useFacetMap)(((e,t)=>t.createPreviewRealmFromSubscriptionTaskState!==HI.RUNNING&&e.state===mv.Loading),[],[a,t]),u=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===HI.RUNNING&&e.createPreviewRealmFromSubscriptionResult===bb.CreatingPreviewRealm),[],[t]),d=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===HI.RUNNING&&e.createPreviewRealmFromSubscriptionResult===bb.RetrievingCreatedPreviewRealm),[],[t]),m=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===HI.FAILED),[],[t]),p=(0,l.useFacetCallback)((t=>()=>{c(!1),t.reset(),e.goBack()}),[e,c],[t]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:s},r.createElement(P_,{onClickClose:e.goBack})),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(F_.Component,{onConfirm:(0,l.useFacetCallback)((e=>()=>{c(!1),e.activateNewPreviewRealm(!1)}),[c],[t]),onClose:p})),r.createElement(l.Mount,{when:u},r.createElement(T_,{onClickClose:e.goBack})),r.createElement(l.Mount,{when:d},r.createElement(SH,{onClickClose:e.goBack})),r.createElement(l.Mount,{when:m},r.createElement(y_.Component,{onClickClose:p})))))}function MH(){const{t:e}=ws("RealmsStoriesScreenshotGalleryRoute"),t=(0,l.useSharedFacet)(zh),a=(0,l.useSharedFacet)(Nv),n=p(),o=(0,l.useFacetCallback)((e=>t=>{e.storyScreenshotSelectionFilePath=t.filePath,n.goBack()}),[n],[t]),c=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[a]),i=uj(),s=(0,r.useRef)(null);return r.createElement(_r,{collection:xx},r.createElement(sj,{onScreenshotClicked:o,headerText:e(".header"),screenshotLists:i,scrollViewRef:s,isLoadingScreenshots:c}))}function wH({title:e,description:t,role:a="neutral"}){const n=Yr(a);return r.createElement("div",{className:dl()(n.background.base)},r.createElement(Vi,{size:6}),r.createElement(Zi,{type:"sectionHeader",role:a},r.createElement(Vi,{size:6}),r.createElement("fast-text",{text:e})),null!=t&&r.createElement("div",{className:"dda3cec0d32d0274ac63"},r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:a},r.createElement("fast-text",{text:t}))),r.createElement(Vi,{size:1}))}function kH(){const e=(0,r.useRef)(!1),t=g(),a=(0,l.useFacetMap)((e=>e.realmId),[],[t]);(0,l.useFacetEffect)(((t,a)=>{e.current||(t.clearSettingsStatus(),t.init(a),e.current=!0)}),[e],[(0,l.useSharedFacet)(_h),a])}function PH(){kH();const{t:e}=ws("RealmsStories.settings"),t=f(),a=p(),n=(0,l.useSharedFacet)(Sv),o=(0,l.useSharedFacet)(_h),c=(0,l.useSharedFacet)(Bh),i=(0,l.useSharedFacet)(_l),s=(0,l.useSharedFacet)(BB),u=(0,l.useSharedFacet)(_B),d=DB("ore_ui_moderation"),m=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[c]),E=(0,l.useFacetMap)((t=>e(".header",[t.name])),[e],[c]),b=(0,l.useFacetMap)((t=>e(t?".personalSettings.header":".personalSettings.member.header")),[e],[m]),h=(0,l.useFacetMap)((e=>!e.isOnline),[],[i]),v=(0,l.useFacetMap)(((e,t)=>(e.currentFetchState===nF.InternalError||e.currentFetchState===nF.FetchFailed||e.currentFetchState===nF.RateLimit)&&!t),[],[n,h]),F=(0,l.useFacetMap)(((e,t)=>e||t),[],[h,v]),y=(0,l.useFacetMap)(((e,t)=>t&&(e.currentPostState===rF.InternalError||e.currentPostState===rF.InputInvalid||e.currentPostState===rF.UploadFailed||e.currentPostState===rF.PostingFailed)),[],[n,t]),S=(0,l.useFacetMap)(((e,t)=>e&&t.currentPostState===rF.RateLimit),[],[t,n]),C=(0,l.useFacetMap)(((e,t,a,n)=>t&&e.currentPostState===rF.InProgress&&!a&&!n),[],[n,t,y,S]),M=function(){const e=p();return(0,l.useFacetCallback)((t=>()=>{t.clearSettingsStatus(),e.go(-2)}),[e],[(0,l.useSharedFacet)(_h)])}(),w=(0,l.useFacetMap)(((e,t)=>e.currentFetchState!==nF.Success&&!t),[],[n,F]),k=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[w,F]),P=g(),T=(0,l.useFacetCallback)(((e,t)=>()=>{e.postSettingsOnExit(t.realmId),a.goBack()}),[a],[o,P]),I=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmNotificationStatus(!t.realmNotificationsStatus)}),[],[o,n]),x=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmEventsStatus(!t.realmEventsStatus)}),[],[o,n]),O=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmCoordinatesStatus(!t.realmCoordinatesStatus)}),[],[o,n]),A=(0,l.useFacetCallback)(((e,t)=>()=>{e.setRealmTimelineStatus(!t.realmTimelineStatus)}),[],[o,n]),N=(0,l.useFacetCallback)(((e,t)=>()=>{e.fetchSettings(t.realmId)}),[],[o,P]),R=[e(".personalSettings.member.header"),e(".personalSettings.description")].join(" . "),L=[e(".realmWideSettings.member.header"),e(".realmWideSettings.description")].join(" . "),D=(0,l.useFacetMap)((e=>e.realmNotificationsStatus),[],[n]),_=(0,l.useFacetMap)((e=>e.realmEventsStatus),[],[n]),B=(0,l.useFacetMap)((e=>e.realmCoordinatesStatus),[],[n]),W=(0,l.useFacetMap)((e=>e.realmTimelineStatus),[],[n]),U=(0,l.useFacetMap)((e=>e.timelineRequiredStatus),[],[n]),z=(0,l.useFacetCallback)(((e,t,a)=>t=>{a.setRealmTimelineRequirementStatus(t),e||A()}),[A],[W,n,o]),j=(0,l.useFacetCallback)(((e,t)=>()=>{t.storiesStatus!==nF.InProgress&&e.fetchReportPaths()}),[],[s,u]),[H,G]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)(((e,t,a)=>{a&&!e&&t.isRealmWorldValid&&(G(!0),j())}),[j,G],[H,c,m]);const V=(0,l.useFacetCallback)((e=>()=>{a.push(`/moderate-realms-feed/${e.realmId}/?page=1`)}),[a],[P]),$=(0,l.useFacetMap)((t=>e(".moderation.button",[t.totalStories.toString()])),[e],[u]),X=(0,l.useFacetMap)((t=>e(".moderation.hint",[t.totalStories.toString()])),[e],[u]),K=Yr("inherit");return r.createElement(_r,{collection:xx},r.createElement(ZN,{onBack:T,title:E,gamepadAlias:"realms-stories-settings",screenAnalyticsId:"RealmsStoriesSettings"},(()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:F},r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(Vi,{size:4}),r.createElement(l.Mount,{when:h},r.createElement(sB,null)),r.createElement(l.Mount,{when:v},r.createElement(dB,{onClick:N,pageName:E})))))),r.createElement(l.Mount,{when:y},r.createElement(y_.Component,{onClickClose:T})),r.createElement(l.Mount,{when:S},r.createElement(M_.Component,{onClickClose:T})),r.createElement(l.Mount,{when:C},r.createElement(x_,{onClickClose:M})),r.createElement(l.Mount,{when:w},r.createElement("div",{className:dl()("a6d7df2cfbc490a083e6",K.overlay.base)},r.createElement(id,null))),r.createElement(l.Mount,{when:k},r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(ud,{floating:!0},r.createElement(Vi,{size:4}),r.createElement("div",{className:dl()("afc92ec3c0e1e3df12fb",K.border.base)},r.createElement(bd,{text:R},r.createElement(wH,{title:b,description:e(".personalSettings.description")}),r.createElement(Vw,{title:e(".personalSettings.badgeNotifSwitch.title"),description:e(".personalSettings.badgeNotifSwitch.description"),value:D,onChange:I})),r.createElement(l.Mount,{when:m},r.createElement(bd,{text:L},r.createElement(wH,{title:e(".realmWideSettings.header"),description:e(".realmWideSettings.description")}),r.createElement(Vw,{title:e(".realmWideSettings.realmEvents.title"),description:e(".realmWideSettings.realmEvents.description"),value:_,onChange:x}),r.createElement(Vw,{title:e(".realmWideSettings.storyCoordinates.title"),description:e(".realmWideSettings.storyCoordinates.description"),value:B,onChange:O}),r.createElement(Vw,{title:e(".realmWideSettings.playerTimelineRequirement.title"),description:e(".realmWideSettings.playerTimelineRequirement.description"),value:U,onChange:z}),r.createElement(Vw,{title:e(".realmWideSettings.playerTimeline.title"),description:e(".realmWideSettings.playerTimeline.description"),value:W,onChange:A,disabled:U}),r.createElement(l.Mount,{when:d},r.createElement(hD,{title:e(".moderation.title"),description:e(".moderation.description"),fullNarrationOverride:" ",buttons:r.createElement(lm,{inputLegend:e(".inputLegend.select"),"data-testid":"moderation-button",horizontal:!0,onClick:V,narrationPrefix:e(".moderation.title"),narrationSuffix:X},$)})))))),r.createElement(Lm.Space,null)))))))))}function TH(){const e=g();return(0,l.useFacetMap)((e=>decodeURIComponent(e.id)),[],[e])}function IH(){const e=p(),t=TH(),a=(0,l.useSharedFacet)(_F),n=(0,l.useFacetCallback)(((t,a)=>n=>{t.saveScreenshotAsWorldIcon(a,n.filePath,n.id),e.goBack()}),[e],[a,t]);return r.createElement(dj,{onScreenshotSelect:n})}const xH="e73622a4d108443d7c10",OH="stay-button-alias",AH=As((({optOutCallback:e,closeModal:t})=>{const{t:a}=ws("CreateNewWorld.optBackModal");return r.createElement($m,{onOverlayClick:t,defaultFocusAlias:OH},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message"),center:!0},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:OH,inputLegend:a(".stayInputLegend"),variant:"primary",onClick:t},a(".stayButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".goBackInputLegend"),variant:"secondary",onClick:()=>{t(),e()}},a(".goBackButton"))))})),NH=As((({onClose:e})=>{const{t}=ah("PacksLoadingModal");return r.createElement($m,null,r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Spinner,null)))})),RH="addon-stacking-modal-confirm",LH=As((({activatePackModal:e,onAccept:t,onCancel:a})=>{const{t:n}=ws("EditWorld.addonStackingWarningModal"),[o,c]=(0,l.useFacetState)(!1),i=(0,l.useSharedFacet)(uh),s=(0,l.useFacetCallback)(((e,a)=>()=>{a&&(e.doNotShowAddonStackingWarning=!0),t()}),[t],[i,o]);return r.createElement($m,{onOverlayClick:a,defaultFocusAlias:RH},r.createElement($m.Header,{onClose:a},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".description"),center:!0},n(".description"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:RH,inputLegend:n(e?".cancelButton":".confirmButton"),onClick:a,variant:"primary"},n(e?".cancelButton":".confirmButton")),e&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".confirmButton"),onClick:s},n(".confirmButton")),r.createElement($m.Checkbox,{onChange:c,title:n(".doNotShow"),value:o}))))})),DH="achievements-primary-button",_H="achievements-secondary-button",BH=As((({onConfirm:e,onClose:t,reasons:a,isEditWorld:n=!1})=>{const{t:o}=ws("AchievementDisabledModal"),c=(0,l.useFacetWrap)(null!=e),i=(0,l.useFacetMap)((e=>n?o(".firstParagraphEW"):e.length>1?o(".firstParagraph"):o(".firstParagraph.singleReason")),[o,n],[a]),s=o(n?".confirmButtonEW":".confirmButton"),u=(0,l.useFacetMap)((e=>o(e?".goBackButton":".closeButton")),[o],[c]),d=(0,r.useCallback)((()=>{t(),e&&e()}),[t,e]);return r.createElement($m,{onOverlayClick:t,defaultFocusAlias:null!=e?DH:_H},r.createElement($m.Header,{onClose:t},o(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:i},i),r.createElement($m.Text,{narrationText:o(".secondParagraph")},o(".secondParagraph")),r.createElement($m.List,{items:a}),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,null,r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(lm,{gamepadAlias:DH,"data-testid":"achievements-disabled-modal-button",inputLegend:s,variant:"primary",onClick:d},s),r.createElement(Vi,{size:1}))),r.createElement(lm,{gamepadAlias:_H,inputLegend:u,variant:"secondary",onClick:t,"data-testid":"achievements-disabled-close-button"},u)))})),WH="rpdl-modal-cancel",UH=As((({errorCode:e})=>{const{t}=ws("CreateNewWorld.resourcePacks"),a=Os(),n=e===UF.NoManifest||e===UF.MissingProperty||e===UF.WrongTypeProperty||e===UF.EmptyProperty||e===UF.InvalidProperty||e===UF.InvalidJSON||e===UF.MalformedPropertyUUID||e===UF.MalformedPropertyVERSION||e===UF.DuplicateUUID||e===UF.MissingModules||e===UF.MultipleModules||e===UF.UnsupportedFormatVersion,l=e===UF.ContentTierIncompatible?t(".errorIncompatibleDeviceTitle"):e===UF.ContentTierIncompatibleMemory?t(".errorIncompatibleMemoryTitle"):e===UF.ContentTierIncompatibleRayTracing?t(".errorIncompatibleRayTracingTitle"):e===UF.PackSelectErrorNoStore?t(".errorNoStoreTitle"):e===UF.PackSelectErrorRequiredDependency?t(".errorRequiredDependencyTitle"):e===UF.NoPackAccess?t(".errorFileAccessTitle"):e===UF.VersionTooHigh||e===UF.VersionTooLow?t(".errorIncompatibleVersionTitle"):e===UF.IncompletePack?t(".errorIncompleteTitle"):e===UF.UnsupportedFileFormat?t(".errorUnsupportedFormatTitle"):e===UF.InitializationTimeout?t(".errorInitializationTimeoutTitle"):t(n?".errorReadingTitle":".errorUnknownTitle"),o=e===UF.ContentTierIncompatible?t(".errorIncompatibleDeviceBody"):e===UF.ContentTierIncompatibleMemory?t(".errorIncompatibleMemoryBody"):e===UF.ContentTierIncompatibleRayTracing?t(".errorIncompatibleRayTracingBody"):e===UF.PackSelectErrorNoStore?t(".errorNoStoreBody"):e===UF.PackSelectErrorRequiredDependency?t(".errorRequiredDependencyBody"):e===UF.NoPackAccess?t(".errorFileAccessBody"):e===UF.VersionTooHigh?t(".errorIncompatibleVersionHighBody"):e===UF.VersionTooLow?t(".errorIncompatibleVersionLowBody"):e===UF.IncompletePack?t(".errorIncompleteBody"):e===UF.UnsupportedFileFormat?t(".errorUnsupportedFormatBody"):e===UF.InitializationTimeout?t(".errorInitializationTimeoutBody"):t(n?".errorReadingBody":".errorUnknownBody"),c=e===UF.InitializationTimeout?t(".errorInitializationTimeoutButton"):t(".goBackButton");return r.createElement($m,{defaultFocusAlias:WH},r.createElement($m.Header,{onClose:a},l),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o},o)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:WH,inputLegend:c,onClick:a},c)))})),zH="rpl-modal-go-back",jH=As((({packId:e,onAccept:t})=>{const{t:a}=ws("CreateNewWorld.resourcePacksDependencyWarningModal"),n=a(".body"),l=a(".activatePackButton"),o=Os();return r.createElement($m,{onOverlayClick:o,defaultFocusAlias:zH},r.createElement($m.Header,{onClose:o},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},n)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:zH,inputLegend:a(".closeInputLegend"),variant:"primary",onClick:o},a(".goBackButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:l,onClick:()=>{o(),t(e)}},l)))})),HH="rpdl-modal-accept",GH=As((({packId:e,packName:t,packSize:a,supportsSizeQuery:n,availableSize:o,onAccept:c})=>{const{t:i}=ws("CreateNewWorld.packDownloadModal"),s=(0,l.useFacetMap)((e=>i(".confirmationBodyActivate",[e])),[i],[t]),u=i(".confirmationBodyPackSize",[a]),d=(0,l.useFacetMap)((e=>i(".confirmationBodyAvailableSize",[e])),[i],[o]),m=Os(),p=(0,l.useFacetCallback)((t=>()=>{c(e,t),m()}),[c,m,e],[t]);return r.createElement($m,{defaultFocusAlias:HH},r.createElement($m.Header,{onClose:m},i(".confirmationTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:s},s),r.createElement($m.Paragraphs,{narrationText:`${u}. ${d}`,spaceBetweenParagraphs:1},r.createElement(Zi,{type:"captionLong"},u),r.createElement(l.Mount,{when:n},r.createElement(Zi,{type:"captionLong"},d)))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:HH,inputLegend:i(".confirmationDownloadAndActivateButton"),onClick:p,variant:"primary"},i(".confirmationDownloadAndActivateButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:i(".confirmationCancelButton"),onClick:m},i(".confirmationCancelButton"))))})),VH="behavior-packs-modal-confirm",$H=As((({packId:e,type:t,onAccept:a,hideModal:n})=>{const{t:l}=ws("CreateNewWorld.behaviorPacksRemoveModal"),o="deactivate"==t;return r.createElement($m,{onOverlayClick:n,defaultFocusAlias:VH},r.createElement($m.Header,{onClose:n},l(o?".deactivateTitle":".activateTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:l(o?".messageDeactivate":".messageActivate"),center:!0},l(o?".messageDeactivate":".messageActivate"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:VH,inputLegend:l(o?".copyContinueLabel":".dontAddPackLabel"),onClick:o?()=>{a(e,!0),n()}:n,variant:"primary"},l(o?".copyContinueLabel":".dontAddPackLabel")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:l(o?".continueLabel":".addPackLabel"),onClick:()=>{a(e,!1),n()}},l(o?".continueLabel":".addPackLabel"))))})),XH=a.p+"assets/advanced-icon-1b6c5b572a777772a78e.png",KH=a.p+"assets/experimental-features-icon-dca93f83a503a8e269eb.png",YH=a.p+"assets/cheats-icon-33f132756175c43752b8.png",qH=a.p+"assets/debug-icon-1cb529ecd005cdafa5e2.png",QH=a.p+"assets/devTab-icon-cd0c2e1970073b827a1d.png",JH=a.p+"assets/general-icon-8ce31666e00cf3491940.png",ZH=a.p+"assets/resource-packs-icon-e08f710fbdadb2f3a5a5.png",eG=a.p+"assets/multiplayer-icon-d7d04b2a5d3ae87f5ed5.png",tG=a.p+"assets/behaviour-packs-icon-2f4af74c62b42f1fb412.png",aG=a.p+"assets/hardcore-heart-4e8a8866426c2f94f270.png",nG=a.p+"assets/hardcore-heart-dead-7809197628d8fcebb566.png",rG=a.p+"assets/hardcore-heart-animation-acc5def962a8890399b3.png";function lG({animate:e,dead:t,className:a,startFrame:n}){const o=(0,l.useFacetWrap)(t),c=(0,l.useFacetMap)((e=>dl()("c142e1fd272ec0ca7e3d",e)),[],[(0,l.useFacetWrap)(a)]),i=(0,l.useFacetMap)(((e,t)=>!(null!=e&&e)||null!=t&&t),[],[(0,l.useFacetWrap)(e),o]),s=(0,l.useFacetMap)((e=>null!=e?e:0),[],[(0,l.useFacetWrap)(n)]),u=(0,l.useFacetMap)((e=>null!=e&&e?nG:aG),[],[o]);return r.createElement(r.Fragment,null,r.createElement(pu,{src:u,className:c,imageRendering:"pixelated"}),r.createElement(NP,{key:"hardcore-heart",src:rG,disabled:i,className:c,frames:14,duration:2240,width:30,height:2,imageRendering:"pixelated",startFrame:s}))}const oG=a.p+"assets/hardcore-smoke-animation-fdeabd82a4a32095ab15.png";function cG(e,t){switch(e){case ZO.CREATE:return"create-new-world";case ZO.EDIT:return`edit-world/${t}`;case ZO.EDIT_REALM:return`edit-realm-world/${t}`}}(0,r.createContext)({});const iG="main-button",sG="secondary-button",uG=[{label:".generalTabLabel",image:JH,value:"general"},{label:".advancedTabLabel",image:XH,value:"advanced"},{label:".multiplayerTabLabel",image:eG,value:"multiplayer"},{label:".cheatsTabLabel",image:YH,value:"cheats"},{label:".resourcePacksTabLabel",image:ZH,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:tG,value:"behavior-packs"},{label:".experimentalFeaturesTabLabel",image:KH,value:"experimental"}];function dG({worldPreviewImage:e,showSpinner:t,worldPacks:a,isHardcoreMode:n,playerHasDied:o,sideMenuButtons:c,onEditThumbnail:i,additionalMenuItems:s}){const u=(0,r.useContext)(eA)===ZO.CREATE,d=(0,l.useSharedFacet)(_l),m=(0,r.useRef)(null),p=(0,r.useCallback)((()=>{m.current&&(m.current.scrollHeight?m.current.scrollTop=0:requestAnimationFrame(p))}),[]);(0,l.useFacetEffect)(p,[p],[e]);const f=(0,l.useFacetMap)((e=>OI(e.platform)&&(e.isStorageLow||e.isStorageFull)),[],[d]),g=(0,l.useFacetUnwrap)(f),E=g!==l.NO_VALUE&&g?sG:iG;return r.createElement(r.Fragment,null,r.createElement(tR,{loading:t,scrollViewRef:m,delegateFocusByAlias:E,gamepadAlias:"cnw-side-menu"},r.createElement(tR.Item,null,r.createElement(EG,{isHardcoreMode:n,playerHasDied:o,isCreateWorld:u,worldPreviewImage:e,onEditThumbnail:i})),r.createElement(Vi,{size:2}),c,r.createElement(Vi,{size:2}),r.createElement(mG,{worldPacks:a,additionalMenuItems:s})))}const mG=({worldPacks:e,additionalMenuItems:t=(0,l.createStaticFacet)([])})=>{const a=(0,l.useFacetMap)((e=>[...uG,...e]),[],[t]);return r.createElement(tR.ItemList,{items:a,renderItem:t=>r.createElement(fG,{item:t.item,worldPacks:e})})},pG=(e,t,a)=>`/${e}/${t}/${a?"available":"active"}`,fG=({item:e,worldPacks:t})=>{const{t:a}=ah("CreateNewWorldSideMenu"),n=p(),o=(0,l.useFacetMap)((e=>e.label.includes(".debugTabLabel")?"Debug":a(e.label)),[a],[e]),c=g(),i=(0,l.useFacetMap)(((e,t)=>t.tab===e.value),[],[e,c]),s=(0,r.useContext)(eA),u=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[t]),d=(0,l.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]);return r.createElement(tR.ListItem,{narrationText:o,onSelect:(0,l.useFacetCallback)(((e,t,a,r)=>()=>{var l;if(e.value===t.tab)return;const o=cG(s,null!==(l=t.id)&&void 0!==l?l:"");"resource-packs"===e.value?n.replace(pG(o,e.value,0===a.length)):"behavior-packs"===e.value?n.replace(pG(o,e.value,0===r.length)):n.replace(`/${o}/${e.value}`)}),[n,s],[e,c,u,d]),value:(0,l.useFacetMap)((e=>e.value),[],[e]),selected:i,inputLegend:a(".inputLegendSelect")},r.createElement(tR.ItemCell,null,r.createElement(EL,{iconSrc:(0,l.useFacetMap)((e=>e.image),[],[e]),selected:i})),r.createElement(tR.ItemMain,null,r.createElement(Zi,{type:"body"},o)))};function gG({onEditThumbnail:e}){const{t}=ah("EditWorld");return r.createElement("div",{className:"b3471cf8e17347be18ce"},r.createElement(yP,{inputLegend:t(".editThumbnailButton"),narrationText:t(".editThumbnailButton"),onClick:e,"data-testid":"edit-thumbnail-button"},r.createElement(LM.EditImage,null)))}function EG({isHardcoreMode:e,playerHasDied:t,worldPreviewImage:a,isCreateWorld:n,onEditThumbnail:o}){const c=Rd(Ab),[i,s]=(0,r.useState)(!1),u=Yr("neutral80"),d=Oo(),m=(0,l.useFacetMap)(((e,t,a)=>dl()(u.border.base,"ea01f37659eeb024aec6",{e7e811db456f8cd6a36e:e,e771f5b653881f46f3cd:t&&n,e2f18f8269b80e2352e8:a})),[u,n],[e,d,t]);(0,l.useFacetEffect)((e=>s((t=>!(!n||!e)||t))),[n],[e]);const p=(0,l.useFacetMap)((e=>e?"hardcore-smoke-on":"hardcore-smoke-off"),[],[e]),f=(0,l.useFacetMap)((e=>!n&&c&&o&&!e),[n,o,c],[(0,l.useSharedFacet)(yF)]);return r.createElement(r.Fragment,null,r.createElement(pu,{src:a,aspectRatio:pu.AspectRatio["16:9"],className:m}),r.createElement(l.Mount,{when:f},r.createElement(gG,{onEditThumbnail:o})),r.createElement(l.Mount,{when:e},r.createElement(lG,{animate:!0,dead:t,className:"dbeee2d646fe69049a52"})),i&&r.createElement(l.Unwrap,{data:p},(e=>r.createElement(NP,{key:e,src:oG,className:"d8c3b65c7605b4659d48",frames:10,duration:1e3,repeat:1,width:24.2,height:3.9,imageRendering:"pixelated"}))))}function bG({children:e,role:t="neutral"}){const a=Yr(t);return r.createElement("div",{className:dl()(a.background.base,a.text.base)},e)}dG.SideMenuList=mG,dG.AdvancedIcon=XH,dG.ExperimentalFeaturesIcon=KH,dG.CheatsIcon=YH,dG.DebugIcon=qH,dG.DevTabIcon=QH,dG.GeneralIcon=JH,dG.ResourcePacksIcon=ZH,dG.MultiplayerIcon=eG,dG.BehaviourPacksIcon=tG,dG.SideMenuItem=fG;const hG=As((({onUnlockTemplateSettings:e,mainButtonAlias:t})=>{const{t:a}=ws("CreateNewWorld"),n=Pe(),l=Os(),o="pop-up-modal-keepSettings";return r.createElement($m,{defaultFocusAlias:o},r.createElement($m.Header,{onClose:l},a(".unlockSettingsModal.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".unlockSettingsModal.message"),center:!0},a(".unlockSettingsModal.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:o,inputLegend:a(".unlockSettingsModal.keepSettings"),variant:"primary",onClick:l},a(".unlockSettingsModal.keepSettings")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".unlockSettingsModal.unlock"),onClick:()=>{e(),l(),null!=t&&n(t)},gamepadAlias:"pop-up-modal-unlockSettings"},a(".unlockSettingsModal.unlock"))),r.createElement(Ed,{options:{button:j.B,inputLegend:a(".unlockSettingsModal.keepSettings")},onClick:l}))})),vG=a.p+"assets/trial-mode-art-4074416ab6dd83b5f146.png",FG="buy-minecraft-button",yG=As((({onClose:e,worldSettingsMode:t})=>{const{t:a}=ws("TrialModeModal"),n=t===ZO.CREATE?"CreateNewWorld":"EditWorld",l=KO(),o=JT(),c=a(".firstParagraph"),i=a(".secondParagraph"),s=a(".thirdParagraph"),u=(0,r.useCallback)((()=>{o({button:"BuyMinecraft",screen:`ReadMoreTrialMode_${n}`}),l()}),[o,l,n]);return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:FG},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement(pu,{src:vG,imageRendering:"pixelated",className:"bbb8bbbe9f0e639d1b12"}),r.createElement($m.Paragraphs,{narrationText:`${c} . ${i} . ${s}`,spaceBetweenParagraphs:4},r.createElement(Zi,{type:"captionLong"},c),r.createElement(Zi,{type:"captionLong"},i),r.createElement(Zi,{type:"captionLong"},s))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:FG,inputLegend:a(".buyMinecraft"),variant:"primary",onClick:u,"data-testid":"trial-mode-modal-buy-minecraft",Icon:LM.ExternalLink},a(".buyMinecraft"))))})),SG="b492bf679cbb3e20eac5",CG=a.p+"assets/settings-icon-af819edcc21a62294086.png",MG=[".bytes",".kilobytes",".megabytes",".gigabytes",".terabytes",".petabytes"];function wG({role:e="neutral80",labelFull:t,labelLow:a,labelNeutral:n=""}){const{t:o}=ws("StorageIndicator"),c=(0,l.useSharedFacet)(_l),i=p(),s=(0,l.useFacetMap)((({supportsSizeQuery:e})=>e),[],[c]),u=(0,l.useFacetMap)(((e,{isStorageFull:t,storageSize:a,storageUsed:n})=>e?t||a<=0||n>=a:t),[],[s,c]),d=(0,l.useFacetMap)(((e,{isStorageLow:t})=>t&&!e),[],[u,c]),m=(0,l.useFacetMap)(((e,r)=>e?t:r?a:n),[t,a,n],[u,d]),f=(0,l.useFacetMap)(((e,t)=>e||t),[],[u,d]),g=Yr(e),E=qr("noticeTint");return r.createElement(Sr,{role:e},r.createElement("div",{className:dl()("ab7b88b9bb389d801163",g.border.base,g.background.base)},r.createElement(l.Mount,{when:f},r.createElement("div",{className:"badb53b38c5e2c1e22bd"},r.createElement(LM.Warning,{color:E.background.default}))),r.createElement("div",{className:dl()("a00f6774a61afe9f17ab",g.border.base)},r.createElement(Zi,{type:"secondaryButton"},m),r.createElement(l.Mount,{when:s},r.createElement(kG,{isStorageFull:u}))),r.createElement(Us,{className:dl()("fa8898a90166a21f7c8b",g.bevel.base),inputLegend:o(".storage"),narrationText:o(".storage"),onClick:()=>{i.push("/settings/storage")},role:e},r.createElement(pu,{src:CG,className:"ba7495d29979ed4b3e8d",imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny",align:"center"},o(".storage")))))}function kG({isStorageFull:e}){const t=(0,l.useSharedFacet)(_l),a=function(){const{t:e}=ws("StorageIndicator");return(0,r.useCallback)((t=>function(e,t){if(e<=0)return t(MG[0],["0"]);const a=Math.floor(Math.log(e)/Math.log(1024)),n=parseFloat((e/Math.pow(1024,a)).toFixed(2)).toString(),r=Math.max(0,Math.min(a,MG.length-1));return t(MG[r],[n])}(t,e)),[e])}(),{t:n}=ws("StorageIndicator"),o=qr("success"),c=qr("notice"),i=qr("destructive"),s=(0,l.useFacetMap)((({storageUsed:e,storageSize:t})=>t<=0?1:e/t),[],[t]),u=(0,l.useFacetMap)((({storageSize:e,storageUsed:t})=>n(".storageSpace",[a(Math.max(0,t)),a(Math.max(0,e))])),[n,a],[t]),d=(0,l.useFacetMap)((({isStorageLow:e},t)=>{var a,n,r;return t?null!==(a=i.background.default)&&void 0!==a?a:"var(--red50)":e?null!==(n=c.background.default)&&void 0!==n?n:"var(--orange20)":null!==(r=o.background.default)&&void 0!==r?r:"var(--green50)"}),[o,c,i],[t,e]);return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(bm,{percentage:s,fillColor:d}),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort"},u))}const PG=(0,l.sharedFacet)("vanilla.worldRealmEditorCommands");let TG,IG;!function(e){e[e.Unknown=0]="Unknown",e[e.Idle=1]="Idle",e[e.Fetching=2]="Fetching",e[e.Posting=3]="Posting",e[e.Resetting=4]="Resetting",e[e.Replacing=5]="Replacing"}(TG||(TG={})),function(e){e[e.NoAction=0]="NoAction",e[e.InProgress=1]="InProgress",e[e.Done=2]="Done",e[e.GenericError=3]="GenericError"}(IG||(IG={}));const xG=(0,l.sharedFacet)("vanilla.worldRealmEditorQueries"),OG=(0,l.sharedFacet)("vanilla.realmBackupsCommands");let AG;!function(e){e[e.Unknown=0]="Unknown",e[e.Idle=1]="Idle",e[e.Fetching=2]="Fetching",e[e.DownloadChecking=3]="DownloadChecking",e[e.DownloadError=4]="DownloadError"}(AG||(AG={}));const NG=(0,l.sharedFacet)("vanilla.realmBackupsQueries"),RG=(0,l.sharedFacet)("vanilla.realmsWorldEditorGameRulesCommands"),LG=(0,l.sharedFacet)("vanilla.realmsWorldEditorGameRulesQueries"),DG=(0,l.sharedFacet)("vanilla.realmsWorldEditorWorldDetailsQueries"),_G=(0,l.sharedFacet)("dev.realmsCommitCommandsFacet");let BG,WG;!function(e){e[e.Idle=0]="Idle",e[e.FetchingRealmsConfig=1]="FetchingRealmsConfig",e[e.FetchError=2]="FetchError",e[e.SelectingCommit=3]="SelectingCommit",e[e.SelectError=4]="SelectError"}(BG||(BG={})),function(e){e[e.Protocol=0]="Protocol",e[e.All=1]="All",e[e.Main=2]="Main"}(WG||(WG={}));const UG=(0,l.sharedFacet)("dev.realmsCommitQueriesFacet"),zG=(0,l.sharedSelector)((e=>Math.ceil(e.totalNumberCommits/e.commitsPageLength)),[UG]);function jG(){const e=function(e){switch(e){case ZO.CREATE:return gb;case ZO.EDIT:return IF;case ZO.EDIT_REALM:return xG}}((0,r.useContext)(eA)),t=(0,l.useSharedFacet)(e);return(0,l.useFacetMap)((e=>{if("worldData"in e)return e.worldData;if("realmWorldData"in e)return e.realmWorldData;throw new Error("The facet has no world data")}),[],[t])}let HG;!function(e){e.GENERAL_TAB="generalTab",e.ADVANCED_TAB="advancedTab",e.CHEATS_TAB="cheatsTab"}(HG||(HG={}));const GG=({addonStackingWarningEnabled:e,isEditorWorld:t})=>{const{t:a}=ws("Notifications"),n=(0,r.useContext)(eA)===ZO.EDIT,o=ZT(),c=(0,l.useFacetWrap)(null!=e&&e),i=(0,l.useFacetMap)(((e,t)=>e&&!t),[],[c,t]),s=LH.useModal(),u=(0,r.useCallback)((()=>{o({modal:"AddonStackingWarningModal",screen:n?"EditWorld":"CreateNewWorld"}),s.show()}),[o,n,s]);return r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement(xO,{role:"noticeTint"},r.createElement(Vi,{size:2}),r.createElement(xO.Text,null,a(".addonStacking")),r.createElement(xO.Link,{"data-testId":"addon-stacking-warning-link",onClick:u},a(".addonStackingLink"))))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(LH.Component,{onAccept:s.hide,onCancel:s.hide}))))},VG=({})=>{const{t:e}=ws("Notifications"),t=(0,r.useContext)(eA),a=t!==ZO.CREATE,n=yG.useModal(),o=ZT(),c=(0,l.useSharedFacet)(yF),i=(0,r.useCallback)((()=>{o({modal:"ReadMoreTrialMode",screen:a?"EditWorld":"CreateNewWorld"}),n.show()}),[o,a,n]);return r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement(xO,{role:"informative",icon:r.createElement(LM.Locked,{width:24,height:24})},r.createElement(xO.Text,null,e(".inTrialMode")),r.createElement(xO.Link,{onClick:i,"data-testId":"trial-mode-read-more"},e(".readMoreLink"))))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(yG.Component,{worldSettingsMode:t,onClose:n.hide}))))},$G=({multiplayerWarningState:e})=>{const{t}=ws("Notifications"),a=p(),n=(0,l.useFacetMap)((e=>e.platform),[],[(0,l.useSharedFacet)(_l)]),o=(0,l.useFacetMap)((a=>null!=e?function(e,t,a){if(e===Jb.CHECK_INTERNET_CONNECTION)return a(".multiplayerWarnings.checkInternetConnection");if(e===Jb.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY)return a(".multiplayerWarnings.nintendoLocalMultiplayerPrivilegesBlockedThirdParty");if(e===Jb.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY){if(TI(t))return a(".multiplayerWarnings.playstationMultiplayerPrivilegesBlockedThirdParty");if(xI(t))return a(".multiplayerWarnings.nintendoMultiplayerPrivilegesBlockedThirdParty")}return e===Jb.MULTIPLAYER_PRIVILEGES_BLOCKED?a(".multiplayerWarnings.multiplayerPrivilegesBlocked"):e===Jb.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE?a(".multiplayerWarnings.multiplayerPrivilegesBlockedOnConsole"):e===Jb.CROSS_PLATFORM_DISABLED?a(".multiplayerWarnings.playstationCrossPlatformDisabled"):e===Jb.NON_MULTIPLAYER_SKIN_EQUIPPED?a(".multiplayerWarnings.nonMultiplayerSkinEquipped"):""}(e,a,t):""),[t,e],[n]),c=(0,l.useFacetMap)((e=>e.length>0),[],[o]),i=(0,l.useFacetMap)((()=>e===Jb.NON_MULTIPLAYER_SKIN_EQUIPPED),[e],[]);return r.createElement(l.Mount,{when:c},r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,o),r.createElement(l.Mount,{when:i},r.createElement(xO.Link,{onClick:()=>a.push("/persona"),"data-testId":"multiplayer-warning-change-skin"},t(".changeSkinLink")))))))},XG=({experimentsWarningEnabled:e})=>{const{t}=ws("Notifications"),a=jG(),n=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[a]),o=(0,l.useFacetMap)((t=>!t&&!!e),[e],[n]);return r.createElement(l.Mount,{when:o},r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,t(".experimentsWarning.informationMessage"))))))},KG=({onUnlockTemplateSettings:e})=>{const{t}=ws("Notifications"),a=jG(),n=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[a]),o=hG.useShowModal();return r.createElement(l.Mount,{when:n},r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,t(".unlockSettingsMessage")),r.createElement(xO.Link,{onClick:()=>{o({onUnlockTemplateSettings:e,mainButtonAlias:iG})},"data-testId":"unlock-template-settings-link"},t(".unlockSettingsLink"))))))},YG=({})=>{const e=(0,r.useContext)(eA),{t}=ws("StorageIndicator"),a=(0,l.useFacetMap)((e=>e.isStorageLow||e.isStorageFull),[],[(0,l.useSharedFacet)(_l)]);return r.createElement(l.Mount,{when:a},r.createElement("div",{className:"e3430b364337aa9e7136"},r.createElement(wG,{labelFull:e===ZO.CREATE?t(".storageLabelFullCreateWorld"):e===ZO.EDIT_REALM?t(".storageLabelFullEditRealmWorld"):t(".storageLabelFullEnterWorld"),labelLow:e===ZO.CREATE?t(".storageLabelAlmostFullCreateWorld"):e===ZO.EDIT_REALM?t(".storageLabelAlmostFullEditRealmWorld"):t(".storageLabelAlmostFullEnterWorld")})))},qG=({hardcoreModeMessageTab:e})=>{const{t}=ws("Notifications"),a=(0,l.useFacetMap)((e=>null!=e?t(function(e){switch(e){case HG.ADVANCED_TAB:return".hardcoreMode.advancedTab";case HG.CHEATS_TAB:return".hardcoreMode.cheatsTab";default:return".hardcoreMode.generalTab"}}(e)):""),[t],[(0,l.useFacetWrap)(e)]),n=(0,l.useFacetMap)((e=>!!e),[],[a]);return r.createElement(l.Mount,{when:n},r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,a)))))},QG=()=>{const e=(0,l.useFacetMap)((e=>e.isBanned),[],[(0,l.useSharedFacet)(FF)]);return r.createElement(l.Mount,{when:e},r.createElement(Ud,{compact:!0},r.createElement("div",{className:SG},r.createElement($A,null))))},JG=({children:e})=>r.createElement("div",{className:"a2932101568f5c45fd01"},e),ZG=({multiplayerWarningState:e,experimentsWarningEnabled:t,onUnlockTemplateSettings:a,isEditorWorld:n,hardcoreModeMessageTab:l,addonStackingWarningEnabled:o=!1})=>r.createElement(JG,null,r.createElement(GG,{addonStackingWarningEnabled:o,isEditorWorld:n}),r.createElement(VG,null),r.createElement($G,{multiplayerWarningState:e}),r.createElement(XG,{experimentsWarningEnabled:t}),r.createElement(KG,{onUnlockTemplateSettings:a}),r.createElement(YG,null),r.createElement(qG,{hardcoreModeMessageTab:l}),r.createElement(QG,null));ZG.Wrapper=JG,ZG.AddonStackingWarning=GG,ZG.Trial=VG,ZG.MultiplayerWarning=$G,ZG.ShowExperiment=XG,ZG.LockedTemplate=KG,ZG.StorageLow=YG,ZG.Hardcore=qG;const eV=ZG,tV=(0,r.createContext)((0,l.createFacet)({initialValue:!1}));function aV({children:e,multiplayerWarningState:t,experimentsWarningEnabled:a,nestedRoutes:n,narrationText:o,onUnlockTemplateSettings:c,isEditorWorld:i,hardcoreModeMessageTab:s,addonStackingWarningEnabled:u}){var d;const m=Sc(),p=null!==(d=Nk())&&void 0!==d&&d,f=ml(),g=(0,l.useFacetMap)((e=>!e),[],[f]),E=(0,r.useRef)(null),b=(0,r.useRef)();(0,l.useFacetLayoutEffect)((()=>{E.current&&(E.current.scrollTop=0)}),[],[f]);const h=Vu(),v=(0,l.useFacetMap)(((e,t)=>e||t||h),[h],[(0,r.useContext)(tV),Gu()]),F=n?El:ek,y=(0,l.useFacetUnwrap)(Oo()),{t:S}=ws("CreateNewWorld"),C=`${S(".tabContainerNarrationSuffix")}. ${o}`;return r.createElement(bd,{text:C},r.createElement(F,{type:"contentful",renderingCompleted:!0}),r.createElement(ud,{floating:"desktop"!==m,loading:v,disableScrolling:p,innerRef:E,delegateFocusFromMemory:!0,stopCheckingForScroll:g,renderTracker:e=>r.createElement(F,{renderingCompleted:e,type:"meaningful"}),spinnerBackgroundColor:!0===y?void 0:"#48494A",nodeIdRef:b},"desktop"===m&&r.createElement(Vi,{size:2}),h?null:r.createElement(bG,null,r.createElement("div",{className:"desktop"===m?"af43a251b6760957ac8a":""},r.createElement(Uu,null,r.createElement(eV,{multiplayerWarningState:t,experimentsWarningEnabled:a,onUnlockTemplateSettings:c,isEditorWorld:i,hardcoreModeMessageTab:s,addonStackingWarningEnabled:u})),r.createElement(r.Fragment,null,e))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})})))}let nV;!function(e){e.DaylightCycleChanged="daylight_cycle_changed",e.CheatsChanged="cheats_changed",e.DifficultyChanged="difficulty_changed",e.GameModeChanged="game_mode_changed",e.MultiplayerChanged="multiplayer_changed"}(nV||(nV={}));const rV="a4e8308384e9c6ad8658",lV=a.p+"assets/hardcore-heart-engraved-75556ce94d9bfdecca12.png";function oV(){let e=null;return function(t){if(!e)return e=t,!1;if(t.length!==e.length)return e=t,!1;for(const a of t)if(!e.includes(a))return e=t,!1;return!0}}function cV(){const{t:e}=ws("AchievementDisabledModal"),t=(0,l.useSharedFacet)(yF),a=jG(),n=function(){const e=function(e){switch(e){case ZO.CREATE:return Iv;case ZO.EDIT:default:return jF}}((0,r.useContext)(eA)),t=(0,l.useSharedFacet)(e);return(0,l.useFacetMap)((e=>"worldPacksData"in e?e.worldPacksData:e),[],[t])}(),o=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[n]),c=(0,l.useFacetMemo)(((t,a,n)=>{const r=[],l=t.general,o=t.advanced,c=t.cheats,i=t.multiplayer,s=t.betaFeatures.some((e=>e.isEnabled));return l.gameMode===Qv.CREATIVE&&r.push(e(".creativeMode")),o.useFlatWorld&&r.push(e(".flatWorld")),c.cheatsEnabled&&r.push(e(".cheatsEnabled")),i.playerPermissions===Qb.OPERATOR&&r.push(e(".operator")),s&&r.push(e(".experiments")),n&&r.push(e(".trial")),a&&r.push(e(".behaviorPacks")),t.isUsingTemplate&&r.push(e(".template")),r}),[e],[a,o,t],oV);return c}const iV="lyc-modal-continue",sV=As((({deleteWorld:e,closeModal:t})=>{const{t:a}=ws("CreateNewWorld.deleteWorldModal");return r.createElement($m,{onOverlayClick:t,defaultFocusAlias:iV},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message")},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:iV,inputLegend:a(".continueInputLegend"),variant:"secondary",onClick:t},a(".continueButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".deleteInputLegend"),variant:"destructive",onClick:e},a(".deleteButton"))))}));function uV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?uV(Object(a),!0).forEach((function(t){mV(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function mV(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const pV=({worldSummary:e,isEditorWorld:t,onUnlockTemplateSettings:a,onMakeWorldInfinite:n,onDuplicateWorld:o,onDeleteWorld:c,onExportWorld:i,worldData:s})=>{const{t:u}=ws("CreateNewWorld.general"),d=(0,l.useFacetMap)((e=>e.advanced.generatorType),[],[s]),m=(0,l.useFacetMap)((e=>e.general),[],[s]),p=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[s]),f=(0,l.useFacetMap)((e=>e.isHardcore),[],[m]),g=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[s]),E=(0,r.useContext)(eA)!==ZO.CREATE,b=(0,l.useSharedFacet)(_l),h=(0,l.useSharedFacet)(FF),v=cV(),F=(0,l.useFacetMap)((e=>E&&e===PF.Legacy),[E],[d]),y=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)),[],[h]),S=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)),[],[h]),C=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.ParentPermissionHelpPage)}),[],[(0,l.useSharedFacet)(CF),b,h]),M=(0,l.useFacetMap)((e=>!e),[],[t]),w=(0,l.useFacetMap)((e=>AI(e.platform)),[],[b]);return r.createElement(EV,{isEditorWorld:t,isHardcoreMode:f,onUnlockTemplateSettings:a},r.createElement(l.Mount,{when:y},r.createElement("div",{className:rV},r.createElement(Ud,{compact:!0},r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,u(".multiplayerPermissionBanner.text")),r.createElement(xO.Link,{onClick:C},u(".multiplayerPermissionBanner.link")))))),r.createElement(l.Mount,{when:S},r.createElement("div",{className:rV},r.createElement(Ud,{compact:!0},r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,u(".multiplayerPermissionBanner.textParental")),r.createElement(xO.Link,{onClick:C},u(".multiplayerPermissionBanner.link")))))),r.createElement(gV,{isLockedTemplate:p,achievementsDisabledMessages:v,isEditorWorld:t,isHardcoreMode:f,generalData:m,isUsingTemplate:g}),r.createElement(l.Mount,{when:M},r.createElement(Uu,null,r.createElement(bV,{isLockedTemplate:p,generalData:m}))),r.createElement(l.Mount,{when:F},r.createElement(Uu,null,r.createElement(Ud,null,r.createElement(jd,null,u(".makeInfiniteHeader")),r.createElement(Vi,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(lm,{variant:"secondary",onClick:n,inputLegend:u(".makeInfiniteButton"),horizontal:!0},u(".makeInfiniteButton"))),r.createElement(Vi,{size:1}),r.createElement(Hd,null,u(".makeInfiniteDescription"))))),r.createElement(fV,{worldData:s,worldSummary:e,achievementsDisabledMessages:v,showExportButton:w,onDuplicateWorld:o,onDeleteWorld:c,onExportWorld:i}))},fV=({worldData:e,worldSummary:t,achievementsDisabledMessages:a,showExportButton:n,onDuplicateWorld:l,onDeleteWorld:o,onExportWorld:c})=>{const i=(0,r.useContext)(eA)!==ZO.CREATE;return r.createElement(r.Fragment,null,i&&null!=t&&r.createElement(Uu,null,r.createElement(FV,{worldData:e,worldSummary:t,achievementsDisabledMessages:a,showExportButton:n,onDuplicateWorld:l,onDeleteWorld:o,onExportWorld:c})))},gV=({isLockedTemplate:e,achievementsDisabledMessages:t,isEditorWorld:a,isHardcoreMode:n,generalData:o,isUsingTemplate:c})=>{const{t:i}=ws("CreateNewWorld.general"),s=1==(0,l.useFacetUnwrap)(a)?".editor":"",u=(0,l.useFacetMap)((e=>e.worldName),[],[o]),d=(0,l.useFacetCallback)((e=>t=>e.worldName=t),[],[o]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(Uu,null,r.createElement(wH,{title:i(".projectHeader")}))),r.createElement(Uu,null,r.createElement(dk,{label:i(`${s}.worldNameTitle`),placeholder:i(`${s}.worldNamePlaceholder`),maxLength:30,value:u,onChange:d,filterProfanity:!0,disabled:e})),r.createElement(l.Mount,{when:a},r.createElement(Uu,null,r.createElement(wH,{title:i(".exportSettingsHeader"),description:i(".exportSettingsDescription")}))),r.createElement(Hu,null,r.createElement(vV,{isLockedTemplate:e,generalData:o,isUsingTemplate:c,achievementsDisabledMessages:t,isHardcoreMode:n})),r.createElement(Hu,null,r.createElement(hV,{isLockedTemplate:e,generalData:o,isHardcoreMode:n})))},EV=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:a,children:n})=>{const{t:o}=ws("CreateNewWorldSideMenu"),c=(0,r.useContext)(eA)!==ZO.CREATE,i=!0===(0,l.useFacetUnwrap)(t)&&c?HG.GENERAL_TAB:void 0;return r.createElement(Wu,null,r.createElement(aV,{narrationText:o(".generalTabLabel"),onUnlockTemplateSettings:a,isEditorWorld:e,hardcoreModeMessageTab:i},n))};function bV({generalData:e,isLockedTemplate:t}){const{t:a}=ws("CreateNewWorld.general"),n=An(),o=(0,r.useContext)(eA)===ZO.CREATE,c=(0,l.useSharedFacet)(yF),i=(0,l.useFacetMap)(((e,t,a)=>a||t||!o||e.gameMode!==Qv.SURVIVAL&&e.gameMode!==Qv.ADVENTURE),[o],[e,t,c]);return r.createElement(Vw,{title:a(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:i,description:a(".hardcoreModeDescription"),value:(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.isHardcore=t,n(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[n],[e]),imgSrc:lV,"data-testid":"hardcore-mode-toggle"})}function hV({generalData:e,isLockedTemplate:t,isHardcoreMode:a}){const{t:n}=ws("CreateNewWorld.general"),o=ju(),c=(0,r.useContext)(eA)!==ZO.CREATE,i=(0,l.useSharedFacet)(Hv);return r.createElement($R,{onMountComplete:o,title:n(".difficultyTitle"),disabled:(0,l.useFacetMap)(((e,t)=>e||t),[],[a,t]),options:[{label:n(".difficultyPeacefulLabel"),description:n(".difficultyPeacefulDescription"),value:Yb.PEACEFUL},{label:n(".difficultyEasyLabel"),description:n(".difficultyEasyDescription"),value:Yb.EASY},{label:n(".difficultyNormalLabel"),description:n(".difficultyNormalDescription"),value:Yb.NORMAL},{label:n(".difficultyHardLabel"),description:n(".difficultyHardDescription"),value:Yb.HARD}],value:(0,l.useFacetMap)(((e,t)=>t?Yb.HARD:e.difficulty),[],[e,a]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{c&&t.trackOptionChanged(nV.DifficultyChanged,e.difficulty,a),e.difficulty=a}),[c],[e,i])})}function vV({generalData:e,isLockedTemplate:t,isUsingTemplate:a,achievementsDisabledMessages:n,isHardcoreMode:o}){const{t:c}=ws("CreateNewWorld.general"),{t:i}=ws("CreateNewWorld.all"),s=(0,l.useSharedFacet)(yF),u=(0,r.useContext)(eA)!==ZO.CREATE,d=(0,l.useSharedFacet)(Hv),m=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[t,s,o]),p=(0,l.useFacetMap)(((e,t)=>{const a=[dV({label:c(".gameModeSurvivalLabel"),description:c(".gameModeSurvivalDescription"),value:Qv.SURVIVAL},1===e.length?{narrationSuffix:i(".narrationSuffixEnablesAchievements")}:{}),{label:c(".gameModeCreativeLabel"),description:c(".gameModeCreativeDescription"),value:Qv.CREATIVE,narrationSuffix:i(".narrationSuffixDisablesAchievements")}];return(u||t)&&a.push(dV({label:c(".gameModeAdventureLabel"),description:c(t?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:Qv.ADVENTURE},1===e.length?{narrationSuffix:i(".narrationSuffixEnablesAchievements")}:{})),a}),[c,i,u],[n,a]),f=ju();return r.createElement($R,{title:c(".gameModeTitle"),disabled:m,options:p,onMountComplete:f,value:(0,l.useFacetMap)((e=>e.gameMode),[],[e]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{const n=e.gameMode;e.gameMode=a,u&&t.trackOptionChanged(nV.GameModeChanged,n,a)}),[u],[e,d])})}function FV({worldData:e,worldSummary:t,achievementsDisabledMessages:a,showExportButton:n,onDuplicateWorld:o,onDeleteWorld:c,onExportWorld:i}){const{t:s}=ws("CreateNewWorld.general"),u=(0,r.useContext)(eA)!==ZO.CREATE,d=BH.useModal(),m=(0,l.useFacetMap)((e=>e),[],[(0,l.useSharedFacet)(yF)]),p=(0,l.useFacetMap)((e=>{var t,a;const n=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",r=null!==(a=null==e?void 0:e.lastSaved)&&void 0!==a?a:"-";return s(".fileDetails",[n,r])}),[s],[t]),f=(0,l.useFacetMap)((e=>[s(".fileManagementTitle"),s(".fileManagement.narrationComponentTypeSectionHeader"),e].join(" . ")),[s],[p]),g=sV.useShowModal(),E=Os(),b=(0,r.useCallback)((()=>{null!=c&&(c(),E())}),[c,E]),h=(0,l.useFacetCallback)((e=>()=>{!e.achievementsPermanentlyDisabled&&e.achievementsDisabled?d.show():o&&o()}),[d,o],[e]);return r.createElement(bd,{text:f},r.createElement(Ud,{compact:!0},r.createElement(Vi,{size:3}),r.createElement(jd,null,s(".fileManagementTitle")),r.createElement(Vi,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(lm,{variant:"secondary",onClick:h,inputLegend:s(".fileManagementDuplicateWorldLabel"),horizontal:!0,disabled:m},s(".fileManagementDuplicateWorldLabel")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{variant:"destructive",onClick:()=>g({deleteWorld:b,closeModal:E}),inputLegend:s(".fileManagementDeleteWorldLabel"),horizontal:!0,disabled:m},s(".fileManagementDeleteWorldLabel"))),r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement("div",{style:{flexDirection:"row"}},r.createElement(lm,{variant:"secondary",onClick:i,inputLegend:s(".fileManagementExportWorldLabel"),horizontal:!0,disabled:m,"data-testid":"general-export-world-button"},s(".fileManagementExportWorldLabel"))))),r.createElement(Vi,{size:1}),r.createElement(Hd,null,p),r.createElement(Vi,{size:3})),r.createElement(l.Mount,{when:d.isVisible},r.createElement(BH.Component,{onClose:d.hide,onConfirm:o,reasons:a,isEditWorld:u})))}pV.Wrapper=EV,pV.DefaultFields=gV,pV.FileManagementButtonsField=fV;const yV=pV,SV=a.p+"assets/under-construction-art-cropped-cd6d3b45f26eafa460d2.png";function CV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function MV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?CV(Object(a),!0).forEach((function(t){wV(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wV(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kV(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function PV({experimentalFeature:e,disabled:t,achievementsDisabledMessages:a,areAllTogglesDisabled:n}){const{gt:o}=function(){const{translate:e,formatDate:t}=(0,r.useContext)(Kl);return(0,r.useMemo)((()=>({f:{formatDate:t},gt:(t,a)=>{var n;return null!==(n=e(t,a))&&void 0!==n?n:t}})),[e,t])}(),{t:c}=ws("CreateNewWorld.all"),i=(0,l.useFacetMap)((e=>e.id),[],[e]),s=(0,l.useFacetUnwrap)(i),u=(0,l.useFacetMap)((e=>e.title),[],[e]),d=(0,l.useFacetUnwrap)(u),m=(0,l.useFacetMap)((e=>e.description),[],[e]),p=(0,l.useFacetUnwrap)(m),f=(0,l.useFacetMap)((e=>e.isEnabled),[],[e]),g=(0,l.useFacetMap)(((e,t)=>e||t.isTogglePermanentlyDisabled),[],[(0,l.useFacetWrap)(t),e]),E=(0,l.useFacetCallback)(((e,t)=>a=>{a&&t?Eb.set({userTriedToActivateToggle:!0,doSetToggleValue:()=>e.isEnabled=a,userHasAcceptedBetaFeatures:!1}):e.isEnabled=a}),[],[e,n]),b=c(".narrationSuffixDisablesAchievements"),h=(0,l.useFacetMap)((e=>0===e.length?c(".narrationSuffixEnablesAchievements"):void 0),[c],[a]);return null!=s?r.createElement(Vw,{title:d!==l.NO_VALUE?o(d):"",description:p!==l.NO_VALUE?o(p):"",value:f,disabled:g,onChange:E,onNarrationText:b,offNarrationText:h}):null}function TV({item:e,index:t,achievementsDisabledMessages:a,areAllTogglesDisabled:n}){const{t:o}=ws("CreateNewWorld.experimentalFeatures"),c=(0,l.useFacetMap)((({description:e,numOfSections:a,title:n})=>{const r=a>1?o(".sectionEnumeration",[`${t+1}`,`${a}`]):null;return[n,o(".narrationComponentTypeSectionHeader"),r,e].filter((e=>null!=e)).join(" . ")}),[o,t],[e]),i=(0,l.useFacetMap)((({title:e})=>e),[],[e]),s=(0,l.useFacetMap)((({description:e})=>e),[],[e]),u=(0,l.useFacetMap)((({disabled:e})=>e),[],[e]),d=(0,l.useFacetMap)((({features:e})=>e),[],[e]);return r.createElement(bd,{text:c},r.createElement(Uu,null,r.createElement(wH,{title:i,description:s})),r.createElement(l.Map,{array:d},(e=>r.createElement(Uu,null,r.createElement(PV,{experimentalFeature:e,disabled:u,achievementsDisabledMessages:a,areAllTogglesDisabled:n})))))}const IV=[{title:".gameplayTitle",description:".gameplayDescription",featuresFilter:e=>e.category===eh.GAMEPLAY},{title:".graphicsTitle",description:".graphicsDescription",featuresFilter:e=>e.category===eh.GRAPHICS},{title:".addOnCreatorsTitle",description:".addOnCreatorsDescription",featuresFilter:e=>e.category===eh.ADD_ON_CREATORS},{title:".internalTestsTitle",description:".internalTestsDescription",featuresFilter:e=>e.category===eh.INTERNAL_TESTS}],xV=()=>{const{t:e}=ws("CreateNewWorld.experimentalFeatures"),t=Nw({wide:8,narrow:6,width:260}),a=(0,l.useFacetMap)((e=>e?"c68d950856a8c3efc4eb":"a5188832a414f9642b72"),[],[t]);return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(ud,{floating:!0},r.createElement(aw,{title:e(".underConstruction.title"),imgSrc:SV,imgClass:a})))};function OV({worldData:e,onUnlockTemplateSettings:t,isEditorWorld:a}){const n=(0,r.useContext)(eA)!==ZO.CREATE,{t:o}=ws("CreateNewWorld.experimentalFeatures"),{t:c}=ws("CreateNewWorldSideMenu"),i=(0,l.useFacetMap)((e=>e.betaFeatures),[],[e]),s=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[e]),u=cV(),d=(0,l.useSharedFacet)(yF),m=(0,l.useFacetMemo)(((e,t,a)=>IV.map((t=>{let{featuresFilter:a}=t;return MV(MV({},kV(t,["featuresFilter"])),{},{features:aI(e,a)})})).filter((({features:e})=>e.length>0)).map(((e,n,{length:r})=>{let{title:l,description:c}=e;return MV(MV({},kV(e,["title","description"])),{},{description:o(c),disabled:t||a,numOfSections:r,title:o(l)})}))),[o],[i,s,d]),p=(0,l.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[i]),f=(0,l.useFacetMap)((e=>e?"trial-mode":"tab-details"),[n],[d]);return r.createElement(Wu,null,r.createElement(l.Unwrap,{data:f},(e=>{switch(e){case"trial-mode":return r.createElement(nA,{context:tA.EXPERIMENTS_TAB});case"under-construction":return r.createElement(xV,null);default:return r.createElement(aV,{experimentsWarningEnabled:!0,narrationText:c(".experimentalFeaturesTabLabel"),onUnlockTemplateSettings:t,isEditorWorld:a},r.createElement(l.Map,{array:m},((e,t)=>r.createElement(TV,{item:e,index:t,achievementsDisabledMessages:u,areAllTogglesDisabled:p}))))}})))}const AV=({onUnlockTemplateSettings:e,isEditorWorld:t,worldData:a})=>{const{t:n}=ah("CreateNewWorld.cheats"),o=(0,l.useSharedFacet)(yF),c=(0,l.useFacetMap)((e=>e.cheats),[],[a]),i=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[a]),s=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[a]),u=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[a]),d=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[a]),m=cV(),p=(0,l.useFacetMap)(((e,t,a)=>!e.cheatsEnabled||t||a),[],[c,i,u]),f=(0,l.useFacetMap)((e=>e),[],[o]);return r.createElement(l.Unwrap,{data:f},(a=>r.createElement(r.Fragment,null,a?r.createElement(nA,{context:tA.CHEATS_TAB}):r.createElement(RV,{isLockedTemplate:i,achievementsDisabled:s,achievementsPermanentlyDisabled:d,onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:u},r.createElement(Uu,null,r.createElement(_V,{cheatsData:c,isLockedTemplate:i,achievementsDisabledMessages:m,isHardcoreMode:u})),r.createElement(bd,{text:[n(".settingsTitle"),n(".narrationComponentTypeSectionHeader")].join(" . ")},r.createElement(Uu,null,r.createElement(UV,null)),r.createElement(Hu,null,r.createElement(DV,{cheatsData:c,disabled:p,isHardcoreMode:u})),r.createElement(NV,{cheatsData:c,disabled:p,isHardcoreMode:u}),r.createElement(Uu,null,r.createElement(WV,{cheatsData:c,disabled:p,isHardcoreMode:u})),r.createElement(Uu,null,r.createElement(BV,{cheatsData:c,disabled:p,isHardcoreMode:u})),r.createElement(Uu,null,r.createElement(LV,{cheatsData:c,disabled:p,isHardcoreMode:u})))))))},NV=({cheatsData:e,isHardcoreMode:t,disabled:a})=>{const{t:n}=ah("CreateNewWorld.cheats"),o=[{title:n(".inventoryTitle"),description:n(".inventoryDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.keepInventory),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.keepInventory=t}),[],[e])},{title:n(".mobSpawningTitle"),description:n(".mobSpawningDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.mobSpawning),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobSpawning=t}),[],[e])},{title:n(".mobGriefingTitle"),description:n(".mobGriefingDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.mobGriefing),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobGriefing=t}),[],[e])},{title:n(".entitiesDropLootTitle"),description:n(".entitiesDropLootDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.entitiesDropLoot),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.entitiesDropLoot=t}),[],[e])},{title:n(".weatherTitle"),description:n(".weatherDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.weather),[],[e,t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.weather=t}),[],[e])}];return r.createElement(r.Fragment,null,o.map((e=>r.createElement(Uu,{key:e.title},r.createElement(Vw,{disabledNarrationSuffix:n(".settingDisabledHint"),title:e.title,description:e.description,disabled:a,value:e.value,onChange:e.onChange})))))},RV=({isEditorWorld:e,isHardcoreMode:t,onUnlockTemplateSettings:a,children:n})=>{const{t:o}=ah("CreateNewWorldSideMenu"),c=!0===(0,l.useFacetUnwrap)(t)?HG.CHEATS_TAB:void 0;return r.createElement(Wu,null,r.createElement(aV,{narrationText:o(".cheatsTabLabel"),onUnlockTemplateSettings:a,isEditorWorld:e,hardcoreModeMessageTab:c},n))};function LV({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=ah("CreateNewWorld.cheats"),{t:o}=ah("CreateNewWorld.cheats.narration"),c=(0,l.useFacetMap)(((e,t)=>t?1..toString():e.tickSpeed.toString()),[],[e,(0,l.useFacetWrap)(null!=a&&a)]),{narrateText:i}=sd({interruptible:!1}),s=(0,l.useFacetCallback)((e=>t=>{e.tickSpeed=t}),[],[e]),u=(0,r.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=4096;return 0!==e.length&&a?n?gm.ValidationResult.VALID:(i(o(".tickSpeedNotWithinRange")),t(4096..toString()),gm.ValidationResult.INVALID):(i(o(".tickSpeedInvalidValue")),t(1..toString()),gm.ValidationResult.INVALID)}),[i,o]);return r.createElement(dk.WithButton,{disabledNarrationSuffix:n(".settingDisabledHint"),buttonInputLegend:n(".tickSpeedReset"),buttonText:n(".tickSpeedReset"),disabled:t,buttonOnClick:()=>s(1..toString()),label:n(".tickSpeedLabel"),description:n(".tickSpeedDescription"),maxLength:4,value:c,onChange:s,onBlur:u,buttonNarrationHint:n(".narrationTickSpeedButtonNarrationHint"),isNumber:!0})}function DV({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=ah("CreateNewWorld.cheats"),o=(0,r.useContext)(eA)!==ZO.CREATE,c=(0,l.useSharedFacet)(Hv),i=(0,l.useFacetCallback)(((e,t)=>a=>{o&&t.trackOptionChanged(nV.DaylightCycleChanged,e.daylightCycle,a),e.daylightCycle=a}),[o],[e,c]),s=(0,l.useFacetMap)(((e,t)=>t?Zb.NORMAL:e.daylightCycle),[],[e,(0,l.useFacetWrap)(null!=a&&a)]),u=[{label:n(".daylightCycleNormalLabel"),description:n(".daylightCycleNormalDescription"),value:Zb.NORMAL},{label:n(".daylightCycleAlwaysDayLabel"),description:n(".daylightCycleAlwaysDayDescription"),value:Zb.ALWAYS_DAY}];return o&&u.push({label:n(".daylightCycleLockTimeLabel"),description:n(".daylightCycleLockTimeDescription"),value:Zb.LOCK_TIME}),r.createElement($R,{disabledNarrationSuffix:n(".settingDisabledHint"),onMountComplete:ju(),title:n(".daylightCycleTitle"),disabled:t,options:u,value:s,onChange:i})}function _V({cheatsData:e,isLockedTemplate:t,achievementsDisabledMessages:a,isHardcoreMode:n}){const{t:o}=ah("CreateNewWorld.cheats"),{t:c}=ah("CreateNewWorld.all"),i=(0,r.useContext)(eA)!==ZO.CREATE,s=(0,l.useSharedFacet)(Hv),u=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[t,(0,l.useSharedFacet)(yF),n]),d=(0,l.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged(nV.CheatsChanged,Number(e.cheatsEnabled),Number(a)),e.cheatsEnabled=a}),[i],[e,s]),m=(0,l.useFacetMap)(((e,t)=>!t&&e.cheatsEnabled),[],[e,n]);return r.createElement(Vw,{title:o(".title"),description:o(".description"),disabled:u,value:m,onChange:d,onNarrationText:c(".narrationSuffixDisablesAchievements")+" . "+c(".narrationSuffixSettingsAvailable"),offNarrationText:(0,l.useFacetMap)((e=>0===e.length?c(".narrationSuffixEnablesAchievements"):void 0),[c],[a])})}function BV({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=ah("CreateNewWorld.cheats"),o=(0,l.useFacetCallback)((e=>t=>{e.educationEdition=t}),[],[e]),c=(0,l.useFacetMap)(((e,t)=>!t&&e.educationEdition),[],[e,a]);return r.createElement(Vw,{disabledNarrationSuffix:n(".settingDisabledHint"),title:n(".educationTitle"),description:n(".educationDescription"),disabled:t,value:c,onChange:o})}function WV({cheatsData:e,disabled:t,isHardcoreMode:a}){const{t:n}=ah("CreateNewWorld.cheats"),o=(0,l.useFacetCallback)((e=>t=>{e.commandBlocks=t}),[],[e]),c=(0,l.useFacetMap)(((e,t)=>!!t||e.commandBlocks),[],[e,a]);return r.createElement(Vw,{disabledNarrationSuffix:n(".settingDisabledHint"),title:n(".commandBlocksTitle"),description:n(".commandBlocksDescription"),disabled:t,value:c,onChange:o})}function UV(){const{t:e}=ah("CreateNewWorld.cheats");return r.createElement(wH,{title:e(".settingsTitle")})}AV.Wrapper=RV,AV.DefaultFields=NV;const zV=AV;function jV({description:e,onChange:t,wrapperRef:a,onFocusChanged:n,placeholder:o,label:c,options:i,value:s,disabled:u,disabledNarrationSuffix:d,soundEffectPressed:m,gamepadAlias:p}){const f=(0,l.useFacetWrap)(s),g=(0,l.useFacetWrap)(u);return r.createElement(HV,{options:i,value:f,disabled:g,disabledNarrationSuffix:d,label:c,description:e,placeholder:o,onChange:t,wrapperRef:a,onFocusChanged:n,soundEffectPressed:m,gamepadAlias:p})}function HV({options:e,label:t,description:a,placeholder:n,value:o,onChange:c,wrapperRef:i,disabled:s,disabledNarrationSuffix:u,onFocusChanged:d,soundEffectPressed:m,gamepadAlias:p,menuRole:f="secondary",itemRole:g="neutral60"}){const{t:E}=ws("Dropdown"),b=Ln(),h=(0,l.useFacetWrap)(e),v=(0,l.useFacetWrap)(t),F=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[h,o]),y=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""}),[],[F]),S=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[F]),C=(0,l.useFacetMap)((e=>Boolean(e)),[],[S]),M=(0,r.useRef)(null),[w,k,P]=function(e,t,a){const n=Fc(4.8),r=Fc(30),o=(0,l.useFacetMap)((e=>e.length),[],[(0,l.useFacetWrap)(e)]),[c,i]=(0,l.useFacetState)(""),[s,u]=(0,l.useFacetState)("");return[{height:c},{height:s},e=>{var c;const s=null==a?void 0:a.current,d=null==a||null===(c=a.current)||void 0===c?void 0:c.parentElement,m=t.current,p=o.get();if(m&&p!==l.NO_VALUE)if(s&&d){const t=s.getBoundingClientRect().height,a=m.offsetTop,l=p*n,o=12,c=Math.min(Math.max(t,a+l+o),r+a+o),u=d.scrollHeight<s.offsetTop+c;i(e&&u?`${c}px`:"")}else{const t=m.getBoundingClientRect();if(0===t.height)return;const a=window.innerHeight-t.top;u(a<r&&e?`${a}px`:"")}}]}(e,M,i),T=(0,l.useFacetMap)(((e,t)=>[e,E(".toggleElementType"),E(".selected"),t,u].join(" . ")),[E,u],[y,S]),I=(0,l.useFacetWrap)(null!=s&&s),x=(0,l.useFacetMap)((e=>b&&!0===e),[b],[I]),O=(0,l.useFacetMap)(((e,t,a)=>[a,E(".narrationComponentType"),t?E(".narrationDisabled"):"",E(".stateCollapsed"),t?e:""].join(" . ")),[E],[T,I,v]);return r.createElement(bd,{text:O},r.createElement(Ud,{style:w,focusable:x,narrationText:""},r.createElement(jd,{disabled:s},t),null!=a&&r.createElement(Hd,null,a),r.createElement(Vi,{size:1}),r.createElement(AR,{narrationText:T,options:e,value:o,onChange:c,disabled:s,placeholder:n,onFocusChanged:d,footer:r.createElement(Lm.Space,null),soundEffectPressed:m,onOpenClose:P,dropdownRef:M,gamepadAlias:p,menuRole:f,itemRole:g,dropdownMenuStyle:k}),r.createElement(l.Mount,{when:C},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Hd,{disabled:s},S)))))}function GV(e,t,a,n){const r=Math.round(e/100*(a.length-1)),l=Math.max(Math.min(r,a.length-1),0);l!==t&&n(a[l])}function VV(e,t){const a=(e-t.left)/t.width*100;return Math.min(Math.max(a,0),100)}function $V([e,t],a){const n=null!=a?a:1,r=Math.floor((t-e)/n);return jk()((t=>t*n+e),r+1)}function XV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function KV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(a),!0).forEach((function(t){YV(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function YV(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const qV=e=>"number"==typeof e||Boolean(e),QV=()=>{};function JV({gamepad:e={},label:t,onChange:a,value:n,disabled:o=!1,onFocusChanged:c=QV,onHoverAudioEvent:i,onHoverExitAudioEvent:s,range:u=[0,100],showSteps:d=!1,unit:m="",thumbRole:p,trackRole:f,trackOverlayRole:g,step:E}){const b=(0,l.useFacetWrap)(o),h=(0,l.useFacetWrap)(t),v=(0,l.useFacetWrap)(u),F=(0,l.useFacetWrap)(d),y=(0,l.useFacetWrap)(m),S=(0,l.useFacetWrap)(n),C=(0,l.useFacetWrap)(E),M=(0,l.useFacetWrap)(e),w=(0,r.useRef)(null),[k,P]=(0,l.useFacetState)(!1),[T,I]=(0,l.useFacetState)(!1),{narrateText:x}=sd(),{t:O}=ws("BaseSlider"),A=(0,l.useFacetMap)(((e,t)=>[O(".minValueIs"),e[0].toString(),...null!=t?[t]:[],O(".maxValueIs"),e[1].toString(),...null!=t?[t]:[]].filter(qV).join(" . ")),[O],[v,y]),N=(0,l.useFacetMap)($V,[],[v,C]),R=(0,l.useFacetMap)(((e,t)=>e.reduce(((a,n,r)=>Math.abs(n-t)<Math.abs(e[a]-t)?r:a),0)),[],[N,S]),L=(0,r.useCallback)((e=>{P(e)}),[P]),D=(0,r.useCallback)((()=>{x(`${O(".unselected")} . ${O(".gamepadHint")}`),I(!1)}),[I,x,O]);return r.createElement(bd,{text:A},r.createElement(uu,{containerRef:w,shouldBindFocus:k},r.createElement("fast-div",{ref:w},r.createElement(ZV,{label:h,showSteps:F,onFocusChanged:c,disabled:b,onHoverAudioEvent:i,onHoverExitAudioEvent:s,gamepadFacet:M,selectedValueIndex:R,values:N,onChange:a,unit:y,thumbRole:p,trackRole:f,trackOverlayRole:g,onDragChange:L,isSelected:T,onSelectChange:I})),r.createElement(Ed,{options:(0,l.useFacetMap)((e=>({button:j.B,disabled:!e,inputLegend:O(".back")})),[O],[T]),onClick:D})))}const ZV=({gamepadFacet:e,label:t,onChange:a,selectedValueIndex:n,values:o,disabled:c,onFocusChanged:i=QV,onHoverAudioEvent:s,onHoverExitAudioEvent:u,onDragChange:d,onSelectChange:m,isSelected:p,showSteps:f,unit:g,thumbRole:E="secondary",trackRole:b="neutral50",trackOverlayRole:h="primary"})=>{const{t:v}=ws("BaseSlider"),F=An(),[y,S]=(0,l.useFacetState)(!1),C=vi(),M=(0,l.useFacetMap)(((e,t)=>e||t),[],[st(),ut()]),w=ct(),{narrateText:k,preventNarrateText:P}=sd(),{narrateById:T,preventNarrateById:I}=Ti(),x=(0,r.useCallback)(((e,t,a,n)=>[a?v(".currentValue"):"",e,t,null!=n?n:""].filter(qV).join(" . ")),[v]),O=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{let r=x(a[t],e,!0);return n&&(r+=` . ${v(".gamepadHint")}`),r}),[x,v],[g,n,o,M]),A=Oi(O),N=(0,l.useFacetCallback)(((e,t)=>a=>{P(),setTimeout((()=>k(x(a,e,!1,t))),0)}),[x,k,P],[g,t]),R=(0,l.useFacetUnwrap)(n),L=R!=l.NO_VALUE?R:0,D=(0,l.useFacetUnwrap)(o),B=D!=l.NO_VALUE?D:[],W=(0,l.useFacetUnwrap)(c),U=W!=l.NO_VALUE&&W,z=(0,l.useFacetCallback)((e=>t=>{e||(a(t),N(t))}),[a,N],[c]),{trackClick:j,sliderRef:H,trackOverlayRef:G,thumbRef:V,onDrag:$,isDragging:X}=function(e,t,a,n){const[l,o]=(0,r.useState)(!1),c=function(){const e=r.useContext(bi),{setPointerState:t}=e;return t}(),i=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(e);d.current=e;const m=(0,r.useRef)(t);m.current=t;const p=(0,r.useRef)(a);p.current=a;const f=(0,r.useRef)(null),g=(0,r.useCallback)((e=>e.preventDefault()),[]),E=(0,r.useCallback)(((e,t)=>{if(l&&i.current&&f.current&&s.current&&"number"==typeof d.current){e.stopPropagation();const a=VV(t,f.current);GV(a,d.current,p.current,m.current),i.current.style.clipPath=`inset(0 ${100-a}% 0 0)`,s.current.style.left=`${a}%`}}),[l,m,d,f,p]),b=(0,r.useCallback)((e=>{E(e,e.clientX),c(Ei.DRAGGING)}),[E,c]),h=(0,r.useCallback)((e=>{E(e,e.touches[0].clientX),c(Ei.DRAGGING)}),[E,c]),v=(0,r.useCallback)((()=>{o(!1),c(Ei.NORMAL)}),[c]),F=(0,r.useCallback)((()=>{o(!1),c(Ei.NORMAL)}),[c]),y=(0,r.useCallback)((()=>{n||o(!0),u.current&&(f.current=u.current.getBoundingClientRect())}),[n]);return(0,r.useLayoutEffect)((()=>{const e=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("touchmove",h),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",F),c(Ei.NORMAL)};return l?(window.addEventListener("mousemove",b),window.addEventListener("touchmove",h),window.addEventListener("mouseup",v),window.addEventListener("touchend",F)):e(),e}),[l,v,b,g,h,F,c]),(0,r.useLayoutEffect)((()=>{if(!l&&i.current&&s.current){const t=Math.max(Math.min(e,a.length-1),0)/(a.length-1)*100;i.current.style.clipPath=`inset(0 ${100-t}% 0 0)`,s.current.style.left=`${t}%`}}),[l,e,a,s,i]),{trackClick:n=>{n.stopPropagation(),u.current&&"number"==typeof e&&GV(VV(n.clientX,u.current.getBoundingClientRect()),e,a,t)},sliderRef:u,trackOverlayRef:i,thumbRef:s,onDrag:y,isDragging:l}}(L,z,B,U);(0,r.useEffect)((()=>{d(X)}),[X,d]);const K=(0,l.useFacetCallback)(((e,t,n,r)=>()=>{if(n||!r||e===t.length-1)return!1;const l=e+1;return setTimeout((()=>N(t[l])),0),a(t[l]),!0}),[N,a],[n,o,c,p]),Y=(0,l.useFacetCallback)(((e,t,n,r)=>()=>{if(n||!r||0===e)return!1;const l=e-1;return setTimeout((()=>N(t[l])),0),a(t[l]),!0}),[N,a],[n,o,c,p]),q=(0,l.useFacetCallback)((e=>()=>{m(!e);const t=e?`${v(".unselected")} . ${v(".gamepadHint")}`:v(".selected");setTimeout((()=>k(t)),0)}),[m,k,v],[p]),{isFocused:Q,onFocus:J}=si((0,l.useFacetMap)(((e,t)=>KV(KV({},t),{},{onFocusChanged:i,onRight:()=>{const t=K();return t!=l.NO_VALUE&&(t||e)},onLeft:()=>{const t=Y();return t!=l.NO_VALUE&&(t||e)},inputLegend:v(e?".unselect":".select")})),[i,K,Y,v],[p,e]),q,H);(0,l.useFacetEffect)((e=>{e?setTimeout((()=>T(A)),0):I()}),[A,T,I],[Q]),(0,l.useFacetEffect)(((e,t)=>{t&&!e&&m(!1)}),[m],[Q,p]);const Z=Yr(h),ee=Yr(b),te=Yr(E),ae=el(),ne=Qr(E),re=(0,l.useFacetCallback)(((e,t)=>()=>{if(e||t===Ei.DRAGGING)return;S(!0);const a=null!=s?s:ne.hover;null!=a&&F(a),J(_.PointerInput)}),[S,s,F,J,ne],[c,C]),le=(0,r.useCallback)((()=>{S(!1);const e=null!=u?u:ne.hoverExit;null!=e&&F(e)}),[u,F,S,ne]),oe=(0,l.useFacetMap)(((e,t,a)=>{const n=t===Ei.DRAGGING&&!X;return dl()("c4b7e44d3ca8c07d7172",te.background.interactive,{[ae.hovered]:X||e&&!n||a})}),[X,ae.hovered,te.background.interactive],[y,C,p]),ce=(0,l.useFacetMap)(((e,t)=>dl()("a36ae3737d4047cee5b2",{[ae.disabled]:e,a039c6aff207de36af8c:X&&t})),[ae.disabled,X],[c,w]),ie=di();return r.createElement("fast-div",{className:ce,ref:H},r.createElement("div",{className:dl()("f6347b8fc66dffc9b78a",ee.border.interactive,ee.background.interactive),onClick:j},r.createElement(Ks,{role:b}),r.createElement(e$,{values:B,show:f,onClick:j,stepClassName:ee.border.interactive})),r.createElement("div",{className:dl()("bc02cfcafc8021de1e33",Z.border.interactive,Z.background.interactive),ref:G,onClick:j},r.createElement(Ks,{role:h}),r.createElement(e$,{values:B,show:f,onClick:j,stepClassName:Z.border.interactive})),r.createElement("fast-div",{ref:V,className:(0,l.useFacetMap)(((e,t)=>dl()("b56a0c7a0da1c91dfbf6",te.border.interactive,{[Ws]:((null==ie?void 0:ie.focused)||e)&&t})),[te,null==ie?void 0:ie.focused],[Q,M]),onMouseEnter:re,onMouseLeave:le,onMouseDown:$,onTouchStart:$},r.createElement(Bs,{role:E}),r.createElement("fast-div",{className:oe},r.createElement(Ks,{role:E})),r.createElement("div",{className:dl()("ecaa1d2a11d065944171",te.shadow.interactive)})))},e$=({values:e,show:t,onClick:a,stepClassName:n})=>r.createElement(l.Mount,{when:t},r.createElement("div",{className:"c557f20344735eb683cc",onClick:a},e.map(((e,t,a)=>t>=1&&t<a.length-1?r.createElement("div",{key:e,className:dl()("b9e73d358144a2a27823","b7dd9b16518336bb491a",n)}):null)),r.createElement("div",{className:"d91714b9d1e35291d1b3"}))),t$=()=>{};function a$({onChange:e,value:t,disabled:a=!1,showSteps:n=!1,unit:o="",title:c="",description:i="",range:s=[0,100],onFocusChanged:u=t$,wrapperRole:d="neutral",thumbRole:m,trackRole:p,trackOverlayRole:f,valueText:g="",indented:E,step:b}){const h=(0,l.useFacetWrap)(t),v=(0,l.useFacetWrap)(n),F=(0,l.useFacetWrap)(o),y=(0,l.useFacetWrap)(c),S=(0,l.useFacetWrap)(i),C=(0,l.useFacetWrap)(a),M=(0,l.useFacetWrap)(s),w=(0,l.useFacetWrap)(g),{t:k}=ws("Slider"),P=(0,l.useFacetMap)(((e,t,a)=>{const n=[e];return a&&n.push(k(".disabled")),n.push(t,k(".narrationComponentType")),n.join(" . ")}),[k],[y,S,C]),T=(0,l.useFacetMap)(((e,t,a)=>""!=a?a:`${e}${null!=t?t:""}`),[],[h,F,w]);return r.createElement(bd,{text:P},r.createElement(Ud,{indented:E,disabled:C,role:d},r.createElement("div",{className:"cb1b3bfca368d648dc1d"},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>Boolean(e)),[],[y])},r.createElement(jd,{disabled:C},y)),r.createElement(jd,{className:"dee03706d382493b0dbd",disabled:C},T)),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>Boolean(e)),[],[S])},r.createElement(Hd,null,S)),r.createElement(Vi,{size:2}),r.createElement(JV,{value:h,showSteps:v,unit:F,range:M,label:y,onChange:e,onFocusChanged:u,disabled:C,thumbRole:m,trackRole:p,trackOverlayRole:f,step:b})))}const n$="cc98892bea0b8b915194",r$=a.p+"assets/barrier-083db6f4ab7133302f25.png",l$=a.p+"assets/bedrock-20795e0a280aa8bf0ed2.png",o$=a.p+"assets/cobblestone-f476f10b7838081db6fd.png",c$=a.p+"assets/deepslate-1a9f4d4c85bd2ef96dcb.png",i$=a.p+"assets/dirt-4f003a18d9dc8e87dcd7.png",s$=a.p+"assets/grass_block-bff0df8efd48fa960892.png",u$=a.p+"assets/gravel-1c4f474204ca442480ab.png",d$=a.p+"assets/sand-fbe2d06055037e175152.png",m$=a.p+"assets/sandstone-7af0b33182ec5c1d99c8.png",p$=a.p+"assets/snow-5e79a7b6e49a9b480ef3.png",f$=a.p+"assets/snow_layer-409b8a8ebd8b705581f2.png",g$=a.p+"assets/stone-b1cbd7eec7218466d852.png",E$=a.p+"assets/water_block-d2be9f3202db800ce257.png";function b$({preset:e}){const{t}=ah("FlatWorld"),{t:a}=ah("FlatWorld.narration"),n=(0,l.useFacetMap)((e=>e.layers),[],[e]),o=(0,l.useFacetMap)(((e,t)=>{const n=[];return e.forEach(((e,r)=>n.push([a(".layer",[`${r+1}`]),a(".material"),t.blockDisplayName[e.material],a(".height"),e.height].join(" . ")))),n.join(" . ")}),[a],[n,(0,l.useSharedFacet)(ub)]);return r.createElement(v$,{narrationText:o},r.createElement("div",{className:n$},r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:"inherit",overflowEllipsis:!0},t(".material")),r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:"inherit",overflowEllipsis:!0},t(".height"))),r.createElement(Vi,{size:3}),r.createElement(l.Map,{array:n},((e,t,a)=>r.createElement(r.Fragment,null,r.createElement(F$,{layer:e}),t+1!=a&&r.createElement(Vi,{size:2})))))}function h$({text:e}){return r.createElement(v$,{narrationText:e},r.createElement(Zi,{type:"body"},e))}function v$({children:e,narrationText:t}){const a=Yr("neutral60"),{t:n}=ah("FlatWorld"),o=(0,l.useFacetMap)((e=>[n(".description"),e].join(" . ")),[n],[(0,l.useFacetWrap)(t)]);return r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"captionShort",role:"inherit",variant:"dimmer",overflowEllipsis:!0},n(".description")),r.createElement(Vi,{size:2}),r.createElement(Wi,{classNameFocused:Ws,narrationText:o,inputLegend:!1},r.createElement(Bs,null),r.createElement(aP,{role:"neutral",label:n(".layers")}),r.createElement("div",{className:dl()("f1d409bf48652a7f0d77",a.border.base)},e)),r.createElement(y$,null))}function F$({layer:e}){const t=(0,l.useFacetMap)(((e,t)=>t.blockDisplayName[e.material]),[],[e,(0,l.useSharedFacet)(ub)]),a=(0,l.useFacetMap)((e=>e.height),[],[e]),n=(0,l.useFacetMap)((e=>function(e){switch(e){case"minecraft:bedrock":return l$;case"minecraft:cobblestone":return o$;case"minecraft:deepslate":return c$;case"minecraft:dirt":return i$;case"minecraft:grass_block":return s$;case"minecraft:gravel":return u$;case"minecraft:sand":return d$;case"minecraft:sandstone":return m$;case"minecraft:snow":return p$;case"minecraft:snow_layer":return f$;case"minecraft:stone":return g$;case"minecraft:water":return E$;default:return r$}}(e.material)),[],[e]);return r.createElement("div",{className:"a3f685a1251005ae7e95"},r.createElement(pu,{className:"a7e2b15a765be0058045",src:n}),r.createElement(Vi,{size:2}),r.createElement("div",{className:n$},r.createElement(Zi,{type:"captionShort",role:"inherit",overflowEllipsis:!0},t),r.createElement(Zi,{type:"captionShort",role:"inherit",overflowEllipsis:!0},a)))}function y$(){const{t:e}=ah("FlatWorld"),t=`${e(".designPreviewShortDescription")}`,a=(0,l.useFacetMap)((e=>e.isDevBuild||e.isAnyBeta),[],[(0,l.useSharedFacet)(cb)]),n=JT(),o=(0,l.useFacetCallback)((e=>()=>{n({button:"FlatWorldFeedback",screen:"CreateNewWorld"}),e.openLink(SF.FlatWorldFeedbackPage)}),[n],[(0,l.useSharedFacet)(CF)]);return r.createElement(l.Mount,{when:a},r.createElement(bd,{text:t},r.createElement("div",{className:"dc6c1e73fe0e64cddf1e"},r.createElement(lm,{inputLegend:`${e(".designPreviewInputLegend")}`,onClick:o,Icon:LM.ExternalLink},e(".feedbackButton")),r.createElement(Zi,{type:"captionShort",role:"neutral",variant:"dimmest",align:"center"},e(".designPreviewShortDescription")))))}const S$=["ClassicFlat","TunnelersDream","WaterWorld","Overworld","SnowyKingdom","BottomlessPit","Desert","RedstoneReady","TheVoid"],C$={ClassicFlat:".preset.classicFlat",TunnelersDream:".preset.tunnelersDream",WaterWorld:".preset.waterWorld",Overworld:".preset.overworld",SnowyKingdom:".preset.snowyKingdom",BottomlessPit:".preset.bottomlessPit",Desert:".preset.desert",RedstoneReady:".preset.redstoneReady",TheVoid:".preset.theVoid"};function M$({value:e,preset:t,onValueChanged:a,onPresetChanged:n,disabled:o,hideAccordion:c,achievementsDisabledMessages:i}){const{t:s}=ah("CreateNewWorld.advanced"),{t:u}=ah("CreateNewWorld.all"),{t:d}=ah("FlatWorld.narration"),{t:m}=ah("FlatWorld"),p=(0,r.useContext)(eA)!==ZO.CREATE,f=(0,l.useFacetMap)((e=>null!=e?e:"ClassicFlat"),[],[t]),g=S$.map(((e,t)=>({label:m(C$[e]),value:t}))),E=e,b=(0,l.useFacetMap)((e=>d(p?e?".dropdownHintEditWorldOn":".dropdownHintEditWorldOff":".dropdownHint")),[d,p],[E]),h=(0,l.useFacetMap)((e=>S$.indexOf(e)),[],[f]),v=(0,l.useFacetMap)(((e,t)=>e.presets[t]),[],[(0,l.useSharedFacet)(Hb),f]),F=(0,l.useFacetMap)((e=>d(p?e?".switchHintOnEditWorld":".switchHintOffEditWorld":e?".switchHintOn":".switchHintOff")),[d,p],[E]),y=(0,l.useFacetMap)((e=>0===e.length?u(".narrationSuffixEnablesAchievements"):void 0),[u],[i]),S=(0,l.useFacetWrap)(u(".narrationSuffixDisablesAchievements")),C=(0,l.useFacetWrap)(s(".expandHintNarration"));return r.createElement(l.Unwrap,{data:c},(t=>t?r.createElement(Vw,{onChange:a,value:e,title:s(".useFlatWorldTitle"),description:s(".useFlatWorldDescription"),disabled:o,offNarrationText:y,onNarrationText:S,narrationSuffix:F}):r.createElement(Kw,{title:s(".useFlatWorldTitle"),description:s(".useFlatWorldDescription"),value:e,onChange:a,disabled:o,narrationSuffix:F,offNarrationText:y,onNarrationText:S,onExpandNarrationHint:C},r.createElement(jR,{title:m(".title"),customSelectionDescription:r.createElement(w$,{selectedPreset:v,selectedPresetID:f}),options:g,value:h,onItemSelect:e=>n(S$[e]),disabled:o,wrapperRole:"neutral80",indented:!0,dropdownNarrationSuffix:b}))))}function w$({selectedPreset:e,selectedPresetID:t}){const{t:a}=ah("FlatWorld");return r.createElement(l.Unwrap,{data:t},(t=>"TheVoid"===t?r.createElement(h$,{text:a(".preset.theVoid.description")}):r.createElement(b$,{preset:e})))}const k$=a.p+"assets/preset-ClassicFlat-2d2609c39fd1e95fa49f.jpeg",P$=a.p+"assets/preset-Desert-29f1e7dc98f8f52745b9.jpeg",T$=a.p+"assets/preset-Overworld-100a433571a272bb55b7.jpeg",I$=a.p+"assets/preset-SnowyKingdom-95b108816be1e5d0d355.jpeg",x$={ClassicFlat:k$,TunnelersDream:a.p+"assets/preset-TunnelersDream-3e70538459cc5fc6df39.jpeg",WaterWorld:a.p+"assets/preset-WaterWorld-d22e6408bc068ec18f20.jpeg",Overworld:T$,SnowyKingdom:I$,BottomlessPit:k$,Desert:P$,RedstoneReady:P$,TheVoid:a.p+"assets/preset-TheVoid-9f4ceca4ec5fbc3d5564.jpeg"},O$=({isEditorWorld:e,onSeedValueChange:t,isSeedChangeLocked:a,worldData:n,onUnlockTemplateSettings:o,onWorldPreviewPathChange:c})=>{const{t:i}=ah("CreateNewWorld.advanced"),s=(0,r.useContext)(eA)!==ZO.CREATE,u=(0,l.useFacetMap)((e=>e.advanced),[],[n]),d=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[n]),m=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[n]),p=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[n]),f=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[n]),g=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[n]),E=cV(),b=(0,l.useSharedFacet)(yF),h={value:(0,l.useFacetMap)((e=>e.generatorType),[],[u]),onChange:(0,l.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[u])},v=(0,l.useFacetMap)((e=>e),[],[b]),F=(0,l.useSharedFacet)(yF),y=(0,l.useFacetMap)((e=>e.firesSpreads),[],[u]),S=(0,l.useFacetCallback)((e=>t=>{e.firesSpreads=t}),[],[u]),C=(0,l.useFacetMap)((e=>e.tntExplodes),[],[u]),M=(0,l.useFacetCallback)((e=>t=>{e.tntExplodes=t}),[],[u]),w=(0,l.useFacetMap)((e=>e.respawnBlocksExplode),[],[u]),k=(0,l.useFacetCallback)((e=>t=>{e.respawnBlocksExplode=t}),[],[u]);return r.createElement(l.Unwrap,{data:v},(n=>r.createElement(r.Fragment,null,n?r.createElement(nA,{context:tA.ADVANCED_TAB}):r.createElement(_$,{isLockedTemplate:d,achievementsDisabled:p,achievementsPermanentlyDisabled:g,onUnlockTemplateSettings:o,isEditorWorld:e,isHardcoreMode:f},r.createElement(l.Mount,{when:e},r.createElement(Uu,null,r.createElement(wH,{title:i(".projectHeader"),description:i(".projectDescription")}))),s?null:r.createElement(l.Mount,{when:e},r.createElement(Uu,null,r.createElement(jV,{label:i(".generatorTypeLabel"),options:[{value:PF.Overworld,label:i(".vanillaWorldGeneratorLabel"),description:i(".vanillaWorldGeneratorDescription")},{value:PF.Flat,label:i(".flatWorldGeneratorLabel"),description:i(".flatWorldGeneratorDescription")},{value:PF.Void,label:i(".voidWorldGeneratorLabel"),description:i(".voidWorldGeneratorDescription")}],value:h.value,onChange:h.onChange}))),r.createElement(A$,{advancedData:u,isEditorWorld:e,onSeedValueChange:t,isSeedChangeLocked:a,showSeedTemplates:!0}),r.createElement(N$,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d,achievementsDisabledMessages:E,isEditorWorld:e,isHardcoreMode:f,onWorldPreviewPathChange:c}),r.createElement(Vw,{title:i(".firesSpreadsTitle"),description:i(".firesSpreadsDescription"),value:y,onChange:S,disabled:F,onNarrationText:i(".firesSpreadsDescription")}),r.createElement(Vw,{title:i(".tntExplodesTitle"),description:i(".tntExplodesDescription"),value:C,onChange:M,disabled:F,onNarrationText:i(".tntExplodesDescription")}),r.createElement(R$,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d}),r.createElement(Vw,{title:i(".respawnBlocksExplodeTitle"),disabled:F,description:i(".respawnBlocksExplodeDescription"),value:w,onChange:k,onNarrationText:i(".respawnBlocksExplodeDescription")}),r.createElement(L$,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d}),r.createElement(D$,{advancedData:u,isUsingTemplate:m,isLockedTemplate:d,isHardcoreMode:f,isShowingSwitches:s})))))},A$=({advancedData:e,isEditorWorld:t,onSeedValueChange:a,isSeedChangeLocked:n,showSeedTemplates:o})=>{const{t:c}=ah("CreateNewWorld.advanced"),{t:i}=ah("CreateNewWorld.all"),s=(0,r.useContext)(eA)!==ZO.CREATE,u=Cl(),d=(0,l.useSharedFacet)(db),m=(0,l.useSharedFacet)(dh),p=(0,l.useFacetMap)((e=>e.worldSeed),[],[e]),f=(0,l.useFacetMap)((e=>e.isClipboardCopySupported),[],[d]),g=(0,l.useFacetCallback)(((e,t,a)=>()=>{t.copyToClipboard(e),a.queueSnackbar(c(".copyToClipboard"))}),[c],[p,d,m]),E=s?g:()=>u.push("/create-new-world/seed-templates"),b=s?"":c(".worldSeedPlaceholder"),h=c(s?".worldSeedCopyButton":".worldSeedButton"),v=(0,l.useFacetMap)(((e,t,a)=>t||a&&!s&&e.generatorType!=PF.Overworld),[s],[e,n,t]);return o?r.createElement(Uu,null,r.createElement(l.Unwrap,{data:f},(e=>s&&!e?r.createElement(dk,{disabled:s,label:c(".worldSeedLabel"),description:c(".worldSeedDescription"),maxLength:32,value:p,onChange:a,placeholder:c(".worldSeedPlaceholder"),disabledNarrationSuffix:i(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):r.createElement(dk.WithButton,{buttonInputLegend:h,buttonText:h,buttonOnClick:E,textDisabled:s,disabled:v,label:c(".worldSeedLabel"),description:c(".worldSeedDescription"),maxLength:32,value:p,onChange:a,placeholder:b,buttonNarrationHint:c(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:i(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))):r.createElement(Uu,null,r.createElement(dk,{disabled:v,label:c(".worldSeedLabel"),description:c(".worldSeedDescription"),maxLength:32,value:p,onChange:a,placeholder:c(".worldSeedPlaceholder"),disabledNarrationSuffix:i(".narrationSuffixTemplateLocked")}))},N$=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a,achievementsDisabledMessages:n,isEditorWorld:o,isHardcoreMode:c,onWorldPreviewPathChange:i=(()=>{})})=>{const{t:s}=ah("CreateNewWorld.advanced"),u=(0,r.useContext)(eA)!==ZO.CREATE,d=(0,l.useSharedFacet)(yF),m=Rd(Gl),p=(0,l.useFacetMap)((e=>!e),[],[o]),f=(0,l.useFacetMap)(((e,t)=>e||t||u),[u],[t,d]),g=(0,l.useFacetWrap)(!0),E={title:s(".recipesUnlockTitle"),description:s(".recipesUnlockDescription"),value:(0,l.useFacetMap)((e=>e.recipesUnlock),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.recipesUnlock=t}),[],[e]),disabled:d,onNarrationText:s(".recipesUnlockDescription"),visible:g},b=[{title:s(".showCoordinatesTitle"),description:s(".showCoordinatesDescription"),value:(0,l.useFacetMap)((e=>e.showCoordinates),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.showCoordinates=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},{title:s(".showDaysPlayedTitle"),description:s(".showDaysPlayedDescription"),value:(0,l.useFacetMap)((e=>e.showDaysPlayed),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.showDaysPlayed=t}),[],[e]),disabled:d,onNarrationText:s(".showCoordinatesDescription")},...m?[E]:[]];return r.createElement(r.Fragment,null,r.createElement(Uu,null,r.createElement(l.Mount,{when:p},r.createElement(M$,{value:(0,l.useFacetMap)((e=>e.useFlatWorld),[],[e]),preset:(0,l.useFacetMap)((e=>e.flatWorldPreset),[],[e]),onValueChanged:(0,l.useFacetCallback)((e=>t=>{e.useFlatWorld=t,t&&e.flatWorldPreset?i(x$[e.flatWorldPreset]):i("")}),[i],[e]),onPresetChanged:(0,l.useFacetCallback)((e=>t=>{e.flatWorldPreset=t,e.useFlatWorld?i(x$[t]):i("")}),[i],[e]),disabled:f,hideAccordion:(0,l.useFacetMap)((e=>null==e.flatWorldPreset),[],[e]),achievementsDisabledMessages:n}))),r.createElement(Uu,null,r.createElement(D$,{advancedData:e,isUsingTemplate:t,isLockedTemplate:a,isHardcoreMode:c,isShowingSwitches:!u})),r.createElement(l.Mount,{when:o},r.createElement(Uu,null,r.createElement(wH,{title:s(".exportSettingsHeader"),description:s(".exportSettingsDescription")}))),b.map((e=>{var t;return r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})))},R$=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a})=>{const{t:n}=ah("CreateNewWorld.advanced"),o=(0,l.useSharedFacet)(yF),c=(0,l.useFacetMap)(((e,t)=>e||t),[],[t,o]),i=[{title:n(".mobLootTitle"),description:n(".mobLootDescription"),value:(0,l.useFacetMap)((e=>e.mobLoot),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobLoot=t}),[],[e]),disabled:o,onNarrationText:n(".mobLootDescription")},{title:n(".naturalRegenerationTitle"),description:n(".naturalRegenerationDescription"),value:(0,l.useFacetMap)((e=>e.naturalRegeneration),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.naturalRegeneration=t}),[],[e]),disabled:o,onNarrationText:n(".naturalRegenerationDescription")},{title:n(".tileDropsTitle"),description:n(".tileDropsDescription"),value:(0,l.useFacetMap)((e=>e.tileDrops),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.tileDrops=t}),[],[e]),disabled:o,onNarrationText:n(".tileDropsDescription")}];return r.createElement(r.Fragment,null,i.map((e=>{var t;return r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})),r.createElement(Uu,null,r.createElement(z$,{advancedData:e,isTrialAccount:o})),r.createElement(Uu,null,r.createElement(W$,{disabled:c,isLockedTemplate:a,advancedData:e})))},L$=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a})=>{const{t:n}=ah("CreateNewWorld.advanced"),o=(0,l.useSharedFacet)(yF),c=(0,l.useFacetMap)(((e,t)=>e||t),[],[t,o]),i=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>e.length<=1),[],[(0,l.useSharedFacet)(Uv)]),s=(0,l.useFacetMap)(((e,t)=>e||t),[],[i,a]);return r.createElement(r.Fragment,null,r.createElement(Uu,null,r.createElement(U$,{label:n(".respawnRadiusLabel"),disabled:c,description:n(".respawnRadiusDescription"),placeholder:n(".respawnRadiusPlaceholder"),advancedData:e})),r.createElement(Hu,null,r.createElement(B$,{title:n(".simulationDistanceTitle"),disabled:s,advancedData:e})))},D$=({advancedData:e,isUsingTemplate:t,isLockedTemplate:a,isHardcoreMode:n,isShowingSwitches:o})=>{const{t:c}=ah("CreateNewWorld.advanced"),i=(0,r.useContext)(eA)!==ZO.CREATE,s=(0,l.useSharedFacet)(yF),u=(0,l.useFacetMap)(((e,t)=>e||t||i),[i],[t,s]),d=(0,l.useFacetMap)(((e,t)=>e||t),[],[n,u]),m=(0,l.useFacetMap)(((e,t)=>e||i||t),[i],[t,n]),p=(0,l.useFacetWrap)(!0),f=[{title:c(".startWithMapTitle"),description:c(".startWithMapDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[e,n]),onChange:(0,l.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[e]),disabled:m,visible:p},{title:c(".bonusChestTitle"),description:c(".bonusChestDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[e,n]),onChange:(0,l.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[e]),disabled:d,visible:p}];return r.createElement(r.Fragment,null,o?f.map((e=>{var t;return r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:a,description:e.description,onChange:e.onChange,value:e.value}))})):r.createElement(r.Fragment,null))},_$=({onUnlockTemplateSettings:e,isEditorWorld:t,isHardcoreMode:a,children:n})=>{const{t:o}=ah("CreateNewWorldSideMenu"),c=(0,r.useContext)(eA)!==ZO.CREATE,i=!0!==(0,l.useFacetUnwrap)(a)||c?void 0:HG.ADVANCED_TAB;return r.createElement(Wu,null,r.createElement(aV,{narrationText:o(".advancedTabLabel"),onUnlockTemplateSettings:e,isEditorWorld:t,hardcoreModeMessageTab:i},n))};function B$({title:e,disabled:t,advancedData:a}){const{t:n}=ah("CreateNewWorld.advanced"),o=(0,r.useCallback)(((e,t)=>({label:n(".simulationDistanceOption",[`${e}`]),value:e,description:n(t,[""+16*e,`${e}`])})),[n]),c=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,a=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>o(e,a)))}),[o],[(0,l.useSharedFacet)(Uv)]),i=(0,l.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[a]);return r.createElement($R,{onMountComplete:ju(),title:e,options:c,value:(0,l.useFacetMap)((e=>e.simulationDistance),[],[a]),onChange:i,disabled:t,wrapToggleText:!0})}function W$({disabled:e,isLockedTemplate:t,advancedData:a}){const{t:n}=ah("CreateNewWorld.advanced"),o=(0,l.useFacetMap)((e=>e.immediateRespawn),[],[a]),c=(0,l.useFacetCallback)((e=>t=>{e.immediateRespawn=t}),[],[a]);return r.createElement(r.Fragment,null,r.createElement(Vw,{title:n(".immediateRespawnTitle"),disabled:null!=e?e:t,description:n(".immediateRespawnDescription"),onChange:c,value:o,onNarrationText:n(".immediateRespawnDescription")}))}function U$({label:e,description:t,placeholder:a,disabled:n,advancedData:o}){const{t:c}=ah("CreateNewWorld.all"),{t:i}=ah("CreateNewWorld.advanced.narration"),{narrateText:s}=sd({interruptible:!1}),u=(0,l.useFacetMap)((e=>e.respawnRadius.toString()),[],[o]),d=(0,l.useFacetCallback)((e=>t=>{e.respawnRadius=t}),[],[o]),m=(0,r.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=128;return 0!==e.length&&a?n?gm.ValidationResult.VALID:(s(i(".respawnRadiusNotWithinRange")),t(128..toString()),gm.ValidationResult.INVALID):(s(i(".respawnRadiusInvalidValue")),t(10..toString()),gm.ValidationResult.INVALID)}),[s,i]);return r.createElement(r.Fragment,null,r.createElement(dk,{label:e,description:t,maxLength:8,value:u,disabled:n,onChange:d,onBlur:m,placeholder:a,disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),isNumber:!0}))}function z$({advancedData:e,isTrialAccount:t}){const{t:a}=ah("CreateNewWorld.advanced"),{t:n}=ah("CreateNewWorld.advanced.sleepSlider"),o=(0,l.useFacetMap)((e=>e.sleepSkipNight),[],[e]),c=(0,l.useFacetCallback)((e=>t=>{e.sleepSkipNight=t}),[],[e]),i=(0,l.useFacetMap)((e=>!Boolean(e.sleepSkipNight)),[],[e]),s=(0,l.useFacetMap)((e=>e.sleepSkipNightPercent<100?e.sleepSkipNightPercent:100),[],[e]),u=(0,l.useFacetCallback)((e=>t=>{t<=100&&(e.sleepSkipNightPercent=t)}),[],[e]),d=(0,l.useFacetMap)((e=>e.sleepSkipNightPercent>100?n(".disabled"):100===e.sleepSkipNightPercent?n(".all",[`(${e.sleepSkipNightPercent}%)`]):50===e.sleepSkipNightPercent?n(".half",[`(${e.sleepSkipNightPercent}%)`]):e.sleepSkipNightPercent>50?n(".most",[`(${e.sleepSkipNightPercent}%)`]):0===e.sleepSkipNightPercent?n(".one"):e.sleepSkipNightPercent>0?n(".some",[`(${e.sleepSkipNightPercent}%)`]):""),[n],[e]);return r.createElement(r.Fragment,null,r.createElement(Vw,{title:a(".sleepToSkipNightTitle"),disabled:t,description:a(".sleepToSkipNightDescription"),onChange:c,value:o,onNarrationText:a(".sleepToSkipNightDescription")}),r.createElement(a$,{title:a(".sleepToSkipNightPercentTitle"),disabled:i,description:a(".sleepToSkipNightPercentDescription"),onChange:u,value:s,valueText:d}))}O$.Wrapper=_$,O$.WorldSeedField=A$,O$.DefaultFieldsUpper=N$,O$.DefaultFieldsMiddle=R$,O$.DefaultFieldsLower=L$,O$.AdvancedSwitches=D$;const j$=O$,H$="mpl-modal-go-back",G$=As((({multiplayerData:e,activePacks:t,onDeactivatePack:a})=>{const{t:n}=ws("CreateNewWorld.multiplayerPlatformLockedModal"),o=Os(),c=(0,l.useFacetMap)((e=>aI(e,(e=>e.isPlatformLocked))),[],[t]),i=(0,l.useFacetMap)((e=>e.length>1?n(".titlePlural"):n(".titleSingular")),[n],[c]),s=(0,l.useFacetMap)((e=>{var t,a;return e.length>1?n(".messagePlural",[nx(e,1).map((e=>e.name)).join(", "),null===(t=e[0])||void 0===t?void 0:t.name]):n(".messageSingular",[null===(a=e[0])||void 0===a?void 0:a.name])}),[n],[c]),u=(0,l.useFacetMap)((e=>e.length>1?n(".removeButtonPlural"):n(".removeButtonSingular")),[n],[c]),d=(0,l.useFacetCallback)(((e,t)=>()=>{o(),a&&t.forEach((e=>a(e.id,BF.Resource))),e.multiplayerGame=!0}),[o,a],[e,c]);return r.createElement($m,{defaultFocusAlias:H$},r.createElement($m.Header,{onClose:o},i),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:s},s)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:n(".removeInputLegend"),variant:"primary",onClick:d},u),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:H$,inputLegend:n(".closeInputLegend"),variant:"secondary",onClick:o},n(".goBackButton"))))})),V$=a.p+"assets/steve-island-d0eb3b90094f2d4de49b.png";var $$;!function(e){e.NintendoPromotion="nintendo-promotion",e.EditRealm="edit-realm",e.PlayStationSignInMessage="PlayStation-sign-in-message",e.NintendoSignInMessage="Nintendo-sign-in-message",e.TrialMode="trial-mode",e.Default="default"}($$||($$={}));const X$=({worldPacks:e,worldData:t,onDeactivatePack:a,onUnlockTemplateSettings:n,isEditorWorld:o})=>{const{t:c}=ah("CreateNewWorld.multiplayer"),{t:i}=ah("CreateNewWorld.all"),s=(0,r.useContext)(eA),u=s!==ZO.CREATE,d=(0,l.useSharedFacet)(FF),m=(0,l.useSharedFacet)(yF),p=(0,l.useSharedFacet)(Hv),f=(0,l.useSharedFacet)(_l),g=cV(),E=(0,l.useFacetMap)((e=>e.platform),[],[(0,l.useSharedFacet)(_l)]),b=(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),h=(0,l.useFacetMap)((e=>TI(e)||xI(e)),[],[E]),v=(0,l.useFacetMap)(((e,t,a)=>TI(t)&&!e.hasPremiumNetworkAccess&&a.isOnline&&e.isSignedInPlatformNetwork),[],[d,E,f]),F=(0,l.useFacetMap)((e=>!xI(e)),[],[E]),y=(0,l.useFacetMap)(((e,t,a)=>!a&&(!e.multiplayerSupported||t.isTrialAccount||e.generalWarningState===Jb.NON_MULTIPLAYER_SKIN_EQUIPPED||e.generalWarningState===Jb.MULTIPLAYER_PRIVILEGES_BLOCKED)),[],[b,d,v]),S=(0,l.useFacetMap)(((e,t,a)=>a||!e.multiplayerGame||t),[],[b,y,v]),C=(0,l.useFacetMap)(((e,t)=>xI(t)&&!e.hasPremiumNetworkAccess),[],[d,E]),M=(0,l.useFacetMap)(((e,t)=>TI(t)&&!e.isSignedInPlatformNetwork),[],[d,E]),w=(0,l.useFacetMap)(((e,t)=>xI(t)&&!e.isSignedInPlatformNetwork),[],[d,E]),k=(0,l.useFacetMap)(((e,t)=>t&&!e.isLoggedInWithMicrosoftAccount),[],[d,h]),P=(0,l.useFacetMap)(((e,t)=>e.generalWarningState===Jb.CHECK_INTERNET_CONNECTION||t),[],[b,S]),T=(0,l.useFacetMap)((e=>!e),[],[k]),I=(0,l.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[b]),x=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),O=G$.useShowModal(),A=(0,l.useFacetCallback)(((e,t,n,r,l)=>o=>{if(!r)return o?void(!function(e,t){for(let t=0;t<e.length;t++)if(e[t].isPlatformLocked)return!0;return!1}(t)?(u&&n.trackOptionChanged(nV.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o):O({multiplayerData:b,activePacks:x,onDeactivatePack:a})):(u&&n.trackOptionChanged(nV.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o);l.showPremiumNetworkUpsellModal()}),[O,a,b,u,x],[b,x,p,v,(0,l.useSharedFacet)(FF)]),N=(0,l.useFacetMap)(((e,t)=>e.playerPermissions===Qb.OPERATOR&&1===t.length?[c(".narrationMultiplayerAdditionalSettingsDisabled"),i(".narrationSuffixEnablesAchievements")].join(" . "):c(".narrationMultiplayerAdditionalSettingsDisabled")),[c,i],[b,g]),R=(0,l.useFacetMap)((e=>e.generalWarningState),[],[b]),L=(0,l.useFacetMap)(((e,t,a)=>!a&&e.multiplayerGame&&!t),[],[b,y,v]),D=(0,l.useFacetMap)((e=>e.friendlyFire),[],[b]),_=(0,l.useFacetMap)((e=>e),[],[m]),B=(0,l.useFacetMap)(((e,t,a,n)=>a?$$.NintendoSignInMessage:n?$$.PlayStationSignInMessage:e?$$.NintendoPromotion:s===ZO.EDIT_REALM?$$.EditRealm:t?$$.TrialMode:$$.Default),[s],[C,_,w,M]),W=(0,l.useFacetCallback)((e=>t=>{e.friendlyFire=t}),[],[b]),U=(0,l.useFacetUnwrap)(R),z=U===l.NO_VALUE?void 0:U;return r.createElement(Wu,null,r.createElement(l.Unwrap,{data:B},(e=>{switch(e){case $$.NintendoSignInMessage:return r.createElement(K$,{multiplayerWarningState:z,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(mO,null),r.createElement(RA,{borderless:!0,context:NA.Nintendo}));case $$.PlayStationSignInMessage:return r.createElement(K$,{multiplayerWarningState:z,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(mO,null),r.createElement(RA,{borderless:!0,context:NA.Playstation}));case $$.NintendoPromotion:return r.createElement(K$,{multiplayerWarningState:z,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(tX,null));case $$.TrialMode:return r.createElement(nA,{context:tA.MULTIPLAYER_TAB});case $$.EditRealm:return r.createElement(K$,{multiplayerWarningState:z,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(q$,{multiplayerDisabled:S,friendlyFire:D,handleFriendlyFire:W}),r.createElement(nX,null));case $$.Default:return r.createElement(K$,{multiplayerWarningState:z,onUnlockTemplateSettings:n,isEditorWorld:o},r.createElement(Uu,null,r.createElement(Vw,{"data-testid":"multiplayer-state-switch",key:c(".multiplayerGameTitle"),title:c(".multiplayerGameTitle"),description:c(".multiplayerGameDescription"),onNarrationText:c(".narrationMultiplayerAdditionalSettingsEnabled"),offNarrationText:N,value:L,disabled:y,onChange:A})),r.createElement(bd,{text:[c(".settingsTitle"),c(".narrationComponentTypeSectionHeader")].join(" . ")},r.createElement(Uu,null,r.createElement(wH,{title:c(".settingsTitle")})),r.createElement(l.Mount,{when:I},r.createElement(Hu,null,r.createElement(Q$,{platform:E,multiplayer:b,disabled:S}))),r.createElement(l.Mount,{when:k},r.createElement(Uu,null,r.createElement(aX,{disabled:P}))),r.createElement(l.Mount,{when:T},r.createElement(Hu,null,r.createElement(J$,{disabled:S,multiplayer:b}))),r.createElement("div",{className:"e00979c628d528be484e"},r.createElement(LM.Visitor,null),r.createElement(LM.Member,null),r.createElement(LM.Operator,null),r.createElement(LM.Visitor,{disabled:!0}),r.createElement(LM.Member,{disabled:!0}),r.createElement(LM.Operator,{disabled:!0})),r.createElement(Y$,{multiplayerData:b,multiplayerDisabled:S,achievementsDisabledMessages:g}),r.createElement(l.Mount,{when:F},r.createElement(Z$,{multiplayerData:b,disabled:S})),r.createElement(q$,{multiplayerDisabled:S,friendlyFire:D,handleFriendlyFire:W}),r.createElement(eX,{multiplayerData:b,disabled:S})))}})))},K$=({multiplayerWarningState:e,onUnlockTemplateSettings:t,isEditorWorld:a,children:n})=>{const{t:l}=ah("CreateNewWorldSideMenu");return r.createElement(Wu,null,r.createElement(aV,{isEditorWorld:a,multiplayerWarningState:e,narrationText:l(".multiplayerTabLabel"),onUnlockTemplateSettings:t},n))},Y$=({multiplayerData:e,multiplayerDisabled:t,achievementsDisabledMessages:a,showingIcons:n=!0})=>{const{t:o}=ah("CreateNewWorld.multiplayer"),{t:c}=ah("CreateNewWorld.all"),i=(0,l.useFacetMap)(((e,t)=>[{label:o(".playerPermissionsVisitorLabel"),value:Qb.VISITOR,description:o(".playerPermissionsVisitorDescription"),Icon:n?LM.Visitor:void 0,narrationSuffix:e.playerPermissions===Qb.OPERATOR&&1===t.length?c(".narrationSuffixEnablesAchievements"):void 0},{label:o(".playerPermissionsMemberLabel"),value:Qb.MEMBER,description:o(".playerPermissionsMemberDescription"),Icon:n?LM.Member:void 0,narrationSuffix:e.playerPermissions===Qb.OPERATOR&&1===t.length?c(".narrationSuffixEnablesAchievements"):void 0},{label:o(".playerPermissionsOperatorLabel"),value:Qb.OPERATOR,description:o(".playerPermissionsOperatorDescription"),Icon:n?LM.Operator:void 0,narrationSuffix:c(".narrationSuffixDisablesAchievements")}]),[o,n,c],[e,a]);return r.createElement($R,{disabledNarrationSuffix:o(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:ju(),title:o(".playerPermissionsTitle"),disabled:t,options:i,value:(0,l.useFacetMap)((e=>e.playerPermissions),[],[e]),onChange:(0,l.useFacetCallback)((e=>t=>{e.playerPermissions=t}),[],[e])})},q$=({multiplayerDisabled:e,friendlyFire:t,handleFriendlyFire:a})=>{const{t:n}=ah("CreateNewWorld.multiplayer");return r.createElement(Uu,null,r.createElement(Vw,{key:n(".friendlyFireTitle"),title:n(".friendlyFireTitle"),description:n(".friendlyFireDescription"),disabledNarrationSuffix:n(".multiplayerSettingsDisabledNarrationHint"),disabled:e,value:t,onChange:a}))};function Q$({platform:e,multiplayer:t,disabled:a}){const{t:n}=ah("CreateNewWorld.multiplayer"),o=(0,l.useFacetMap)(((e,t)=>!e.platformPlayerAccessEnabled||!e.multiplayerGame||t),[],[t,a]),c=(0,l.useFacetMemo)(((e,t)=>function(e,t,a){const n=[];return e.platformPlayerInviteAccessSupported&&!xI(t)&&n.push({label:a(".playerAccessInvitedLabel"),value:qb.INVITED,description:xI(t)?a(".nintendoPlayerAccessInvitedDescription"):TI(t)?a(".playstationPlayerAccessInvitedDescription"):a(".playerAccessInvitedDescription")}),n.push({label:a(".playerAccessFriendsLabel"),value:qb.FRIENDS,description:xI(t)?a(".nintendoPlayerAccessFriendsDescription"):TI(t)?a(".playstationPlayerAccessFriendsDescription"):a(".playerAccessFriendsDescription")}),n.push({label:a(".playerAccessFriendsOfFriendsLabel"),value:qb.FRIENDS_OF_FRIENDS,description:xI(t)?a(".nintendoPlayerAccessFriendsOfFriendsDescription"):TI(t)?a(".playstationPlayerAccessFriendsOfFriendsDescription"):a(".playerAccessFriendsOfFriendsDescription")}),n}(e,t,n)),[n],[t,e]),i=(0,l.useFacetUnwrap)((0,l.useFacetMemo)((e=>xI(e)?n(".nintendoPlayerAccessTitle"):TI(e)?n(".playstationPlayerAccessTitle"):n(".playerAccessTitle")),[n],[e]));return r.createElement($R,{onMountComplete:ju(),title:i===l.NO_VALUE?n(".playerAccessTitle"):i,disabled:o,wrapToggleText:!0,options:c,value:(0,l.useFacetMap)((e=>e.platformPlayerAccess),[],[t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.platformPlayerAccess=t}),[],[t])})}function J$({disabled:e,multiplayer:t}){const{t:a}=ah("CreateNewWorld.multiplayer"),n=(0,l.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[t]),o=(0,l.useFacetUnwrap)((0,l.useFacetMemo)((e=>a(e?".microsoftPlayerAccessTitle":".playerAccessTitle")),[a],[n]));return r.createElement($R,{disabledNarrationSuffix:a(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:ju(),title:o!==l.NO_VALUE?o:a(".playerAccessTitle"),disabled:e,wrapToggleText:!0,options:[{label:a(".playerAccessInvitedLabel"),value:qb.INVITED,description:a(".playerAccessInvitedDescription")},{label:a(".playerAccessFriendsLabel"),value:qb.FRIENDS,description:a(".playerAccessFriendsDescription")},{label:a(".playerAccessFriendsOfFriendsLabel"),value:qb.FRIENDS_OF_FRIENDS,description:a(".playerAccessFriendsOfFriendsDescription")}],value:(0,l.useFacetMap)((e=>e.playerAccess),[],[t]),onChange:(0,l.useFacetCallback)((e=>t=>{e.playerAccess=t}),[],[t])})}function Z$({multiplayerData:e,disabled:t}){const{t:a}=ah("CreateNewWorld.multiplayer"),n=(0,l.useFacetMap)((e=>e.visibleToLanPlayers),[],[e]),o=(0,l.useFacetCallback)((e=>t=>{e.visibleToLanPlayers=t}),[],[e]);return r.createElement(Vw,{key:a(".visibleToLanPlayersTitle"),title:a(".visibleToLanPlayersTitle"),description:a(".visibleToLanPlayersDescription"),disabledNarrationSuffix:a(".multiplayerSettingsDisabledNarrationHint"),disabled:t,value:n,onChange:o})}function eX({multiplayerData:e,disabled:t}){const{t:a}=ah("CreateNewWorld.multiplayer"),n=(0,l.useFacetMap)((e=>e.locatorBarEnabled),[],[e]),o=(0,l.useFacetCallback)((e=>t=>{e.locatorBarEnabled=t}),[],[e]);return r.createElement(Vw,{key:a(".locatorBarTitle"),title:a(".locatorBarTitle"),description:a(".locatorBarDescription"),disabledNarrationSuffix:a(".multiplayerSettingsDisabledNarrationHint"),disabled:t,value:n,onChange:o})}function tX(){const{t:e}=ah("CreateNewWorld.multiplayer");return r.createElement(aw,{borderless:!0,title:e(".nintendoSubscriptionPromotionTitle"),text:e(".nintendoSubscriptionPromotionBody"),imgSrc:V$,imgClass:"a76a1184ff4aa5a91472",buttons:[{text:e(".nintendoSubscriptionPromotionButtonLabel"),onClick:(0,l.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,l.useSharedFacet)(FF)]),inputLegend:e(".nintendoSubscriptionPromotionButtonLabel")}]})}function aX({disabled:e}){const{t}=ah("CreateNewWorld.multiplayer"),a=p();return r.createElement(Ud,null,r.createElement(jd,null,t(".microsoftSignInButtonTitle")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:t(".microsoftSignInButtonLabel"),onClick:()=>a.push("/sign-in?signInSource=MultiplayerTab_OreUI"),disabled:e},t(".microsoftSignInButtonLabel")))}function nX(){const{t:e}=ah("MultiplayerTab.PlayerAccessPanel"),t=p(),a=TH(),n=(0,l.useFacetCallback)((e=>()=>{t.push(`/settings/members/${e}`)}),[t],[a]);return r.createElement(Ud,{compact:!0},r.createElement(Vi,{size:4}),r.createElement(jd,null,e(".title")),r.createElement(Vi,{size:2}),r.createElement(lm,{variant:"secondary",inputLegend:e(".manageMembersLegend"),onClick:n},e(".manageMembersButton")),r.createElement(Vi,{size:4}))}X$.Wrapper=K$,X$.PlayerPermissionsToggles=Y$,X$.FriendlyFireSwitch=q$;const rX=X$;function lX({text:e}){return r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},e))}const oX=a.p+"assets/draggable-icon-cb81f4a8941c41e205e7.png",cX=a.p+"assets/arrow-down-f9b6cfa29e676688dc0f.png",iX=a.p+"assets/remove-icon-5a112118b7211ddeab31.png",sX=a.p+"assets/settings-icon-af819edcc21a62294086.png",uX=a.p+"assets/add-icon-675d057087530fce54e7.png",dX=a.p+"assets/warning-icon-e02fbee1d24691eaebf1.png",mX=a.p+"assets/missing-pack-icon-010c87c773e1a21c8ac7.png",pX={packImage:"a0defcf60ba1fd9680ef",border:"ffb1e46d7be066c481f3",draggableIcon:"f7800aa090c0f3d43787",expandArrowIcon:"d86af24173e21b8de1f2",flipped:"b772ff46e8913406dfc3",settingsIcon:"e533886def37b4188a29",removeIcon:"ce50098e6e154d31ef3a",addIcon:"f3853daefcf2286706b2",additionalActionTextWrapper:"f6c43a0e1493b61a530e",expandableWrapper:"e0ca0eff2869297588cd",expanded:"ca937db2fafe42d3e545",expandableContent:"e4d2d19400f8a30e804b",expandableContentWrapper:"a6cca9fed6f16d264dd5",expandableContentDescription:"c88d263e27353db0e6ff",expandableContentLinksWrapper:"f27ab4ea3130ea7bed25",disabledPackImage:"eacdf6e4bbc38cc142d3"},fX="rpl-modal-go-back",gX=As((({multiplayerData:e,packId:t,packName:a,packSize:n,packType:o,onActivatePack:c})=>{const{t:i}=ws("CreateNewWorld.resourcePacksPlatformLockedModal"),s=(0,l.useFacetMap)((e=>i(".body",[e])),[i],[a]),u=Os();return r.createElement($m,{onOverlayClick:u,defaultFocusAlias:fX},r.createElement($m.Header,{onClose:u},i(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:s,center:!0},s)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:i(".removeInputLegend"),variant:"primary",onClick:()=>{e.multiplayerGame=!1,c(t,o,a,n),u()}},i(".turnOffMultiplayerAndApplyPackButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:fX,inputLegend:i(".closeInputLegend"),variant:"secondary",onClick:u},i(".goBackButton"))))}));function EX(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function bX(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?EX(Object(a),!0).forEach((function(t){hX(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EX(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function hX(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vX(){const e={active:0,available:0,realms:0};return t=>Object.keys(e).reduce(((a,n)=>{var r,l,o;const c=null!==(r=null===(l=t[n])||void 0===l||null===(o=l.resourcePacks)||void 0===o?void 0:o.length)&&void 0!==r?r:0,i=e[n]===c;return e[n]=c,a?i:a}),!0)}function FX(){const e=(0,r.useRef)(!0),{narrateText:t}=sd({interruptible:!1}),{t:a}=ws("CreateNewWorld.resourcePacks");return(0,r.useCallback)((n=>{e.current&&"activate"===n?(t(a(".activateNarrationFirstPack")),e.current=!1):t(a(`.${n}Narration`))}),[t,a])}function yX(e,t,a,n,o,c){const i=Pe(),s=Ln(),u=(0,r.useRef)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=gX.useShowModal(),g=FX(),E=FX(),b=(0,r.useCallback)(((t,a,n)=>{u.current=t,d.current=a,m.current=n,p.current="remove",c(t,e)}),[e,c]),h=(0,l.useFacetCallback)((t=>(a,n,r,l,c,i)=>{u.current=a,d.current=c,m.current=i,p.current="activate",l&&t.multiplayerGame?f({multiplayerData:t,packId:a,packType:e,packName:n,packSize:r,onActivatePack:o}):o(a,e,n,r)}),[f,e,o],[n]),v=(0,l.useFacetMemo)((a=>Object.keys(t).reduce(((n,r)=>{const l=t[r],o=`${r}${e===BF.Behavior?"BehaviorPacks":"TexturePacks"}`,c=a[o];return bX(bX({},n),{},{[r]:{gamepadAliases:l,resourcePacks:c}})}),{})),[t,e],[a],vX);return(0,l.useFacetEffect)((t=>{if(null==u.current||null==d.current||null==m.current||null==p.current)return;e===BF.Resource&&E(p.current),e===BF.Behavior&&g(p.current);const a=t[m.current];if(0===a.resourcePacks.length){const e=s?a.gamepadAliases.emptyStateMessageAlias:a.gamepadAliases.tabsAlias;return void i(e)}const n=null!=a.resourcePacks[d.current]?d.current:d.current-1,r=a.resourcePacks[n].id,l=SX(p.current,r);i(l)}),[i,s,e,E,g],[v]),{deactivatePack:b,activatePack:h}}function SX(e,t){return`${e}-${t}`}const CX=(0,r.createContext)(null);function MX(e){return(0,l.useFacetMap)((e=>null!=e?e:{id:"-1",contentId:"-1",name:"-1",creator:"-1",description:"-1",size:"-1",image:void 0,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1}),[],[e])}function wX(e){return null!=e}const kX="_GLOBAL_MINECRAFT_TEXTURE_PACK_";function PX({pack:e,index:t,draggable:a,removable:n,activatable:o,canShowSettingsButton:c=!1,expandedPackId:i,containerListLength:s,outerRole:u="neutral",innerRole:d="neutral80",onDragStart:m=OX,onDrop:p=OX,onExpand:f=OX,onRemove:g=OX,onActivate:E=OX,onClickPackSettings:b=OX,onClickMoreDetails:h=OX,showTechnicalDetailsLink:v=!1}){const{t:F}=ws("PackListItem"),y=Cl(),S=dt(),C=(0,l.useSharedFacet)(Hv),M=(0,l.useFacetWrap)(a||!1),w=(0,l.useFacetWrap)(null!=n&&n),k=(0,l.useFacetWrap)(null!=o&&o),P=MX(e),T=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.id),[],[P])),I=(0,l.useFacetMap)((e=>e.name),[],[P]),x=(0,l.useFacetMap)((e=>e.size),[],[P]),O=(0,l.useFacetMap)((e=>e.description),[],[P]),A=(0,l.useFacetMap)((e=>e.isPlatformLocked),[],[P]),N=(0,l.useFacetRef)(A,!1),R=(0,l.useFacetMap)((e=>{switch(e.error){case UF.PackDependencyWarning:return F(".errorPackMissingDependencies");case UF.ContentTierIncompatible:return F(".errorPackNotCompatible");case UF.ContentTierIncompatibleMemory:return F(".errorPackNotCompatibleMemory");case UF.ContentTierIncompatibleRayTracing:return F(".errorPackNotCompatibleRayTracing");case UF.NoPackAccess:return F(".errorPackAccess");case UF.UnsupportedFileFormat:return F(".errorPackUnsupportedFormat");case UF.NoManifest:case UF.MissingProperty:case UF.WrongTypeProperty:case UF.EmptyProperty:case UF.InvalidProperty:case UF.MalformedPropertyUUID:case UF.MalformedPropertyVERSION:case UF.DuplicateUUID:case UF.InvalidJSON:case UF.MissingModules:case UF.MultipleModules:case UF.UnsupportedFormatVersion:return F(".errorPackReading");case UF.VersionTooHigh:case UF.VersionTooLow:return F(".errorPackIncompatibleVersion");case UF.IncompletePack:return F(".errorPackIncomplete");case UF.UnownedContent:return F(".errorPackUnownedContent");default:return""}}),[F],[P]),L=(0,l.useFacetMap)((e=>e.error===UF.PackDependencyWarning||e.error===UF.IncompletePack||e.error===UF.VersionTooHigh||e.error===UF.VersionTooLow?"noticeTint":"destructiveTint"),[],[P]),D=(0,l.useFacetMap)((e=>0!=e.length),[],[R]),_=(0,l.useFacetMap)(((e,t)=>!(!e||t.error===UF.NeedToDownloadPack)&&(c||t.error===UF.VersionTooHigh||t.error===UF.VersionTooLow||t.error===UF.IncompletePack)),[c],[D,P]),B=(0,l.useFacetMap)((e=>!e.isMarketplaceItem),[],[P]),W=(0,l.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:mX),[],[P]),U=(0,r.useRef)(null),z=(0,l.useFacetMap)((e=>e===T),[T],[i]),j=!0===(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>!e),[],[M])),{handlers:H,dragStateFacet:G}=function({id:e,data:t,index:a,ref:n,pointerAxisLock:o,onDragStart:c,disabled:i,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}){const d=Pk(),m=(0,r.useContext)(Ik),p=(0,l.useFacetMap)((t=>t[e]),[e],[(0,l.useFacetWrap)(null!=m?m:{})]);(0,r.useEffect)((()=>{if(null!=d&&1!=i)return d.addDraggable({id:e,index:a,data:t,ref:n,pointerAxisLock:o,onDragStart:c,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}),()=>{d.removeDraggable(e)}}),[e,t,d,n,a,o,c,s,u,i]);const f=(0,l.useFacetCallback)((e=>t=>("gamepad"==e.dragging&&null!=d&&("up"!==t&&"down"!=t||d.focusDragMove(t)),0!=e.dragging)),[d],[p]),g=(0,r.useCallback)((t=>{if(null==d||null==t)return;const{clientX:a,clientY:n}=null!=t.clientX?t:t.touches[0];c?c((()=>{d.pointerDragStart(e,a,n)})):d.pointerDragStart(e,a,n)}),[d,e,c]),E=(0,r.useCallback)((()=>{null!=d&&(c?c((()=>{d.focusDragToggle(e)})):d.focusDragToggle(e))}),[d,c,e]);return{dragStateFacet:p,handlers:(0,r.useMemo)((()=>({onMouseDown:g,onGamepadClick:E,onUp:()=>!0===f("up"),onDown:()=>!0===f("down"),onLeft:()=>!0===f("left"),onRight:()=>!0===f("right")})),[g,E,f])}}({data:t,id:T,index:t,onDragStart:m,pointerAxisLock:"y",ref:U,disabled:j,gamepadDragXOffsetPx:Fc(-.4),gamepadDragYOffsetPx:Fc(-.8)}),V=function({id:e,index:t,ref:a,data:n,disabled:o,onDrop:c}){const i=Pk(),s=(0,r.useContext)(xk),u=(0,l.useFacetMap)((t=>null!=t[e]?t[e]:{}),[e],[(0,l.useFacetWrap)(null!=s?s:{})]);return(0,r.useEffect)((()=>{if(null!=i&&1!=o)return i.addDroppable({id:e,index:t,ref:a,data:n,onDrop:c}),()=>{i.removeDroppable(e)}}),[e,t,a,n,c,i,o]),u}({id:T,index:t,data:t,onDrop:(e,t)=>{setTimeout((()=>{re(F(".narrationReorderComplete",[`${t+1}`]))}),16),p(T,e,t)},ref:U,disabled:j}),$=(0,l.useFacetMap)((e=>null!=e&&0!=e.dragging),[],[G]),X=(0,l.useFacetMap)((e=>null!=e&&e.dragging),[],[G]),K=(0,l.useFacetMap)((e=>null!=e?e.displacement:0),[],[V]),Y=(0,l.useFacetMap)((e=>null!=e?e.zIndex:""),[],[G]),q=(0,l.useFacetMap)((e=>null!=e?e.transform:""),[],[G]),Q=(0,l.useFacetMap)((e=>null==e?"":`translate(0, ${100*e+"%"})`),[],[K]),J=(0,l.useFacetMap)((e=>e?"-0.4rem":"0"),[],[$]),Z=(0,l.useFacetMap)((e=>e?"-0.8rem":"0"),[],[$]),ee=(0,l.useFacetMap)((e=>e?"0.7200000000000001rem 1.4400000000000002rem 0 rgba(0, 0, 0, 0.3)":""),[],[$]),te=(0,l.useFacetMap)((e=>F(e?".dropInputLegendText":".dragInputLegendText")),[F],[$]),ae=(0,l.useFacetMap)(((e,t)=>null==t||e?"":"transform 100ms linear"),[],[$,K]),ne=(0,l.useFacetMap)((e=>"gamepad"===e?"transform 100ms linear":""),[],[X]),{narrateText:re}=sd(),le=(0,l.useFacetCallback)(((e,t)=>()=>{re([F((t=!t)?".narrationExpanded":".narrationCollapsed"),t?F(".narrationExpandedHint"):null].filter(wX).join(" . ")),f(e.id)}),[f,re,F],[e,z]),oe=(0,l.useFacetCallback)(((e,t)=>()=>{t.fireEventButtonPressed("Resource_Pack_Pack_Manifest_Button_OreUI",{}),y.push(`/manifest-validation/${e.contentId}`)}),[y],[e,C]),ce=(0,l.useFacetMap)((e=>F(e?".collapseDescriptionInputLegend":".expandDescriptionInputLegend")),[F],[z]),ie=(0,l.useFacetMap)((e=>dl()(pX.expandArrowIcon,{[pX.flipped]:e})),[],[z]),se=(0,l.useFacetMap)((e=>e.hasSettings&&c),[c],[e]),ue=(0,l.useFacetMap)(((e,a)=>[e,F(".narrationComponentType"),a>0?F(".narrationListLengthContext",[`${t+1}`,`${a}`]):void 0].filter(wX).join(" . ")),[F,t],[I,(0,l.useFacetWrap)(null!=s?s:0)]),de=(0,l.useFacetMap)(((e,t,a)=>[F(".narrationPackDescription"),F(".narrationAccordion"),F(e?".narrationExpanded":".narrationCollapsed"),e?null:F(t||a?".narrationExpandHint":".narrationExpandHintNoButtons")].filter(wX).join(" . ")),[F],[z,w,se]),me=(0,l.useFacetMap)((e=>[F(".narrationReorderPack"),F(".narrationPackRank",[`${t+1}`]),F(".narrationButton"),F(e?".narrationReorderPointerHint":".narrationReorderGamepadHint"),F(".narrationMultiplePacksHint")].filter(wX).join(" . ")),[F,t],[S]),pe=(0,l.useFacetMap)((e=>null==e?void 0:e.gamepadHoverIndex),[],[G]),fe=(0,l.useFacetMap)((e=>null==e?void 0:e.pointerHoverIndex),[],[G]),ge=(0,l.useFacetMap)((e=>null==e?void 0:e.hasDraggedPointerBeyondStartArea),[],[G]);(0,l.useFacetEffect)(((e,t,a,n,r)=>{!e||null==t&&null==a||(n&&null!=a&&r?re(F(".narrationReorderPointerChangeConfirmation",[`${a+1}`])):null!=t&&re(F(".narrationReorderGamepadChangeConfirmation",[`${t+1}`])))}),[re,F],[$,pe,fe,S,ge]),(0,l.useFacetEffect)(((e,t)=>{e&&re(F(t?".narrationReorderPointerDraggingHint":".narrationReorderGamepadDraggingHint"))}),[re,F],[$,S]);const Ee=(0,r.useContext)(CX),be=Qr(u),he=Yr(u),ve=(0,l.useFacetMap)((e=>e?be.contract:be.expand),[be],[z]);return T==l.NO_VALUE?null:r.createElement(bd,{text:ue,key:T},r.createElement(Sr,{role:u},r.createElement("fast-div",{style:{top:Z,left:J,zIndex:Y}},r.createElement("fast-div",{ref:U,style:{transform:q,transition:ne},className:pX.packListItemContent},r.createElement("fast-div",{style:{transform:Q,boxShadow:ee,transition:ae}},r.createElement(rT,null,r.createElement(l.Mount,{when:M},r.createElement(rT.AdditionalAction,{fitContent:!0,onClick:OX,inputLegend:te,narrationText:me,touchDetectionDelay:0,soundEffectPressed:be.lift,onMouseDown:H.onMouseDown,onGamepadClick:H.onGamepadClick,onUp:H.onUp,onDown:H.onDown,onLeft:H.onLeft,onRight:H.onRight},r.createElement(rT.Cell,{direction:"row"},r.createElement(Vi,{size:2}),r.createElement(pu,{src:oX,className:pX.draggableIcon,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort"},t+1),r.createElement(Vi,{size:2})))),r.createElement(rT.Action,{inputLegend:ce,narrationText:de,onClick:le,soundEffectPressed:ve},r.createElement(rT.Cell,null,r.createElement(pu,{src:W,className:dl()(pX.packImage,he.border.base,pX.border)})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,I)),r.createElement(l.Mount,{when:_},r.createElement(rk,{role:L},R))),r.createElement(rT.Cell,{direction:"row"},r.createElement(pu,{src:cX,className:ie,imageRendering:"pixelated"}),r.createElement(Vi,{size:4}))),r.createElement(l.Mount,{when:se},r.createElement(rT.AdditionalAction,{inputLegend:F(".settingsButtonText"),onClick:()=>b(T),narrationText:F(".narrationSettingsButton")},r.createElement(rT.Cell,{align:"center"},r.createElement(pu,{src:sX,className:pX.settingsIcon,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{className:pX.additionalActionTextWrapper,align:"center",type:"captionTiny",overflowEllipsis:!0},F(".settingsButtonText"))))),r.createElement(l.Mount,{when:w},r.createElement(rT.AdditionalAction,{inputLegend:F(".removeButtonText"),onClick:()=>g(T,t,Ee),narrationText:F(".narrationRemoveButton"),gamepadAlias:SX("remove",T)},r.createElement(rT.Cell,{align:"center"},r.createElement(pu,{src:iX,className:pX.removeIcon,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{className:pX.additionalActionTextWrapper,align:"center",type:"captionTiny",overflowEllipsis:!0},F(".removeButtonText"))))),r.createElement(l.Mount,{when:_},r.createElement(rT.AdditionalAction,{inputLegend:F(".detailsButtonText"),onClick:oe,narrationText:F(".narrationDetailsButton")},r.createElement(rT.Cell,{align:"center"},r.createElement(pu,{src:dX,className:pX.addIcon,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{className:pX.additionalActionTextWrapper,align:"center",type:"captionTiny",overflowEllipsis:!0},F(".detailsButtonText"))))),r.createElement(l.Mount,{when:k},r.createElement(rT.AdditionalAction,{inputLegend:F(".activateButtonText"),onClick:()=>E(T,I,x,N.current,t,Ee),narrationText:F(".narrationActivateButton"),gamepadAlias:SX("activate",T)},r.createElement(rT.Cell,{align:"center"},r.createElement(pu,{src:uX,className:pX.addIcon,imageRendering:"pixelated"}),r.createElement(Vi,{size:1}),r.createElement(Zi,{className:pX.additionalActionTextWrapper,align:"center",type:"captionTiny",overflowEllipsis:!0},F(".activateButtonText"))))))))),r.createElement(TX,{size:x,description:O,onClickMoreDetails:()=>h("string"==typeof T?T:""),onClickTechnicalDetails:oe,expanded:z,hideMarketplaceLink:B,hideSize:B,outerRole:u,innerRole:d,showTechnicalDetailsLink:v&&T!=kX})))}function TX({expanded:e,description:t,size:a,onClickMoreDetails:n,onClickTechnicalDetails:o,hideMarketplaceLink:c,hideSize:i,outerRole:s,innerRole:u,showTechnicalDetailsLink:d=!1}){const m=(0,r.useRef)(null),{t:p}=ws("PackListItem"),[f,g]=Ow(e),E=(0,l.useFacetMap)((e=>!e),[],[e]),b=Yr(s),h=Yr(u),v=(0,l.useFacetMap)(((e,t,a)=>[a?null:e,t].filter(wX).join(" . ")),[],[a,t,i]);return r.createElement(bd,{text:v},r.createElement(uu,{containerRef:m,delegateFocusFromMemory:!0},r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()(pX.expandableWrapper,b.background.base,{[pX.expanded]:e})),[b],[e]),ref:m,style:f},r.createElement(Sr,{role:u},r.createElement("div",{ref:g},r.createElement(Wi.Maybe,{narrationText:!1,isInteractive:c,className:dl()(pX.expandableContent,h.background.base,h.border.base),classNameFocused:Ws,disabled:E},r.createElement(Bs,null),r.createElement(Vi,{size:3}),r.createElement("div",{className:pX.expandableContentWrapper},r.createElement("div",{className:pX.expandableContentDescription},r.createElement(Zi,{type:"captionLong"},t),r.createElement(Vi,{size:3}),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(Zi,{type:"captionLong"},r.createElement(MO,{disabled:E,onClick:n,withUnderlinePolyfill:!0},p(".descriptionMarketplaceLink"))))),r.createElement("div",{className:pX.expandableContentLinksWrapper},r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Zi,{type:"captionShort",variant:"dimmer"},a)),d&&r.createElement(r.Fragment,null,r.createElement("div",null),r.createElement(Zi,{type:"captionLong"},r.createElement(MO,{onClick:o,withUnderlinePolyfill:!0,disabled:E},p(".descriptionTechnicalDetailsLink")))))),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(Vi,{size:3}))),r.createElement(Vi,{size:3}))))))}function IX({pack:e,index:t,containerListLength:a,role:n="neutral"}){const o=MX(e),c=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.id),[],[o])),i=(0,l.useFacetMap)((e=>e.name),[],[o]),s=(0,l.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:mX),[],[o]),{t:u}=ws("PackListItem"),d=(0,l.useFacetMap)(((e,a)=>[e,u(".narrationComponentType"),a>0?u(".narrationListLengthContext",[`${t+1}`,`${a}`]):void 0,u(".narrationDeactivatedState")].filter(wX).join(" . ")),[u,t],[i,(0,l.useFacetWrap)(null!=a?a:0)]),m=Yr(n),p=Ln();return c==l.NO_VALUE?null:r.createElement(bd,{text:d,key:c},r.createElement(rT,{isFocusable:p},r.createElement(Vi,{size:2}),r.createElement(rT.Cell,null,r.createElement(pu,{src:s,className:dl()(pX.disabledPackImage,m.border.base,pX.border)})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body",variant:"dimmer"},r.createElement(ji,null,i)))))}function xX(e){return function(e){var t;return null!==(t=e.deactivated)&&void 0!==t&&t}(e)?r.createElement(IX,e):r.createElement(PX,e)}function OX(){}const AX=e=>r.createElement(xX,{showTechnicalDetailsLink:e.showTechnicalDetailsLink,pack:e.pack,index:e.index,draggable:e.draggable,expandedPackId:e.expandedId,removable:e.isNotLockedTemplate,containerListLength:e.length,onDragStart:e.onDragStart,onDrop:e.onDrop,onExpand:e.onExpand,onRemove:e.onRemove,canShowSettingsButton:e.canShowSettingsButton,onClickPackSettings:e.onClickPackSettings,onClickMoreDetails:e.onClickMoreDetails});function NX(e){const t=(0,l.useFacetMap)((e=>e.length),[],[e.packsFacet]);return r.createElement(l.Map,{array:e.packsFacet},((a,n)=>r.createElement(AX,{pack:a,showTechnicalDetailsLink:e.showTechnicalDetailsLink,length:t,index:n,draggable:e.draggable,expandedId:e.expandedId,onDragStart:e.onDragStart,onDrop:e.onDrop,onExpand:e.onExpand,onRemove:e.onRemove,canShowSettingsButton:e.canShowSettingsButton,onClickPackSettings:e.onClickPackSettings,onClickMoreDetails:e.onClickMoreDetails,isNotLockedTemplate:e.isNotLockedTemplate})))}const RX=e=>{var t;const{gamepadAliasNamespace:a,path:n,narrationTitle:l}=e,{t:o}=ws("PackTabs"),c=Cl(),i=(0,r.useContext)(eA),s=Ml(),u=[{label:o(".activeTabButtonLabel"),value:"active"},{label:o(".availableTabButtonLabel"),value:"available"}],d=Pe(),m=cG(i,null!==(t=s.id)&&void 0!==t?t:"");return r.createElement(_k,{gamepadAliasNamespace:a,value:s.worldTemplateId,onChange:e=>{d(_k.getFocusAlias(a,e)),c.replace(`/${m}/${n}/${e}`)},tabs:u,enableGamepadShortcuts:s.tab===n,narrationTitle:l})};function LX({component:e,filter:t}){const a=Ml().worldTemplateId===t,n=ml(),o=(0,l.useFacetMap)((e=>a&&e),[a],[n]);return r.createElement(L,{value:o},r.createElement(Fl,{visible:a,contentComponent:e,unmountOnExit:!1,inlineLayout:!0}))}function DX(){return(0,r.useMemo)((()=>{const e=(0,l.createFacet)({initialValue:!1});return{closeExpanded:()=>e.set(!1),toggleExpanded:t=>e.setWithCallback((e=>e!=t&&t)),expandedId:e}}),[])}const _X=(e,t,a,n,r,o)=>{const c=(0,l.useFacetMap)((e=>e.length>1),[],[e]);return{isDraggable:(0,l.useFacetMap)(((e,t)=>e&&!t),[],[c,r]),changePackPriority:(0,l.useFacetCallback)((()=>(e,a,n)=>{o&&o(e,t,a,n)}),[t,o],[]),dragStartHandler:(0,l.useFacetCallback)((e=>t=>{!1===e?t():(n(),setTimeout((()=>{t()}),200))}),[n],[a])}},BX=a.p+"assets/marketplace-icon-7f96f4cc707cc09a7b56.png";function WX({titleText:e,bodyText:t,onClick:a}){const{t:n}=ah("GetMoreButton"),o=Yr("neutral"),c=(0,l.useFacetWrap)(t),i=(0,l.useFacetMap)((t=>`${e} . ${n(".buttonNarration")} , ${t}`),[n,e],[c]);return r.createElement(qd,{delayedClick:!0,inputLegend:n(".inputLegend"),narrationText:i,onClick:a,variant:"neutral",reflection:"bevel"},r.createElement("div",{className:"d36ff486db55a68a8e0d"},r.createElement(pu,{src:BX,className:"f00ff35fb2a664c3bbbf",imageRendering:"pixelated"}),r.createElement(Vi,{size:3}),r.createElement("div",{className:dl()("bb0f97e31104c3eeb64b",o.text.base)},r.createElement(Zi,{type:"body"},e),r.createElement(Zi,{variant:"dimmer",type:"captionShort"},t))))}const UX="leaving-cnw-for-marketplace-modal-cancel",zX=As((({onAccept:e})=>{const{t}=ws("CreateNewWorld.leavingCNWForMarketplaceModal"),a=Os();return r.createElement($m.Overlay,{onClick:a},r.createElement($m,{defaultFocusAlias:UX},r.createElement($m.Header,{onClose:a},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".message"),center:!0},t(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:UX,inputLegend:t(".cancel"),variant:"secondary",onClick:a},t(".cancel")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:t(".continue"),variant:"primary",onClick:()=>{e(),a()}},t(".continue")))))}));function jX(e){const t=Cl(),a=zX.useShowModal(),n=Ln();return(0,l.useFacetCallback)((r=>l=>{function o(){t.push(`/marketplace?packId=${l.substring(0,36)}`),r.fireEventButtonPressed(e,{})}n?a({onAccept:o}):o()}),[t,a,n,e],[(0,l.useSharedFacet)(Hv)])}const HX=a.p+"assets/marketplace-pass-promotion-static-b15b818c59e505d43eb9.png",GX=a.p+"assets/minecraft-texture-pack-4c96be5bfdd5a55edf09.png",VX="tab-bar-cnw-rp-available",$X="empty-local-active-rp",XX="empty-available-rp",KX="empty-realms-plus-rp";function YX({worldPacks:e,resourcePacksData:t,isEditorWorld:a,isLockedTemplate:n,onClickPackMoreDetails:l,onClickPackSettings:o,onChangePackPriority:c}){return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(Uu,null,r.createElement(Ok,null,r.createElement(JX,{worldPacks:e,isEditorWorld:a,isLockedTemplate:n,onClickPackMoreDetails:l,onClickPackSettings:o,onChangePackPriority:c}))),r.createElement(Vi,{size:6}),r.createElement(Uu,null,r.createElement(QX,{worldPacks:e,resourcePacksData:t,onClickPackMoreDetails:l})),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))),[e,a,n,l,o,c,t]))}const qX=e=>({id:kX,contentId:kX,name:e(".globalMinecraftPackTitle"),creator:"Minecraft",description:e(".globalMinecraftPackDescription"),size:"n/a",image:GX,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1});function QX({worldPacks:e,resourcePacksData:t,onClickPackMoreDetails:a}){const{t:n}=ah("CreateNewWorld.resourcePacks"),o=(0,l.useFacetMap)((e=>e.globalTexturePacks),[],[e]),{toggleExpanded:c,expandedId:i}=DX(),s=(0,l.useFacetMap)((e=>e.sharedPacksEnabled),[],[t]),u=!0===(0,l.useFacetUnwrap)(s),d=(0,l.useFacetMap)((e=>0===e.length?1:e.length+1),[],[o]),m=(0,l.useFacetUnwrap)(d),p=m===l.NO_VALUE?0:m-1;return r.createElement(bd,{text:n(".narrationGlobalPacksHeader")},r.createElement(aP,{role:"neutral",label:n(".globalPacksListHeader")}),r.createElement(l.Map,{array:o},((e,t)=>u?r.createElement(xX,{containerListLength:d,deactivated:!0,pack:e,index:t}):r.createElement(xX,{pack:e,containerListLength:d,showTechnicalDetailsLink:!0,index:t,expandedPackId:i,onExpand:c,canShowSettingsButton:!1,onClickMoreDetails:a}))),r.createElement(xX,{showTechnicalDetailsLink:!0,containerListLength:d,pack:(0,l.useFacetWrap)(qX(n)),index:p,expandedPackId:i,onExpand:c,onClickMoreDetails:a}),r.createElement(lX,{text:n(".globalPacksInfoMessage")}))}function JX({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a,onClickPackSettings:n,onChangePackPriority:o,role:c="neutral"}){const{t:i}=ah("CreateNewWorld.resourcePacks"),s=Yr(c),u=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),d=(0,l.useFacetMap)((e=>e.length<1),[],[u]),m=(0,l.useFacetMap)((e=>e.length>1),[],[u]),{expandedId:p,toggleExpanded:f,closeExpanded:g}=DX(),{isDraggable:E,changePackPriority:b,dragStartHandler:h}=_X(u,BF.Resource,p,g,t,o),{deactivatePack:v}=oK(),F=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(bd,{text:i(".narrationActiveLocalPacksHeader")},r.createElement(aP,{role:"neutral",label:i(".localPacksListHeader")}),r.createElement(l.Mount,{when:d},r.createElement(aw,{gamepadAlias:$X,title:i(".emptyLocalActivePacksMessageTitle"),text:i(".emptyLocalActivePacksMessageDescription")})),r.createElement("div",{className:"c90f183bbe3b3ac5d09d"},r.createElement("div",{className:dl()("b43e9784720fcfe39b8f",s.background.base)}),r.createElement(l.Mount,{when:d,condition:!1},r.createElement(CX.Provider,{value:"active"},r.createElement(NX,{showTechnicalDetailsLink:!0,packsFacet:u,draggable:E,expandedId:p,onDragStart:h,onDrop:b,onExpand:f,onRemove:v,onClickMoreDetails:a,onClickPackSettings:n,canShowSettingsButton:!0,isNotLockedTemplate:F})))),r.createElement(l.Mount,{when:t,condition:!1},r.createElement(l.Mount,{when:m},r.createElement(lX,{text:i(".packPriorityInfoMessage")}))),r.createElement(l.Mount,{when:t},r.createElement(lX,{text:i(".changesDisabledMessage")})))}const ZX=({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a})=>{const{t:n}=ah("CreateNewWorld.resourcePacks"),{toggleExpanded:o,expandedId:c}=DX(),i=(0,l.useSharedFacet)(yF),s=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),u=(0,l.useFacetMap)((e=>e.availableTexturePacks),[],[e]),d=(0,l.useFacetMap)((e=>e.length<1),[],[u]),m=(0,l.useFacetMap)((e=>e.length),[],[u]),p=(0,l.useFacetMap)((e=>e.length>0),[],[s]),f=(0,l.useFacetMap)((e=>n(e?".activatedAllPacksMessageTitle":".userOwnsNoPacksMessageTitle")),[n],[p]),g=(0,l.useFacetMap)((e=>n(e?".activatedAllPacksMessageDescription":".userOwnsNoMessageDescription")),[n],[p]),E=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[t,i]),{activatePack:b}=oK();return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(Yw,{label:n(".inactivePacksAccordionHeader"),count:m,narrationHint:n(".inactivePacksAccordionHint"),onExpandNarrationHint:n(".inactivePacksOnExpandAccordionHint"),expandedDefaultState:!1},r.createElement(l.Mount,{when:d},r.createElement(aw,{gamepadAlias:XX,title:f,text:g})),r.createElement(CX.Provider,{value:"available"},r.createElement(l.Map,{array:u},((e,t)=>r.createElement(xX,{containerListLength:m,activatable:E,onActivate:b,pack:e,index:t,expandedPackId:c,onExpand:o,onClickMoreDetails:a})))),r.createElement(Vi,{size:3})),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))),[n,m,d,f,g,u,E,b,c,o,a]))},eK=({})=>{const{t:e}=ah("CreateNewWorld.resourcePacks"),t=p(),a=Ln(),n=zX.useShowModal(),o=(0,l.useSharedFacet)(rh),c=(0,l.useSharedFacet)(Hv),i=e(".getMoreButton.title"),s=e(".getMoreButton.body"),u=(0,l.useFacetCallback)(((e,r)=>()=>{function l(){r.fireEventButtonPressed("Get_More_Packs_Button_OreUI",{});const a=e.getMorePacks?`?title=${e.getMorePacks.title}&pageId=${e.getMorePacks.pageId}`:"";t.push(`/marketplace${a}`)}a?n({onAccept:l}):l()}),[t,a,n],[o,c]);return r.createElement(WX,{titleText:i,bodyText:s,onClick:u})},tK=({worldPacks:e,isEditorWorld:t,isLockedTemplate:a,onClickPackMoreDetails:n})=>{const o=(0,l.useFacetMap)((e=>!e),[],[t]),{toggleExpanded:c,expandedId:i}=DX();return(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(ZX,{worldPacks:e,isEditorWorld:t,isLockedTemplate:a,onClickPackMoreDetails:n}),r.createElement(nK,{worldPacks:e,isEditorWorld:t,isLockedTemplate:a,expandedId:i,toggleExpanded:c,onClickPackMoreDetails:n}),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:o},r.createElement(eK,null)))),[e,t,a,n,i,c,o])};tK.DefaultContent=ZX,tK.MarketplaceGetMore=eK;const aK=tK;function nK({worldPacks:e,isEditorWorld:t,isLockedTemplate:a,expandedId:n,toggleExpanded:o,onClickPackMoreDetails:c}){const{t:i}=ah("CreateNewWorld.resourcePacks"),s=(0,l.useSharedFacet)(FF),u=(0,l.useFacetMap)(((e,t)=>e.realmsPlusSupported&&!t),[],[e,t]),d=(0,l.useFacetMap)((e=>e.isRealmsPlusSubscriptionActive||e.isMarketplacePassSubscriptionActive),[],[s]),m=(0,l.useFacetMap)((e=>!e.isMarketplacePassSubscriptionActive&&!e.isRealmsPlusSubscriptionActive),[],[s]),p=(0,l.useFacetMap)((e=>e.realmsTexturePacks),[],[e]),f=(0,l.useFacetMap)((e=>e.length<=0),[],[p]),g=(0,l.useFacetMap)(((e,t)=>t?e.length:"100+"),[],[p,d]),E=(0,l.useFacetMap)((e=>!e),[],[a]),{activatePack:b}=oK();return r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:u},r.createElement(Yw,{label:i(".marketplacePassPacksAccordionHeader"),count:g,narrationHint:i(".marketplacePassPacksAccordionHint"),onExpandNarrationHint:i(".marketplacePassPacksOnExpandAccordionHint"),expandedDefaultState:!1},r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:f},r.createElement(aw,{gamepadAlias:KX,title:i(".marketplacePassPacksEmptyTitle"),text:i(".marketplacePassPacksEmptyBody")})),r.createElement(CX.Provider,{value:"realms"},r.createElement(l.Map,{array:p},((e,t)=>r.createElement(xX,{activatable:E,onActivate:b,pack:e,index:t,expandedPackId:n,onExpand:o,onClickMoreDetails:c})))))),r.createElement(l.Mount,{when:m},r.createElement(rK,null)),r.createElement(Vi,{size:3}))))}function rK(){const{t:e}=ah("CreateNewWorld.resourcePacks"),t=Cl(),a=Nw({wide:8,narrow:6,width:256}),n=(0,l.useFacetMap)((e=>e?"a415ffa5564e2949095d":"dced4f4ae72ec7861b4a"),[],[a]);return r.createElement(aw,{title:e(".marketplacePassPromotionTitle"),text:e(".marketplacePassPromotionBody"),imgSrc:HX,imgClass:n,buttons:[{text:e(".marketplacePassPromotionButtonLabel"),inputLegend:e(".marketplacePassPromotionButtonInputLegend"),onClick:()=>t.push("/csb-pdp?tab=default")}]})}const lK=(0,r.createContext)({}),oK=()=>(0,r.useContext)(lK);function cK({worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onChangePackPriority:c,onClickPackSettings:i,onUnlockTemplateSettings:s}){const{t:u}=ah("CreateNewWorld.resourcePacks"),{t:d}=ah("CreateNewWorldSideMenu"),m=(0,l.useSharedFacet)(yF),p=(0,l.useFacetMap)((e=>e.resourcePacks),[],[t]),f=(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),g=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[t]),E=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),{activatePack:b,deactivatePack:h}=yX(BF.Resource,{active:{tabsAlias:"tab-bar-cnw-rp-active",emptyStateMessageAlias:$X},available:{tabsAlias:VX,emptyStateMessageAlias:XX},realms:{tabsAlias:VX,emptyStateMessageAlias:KX}},e,f,n,o),v=(0,l.useFacetMap)(((e,t)=>e||t.isTrialAccount),[],[g,(0,l.useSharedFacet)(FF)]),F=(0,r.useMemo)((()=>({activatePack:b,deactivatePack:h})),[b,h]),y=jX("Resource_Pack_More_Details_Button_OreUI"),S=(0,l.useFacetMap)((e=>e.sharedPacksEnabled),[],[p]),C=(0,l.useFacetMap)((e=>e),[],[m]),M=(0,r.useRef)(!0),w=(0,l.useFacetCallback)((e=>t=>{e.sharedPacksEnabled=t}),[],[p]),k=(0,r.useCallback)((()=>r.createElement(YX,{worldPacks:e,resourcePacksData:p,isEditorWorld:a,isLockedTemplate:g,onClickPackSettings:i,onClickPackMoreDetails:y,onChangePackPriority:c})),[e,p,a,g,i,y,c]),P=(0,r.useCallback)((()=>r.createElement(aK,{worldPacks:e,isEditorWorld:a,isLockedTemplate:g,onClickPackMoreDetails:y})),[e,a,g,y]);return(0,l.useFacetEffect)(((e,t)=>{e&&!M.current&&t.queueSnackbar(u(".globalPacksDeactivatedSnackbarMessage")),M.current=!1}),[u],[S,(0,l.useSharedFacet)(dh)]),r.createElement(l.Unwrap,{data:C},(e=>r.createElement(r.Fragment,null,e?r.createElement(nA,{context:tA.RESOURCE_PACKS_TAB}):r.createElement(lK.Provider,{value:F},r.createElement(Wu,null,r.createElement(aV,{isEditorWorld:a,nestedRoutes:!0,narrationText:d(".resourcePacksTabLabel"),onUnlockTemplateSettings:s,addonStackingWarningEnabled:E},r.createElement(Uu,null,r.createElement(Vw,{disabled:v,title:u(".sharedPacksTitle"),description:u(".sharedPacksDescription"),onNarrationText:u(".sharedPacksDeactivatingGlobalPacks"),offNarrationText:u(".sharedPacksActivatingGlobalPacks"),onChange:w,value:S})),r.createElement("div",{className:"b4fbedfd3180dace926d"},r.createElement(RX,{gamepadAliasNamespace:"cnw-rp",path:"resource-packs",narrationTitle:d(".resourcePacksTabLabel")}),r.createElement(Vi,{size:2}),r.createElement(LX,{component:k,filter:"active"}),r.createElement(LX,{component:P,filter:"available"}),r.createElement(Vi,{size:2}))))))))}cK.AvailableTab=aK;const iK=a.p+"assets/empty-state-art-cd6d3b45f26eafa460d2.png",sK="empty-active-bp",uK="empty-available-bp";function dK({worldPacks:e,isLockedTemplate:t,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:l}){return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(Ok,null,r.createElement(mK,{isLockedTemplate:t,worldPacks:e,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:l}))),[t,a,e,n,l]),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function mK({role:e="neutral",worldPacks:t,isLockedTemplate:a,onChangePackPriority:n,onClickPackMoreDetails:o,onClickPackSettings:c}){const{t:i}=ah("CreateNewWorld.behaviorPacks"),{toggleExpanded:s,expandedId:u,closeExpanded:d}=DX(),m=Yr(e),{deactivatePack:p}=gK(),f=(0,l.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]),g=(0,l.useFacetMap)((e=>e.length<1),[],[f]),E=(0,l.useFacetMap)((e=>e.length>1),[],[f]),b=(0,l.useFacetMap)((e=>!e),[],[a]),{isDraggable:h,changePackPriority:v,dragStartHandler:F}=_X(f,BF.Behavior,u,d,a,n);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement(aw,{gamepadAlias:sK,title:i(".emptyLocalActivePacksMessageTitle"),text:i(".emptyLocalActivePacksMessageDescription")})),r.createElement("div",{className:"b89475bcdbea2d497088"},r.createElement("div",{className:dl()("f742098bbe3c81ffda2d",m.background.base)}),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(CX.Provider,{value:"active"},r.createElement(NX,{showTechnicalDetailsLink:!0,packsFacet:f,draggable:h,expandedId:u,onDragStart:F,onDrop:v,onExpand:s,onRemove:p,onClickMoreDetails:o,onClickPackSettings:c,canShowSettingsButton:!0,isNotLockedTemplate:b})))),r.createElement(l.Mount,{when:a,condition:!1},r.createElement(l.Mount,{when:E},r.createElement(lX,{text:i(".packPriorityInfoMessage")}))),r.createElement(l.Mount,{when:a},r.createElement(lX,{text:i(".changesDisabledMessage")})))}function pK({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a}){const{t:n}=ah("CreateNewWorld.behaviorPacks"),{toggleExpanded:o,expandedId:c}=DX(),{activatePack:i}=gK(),s=(0,l.useFacetMap)((e=>e.availableBehaviorPacks),[],[e]),u=(0,l.useFacetMap)((e=>e.length<1),[],[s]),d=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u},r.createElement(aw,{gamepadAlias:uK,title:n(".activatedAllPacksMessageTitle"),text:n(".activatedAllPacksMessageDescription")})),r.createElement(CX.Provider,{value:"available"},r.createElement(l.Map,{array:s},((e,t)=>r.createElement(xX,{activatable:d,onActivate:i,pack:e,index:t,expandedPackId:c,onExpand:o,onClickMoreDetails:a})))))),[n,s,u,d,i,c,o,a]),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}const fK=(0,r.createContext)({}),gK=()=>(0,r.useContext)(fK),EK=({worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onChangePackPriority:c,onClickPackSettings:i,onUnlockTemplateSettings:s})=>{const u=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>0||e.availableBehaviorPacks.length>0),[],[e]);return r.createElement(vK,{worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onUnlockTemplateSettings:s},r.createElement(Uu,null,r.createElement(l.Mount,{when:u,condition:!0},r.createElement(bK,{worldPacks:e,worldData:t,onChangePackPriority:c,onClickPackSettings:i}))),r.createElement(Uu,null,r.createElement(l.Mount,{when:u,condition:!1},r.createElement(hK,null))))},bK=({worldPacks:e,worldData:t,onChangePackPriority:a,onClickPackSettings:n})=>{const{t:o}=ah("CreateNewWorldSideMenu"),c=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[t]),i=jX("Resource_Pack_More_Details_Button_OreUI");return r.createElement("div",{className:"d27edd8c8c65e324fce1"},r.createElement(RX,{gamepadAliasNamespace:"cnw-bp",path:"behavior-packs",narrationTitle:o(".behaviorPacksTabLabel")}),r.createElement(Vi,{size:2}),r.createElement(LX,{component:()=>r.createElement(dK,{worldPacks:e,isLockedTemplate:c,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:i}),filter:"active"}),r.createElement(LX,{component:()=>r.createElement(pK,{worldPacks:e,isLockedTemplate:c,onChangePackPriority:a,onClickPackMoreDetails:i}),filter:"available"}),r.createElement(Vi,{size:2}))},hK=({})=>{const{t:e}=ah("CreateNewWorld.behaviorPacks"),t=Aw({wide:8,narrow:5,width:260})?"e2d99573959487a72621":"f92d31dcd603b9b6380d";return r.createElement(aw,{gamepadAlias:sK,title:e(".noPacksAvailableTitle"),text:e(".noPacksAvailableBody"),imgSrc:iK,borderless:!0,imgClass:t})},vK=({worldPacks:e,worldData:t,isEditorWorld:a,onActivatePack:n,onDeactivatePack:o,onUnlockTemplateSettings:c,children:i})=>{const{t:s}=ah("CreateNewWorldSideMenu"),u=(0,l.useSharedFacet)(yF),d=(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),m=(0,l.useFacetMap)((e=>e),[],[u]),p=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),f=yX(BF.Behavior,{active:{tabsAlias:"tab-bar-cnw-bp-active",emptyStateMessageAlias:sK},available:{tabsAlias:"tab-bar-cnw-bp-available",emptyStateMessageAlias:uK}},e,d,n,o);return r.createElement(l.Unwrap,{data:m},(e=>r.createElement(r.Fragment,null,e?r.createElement(nA,{context:tA.BEHAVIOR_PACKS_TAB}):r.createElement(fK.Provider,{value:f},r.createElement(Wu,null,r.createElement(aV,{nestedRoutes:!0,narrationText:s(".behaviorPacksTabLabel"),onUnlockTemplateSettings:c,isEditorWorld:a,addonStackingWarningEnabled:p},i))))))};EK.Wrapper=vK,EK.BehaviorPacksFields=bK,EK.EmptyPacksFields=hK;const FK=EK;function yK({onUnlockTemplateSettings:e,onExportTemplate:t,onClearPlayerData:a,isEditorWorld:n}){const o=(0,l.useSharedFacet)(Fb),c=(0,l.useFacetMap)((({allBiomes:e})=>e),[],[o]),i=(0,l.useFacetMap)((({spawnDimensionId:e})=>e),[],[o]),s=(0,l.useFacetMap)((e=>function(e,t){const a=[];for(let t=0;t<e.length;t++)a[t]={label:(n=e[t]).label,dimension:n.dimension,value:n.id};var n;return a}(e)),[],[c]),u=(0,l.useFacetMap)(((e,t)=>aI(e,(e=>e.dimension===t))),[],[s,i]),d=(0,l.useFacetMap)((e=>e.spawnBiomeId),[],[o]),m=(0,l.useFacetMap)((e=>e.defaultSpawnBiome||e.isBiomeOverrideActive),[],[o]),p=(0,l.useSharedFacet)(_l),f=(0,l.useFacetMap)((e=>AI(e.platform)),[],[p]),g=(0,r.useContext)(eA)!==ZO.CREATE,E=(0,l.useFacetMap)((e=>e&&g),[g],[f]);return r.createElement(Wu,null,r.createElement(aV,{narrationText:"Debug",onUnlockTemplateSettings:e,isEditorWorld:n},r.createElement(Uu,null,r.createElement(Vw,{title:"Flat nether",value:(0,l.useFacetMap)((e=>e.flatNether),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.flatNether=t}),[],[o])})),r.createElement(Uu,null,r.createElement(Vw,{title:"Enable game version override",value:(0,l.useFacetMap)((e=>e.enableGameVersionOverride),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.enableGameVersionOverride=t}),[],[o])})),r.createElement(Uu,null,r.createElement(dk,{label:"Game version override",placeholder:"0.0.0",maxLength:30,disabled:(0,l.useFacetMap)((e=>!e.enableGameVersionOverride),[],[o]),value:(0,l.useFacetMap)((e=>e.gameVersionOverride),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.gameVersionOverride=t}),[],[o])})),r.createElement(Uu,null,r.createElement(wH,{title:"World biome settings"})),r.createElement(Vw,{title:"Default spawn biome",description:"Using the default spawn biome will mean a random overworld spawn is selected",disabled:(0,l.useFacetMap)((e=>e.isBiomeOverrideActive),[],[o]),value:(0,l.useFacetMap)((e=>e.defaultSpawnBiome),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.defaultSpawnBiome=t}),[],[o])}),r.createElement(Uu,null,r.createElement($R,{onMountComplete:ju(),title:"Spawn dimension filter",disabled:m,wrapToggleText:!0,options:[{label:"Overworld",value:0},{label:"Nether",value:1}],value:i,onChange:(0,l.useFacetCallback)((e=>t=>{e.spawnDimensionId=t}),[],[o])})),r.createElement(Uu,null,r.createElement(jR,{title:"Spawn biome",options:u,onItemSelect:(0,l.useFacetCallback)((e=>t=>e.spawnBiomeId=t),[],[o]),disabled:m,value:(0,l.useFacetMap)(((e,t)=>t.filter((t=>t.value===e)).length>0?e:t[0].value),[],[d,u]),focusOnSelectedItem:!0})),r.createElement(Vw,{title:"Biome override",description:"Set the world to a selected biome. This will override the Spawn biome!",value:(0,l.useFacetMap)((e=>e.isBiomeOverrideActive),[],[o]),onChange:(0,l.useFacetCallback)((e=>t=>{e.isBiomeOverrideActive=t}),[],[o])}),r.createElement(jR,{title:"Biome override",description:"Select biome to be used in the entire world",options:s,disabled:(0,l.useFacetMap)((e=>!e.isBiomeOverrideActive),[],[o]),onItemSelect:(0,l.useFacetCallback)((e=>t=>{e.biomeOverrideId=t}),[],[o]),value:(0,l.useFacetMap)((e=>e.biomeOverrideId),[],[o]),focusOnSelectedItem:!0}),r.createElement(l.Mount,{when:E},r.createElement(SK,{onExportTemplate:t,onClearPlayerData:a}))))}const SK=({onExportTemplate:e,onClearPlayerData:t})=>{const{t:a}=ah("EditWorld.exportWorldFlow");return r.createElement(Ud,null,r.createElement(Zi,{type:"sectionHeader"},"File management"),r.createElement(Vi,{size:4}),r.createElement(lm,{variant:"secondary",onClick:t,inputLegend:"Clear player data"},a(".clearPlayerDataTitle")),r.createElement(Vi,{size:4}),r.createElement(lm,{variant:"secondary",onClick:e,inputLegend:"Export","data-testid":"debug-export-template-button"},a(".exportLabel")))},CK="cnw-bfw-cancel",MK=As((()=>{const{t:e}=ws("CreateNewWorld.experimentalFeatures"),t=()=>{Eb.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1})},a=(0,l.useFacetCallback)((e=>e.doSetToggleValue),[],[Eb]),n=e(".activateExperimentsConfirmationDescriptionPart1"),o=e(".activateExperimentsConfirmationDescriptionPart2");return r.createElement($m,{defaultFocusAlias:CK},r.createElement($m.Header,{onClose:t},e(".activateExperimentsConfirmationTitle")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:`${n} ${o}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong"},n),r.createElement(Zi,{type:"captionLong"},o))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",gamepadAlias:CK,inputLegend:e(".activateExperimentsConfirmationCancelInputLegend"),onClick:t},e(".activateExperimentsConfirmationCancel")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:e(".activateExperimentsConfirmationConfirmInputLegend"),onClick:()=>{a(),Eb.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!0})}},e(".activateExperimentsConfirm"))))}));function wK(e){return(0,l.useFacetMap)((e=>e.isHardcore),[],[e])}function kK(e){const t=(0,l.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[e]);return(0,l.useFacetMap)(((e,t)=>t.userTriedToActivateToggle&&e),[],[t,Eb])}function PK({worldPacks:e,onActivatePack:t,onDeactivatePack:a,onChangePackPriority:n,onClickPackSettings:o,onUnlockTemplateSettings:c,worldSummary:i,isEditorWorld:s,onMakeWorldInfinite:u,onDuplicateWorld:d,onDeleteWorld:m,onExportWorld:p,onExportTemplate:f,onOptOut:g,onClearPlayerData:E,onSeedValueChange:b=(()=>{}),onWorldPreviewPathChange:h=(()=>{}),isSeedChangeLocked:v}){const F=jG();return(0,l.useFacetMap)((e=>e.general),[],[F]),(0,l.useFacetMap)((e=>e.advanced),[],[F]),(0,l.useFacetMap)((e=>e.cheats),[],[F]),r.createElement(r.Fragment,null,r.createElement(tk,{tab:"general"},r.createElement(yV,{worldSummary:i,isEditorWorld:s,onUnlockTemplateSettings:c,onMakeWorldInfinite:u,onDuplicateWorld:d,onDeleteWorld:m,onExportWorld:p,onOptOut:g,worldData:F})),r.createElement(tk,{tab:"experimental"},r.createElement(OV,{worldData:F,isEditorWorld:s,onUnlockTemplateSettings:c})),r.createElement(tk,{tab:"cheats"},r.createElement(zV,{worldData:F,isEditorWorld:s,onUnlockTemplateSettings:c})),r.createElement(tk,{tab:"advanced"},r.createElement(j$,{worldData:F,isEditorWorld:s,isSeedChangeLocked:v,onUnlockTemplateSettings:c,onSeedValueChange:b,onWorldPreviewPathChange:h})),r.createElement(tk,{tab:"multiplayer"},r.createElement(rX,{worldData:F,worldPacks:e,isEditorWorld:s,onDeactivatePack:a,onUnlockTemplateSettings:c})),r.createElement(tk,{tab:"resource-packs"},r.createElement(cK,{worldPacks:e,isEditorWorld:s,worldData:F,onActivatePack:t,onDeactivatePack:a,onChangePackPriority:n,onClickPackSettings:o,onUnlockTemplateSettings:c})),r.createElement(tk,{tab:"behavior-packs"},r.createElement(FK,{worldPacks:e,worldData:F,isEditorWorld:s,onActivatePack:t,onDeactivatePack:a,onChangePackPriority:n,onClickPackSettings:o,onUnlockTemplateSettings:c})),r.createElement(tk,{tab:"debug"},r.createElement(yK,{worldData:F,onUnlockTemplateSettings:c,onExportTemplate:f,isEditorWorld:s,onClearPlayerData:E})),null)}const TK=({worldData:e,worldPacks:t,worldPreviewImage:a,isEditorWorld:n,isPageLoading:o,renderPage:c,backButtonCallback:i,backButtonDisabled:s,onEditThumbnail:u,children:d,sideMenuButtons:m})=>{const{t:p}=ws("CreateNewWorld"),f=(0,r.useContext)(eA),g=(0,l.useFacetMap)((e=>f!==ZO.CREATE?p(".editTitle"):p((e?".editor":"")+".title")),[p,f],[n]),E=Rd(Lb),b=(0,l.useFacetMap)((e=>e.general),[],[e]),h=kK((0,l.useFacetMap)((e=>e.betaFeatures),[],[e])),v=wK(b),F=(0,l.useFacetMap)((e=>e.playerHasDied),[],[b]),y=(0,l.useFacetWrap)(null!=o&&o),S=(0,l.useFacetMap)((e=>e?[{label:".debugTabLabel",image:dG.DebugIcon,value:"debug"}]:[]),[],[(0,l.useSharedFacet)(ib)]),C=(0,r.useRef)(null);return r.createElement(l.Mount,{when:c},r.createElement(wk,null,r.createElement(ZN,{screenAnalyticsId:f!==ZO.CREATE?"Edit":"CreateNewWorld",onBack:i,disableBackButton:s,title:g,gamepadAlias:"cnw-layout-content",delegateByAlias:"cnw-side-menu",debugDrawer:f!==ZO.CREATE?[]:["create-test-world"],friendsDrawer:E},(()=>r.createElement(r.Fragment,null,r.createElement(zM,{noGutters:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(dG,{showSpinner:y,worldPreviewImage:a,worldPacks:t,isHardcoreMode:v,playerHasDied:F,sideMenuButtons:m,onEditThumbnail:u,additionalMenuItems:S})),r.createElement(zM.Column,{wideSize:8,narrowSize:5,innerRef:C},r.createElement(IK,{containerRef:C},d)))),r.createElement(l.Mount,{when:h},r.createElement(MK.Component,null)))))))},IK=({children:e,containerRef:t})=>{const a=zM.useColumnWidthPercentage()*window.innerWidth;return r.createElement($R.ContainerContextProvider,{containerRef:t,defaultWidthPx:a},e)},xK=({worldData:e,worldPacks:t,worldPreviewImage:a,onActivatePack:n,onDeactivatePack:l,onChangePackPriority:o,onClickPackSettings:c,onUnlockTemplateSettings:i,worldSummary:s,isEditorWorld:u,onMakeWorldInfinite:d,onDuplicateWorld:m,onDeleteWorld:p,onEditThumbnail:f,onExportWorld:g,onExportTemplate:E,onOptOut:b,onClearPlayerData:h,onSeedValueChange:v=(()=>{}),onWorldPreviewPathChange:F=(()=>{}),isSeedChangeLocked:y,isPageLoading:S,renderPage:C,backButtonCallback:M,backButtonDisabled:w,sideMenuButtons:k})=>r.createElement(TK,{worldData:e,worldPacks:t,worldPreviewImage:a,isEditorWorld:u,isPageLoading:S,renderPage:C,backButtonCallback:M,backButtonDisabled:w,sideMenuButtons:k,onEditThumbnail:f},r.createElement(PK,{worldPacks:t,onActivatePack:n,onDeactivatePack:l,onChangePackPriority:o,onClickPackSettings:c,onUnlockTemplateSettings:i,worldSummary:s,isEditorWorld:u,onMakeWorldInfinite:d,onDuplicateWorld:m,onDeleteWorld:p,onExportWorld:g,onExportTemplate:E,onOptOut:b,onClearPlayerData:h,onSeedValueChange:v,isSeedChangeLocked:y,onWorldPreviewPathChange:F}));xK.Wrapper=TK,xK.DefaultTabs=PK;const OK=xK,AK="achievements-permanently-disabled-back",NK=As((({onClose:e})=>{const{t}=ws("AchievementPermanentlyDisabledModal"),a=t(".description"),n=t(".reasonText"),l=[t(".creative"),t(".flat"),t(".cheats"),t(".permissions"),t(".experiments"),t(".trial"),t(".pack"),t(".template")];return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:AK},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a},a),r.createElement($m.Text,{narrationText:n},n),r.createElement($m.List,{items:l}),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:AK,inputLegend:t(".close"),variant:"secondary",onClick:e},t(".close"))))}));function RK({isEditorWorld:e}){const{t}=ws("WorldSettingsSideMenu"),a=(0,r.useContext)(eA)===ZO.CREATE,n=BH.useModal(),o=NK.useModal(),c=jG(),i=cV(),s=(0,l.useFacetMap)((e=>e.achievementsDisabled),[],[c]),u=(0,l.useFacetMap)((e=>e.achievementsPermanentlyDisabled),[],[c]),d=(0,l.useFacetMap)(((e,t,a,n)=>(e||a)&&!n&&!t),[],[s,(0,l.useSharedFacet)(yF),u,e]),m=(0,l.useFacetCallback)((e=>()=>{e?o.show():n.show()}),[n,o],[u]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d},r.createElement(tR.Item,null,r.createElement("div",{className:"b8a360005d14cba4e629"},r.createElement(Zi,{type:"body",align:"center"},r.createElement(LM.Information,{width:24,height:24}),r.createElement(Vi,{size:1}),r.createElement(MO,{onClick:m,"data-testid":"achievements-disabled",narrationSuffix:t(".achievementsDisabledNarration")},t(".achievementsDisabled")))))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(BH.Component,{onClose:n.hide,reasons:i,isEditWorld:!a})),r.createElement(l.Mount,{when:o.isVisible},r.createElement(NK.Component,{onClose:o.hide})))}const LK="realm-preview-subscription-needed-close",DK=As((({onClose:e})=>{const{t}=ws("RealmsPreviews.SubscriptionNeeded"),a=(0,l.useSharedFacet)(cb),n=t(".title"),o=(0,l.useFacetMap)((e=>e.isBetaBuild?t(".message.beta"):t(".message.preview")),[t],[a]);return r.createElement($m,{defaultFocusAlias:LK},r.createElement($m.Header,{onClose:e},n),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o},o)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:LK,inputLegend:t(".select"),variant:"secondary",onClick:e},t(".close"))))})),_K=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",BK=As((()=>{const{t:e}=ws("EditWorld.exportingWorldModal");return r.createElement($m,null,r.createElement($m.Header,null,e(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:e(".content")},e(".content"))))}));function WK(){const e=(0,l.useSharedFacet)(IF),t=(0,l.useFacetMap)((e=>e.worldData),[],[e]);return{generalData:(0,l.useFacetMap)((e=>e.general),[],[t]),multiplayerData:(0,l.useFacetMap)((e=>e.multiplayer),[],[t]),worldData:t}}const UK=As((()=>{const{generalData:e}=WK(),t=(0,l.useFacetMap)((e=>e.worldName),[],[e]),{t:a}=ws("CreateNewWorld.duplicateWorld"),n=(0,l.useFacetMap)((e=>a(".header",[e])),[a],[t]);return r.createElement($m,null,r.createElement($m.Header,null,n),r.createElement($m.Content,null,r.createElement($m.Spinner,null)))})),zK=As((({clearPlayerData:e,closeModal:t})=>{const{t:a}=ws("EditWorld.clearPlayerDataModal"),n=(0,r.useCallback)((()=>{null!=e&&e(NF.IncludeLocalUser),t()}),[e,t]),l=(0,r.useCallback)((()=>{null!=e&&e(NF.SkipLocalUser),t()}),[e,t]);return r.createElement($m,{onOverlayClick:t},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".descriptionOne"),center:!0},a(".descriptionOne")),r.createElement($m.Text,{narrationText:a(".descriptionTwo"),center:!0},a(".descriptionTwo"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".allButton"),onClick:n},a(".allButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".keepButton"),onClick:l},a(".keepButton"))))})),jK="lyc-modal-continue",HK=As((()=>{const e=Cl(),{t}=ws("CreateNewWorld.editWorldErrorModal"),a=(0,l.useSharedFacet)(IF),n=(0,l.useSharedFacet)(_F),o=(0,l.useFacetMap)((e=>e.loadWorldError),[],[a]),c=(0,l.useFacetMap)(((e,t)=>null!=t.duplicateWorldError?t.duplicateWorldError:null!=e.saveLocalWorldError?e.saveLocalWorldError:void 0),[],[a,n]),i=(0,l.useFacetMap)(((e,t)=>null!=e||null!=t),[],[o,c]),s=(0,l.useFacetMap)(((e,t,a)=>{if(!a)return null;switch(e){case kF.IncorrectWorldId:case kF.UnexpectedError:return"unexpected"}switch(t){case TF.IncorrectWorldId:case TF.UnableToCreateWorldDirectoryPath:return"unexpected";case TF.InsufficientDiskSpace:return"storage"}}),[],[o,c,i]),u=(0,l.useFacetMap)((e=>t("storage"===e?".storageError.title":".unexpectedError.title")),[t],[s]),d=(0,l.useFacetMap)((e=>t("storage"===e?".storageError.description":".unexpectedError.description")),[t],[s]),m=(0,l.useFacetCallback)(((t,a,n)=>()=>{null!=n?e.goBack():null!=a.duplicateWorldError?a.clearDuplicateWorldTaskState():null!=t.saveLocalWorldError&&t.clearSaveLocalWorldTaskState()}),[e],[a,n,o]);return r.createElement($m,{onOverlayClick:m,defaultFocusAlias:jK},r.createElement($m.Header,{onClose:m},u),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:d,center:!0},d)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:jK,inputLegend:t(".closeButton"),variant:"secondary",onClick:m},t(".closeButton"))))})),GK=As((()=>{const{t:e}=ws("CreateNewWorld.savingWorldModal");return r.createElement($m,null,r.createElement($m.Header,null,e(".header")),r.createElement($m.Content,null,r.createElement($m.Spinner,null)))})),VK=As((()=>{const e=(0,l.useSharedFacet)(_F),{t}=ws("CreateNewWorld.general"),a=(0,l.useFacetMap)((e=>e.makeWorldInfiniteProgress),[],[e]);return r.createElement($m,null,r.createElement($m.Header,null,t(".makingInfiniteWorldProgressModal")),r.createElement($m.Content,null,r.createElement($m.Progress,{percentage:a})))}));let $K;!function(e){e.EditWorldScreen="EditWorld",e.WorldEditingError="WorldEditingError",e.JoinRealmsError="JoinRealmsError",e.ResourcePackDownloadError="ResourcePacksDownloadError",e.UploadRealmsError="UploadRealmsError",e.UnexpectedLaunchError="UnexpectedLaunchError",e.MissingDependencies="MissingDependenciesError"}($K||($K={}));const XK="save-changes-modal-continue",KK=As((({saveChanges:e,closeModal:t,discardChanges:a})=>{const{t:n}=ws("EditWorld.saveChangesModal"),o=(0,l.useSharedFacet)(Hv),c=JT(),i=(0,l.useFacetCallback)((a=>()=>{t(),e(),a.fireEventOptionsChanged($K.EditWorldScreen),c({button:"SaveChanges",screen:$K.EditWorldScreen})}),[e,t,c],[o]),s=(0,l.useFacetCallback)((e=>()=>{a(),t(),e.discardTrackedOptions(),c({button:"DiscardChanges",screen:$K.EditWorldScreen})}),[a,t,c],[o]);return r.createElement($m,{onOverlayClick:t,defaultFocusAlias:XK},r.createElement($m.Header,{onClose:t},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".message")},n(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:XK,variant:"primary",inputLegend:n(".saveInputLegend"),onClick:i},n(".save")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".discardInputLegend"),onClick:s},n(".discard"))))})),YK="upload-realms-error-modal-back",qK=As((()=>{const{t:e}=ws("EditWorld.playOnRealmsErrorModal"),t=(0,l.useSharedFacet)(wv),a=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.uploadWorldToRealmError)&&void 0!==t?t:Mv.UnknownError}),[],[t]),n=(0,l.useFacetCallback)((e=>()=>e.clearUploadWorldToRealmTaskState()),[],[t]),o=(0,l.useFacetMap)((t=>{switch(t){case Mv.CrossPlatformRestricted:return{title:e(".crossPlatformRestricted.title"),firstParagraph:e(".crossPlatformRestricted.message"),secondParagraph:e(".crossPlatformRestricted.message2")};case Mv.TooManyRealms:return{title:e(".memberOfTooManyRealms.title"),firstParagraph:e(".memberOfTooManyRealms.message"),secondParagraph:""};case Mv.ActionAlreadyInProgress:case Mv.CannotSaveWorld:case Mv.Generic:case Mv.InvalidRealmName:case Mv.InvalidResponse:case Mv.InvalidWorldId:case Mv.UnknownError:default:return{title:e(".unknown.title"),firstParagraph:e(".unknown.message"),secondParagraph:e(".unknown.errorCode",[`${t}`])}}}),[e],[a]),c=(0,l.useFacetMap)((e=>e.title),[],[o]),i=(0,l.useFacetMap)((e=>e.firstParagraph),[],[o]),s=(0,l.useFacetMap)((e=>e.secondParagraph),[],[o]),u=(0,l.useFacetMap)((e=>""!=e.secondParagraph),[],[o]);return r.createElement($m,{onOverlayClick:n,defaultFocusAlias:YK},r.createElement($m.Header,{onClose:n},c),r.createElement($m.Content,null,r.createElement(l.Mount,{when:u,condition:!1},r.createElement($m.Text,{narrationText:i,center:!0},i)),r.createElement(l.Mount,{when:u,condition:!0},r.createElement($m.Paragraphs,{narrationText:`${i}. ${s}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong",align:"center"},i),r.createElement(Zi,{type:"captionLong",align:"center"},s)))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:YK,inputLegend:e(".closeButton"),variant:"secondary",onClick:n},e(".closeButton"))))})),QK="join-realms-error-modal-back",JK="join-realms-error-primary-action",ZK=As((({worldId:e})=>{const{t}=ws("JoinRealmsServerError"),a=p(),n=(0,l.useSharedFacet)(sh),o=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,l.useSharedFacet)(Bh)]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.joinRealmResult)&&void 0!==t?t:ch.UnknownError}),[],[n]),i=(0,l.useFacetCallback)((e=>()=>e.clearJoinRealmTaskState()),[],[n]),s=(0,l.useFacetMap)(((e,t)=>e===ch.UnassignedDevVersion&&t),[],[c,o]),u=(0,l.useFacetCallback)(((e,t)=>()=>{a.push(`/realms-slot-settings/${t}/dev-options`),e.clearJoinRealmTaskState()}),[a],[n,(0,l.useFacetWrap)(e)]),d=(0,l.useFacetMap)(((e,a)=>{switch(e){case ch.UnassignedDevVersion:return{title:t(".unassignedDevVersion.title"),firstParagraph:t(".unassignedDevVersion.body1"),secondParagraph:t(a?".unassignedDevVersion.body2.owner":".unassignedDevVersion.body2.member"),primaryActionText:t(".unassignedDevVersion.settingButton")};case ch.MemberOfTooManyRealms:return{title:t(".memberOfTooManyRealms.title"),firstParagraph:t(".memberOfTooManyRealms.message"),secondParagraph:""};case ch.CannotConnectToRealm:return{title:t(".cannotConnectToRealm.title"),firstParagraph:t(".cannotConnectToRealm.message"),secondParagraph:""};case ch.JoinRealmAlreadyInProgress:case ch.RealmIDConversionFailed:case ch.RealmsNotInitialized:case ch.RealmsApiNotAvailable:case ch.MobileDataBlockedAndNoWifi:case ch.UnknownError:default:return{title:t(".unknown.title"),firstParagraph:t(".unknown.message"),secondParagraph:t(".unknown.errorCode",[`${e}`])}}}),[t],[c,o]),m=(0,l.useFacetMap)((e=>e.title),[],[d]),f=(0,l.useFacetMap)((e=>e.firstParagraph),[],[d]),g=(0,l.useFacetMap)((e=>e.secondParagraph),[],[d]),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.primaryActionText)&&void 0!==t?t:""}),[],[d]),b=(0,l.useFacetMap)((e=>""!=e.secondParagraph),[],[d]),h=(0,l.useFacetMap)((e=>e?JK:QK),[],[s]);return r.createElement($m,{onOverlayClick:i,defaultFocusAlias:h},r.createElement($m.Header,{onClose:i},m),r.createElement($m.Content,null,r.createElement(l.Mount,{when:b,condition:!1},r.createElement($m.Text,{narrationText:f,center:!0},f)),r.createElement(l.Mount,{when:b,condition:!0},r.createElement($m.Paragraphs,{narrationText:`${f}. ${g}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong",align:"center"},f),r.createElement(Zi,{type:"captionLong",align:"center"},g)))),r.createElement($m.Buttons,null,r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement(lm,{gamepadAlias:JK,inputLegend:E,variant:"primary",onClick:u},E),r.createElement(Vi,{size:1}))),r.createElement(lm,{gamepadAlias:QK,inputLegend:t(".closeButton"),variant:"secondary",onClick:i},t(".closeButton"))))})),eY=As((({onClose:e})=>{const{t}=ah("multiplayerBlockedModal"),a=(0,l.useSharedFacet)(CF),n=(0,l.useSharedFacet)(FF),o=(0,l.useSharedFacet)(_l),c=WI(),i=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.TroubleshootingMultiplayerDisabled)}),[],[a,o,n]),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.ParentPermissionHelpPage)}),[],[a,o,n]),u=(0,l.useFacetCallback)((t=>()=>{t.showPremiumNetworkUpsellModal(),e()}),[e],[n]),d=(0,l.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)?"multiplayer-parental":e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)?"multiplayer-disabled":t?"multiplayer-disabled-third-party":void 0),[],[n,c]),m=(0,l.useFacetMap)((e=>xI(e.platform)?t(".bodyMultiplayerDisabledExternalNintendo"):t(".bodyMultiplayerDisabledExternal")),[t],[(0,l.useSharedFacet)(_l)]);return r.createElement($m,null,r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement(l.Unwrap,{data:d},(e=>{switch(e){case"multiplayer-disabled":return r.createElement($m.Text,{narrationText:t(".bodyMultiplayerDisabled"),center:!0},t(".bodyMultiplayerDisabled"));case"multiplayer-parental":return r.createElement($m.Text,{narrationText:t(".bodyMultiplayerDisabledParental"),center:!0},t(".bodyMultiplayerDisabledParental"));case"multiplayer-disabled-third-party":return r.createElement($m.Text,{narrationText:t(".bodyMultiplayerDisabledExternal"),center:!0},m);default:return null}}))),r.createElement(l.Unwrap,{data:d},(a=>{switch(a){case"multiplayer-disabled":return r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,Icon:LM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:i},t(".learnMore")));case"multiplayer-parental":return r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,Icon:LM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:s},t(".learnMore")));default:return r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{horizontal:!0,variant:"secondary",inputLegend:t(".close"),onClick:e},t(".close")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,Icon:LM.ExternalLink,variant:"primary",inputLegend:t(".learnMore"),onClick:u},t(".learnMore")))}})))})),tY=As((({onClose:e,onChangeSkin:t,text:a})=>{const{t:n}=ws("JoinRealmsServerError.invalidMultiplayerSkin"),l="non-multiplayer-skin-modal-button",o=null!=a?a:n(".body");return r.createElement($m,{defaultFocusAlias:l},r.createElement($m.Header,{onClose:e},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o,center:!0},o)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:l,inputLegend:n(".changeSkin"),variant:"primary",onClick:()=>{t(),e()}},n(".changeSkin")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".close"),variant:"secondary",onClick:e},n(".close"))))})),aY=As((({onClose:e})=>{const{t}=ws("JoinRealmsServerError.noPlatformSubscription"),a=(0,l.useSharedFacet)(_l),n=(0,l.useFacetMap)((e=>e.platform),[],[a]),o=(0,l.useFacetMap)((e=>xI(e)?t(".nintendo.body"):t(".xbox.body")),[t],[n]),c=(0,l.useFacetMap)((e=>xI(e)),[],[n]),i=(0,l.useFacetCallback)((t=>()=>{t.showPremiumNetworkUpsellModal(),e()}),[e],[(0,l.useSharedFacet)(FF)]);return r.createElement($m,null,r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o,center:!0},o)),r.createElement(l.Mount,{when:c},r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".nintendo.moreInformation"),variant:"secondary",onClick:i,"data-testid":"no-platform-modal-more-info-button"},t(".nintendo.moreInformation")))))})),nY="rpdl-modal-close",rY="rpdl-modal-content",lY=As((({title:e,percentage:t,isImportingPack:a,onCancel:n=(()=>{})})=>{const{t:o}=ws("CreateNewWorld.packDownloadModal"),c=(0,l.useFacetMap)((e=>o(e?".importingProgressLabel":".downloadingProgressLabel")),[o],[a]),i=Ln(),s=Pe();return(0,l.useFacetEffect)((e=>{e&&i&&s(rY)}),[s,i],[a]),r.createElement($m,{defaultFocusAlias:nY},r.createElement($m.Header,{onClose:n,titlebarGamepadAlias:nY,hideCloseButton:a},e),r.createElement($m.Content,{gamepadAlias:rY},r.createElement($m.Text,{narrationText:c,center:!0},c),r.createElement(Ui,{isInteractive:!0,getNarrationText:()=>""},r.createElement($m.Progress,{percentage:t}))))})),oY="content-key-error-modal-back",cY=As((()=>{const{t:e}=ws("CreateNewWorld.resourcePacks"),t=(0,l.useSharedFacet)(VF),a=(0,l.useFacetMap)((t=>{const a=t.brokenPacksToStart.map((e=>e.name)),n=a.map((e=>`"${e}"`)),r=a.length>1;return e(r?".contentKeyErrorBodyMultiple":".contentKeyErrorBody",[n.join(", ")])}),[e],[t]),n=(0,l.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[t]);return r.createElement($m,{onOverlayClick:n,defaultFocusAlias:oY},r.createElement($m.Header,{onClose:n},e(".contentKeyErrorTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a,center:!0},a)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:oY,variant:"secondary",inputLegend:e("PlatformLockedModal.closeInputLegend"),onClick:n},e("PlatformLockedModal.closeInputLegend"))))})),iY="rpdl-modal-cancel",sY=As((()=>{const{t:e}=ws("CreateNewWorld.resourcePacks"),t=(0,l.useSharedFacet)(jF),a=(0,l.useFacetMap)((e=>e.packDownloadError),[],[t]),n=(0,l.useFacetMap)((e=>e.packDownloadErrorData.storageSpaceNeeded),[],[t]),o=(0,l.useFacetMap)((e=>e.packDownloadErrorData.packTitles),[],[t]),c=(0,l.useFacetCallback)((e=>()=>{e.cancelPackDownload(),e.getPackSizesReset()}),[],[t]),i=(0,l.useFacetMap)((t=>t===zF.MissingDlcWorldTemplate?e(".downloadWorldTemplateNoInternetTitle"):t===zF.NoInternet?e(".downloadNoInternetTitle"):t===zF.InitializationTimeout?e(".initializationTimeoutTitle"):t===zF.HasPerformanceIssues?e(".errorIncompatibleDeviceTitle"):t===zF.NotEnoughDiskSpace?e(".errorNotEnoughDiskSpaceTitle"):e(".errorUnknownTitle")),[e],[a]),s=(0,l.useFacetMap)(((t,a,n)=>t===zF.MissingDlcWorldTemplate?e(".downloadWorldTemplateNoInternetMsg"):t===zF.NoInternet?e(".connectionFailedBody"):t===zF.InitializationTimeout?e(".initializationTimeoutBody"):t===zF.HasPerformanceIssues?e(".errorIncompatibleDeviceBody"):t===zF.NotEnoughDiskSpace?e(".errorNotEnoughDiskSpaceBody",[a,n.length>0?n[0]:""]):e(".errorUnknownBody")),[e],[a,n,o]),u=(0,l.useFacetMap)((t=>t===zF.InitializationTimeout?e(".initializationTimeoutButton"):e(".goBackButton")),[e],[a]),d=(0,l.useFacetMap)((t=>t===zF.MissingDlcWorldTemplate?e(".downloadWorldTemplateMsgRemovePacks"):""),[e],[a]),m=(0,l.useFacetUnwrap)(a)===zF.MissingDlcWorldTemplate;return r.createElement($m,{defaultFocusAlias:iY},r.createElement($m.Header,{onClose:c},i),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:s,center:!m},s),m&&r.createElement($m.Text,{narrationText:d,center:!0},d)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:iY,inputLegend:u,onClick:c},u)))})),uY="missing-dependency-modal-accept",dY=As((({onClose:e,onAccept:t,hasMissingPacks:a,hasMissingTemplate:n})=>{const{t:o}=ws("PlayScreen.missingDependenciesModal"),c=(0,l.useSharedFacet)(jF),i=(0,l.useSharedFacet)(ZF),s=(0,l.useFacetMap)((e=>e.packDownloadStatus===WF.Downloading||e.packDownloadStatus===WF.Importing),[],[c]),u=(0,l.useFacetMap)((e=>e.downloadingStatus===qF.Downloading||e.downloadingStatus===qF.Importing||e.downloadingStatus===qF.Initialising),[],[i]),d=(0,l.useFacetMap)(((e,t)=>e.packDownloadStatus===WF.Importing||t.downloadingStatus===qF.Importing),[],[c,i]),m=(0,l.useFacetMap)(((e,t,a,n,r)=>{const l=r?.5:0;return a?.5*e.packDownloadProgress+l:n?.5*t.downloadingProgressPercent+l:0}),[],[c,i,s,u,d]),p=(0,l.useFacetMap)(((e,t)=>e.packDownloadTaskState===HI.RUNNING||t.downloadingTaskState===HI.RUNNING||e.packDownloadStatus===WF.Completed||t.downloadingStatus===qF.Success),[],[c,i]),f=(0,l.useFacetMap)((e=>o(e?".title.downloading":".title")),[o],[p]),g=(0,l.useFacetMap)(((e,t,a,n)=>{if(a&&n){return o(e?".body.importingMultiple":".body.downloadingMultiple",[t?"2":"1","2"])}return o(e?".body.importing":".body.downloading")}),[o],[d,u,a,n]),E=(0,l.useFacetMap)(((e,t)=>e?t:o(".body")),[o],[p,g]),b=(0,l.useFacetCallback)(((t,a)=>()=>{a.cancelDownload(),a.resetDownloadTask(),t.cancelPackDownload(),e()}),[e],[c,i]);return r.createElement($m,{defaultFocusAlias:uY},r.createElement($m.Header,{hideCloseButton:d,onClose:b},f),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:E,center:p},E),r.createElement(l.Mount,{when:p},r.createElement($m.Progress,{percentage:m}))),r.createElement(l.Mount,{when:p,condition:!1},r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:uY,inputLegend:o(".primary"),onClick:t,variant:"primary","data-testid":"start-download-dependencies-button"},o(".primary")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:o(".close"),onClick:b,"data-testid":"close-download-dependencies-button"},o(".close")))))}));function mY(){const e=(0,l.useSharedFacet)(VF),t=(0,l.useSharedFacet)(uh),a=(0,l.useFacetMap)((e=>e.startLocalWorldTaskState),[],[e]);return VI(((e,t)=>function*(n){e.clearStartLocalWorldResult(),t.doNotShowOldWorldsWarning=!0,e.startLocalWorld(n),yield a,e.startLocalWorldResult===HF.Ok&&e.clearStartLocalWorldResult()}),[a],[e,t])}function pY(){const e=(0,l.useSharedFacet)(VF),t=(0,l.useSharedFacet)(jF),a=(0,l.useSharedFacet)(ZF),n=(0,l.useFacetMap)((e=>e.packDownloadTaskState),[],[t]),r=(0,l.useFacetMap)((e=>e.downloadingTaskState),[],[a]),o=(0,l.useFacetMap)((e=>e.missingPacksToStart.length>0),[],[e]),c=(0,l.useFacetMap)((e=>""!==e.missingTemplateToStart),[],[e]),i=mY(),s=VI(((e,t,a,l,o)=>function*(c,s){if(!c)return;let u=!0;if(l){const t=a.missingPacksToStart.map((e=>e.id));e.isInitialized||e.loadPacksData(c),e.downloadPacks(c,t),yield n,u=e.packDownloadTaskState===HI.DONE,e.cancelPackDownload()}o&&u&&(t.downloadWorldTemplate(a.missingTemplateToStart),yield r,u=t.downloadingTaskState===HI.DONE,t.cancelDownload(),t.resetDownloadTask()),u&&(null==s||s(),i(c))}),[n,r,i],[t,a,e,o,c]);return{downloadAssetsAndStartWorld:s,hasMissingPacks:o,hasMissingTemplate:c}}const fY="missing-active-resources-modal-accept",gY=As((()=>{const{t:e}=ws("PlayScreen.unownedPacksModal"),t=p(),a=(0,l.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[(0,l.useSharedFacet)(VF)]),n=(0,l.useFacetCallback)((e=>()=>{e.missingPacksToStart.length>0?t.push("/marketplace?packId="+e.missingPacksToStart[0].id.split("_")[0]):t.push("/marketplace"),a()}),[t,a],[(0,l.useSharedFacet)(VF)]);return r.createElement($m,{onOverlayClick:a,defaultFocusAlias:fY},r.createElement($m.Header,{onClose:a},e(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:e(".body")},e(".body"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:e(".confirm"),variant:"primary",onClick:n,"data-testid":"confirm-redirect-martketplace",gamepadAlias:fY},e(".confirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:e(".decline"),variant:"secondary",onClick:a},e(".decline"))))})),EY=As((()=>{const{t:e}=ws("PlayScreen.unexpectedLaunchErrorModal"),t="pop-up-modal-unexpectedLaunchErrorModal",a=(0,l.useSharedFacet)(VF),n=(0,l.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[a]),o=(0,l.useFacetMap)((t=>{var a;if(t.startLocalWorldResult===HF.RealmsPlusEnded)return e(".subscriptionContentExpired");if(t.startLocalWorldResult===HF.WorldSavedInNewerVersion)return e(".missmatchingGameVersion");const n=`${null!==(a=t.startLocalWorldResult)&&void 0!==a?a:"n/a"}`;return e(".body2",[n])}),[e],[a]);return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:n},e(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:(0,l.useFacetMap)((t=>`${e(".body")} . ${t}`),[e],[o])},r.createElement(Zi,{type:"captionLong",align:"center"},e(".body")),r.createElement(Zi,{type:"captionLong",align:"center"},o))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:n},e(".close"))))}));var bY;!function(e){e[e.SELECT_SCREENSHOT=0]="SELECT_SCREENSHOT",e[e.RESET=1]="RESET"}(bY||(bY={}));const hY=As((({isOpen:e,onClose:t,onItemSelected:a})=>{const{t:n}=ws("EditWorld.EditThumbnailModal");return r.createElement(fP,{title:n(".title"),items:[{enumeration:n(".optionsEnumeration",["1","2"]),label:n(".changeThumbnail"),value:bY.SELECT_SCREENSHOT,Icon:LM.EditImage,testId:"change-thumbnail-option"},{enumeration:n(".optionsEnumeration",["2","2"]),label:n(".resetThumbnail"),value:bY.RESET,Icon:LM.Reset,testId:"reset-thumbnail-option"}],isOpen:e,onClose:t,onItemSelect:a})})),vY=({editThumbnailModalMenu:e})=>{const{t}=ws("PlayScreen"),a=p(),n=TH(),o=(0,l.useSharedFacet)(_F),c=(0,l.useSharedFacet)(VF),i=(0,l.useSharedFacet)(IF),s=(0,l.useSharedFacet)(jF),u=(0,l.useSharedFacet)(wv),d=(0,l.useSharedFacet)(sh),m=(0,l.useSharedFacet)(_l),f=(0,l.useSharedFacet)(FF),g=(0,l.useSharedFacet)(dh),E=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.useMobileDataOnce=!0,t.joinRealmWorld(a.uploadedRealmWorldId.toString(),ih.EditWorld)}),[],[(0,l.useSharedFacet)(fh),d,u]),b=ZT(),h=(0,l.useFacetMap)((e=>e.exportWorldStatus===RF.SelectingFileDestination),[],[o]),v=(0,l.useFacetMap)((e=>TI(e.platform)),[],[m]),F=(0,l.useFacetMap)((e=>e.exportWorldStatus===RF.Exporting||e.exportWorldStatus===RF.Setup),[],[o]),y=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t!=HF.Ok&&t!=HF.MissingDependencies&&t!=HF.DlcMissingContentKey}),[],[c]),S=(0,l.useFacetMap)((e=>e.saveLocalWorldTaskState===HI.RUNNING),[],[i]),C=(0,l.useFacetMap)(((e,t)=>null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=e.loadWorldError),[],[i,o]),M=(0,l.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[s]),w=(0,l.useFacetMap)((e=>e.duplicateWorldTaskState===HI.RUNNING),[],[o]),k=(0,l.useFacetMap)((e=>e.makeWorldInfiniteState===HI.RUNNING),[],[o]),P=(0,l.useFacetMap)((e=>e.startLocalWorldResult==HF.DlcMissingContentKey),[],[c]),T=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===HF.HasUnownedPacks}),[],[(0,l.useSharedFacet)(VF)]),I=(0,l.useFacetMap)(((e,t)=>e.packDownloadTaskState!==HI.IDLE&&e.packDownloadTaskState!==HI.FAILED&&t.startLocalWorldResult!==HF.MissingDependencies),[],[s,c]),x=(0,l.useFacetMap)((e=>e.packDownloadName),[],[s]),O=(0,l.useFacetMap)((e=>e.packDownloadProgress),[],[s]),A=(0,l.useFacetMap)((e=>e.packDownloadStatus===WF.Importing),[],[s]),N=(0,l.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[s]),R=(0,l.useFacetMap)((e=>e.joinRealmResult),[],[d]),L=(0,l.useFacetMap)((e=>null!=e.uploadWorldToRealmError),[],[u]),D=(0,l.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[u]),_=(0,l.useFacetMap)((e=>null!=e&&e!==ch.Ok&&e!==ch.InvalidCrossPlatformMultiplayerSkin&&e!==ch.MobileDataBlockedAndNoWifi&&e!==ch.MissingPlatformMembership&&e!==ch.MultiplayerPrivilegeBlocked),[],[R]),B=(0,l.useFacetMap)(((e,t)=>e===ch.MissingPlatformMembership&&!t),[],[R,v]),W=(0,l.useFacetMap)((e=>e===ch.MobileDataBlockedAndNoWifi),[],[R]),U=(0,l.useFacetMap)((e=>e===ch.InvalidCrossPlatformMultiplayerSkin),[],[R]),z=(0,l.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[d]),j=(0,l.useFacetMap)((e=>e===ch.MultiplayerPrivilegeBlocked),[],[R]),{downloadAssetsAndStartWorld:H,hasMissingPacks:G,hasMissingTemplate:V}=pY(),$=(0,l.useFacetCallback)(((e,a)=>()=>{H(encodeURI(e),(()=>{a.queueSnackbar(t(".missingDependenciesModal.downloadComplete"))}))}),[H,t],[n,g]),X=(0,l.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[c]),K=(0,l.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===HF.MissingDependencies),[],[n,c]),Y=(0,l.useFacetCallback)(((t,n)=>r=>{r===bY.SELECT_SCREENSHOT?a.push(`/edit-world-thumbnail/${encodeURIComponent(t)}`):n.resetWorldIconToDefault(t),e.hide()}),[a,e],[n,o]);return(0,l.useFacetEffect)(((e,t,a,n,r,l,o,c,i)=>{e&&b({modal:$K.WorldEditingError,screen:$K.EditWorldScreen}),(t||l||o||c)&&b({modal:$K.JoinRealmsError,screen:$K.EditWorldScreen}),a&&b({modal:$K.ResourcePackDownloadError,screen:$K.EditWorldScreen}),n&&b({modal:$K.UnexpectedLaunchError,screen:$K.EditWorldScreen}),r&&b({modal:$K.UploadRealmsError,screen:$K.EditWorldScreen}),i&&b({modal:$K.MissingDependencies,screen:$K.EditWorldScreen})}),[b],[C,_,I,y,L,B,W,U,K]),(0,l.useFacetEffect)(((e,t,a)=>{e&&!t.hasPremiumNetworkAccess&&a===ch.MissingPlatformMembership&&t.showPremiumNetworkUpsellModal()}),[],[v,f,R]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:I},r.createElement(lY.Component,{title:x,percentage:O,isImportingPack:A,onCancel:N})),r.createElement(l.Mount,{when:P},r.createElement(cY.Component,null)),r.createElement(l.Mount,{when:y},r.createElement(EY.Component,null)),r.createElement(l.Mount,{when:M},r.createElement(sY.Component,null)),r.createElement(l.Mount,{when:S},r.createElement(GK.Component,null)),r.createElement(l.Mount,{when:C},r.createElement(HK.Component,null)),r.createElement(l.Mount,{when:w},r.createElement(UK.Component,null)),r.createElement(l.Mount,{when:k},r.createElement(VK.Component,null)),r.createElement(l.Mount,{when:F},r.createElement(BK.Component,null)),r.createElement(l.Mount,{when:T},r.createElement(gY.Component,null)),r.createElement(l.Mount,{when:h},r.createElement($m.Overlay,null,r.createElement(r.Fragment,null))),r.createElement(l.Mount,{when:L},r.createElement(qK.Component,null)),r.createElement(l.Mount,{when:_},r.createElement(ZK.Component,{worldId:D})),r.createElement(l.Mount,{when:W},r.createElement(KI.Component,{joinServer:E,onClose:z})),r.createElement(l.Mount,{when:U},r.createElement(tY.Component,{onClose:z,onChangeSkin:()=>{a.push("/persona")}})),r.createElement(l.Mount,{when:B},r.createElement(aY.Component,{onClose:z})),r.createElement(l.Mount,{when:j},r.createElement(eY.Component,{onClose:z})),r.createElement(l.Mount,{when:K},r.createElement(dY.Component,{onClose:X,onAccept:$,hasMissingPacks:G,hasMissingTemplate:V})),r.createElement(l.Mount,{when:e.isVisible},r.createElement(hY.Component,{isOpen:e.isVisible,onClose:e.hide,onItemSelected:Y})))},FY=a.p+"assets/trial-mode-art-4074416ab6dd83b5f146.png",yY="play-realms-trial-mode-button",SY=As((({onClose:e,worldSettingsMode:t})=>{const{t:a}=ws("PlayRealmsTrialModeModal"),n=t===ZO.CREATE?"CreateNewWorld":"EditWorld",l=KO(),o=JT(),c=(0,r.useCallback)((()=>{o({button:"BuyMinecraft",screen:`RealmsTrialModeModal_${n}`}),l()}),[o,l,n]);return r.createElement($m,{defaultFocusAlias:yY},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:FY,className:"bbcc0e8c2d4b76b08287",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:a(".message")},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:yY,inputLegend:a(".select"),variant:"primary",onClick:c,Icon:LM.ExternalLink},a(".button"))))})),CY=As((({onClose:e})=>{const{t}=ws("PlayScreen.outOfStorageModal"),a="pop-up-modal-outOfStorageModal";return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:a},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".body")},t(".body"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:a,inputLegend:t(".closeInputLegend"),variant:"secondary",onClick:e},t(".close"))))})),MY=As((({onClose:e,onStartWorld:t,onChangeSkin:a})=>{const{t:n}=ws("PlayScreen.nonMultiplayerSkinModal"),l="pop-up-modal-nonMultiplayerSkinModal";return r.createElement($m,{defaultFocusAlias:l},r.createElement($m.Header,{onClose:e},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".body"),center:!0},n(".body"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:l,inputLegend:n(".continueAction"),variant:"primary",onClick:()=>{e(),t()}},n(".continueAction")),r.createElement(lm,{inputLegend:n(".changeAction"),variant:"secondary",onClick:()=>{e(),a()}},n(".changeAction"))))})),wY=As((({onClose:e,onStartWorld:t,onBackupThenStartWorld:a})=>{const{t:n}=ws("PlayScreen.updateWorldModal"),o="pop-up-modal-updateWorld",[c,i]=(0,l.useFacetState)(!0),s=(0,l.useFacetCallback)((n=>()=>{e(),n?a():t()}),[a,t,e],[c]);return r.createElement($m,{defaultFocusAlias:o},r.createElement($m.Header,{onClose:e},n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".body")},n(".body"))),r.createElement($m.Buttons,{header:r.createElement($m.Checkbox,{value:c,onChange:i,title:n(".checkboxTitle")})},r.createElement(lm,{gamepadAlias:o,inputLegend:n(".action"),variant:"primary",onClick:s},n(".action"))))})),kY=As((({onClose:e,onStartWorld:t})=>{const{t:a}=ws("PlayScreen.experimentalWorldLoadingModal"),n="pop-up-modal-experimentalWorldLoadingModal";return r.createElement($m,{defaultFocusAlias:n},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:`${a(".bodyFirstParagraph")}. ${a(".bodySecondParagraph")}`},r.createElement(Zi,{type:"captionLong"},a(".bodyFirstParagraph")),r.createElement(Zi,{type:"captionLong"},a(".bodySecondParagraph")))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:n,inputLegend:a(".back"),variant:"primary",onClick:e},a(".goBackButtonText")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".action"),variant:"secondary",onClick:()=>{e(),t()}},a(".loadWorld"))))}));function PY({modalAPIs:e,onStartWorld:t,onBackupThenStartWorld:a,onChangeSkin:n}){return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:e.outOfStorageModal.isVisible},r.createElement(CY.Component,{onClose:e.outOfStorageModal.hide})),r.createElement(l.Mount,{when:e.nonMultiplayerSkinModal.isVisible},r.createElement(MY.Component,{onClose:e.nonMultiplayerSkinModal.hide,onStartWorld:t,onChangeSkin:n})),r.createElement(l.Mount,{when:e.updateWorldModal.isVisible},r.createElement(wY.Component,{onClose:e.updateWorldModal.hide,onBackupThenStartWorld:a,onStartWorld:t})),r.createElement(l.Mount,{when:e.experimentalWorldLoadingModal.isVisible},r.createElement(kY.Component,{onClose:e.experimentalWorldLoadingModal.hide,onStartWorld:t})))}const TY={major:1,minor:18,patch:0,revision:0,isBeta:!1};function IY(e){const t=p(),a=(0,l.useSharedFacet)(VF),n=(0,l.useSharedFacet)(cb),o=(0,l.useSharedFacet)(FF),c=(0,l.useSharedFacet)(_l),i=(0,l.useSharedFacet)(wF),s=mY(),u=function(){const e=it();return(0,l.useFacetMap)(((e,t,a)=>{const n=e,r=t.showTouchControlSelectionScreen,l=a.platform===Ye.NX_HANDHELD;return n&&r&&!l}),[],[e,(0,l.useSharedFacet)(fh),(0,l.useSharedFacet)(_l)])}(),d={outOfStorageModal:CY.useModal(),nonMultiplayerSkinModal:MY.useModal(),updateWorldModal:wY.useModal(),experimentalWorldLoadingModal:kY.useModal()},m=(0,l.useFacetMap)(((e,t)=>{if(null==e)return!1;const a=e.isTemplateCompatibleWithAnyVersion||mb(e.templateVersion,TY)>=0,n=mb(e.gameVersion,TY)<0&&mb(t.currentGameVersion,TY)>=0;return a&&n}),[],[e,n]),f=(0,l.useFacetMap)(((e,t)=>{if(null==e)return!1;const a=mb(e.gameVersion,t.currentGameVersion)<0;return e.isExperimental&&a}),[],[e,n]),g=(0,l.useFacetCallback)(((e,t)=>()=>{null!=t&&e.backupThenStartLocalWorld.run(t.id)}),[],[a,e]),E=(0,l.useFacetMap)((e=>e.syncWorldTaskState),[],[i]),b=VI(((e,t)=>function*(){if(null==t)return;const a=t.id;e.syncWorld(a),yield E,e.clearSyncWorldTaskState(),s(a)}),[s,E],[i,e]),h=(0,l.useFacetCallback)((e=>()=>{if(null==e)return;const t=e.id;e.requiresCloudSync?b():s(t)}),[b,s],[e]),v=(0,l.useFacetCallback)(((e,a,n,r,l,o)=>()=>{if(null==e)return;const c=e.id;r?t.push(`/play/touch-control-selection/${encodeURIComponent(c)}`):n.isStorageLow?d.outOfStorageModal.show():a.hasValidCrossPlatformSkin?l?d.experimentalWorldLoadingModal.show():o?d.updateWorldModal.show():h():d.nonMultiplayerSkinModal.show()}),[t,d,h],[e,o,c,u,f,m]),F=(0,r.useCallback)((()=>{t.push("/persona")}),[t]);return{StartLocalWorldPrerequisiteModalsComponent:()=>r.createElement(PY,{modalAPIs:d,onStartWorld:h,onBackupThenStartWorld:g,onChangeSkin:F}),startLocalWorldWithPrerequisitesCallback:v}}const xY=(0,l.sharedFacet)("vanilla.lanWorldList"),OY=(0,l.sharedFacet)("vanilla.localWorldList"),AY="create-world-platform-guest-modal",NY=As((({onClose:e,mode:t})=>{const{t:a}=ws("CreateNewWorld"),n=function(e){const{t}=ws("CreateNewWorld"),a=p(),n=JT();return(0,l.useFacetMap)((e=>"nintendoGuestCreateWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestCreate.nintendo.message")}:"nintendoGuestEditWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestEdit.nintendo.message")}:"playstationGuestCreateWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestCreate.playStation.message")}:"playstationGuestEditWorld"===e?{message:t(".signInPromptWorldOnRealmModal.platformGuestEdit.playStation.message")}:"msaGuestEditWorld"===e?{onSignIn:()=>{n({screen:"EditWorld",button:"SignIn"}),a.replace("/sign-in?signInSource=EditWorld_PlayOnRealm_SignInPrompt_OreUI")},message:t(".signInPromptWorldOnRealmModal.msaGuestEditWorld.message")}:{onSignIn:()=>{n({screen:"CreateNewWorld",button:"SignIn"}),a.replace("/sign-in?signInSource=CreateNewWorld_CreateOnRealm_SignInPrompt_OreUI")},message:t(".signInPromptWorldOnRealmModal.msaGuestCreateWorld.message")}),[t,a,n],[e])}((0,l.useFacetMap)(((e,a)=>TI(e.platform)&&!a.isSignedInPlatformNetwork?t!==ZO.CREATE?"playstationGuestEditWorld":"playstationGuestCreateWorld":xI(e.platform)&&!a.isSignedInPlatformNetwork?t!==ZO.CREATE?"nintendoGuestEditWorld":"nintendoGuestCreateWorld":t!==ZO.CREATE?"msaGuestEditWorld":"msaGuestCreateWorld"),[t],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(FF)]));return r.createElement(l.Unwrap,{data:n},(t=>r.createElement($m,{defaultFocusAlias:AY},r.createElement($m.Header,{onClose:e},a(".signInPromptWorldOnRealmModal.title")),r.createElement($m.Content,null,r.createElement($m.Text,{center:!0,narrationText:t.message},t.message)),r.createElement($m.Buttons,null,t.onSignIn&&r.createElement(r.Fragment,null,r.createElement(lm,{"data-testid":"sign-in-prompt",inputLegend:a(".signInPromptWorldOnRealmModal.signIn"),variant:"primary",onClick:t.onSignIn},a(".signInPromptWorldOnRealmModal.signIn")),r.createElement(Vi,{size:1})),r.createElement(lm,{"data-testid":"cancel",gamepadAlias:AY,inputLegend:a(".signInPromptWorldOnRealmModal.cancel"),variant:"secondary",onClick:e},a(".signInPromptWorldOnRealmModal.cancel"))))))}));function RY(e,t){return(0,l.useFacetCallback)(((a,n)=>()=>{!TI(a.platform)&&!xI(a.platform)||n.isLoggedInWithMicrosoftAccount&&n.isSignedInPlatformNetwork?e():t()}),[t,e],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(FF)])}const LY=({onPlayWorld:e})=>{const{t}=ws("EditWorld"),a=BH.useModal(),n=cV(),{generalData:o,multiplayerData:c}=WK(),i=wK(o),{disableMainButton:s,buttonHint:u}=vL(i,c,o,t,"SideMenu.narrationPlayButtonHint"),d=(0,l.useFacetCallback)((t=>()=>{t.worldHasBeenModified&&!t.worldData.achievementsPermanentlyDisabled&&t.worldData.achievementsDisabled?a.show():e()}),[e,a],[(0,l.useSharedFacet)(IF)]);return r.createElement(r.Fragment,null,r.createElement(lm,{"data-testid":"edit-world",disabled:s,gamepadAlias:iG,narrationSuffix:u,variant:"hero",onClick:d,inputLegend:t("SideMenu.play")},t("SideMenu.play")),r.createElement(l.Mount,{when:a.isVisible},r.createElement(BH.Component,{onClose:a.hide,onConfirm:e,reasons:n,isEditWorld:!0})))},DY=({isRealmsButtonDisabled:e,onPlayOnRealms:t})=>{const{t:a}=ws("EditWorld"),n=NY.useModal(),{generalData:o,multiplayerData:c}=WK(),i=wK(o),{disableSecondaryButton:s,buttonHint:u}=vL(i,c,o,a,"SideMenu.narrationPlayButtonHint",e),d=RY(t,n.show);return r.createElement(r.Fragment,null,r.createElement(_r,{collection:xx},r.createElement(lm,{gamepadAlias:sG,narrationSuffix:u,linebreak:!0,"data-testid":"play-on-realm",variant:"primary",onClick:d,inputLegend:a("SideMenu.playOnRealm"),disabled:s},a("SideMenu.playOnRealm"))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(NY.Component,{mode:ZO.EDIT,onClose:n.hide})))},_Y=()=>{const e=TH(),t=(0,l.useSharedFacet)(IF),a=(0,l.useSharedFacet)(jF),n=(0,l.useFacetMap)((e=>e.loadWorldTaskState),[],[t]),o=(0,l.useFacetMap)(((e,t)=>e.worldIsInitialized&&t.isInitialized||null!=e.loadWorldError),[],[t,a]),c=VI(((e,t)=>function*(a){t.loadWorld(a),yield n,e.loadPacksData(a)}),[n],[a,t,e]);return(0,l.useFacetEffect)((e=>{c(e)}),[c],[e]),r.createElement(l.Mount,{when:o},r.createElement(BY,null))},BY=()=>{const{t:e}=ws("EditWorld"),t=".notificationToasts.saved",a=".notificationToasts.deleted",n=".notificationToasts.duplicated",o=".notificationToasts.addonPackActivated",c=".notificationToasts.addonPackDeactivated",i=e(".notificationToasts.worldConverted"),s=".notificationToasts.settingsUnlocked",[u,d]=(()=>{const[e,t]=(0,l.useFacetState)(!1),a=(0,l.useSharedFacet)(_F),n=(0,l.useSharedFacet)(IF),r=(0,l.useSharedFacet)(wv),o=(0,l.useSharedFacet)(sh);return(0,l.useFacetEffect)(((e,a,n,r)=>{(null!=a.duplicateWorldError||null!=e.saveLocalWorldError||null!=n.uploadWorldToRealmError||n.uploadWorldToRealmTaskState!==HI.RUNNING&&r.joinRealmTaskState!==HI.RUNNING)&&t(!1)}),[t],[n,a,r,o]),[e,t]})(),m=TH(),f=(0,l.useSharedFacet)(OY),g=(0,l.useFacetMap)(((e,t)=>e.localWorlds.find((e=>e.allContentOwned&&e.id===t))),[],[f,m]),E=p(),b=JT(),v=ZT(),F=(0,l.useSharedFacet)(Hv),y=(0,l.useSharedFacet)(VF),S=(0,l.useSharedFacet)(IF),C=(0,l.useSharedFacet)(_l),M=(0,l.useSharedFacet)(wv),w=(0,l.useSharedFacet)(dh),k=(0,l.useSharedFacet)(_F),P=(0,l.useSharedFacet)(jF),T=(0,l.useSharedFacet)(cb),I=(0,l.useSharedFacet)(fv),x=(0,l.useSharedFacet)(EF),O=(0,l.useSharedFacet)(_v),A=(0,l.useSharedFacet)(yF),N=(0,l.useSharedFacet)(uh),{worldData:R,generalData:L}=WK(),D=function(){const e=TH(),t=(0,l.useSharedFacet)(IF);return(0,l.useFacetMap)(((e,t)=>null!=t?e.worldSummary:void 0),[],[t,e])}(),_=KK.useModal(),B=KK.useModal(),W=KK.useModal(),U=KK.useModal(),z=KK.useModal(),j=zK.useModal(),H=DK.useModal(),G=SY.useModal(),V=AH.useModal(),$=NH.useModal(),X=LH.useModal(),K=BH.useModal(),Y=(0,l.useFacetMap)((e=>e.worldPacksData),[],[P]),q=(0,l.useFacetMap)((e=>e.worldData.isLockedTemplate),[],[S]),Q=(0,l.useFacetMap)((e=>e.worldName),[],[L]),J=(0,l.useFacetCallback)(((e,t)=>()=>{e.closeWorld(t)}),[],[S,m]);(0,r.useEffect)((()=>()=>{J()}),[J]);const{startLocalWorldWithPrerequisitesCallback:Z,StartLocalWorldPrerequisiteModalsComponent:ee}=IY(g),te=(0,l.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[S]),ae=(0,l.useFacetMap)((e=>e.duplicateWorldTaskState),[],[k]),ne=(0,l.useFacetMap)((e=>e.storageAvailableSize),[],[C]),re=(0,l.useFacetMap)((e=>e.supportsSizeQuery),[],[C]),le=UH.useShowModal(),oe=jH.useShowModal(),ce=GH.useShowModal(),ie=$H.useModal(),se=$H.useModal(),[ue,de]=(0,r.useState)(""),me=hY.useModal(),pe=VI(((t,a,r,l,o)=>function*(c){t.saveLocalWorld(l),yield te,t.clearSaveLocalWorldTaskState(),r.startDuplicateWorld(l),yield ae,r.clearDuplicateWorldTaskState(),a.queueSnackbar(e(n,[`"${o}"`])),c&&E.goBack()}),[e,te,ae,n,E],[S,w,k,m,Q]),fe=(0,l.useFacetCallback)((e=>t=>{e.worldHasBeenModified&&!e.worldData.achievementsDisabled?z.show():pe(t)}),[pe,z],[S]),ge=(0,l.useFacetCallback)((e=>t=>{var a,n,r,l,o,c,i,s;return null!==(a=null!==(n=null!==(r=null!==(l=null===(o=e.activeTexturePacks.find((e=>e.id===t)))||void 0===o?void 0:o.name)&&void 0!==l?l:null===(c=e.activeBehaviorPacks.find((e=>e.id===t)))||void 0===c?void 0:c.name)&&void 0!==r?r:null===(i=e.availableTexturePacks.find((e=>e.id===t)))||void 0===i?void 0:i.name)&&void 0!==n?n:null===(s=e.availableBehaviorPacks.find((e=>e.id===t)))||void 0===s?void 0:s.name)&&void 0!==a?a:"Pack"}),[],[Y]),Ee=(0,l.useFacetCallback)(((t,a,n,r)=>c=>{const i=t.continuePackActivation(a);if(i===UF.PackDataWarning)!r.doNotShowAddonStackingWarning&&t.worldPacksData.activeBehaviorPacks.length>=2?(de(c),X.show()):(de(c),se.show());else if(null!=i)le({errorCode:i});else{const t=ge(c);n.queueSnackbar(e(o,[t===l.NO_VALUE?"Pack":t]))}}),[X,se,le,ge,e],[P,m,w,N]),be=(0,l.useFacetCallback)(((t,a,n)=>(r,o)=>{const i=t.continuePackDeactivation(a);if(null!=i)le({errorCode:i});else{const t=ge(r);n.queueSnackbar(e(c,[t===l.NO_VALUE?"Pack":t])),o&&fe(!1)}}),[le,fe,ge,e],[P,m,w]),he=(0,l.useFacetMap)((e=>e.packDownloadTaskState),[],[P]),ve=VI(((e,t)=>function*(a){switch(e.downloadPacks(t,[a]),yield he,e.packDownloadTaskState){case HI.DONE:e.cancelPackDownload(),Ee(a);break;case HI.CANCELLED:e.cancelPackDownload()}}),[he,Ee],[P,m]),Fe=(0,l.useFacetMap)((e=>e.lastConsultedPackSizesTaskState),[],[P]),ye=VI(((e,t)=>function*(a,n){e.getPackSizes([a],t),yield Fe;let r="";null==e.lastConsultedPackSizesError&&(r=e.lastConsultedPackSizes,e.getPackSizesReset()),ce({packId:a,packName:n,packSize:r,supportsSizeQuery:re,availableSize:ne,onAccept:ve})}),[Fe,ce,re,ne,ve],[P,m]),Se=(0,l.useFacetCallback)(((t,a,n,r)=>(c,i,s)=>{t.isReadyForDownload||$.show();const u=t.activatePack(a,c,i,!1);if(u===UF.NeedToDownloadPack)ye(c,s);else if(u===UF.PackDependencyWarning)oe({packId:c,onAccept:Ee});else if(u===UF.PackDataWarning)!r.doNotShowAddonStackingWarning&&t.worldPacksData.activeBehaviorPacks.length>=2?(de(c),X.show()):(de(c),se.show());else if(null!=u)le({errorCode:u});else{const t=ge(c);n.queueSnackbar(e(o,[t===l.NO_VALUE?"Pack":t]))}}),[$,X,ye,oe,Ee,se,le,ge,e],[P,m,w,N]),Ce=(0,l.useFacetCallback)(((t,a,n)=>()=>{X.hide();const r=t.continuePackActivation(a);if(null!=r)le({errorCode:r});else{const t=ge(ue);n.queueSnackbar(e(o,[t===l.NO_VALUE?"Pack":t]))}}),[X,le,ge,ue,e],[P,m,w]);(0,l.useFacetEffect)((e=>{(e.packDownloadError===zF.InitializationTimeout||e.isReadyForDownload)&&$.hide()}),[$],[P]);const Me=(0,l.useFacetCallback)(((t,a,n)=>(r,o)=>{const i=t.deactivatePack(a,r,o,!1);if(i===UF.PackDataWarning)de(r),ie.show();else if(null!=i)le({errorCode:i});else{const t=ge(r);n.queueSnackbar(e(c,[t===l.NO_VALUE?"Pack":t]))}}),[ie,le,ge,e],[P,m,w]),we=(0,l.useFacetCallback)(((a,n,r,l)=>(o,c,i,s)=>{a.changePackPriority(n,o,c,i,s),r.queueSnackbar(e(t,[`"${l}"`]))}),[e,t],[P,m,w,Q]),ke=(0,l.useFacetCallback)((e=>t=>{E.push(`/pack-settings/${t}/${encodeURIComponent(e)}`)}),[E],[m]),Pe=VI(((t,a,n,r)=>function*(){a&&(t.worldData.isLockedTemplate=!1,t.saveLocalWorld(r),yield te,n.queueSnackbar(e(s)),t.clearSaveLocalWorldTaskState())}),[te,s,e],[S,q,w,m]),Te=(0,l.useFacetMap)((e=>null!=e.worldSummary.worldIconPath&&e.worldSummary.worldIconPath.length>0?e.worldSummary.worldIconPath:_K),[],[S]),Ie=(0,l.useFacetCallback)(((e,t,a)=>()=>{b({button:"OptOut",screen:"EditWorld"}),e.closeWorld(a),t.selectTechStackForScreen(Lv.EditWorldScreen,Dv.JsonUI)}),[b],[S,O,m]),xe=(0,l.useFacetCallback)((e=>()=>{e.worldHasBeenModified?V.show():Ie()}),[Ie,V],[S]),[Oe,Ae]=(0,l.useFacetState)(!1),Ne=VI(((a,n,r,l)=>function*(){d(!0),a.saveLocalWorld(r),yield te,null==a.saveLocalWorldError&&(a.clearSaveLocalWorldTaskState(),n.queueSnackbar(e(t,[`"${l}"`])),E.goBack())}),[e,d,te,t,E],[S,w,m,Q]),Re=(0,l.useFacetCallback)((()=>()=>{Ae(!1),_.hide()}),[Ae,_],[]),Le=(0,l.useFacetCallback)((e=>()=>{e.discardTrackedOptions(),E.goBack(),Ae(!1)}),[E,Ae],[F]),De=(0,l.useFacetCallback)((e=>()=>{e.worldHasBeenModified&&!e.worldData.achievementsPermanentlyDisabled&&e.worldData.achievementsDisabled?K.show():(Ae(!0),e.worldHasBeenModified?_.show():Le())}),[Ae,K,_,Le],[S]),_e=VI(((a,n,r,l)=>function*(){a.saveLocalWorld(n),yield te,r.queueSnackbar(e(t,[`"${l}"`])),a.clearSaveLocalWorldTaskState(),Z()}),[e,te,Z,t],[S,m,w,Q]),Be=(0,l.useFacetCallback)(((e,t)=>()=>{b({button:"Play",screen:"EditWorld"}),e.worldHasBeenModified?(t.fireEventOptionsChanged($K.EditWorldScreen),_e()):(t.discardTrackedOptions(),Z())}),[Z,b,_e],[S,F]),We=(0,l.useFacetCallback)(((e,t)=>()=>{e.reloadWorld(t),Z()}),[Z],[S,m]),Ue=VI(((t,a,r,l)=>function*(){a.startDuplicateWorld(r),yield ae,a.clearDuplicateWorldTaskState(),t.queueSnackbar(e(n,[`"${l}"`])),E.goBack()}),[e,ae,n,E],[w,k,m,Q]),ze=(0,l.useFacetCallback)(((t,n,r,l)=>()=>{t.deleteWorld(r),n.queueSnackbar(e(a,[`"${l}"`])),E.goBack()}),[e,a,E],[k,w,m,Q]),je=(0,l.useFacetCallback)((e=>t=>{E.push(`/export-world/${e}/${t?cF.Template:cF.Regular}`)}),[E],[m]),He=VI(((a,n,r,l)=>function*(o){a.saveLocalWorld(n),yield te,a.clearSaveLocalWorldTaskState(),r.queueSnackbar(e(t,[`"${l}"`])),je(o)}),[e,te,t,je],[S,m,w,Q]),Ge=(0,r.useCallback)((()=>He(!0)),[He]),Ve=(0,l.useFacetCallback)((e=>()=>{e.worldHasBeenModified?W.show():je()}),[je,W],[S]),$e=(0,l.useFacetCallback)((e=>()=>{e.worldHasBeenModified?U.show():je(!0)}),[je,U],[S]),Xe=(0,l.useFacetCallback)(((e,t)=>a=>{e.loadWorld(t),je(a)}),[je],[S,m]),Ke=(0,r.useCallback)((()=>Xe(!0)),[Xe]),Ye=(0,l.useFacetMap)((e=>e.uploadWorldToRealmTaskState),[],[M]),qe=(0,l.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[M]),Qe=FH({worldId:qe,button:"PlayOnRealms",screen:"EditWorld",telemetryLocation:ih.EditWorld}),Je=VI(((e,t,a,n,r,l)=>function*(){if(b({button:"PlayOnRealm",screen:"EditWorld"}),r.isAnyBeta&&0===a.length&&0===n.length)H.show();else{if(l)return v({modal:"RealmsTrialMode",screen:"EditWorld"}),void G.show();d(!0),e.uploadWorldToRealm(t),yield Ye,e.clearUploadWorldToRealmTaskState(),Qe(),d(!0)}}),[b,d,Ye,Qe,H,v,G],[M,m,I,x,T,A]);(0,l.useFacetEffect)(((e,t)=>{e.choosePreviewRealm&&(0===t.length?E.push("/realms-choose-realm/realm-subscriptions"):E.push("/realms-choose-realm/preview-realms"))}),[E],[M,I]);const Ze=(0,l.useFacetMap)((e=>e.makeWorldInfiniteState),[],[k]),et=VI(((e,t,a)=>function*(){d(!0),b({button:"MakeWorldInfinite",screen:"EditWorld"}),e.makeWorldInfinite(t),yield Ze,e.clearMakeWorldInfiniteState(),a.queueSnackbar(i),d(!1)}),[Ze,d,i,b],[k,m,w]);(()=>{const e=(0,l.useSharedFacet)(dh),t=(0,l.useSharedFacet)(_F),{t:a}=ws("EditWorld");(0,l.useFacetEffect)(((e,t)=>{e.clearPlayerDataTaskState===HI.DONE&&(t.queueSnackbar(a(".clearPlayerDataToast")),e.resetClearPlayerData())}),[a],[t,e])})();const tt=(0,l.useFacetMap)((e=>e.isEditorWorld),[],[S]);(()=>{const e=TH(),t=(0,l.useSharedFacet)(dh),a=(0,l.useSharedFacet)(jF),n=(0,l.useFacetMap)((e=>e.worldPacksData),[],[a]),r=UH.useShowModal(),{t:o}=ah("EditWorld"),c=(0,l.useFacetCallback)((e=>t=>{var a,n,r,l,o,c,i,s;return null!==(a=null!==(n=null!==(r=null!==(l=null===(o=e.activeTexturePacks.find((e=>e.id===t)))||void 0===o?void 0:o.name)&&void 0!==l?l:null===(c=e.activeBehaviorPacks.find((e=>e.id===t)))||void 0===c?void 0:c.name)&&void 0!==r?r:null===(i=e.availableTexturePacks.find((e=>e.id===t)))||void 0===i?void 0:i.name)&&void 0!==n?n:null===(s=e.availableBehaviorPacks.find((e=>e.id===t)))||void 0===s?void 0:s.name)&&void 0!==a?a:"Pack"}),[],[n]),i=(0,l.useFacetCallback)(((e,t,a)=>n=>{const i=e.activatePack(t,n,BF.Behavior,!0);if(null!=i)r({errorCode:i});else{const e=c(n);a.queueSnackbar(o(".notificationToasts.addonPackActivated",[e===l.NO_VALUE?"Pack":e]))}}),[r,c,o],[a,e,t]),s=h(),u=(0,l.useFacetMap)((e=>e.get("packid")),[],[s]);(0,l.useFacetEffect)((e=>{null!=e&&i(e)}),[i],[u])})();const at=(0,l.useFacetCallback)(((e,t)=>a=>{null!=t&&e.clearPlayerData(a,t)}),[],[k,m]),nt=(0,l.useFacetMap)(((e,t)=>!(e||t)||t),[],[tt,A]),rt=(0,l.useFacetMap)((e=>e.startLocalWorldTaskState===HI.RUNNING),[],[y]);return r.createElement(eA.Provider,{value:ZO.EDIT},r.createElement(OK,{worldData:R,worldPacks:Y,worldPreviewImage:Te,worldSummary:D,isEditorWorld:tt,renderPage:(0,l.useFacetWrap)(!0),onActivatePack:Se,onDeactivatePack:Me,onChangePackPriority:we,onClickPackSettings:ke,onUnlockTemplateSettings:Pe,backButtonCallback:De,backButtonDisabled:u,onMakeWorldInfinite:et,onDuplicateWorld:fe,onDeleteWorld:ze,onEditThumbnail:me.show,onExportWorld:Ve,onExportTemplate:$e,onOptOut:xe,isSeedChangeLocked:(0,l.useFacetWrap)(!1),onClearPlayerData:j.show,sideMenuButtons:r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement(LY,{onPlayWorld:Be})),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:nt},r.createElement(tR.Item,null,r.createElement(DY,{onPlayOnRealms:Je,isRealmsButtonDisabled:Oe}))),r.createElement(RK,{isEditorWorld:tt}))}),r.createElement(vY,{editThumbnailModalMenu:me}),r.createElement(l.Mount,{when:_.isVisible},r.createElement(KK.Component,{saveChanges:Ne,closeModal:Re,discardChanges:E.goBack})),r.createElement(l.Mount,{when:X.isVisible},r.createElement(LH.Component,{activatePackModal:!0,onAccept:Ce,onCancel:X.hide})),r.createElement(l.Mount,{when:B.isVisible},r.createElement(KK.Component,{saveChanges:_e,closeModal:B.hide,discardChanges:We})),r.createElement(l.Mount,{when:z.isVisible},r.createElement(KK.Component,{saveChanges:pe,closeModal:z.hide,discardChanges:Ue})),r.createElement(l.Mount,{when:W.isVisible},r.createElement(KK.Component,{saveChanges:He,closeModal:W.hide,discardChanges:Xe})),r.createElement(l.Mount,{when:U.isVisible},r.createElement(KK.Component,{saveChanges:Ge,closeModal:U.hide,discardChanges:Ke})),r.createElement(l.Mount,{when:se.isVisible},r.createElement($H.Component,{packId:ue,type:"activate",onAccept:Ee,hideModal:se.hide})),r.createElement(l.Mount,{when:ie.isVisible},r.createElement($H.Component,{packId:ue,type:"deactivate",onAccept:be,hideModal:ie.hide})),r.createElement(l.Mount,{when:j.isVisible},r.createElement(zK.Component,{clearPlayerData:at,closeModal:j.hide})),r.createElement(l.Mount,{when:H.isVisible},r.createElement(DK.Component,{onClose:H.hide})),r.createElement(l.Mount,{when:rt},r.createElement(Jw.Component,{title:e(".startLocalWorldModal.title")})),r.createElement(l.Mount,{when:V.isVisible},r.createElement(AH.Component,{optOutCallback:Ie,closeModal:V.hide})),r.createElement(l.Mount,{when:G.isVisible},r.createElement(SY.Component,{worldSettingsMode:ZO.EDIT,onClose:G.hide})),r.createElement(l.Mount,{when:$.isVisible},r.createElement(NH.Component,{onClose:$.hide})),r.createElement(WY,{achievementsDisabledModal:K,onSaveWorld:Ne}),r.createElement(ee,null))};function WY({achievementsDisabledModal:e,onSaveWorld:t}){const a=cV();return r.createElement(l.Mount,{when:e.isVisible},r.createElement(BH.Component,{onClose:e.hide,onConfirm:t,reasons:a,isEditWorld:!0}))}function UY(){const e=p(),t=(0,l.useSharedFacet)(_F),a=(0,l.useSharedFacet)(dh),n=g(),o=(0,l.useFacetMap)((e=>decodeURIComponent(e.id)),[],[n]),c=(0,l.useFacetMap)((e=>e.type===cF.Regular),[],[n]),{t:i}=ws("EditWorld.exportWorldFlow"),{t:s}=ws("EditWorld.notificationToasts"),{t:u}=ws("ExportWorld.error"),d="narrow"===Sc(),[m,f]=(0,l.useFacetState)(!1),[E,b]=(0,l.useFacetState)(!1),[h,v]=(0,l.useFacetState)(!1),{generalData:F}=WK(),y=(0,l.useFacetMap)(((e,t)=>t&&e.isHardcore),[],[F,c]),S=(0,l.useFacetCallback)((t=>()=>{t.clearExportWorldResult(),e.goBack()}),[e],[t]),C=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[m,y]),M=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>{let l=OF.None;a&&(l|=OF.ClearPlayerData),n&&(l|=OF.ForceHardcoreMode),r?e.exportWorldAsTemplate(t,l):e.exportWorld(t,l)}),[],[t,o,C,E,h]);(0,l.useFacetEffect)(((e,t,a)=>{const n=e.exportWorldResult,r=s(a?".exportedTemplate":".exportedWorld");n===AF.Ok?(t.queueSnackbar(r),S()):n===AF.Cancelled&&e.clearExportWorldResult()}),[s,S],[t,a,h]);const w=(0,l.useFacetMap)((e=>e.exportWorldStatus===RF.Exporting),[],[t]),k=(0,l.useFacetMap)((e=>null!=e.exportWorldResult&&e.exportWorldResult!==AF.Ok&&e.exportWorldResult!==AF.Cancelled),[],[t]),P=(0,l.useFacetMap)((e=>i(e?".exportWorldLabel":".exportWorldTemplateLabel")),[i],[c]),T=(0,l.useFacetMap)((e=>e.exportWorldResult===AF.IncorrectWorldId?u(".incorrectWorldID.title"):u(".unknownError.title")),[u],[t]),I=(0,l.useFacetMap)((e=>i(e?".exportWorldNarration":".exportWorldTemplateNarration")),[i],[c]),x=(0,l.useFacetMap)((e=>i(e?".clearPlayerDataDescription.alreadyInHardcoreMode":".clearPlayerDataDescription")),[i],[y]),O=[i(".headerTitle"),i(".exportationSettingsGroup"),i(".headerDescription")].join(" . ");return r.createElement(r.Fragment,null,r.createElement(ay,null,r.createElement(bd,{text:I},r.createElement(BM,{onBackButton:S,center:r.createElement(Zi,{type:"header5A"},P),footer:d?r.createElement(zY,{isRegularExport:c,exportCallback:M,cancelCallback:S}):null,gamepadAlias:"export-world-flow"},r.createElement(ud,null,r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:1}),r.createElement(zM.Column,{wideSize:10,narrowSize:6},r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:dl()(xH)},r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,T))))),r.createElement(Vi,{size:2}),r.createElement("div",{className:dl()(xH)},r.createElement(bd,{text:O},r.createElement(wH,{title:i(".headerTitle"),description:i(".headerDescription")}),r.createElement(Vw,{title:i(".clearPlayerDataTitle"),description:x,value:m,onChange:f,disabled:y}),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(r.Fragment,null,r.createElement(Vw,{title:i(".exportHardcoreModeTitle"),description:i(".exportHardcoreModeDescription"),value:E,onChange:b}),r.createElement(Vw,{title:i(".exportAsTemplateTitle"),description:i(".exportAsTemplateDescription"),value:h,onChange:v})))),d?null:r.createElement(zY,{isRegularExport:c,exportCallback:M,cancelCallback:S}))),r.createElement(zM.Column,{wideSize:1,narrowSize:1}))))))),r.createElement(l.Mount,{when:w},r.createElement(BK.Component,null)))}function zY({exportCallback:e,cancelCallback:t,isRegularExport:a}){const n=Yr("neutral"),{t:o}=ws("EditWorld.exportWorldFlow"),c=(0,l.useFacetMap)((e=>o(e?".exportButtonLabel":".exportTemplateButtonLabel")),[o],[a]);return r.createElement(r.Fragment,null,r.createElement("div",{className:dl()("fa332c8330f2cf6830da",n.background.base)},r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(lm,{horizontal:!0,inputLegend:o(".cancel"),onClick:t,variant:"secondary",narrationSuffix:[o(".buttonsEnumaration",["1","2"]),o(".cancelHint")].join(" . ")},o(".cancel")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,inputLegend:c,onClick:e,variant:"primary",narrationSuffix:o(".buttonsEnumaration",["2","2"])},c)))))}function jY({index:e,data:t,onChange:a,checkingDisabled:n}){const[o,c]=(0,l.useFacetState)(!1),i=(0,l.useFacetCallback)((t=>n=>{n&&t||(a(e,n),c(n))}),[a,e,c],[n]);return r.createElement(Td,{title:(0,l.useFacetMap)((e=>e.message),[],[t]),description:(0,l.useFacetMap)((e=>e.author),[],[t]),value:o,onChange:i,disabled:(0,l.useFacetMap)((e=>!e.isAuthorBeingReported),[],[t])})}function HY({chatMessages:e,selectedMessages:t,setSelectedMessagesFacet:a,visible:n}){const{t:o}=ws("ReportPlayerRoute"),c=(0,l.useFacetWrap)(e),i=(0,l.useFacetWrap)(t),s=((e,t)=>(0,l.useFacetCallback)((e=>(a,n)=>{t((()=>{const t=[...e];if(n)t.length<4&&t.push(a);else{const e=t.findIndex((e=>e==a));e>-1&&t.splice(e,1)}return t}))}),[t],[e]))(i,a),u=(0,l.useFacetMap)((e=>e.length>=4),[],[i]);return r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(Ud,{narrationText:o(".chatSelectionPanel.title")},r.createElement(jd,null,o(".chatSelectionPanel.title")),r.createElement(Hd,null,o(".chatSelectionPanel.description")),r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:u},r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,o(".chatSelectionLimitReached")))),r.createElement(l.Map,{array:c},((e,t)=>r.createElement(jY,{index:t,data:e,onChange:s,checkingDisabled:u})))),r.createElement(Vi,{size:4})))}function GY({reportArea:e,onChangeReportArea:t,visible:a}){const{t:n}=ws("ReportPlayerRoute"),o=(0,l.sharedSelector)((e=>e.reportAreaOptions),[Oh]),c=(0,l.useFacetMap)((e=>e.map((e=>({label:n("."+e.label),value:e.value})))),[n],[(0,l.useSharedFacet)(o)]);return r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Ud,{narrationText:n(".areaPanel.title")},r.createElement(jd,null,n(".areaPanel.title")),r.createElement(Hd,null,n(".areaPanel.description")),r.createElement(Vi,{size:2}),r.createElement(WR,{title:n(".whereReport"),placeholderText:n(".whereReport"),options:c,value:e,onItemSelect:t,buttonTestId:"area-input-dropdown-button"}))))}function VY({gamertag:e,reportReason:t,availableOptions:a,onChangeReportReason:n,visible:o}){const{t:c}=ws("ReportPlayerRoute"),i=(0,l.useFacetMap)((e=>c(".whyReport",[e])),[c],[e]),s=(0,l.useFacetMap)((e=>c(".reasonPanel.title",[e])),[c],[e]);return r.createElement(r.Fragment,null,r.createElement(Ud,{narrationText:s},r.createElement(jd,null,s),r.createElement(Hd,null,c(".reasonPanel.description")),r.createElement(Vi,{size:2}),r.createElement(WR,{title:i,placeholderText:i,options:a,value:t,onItemSelect:n,buttonTestId:"reason-input-dropdown-button",disabled:(0,l.useFacetMap)((e=>!e),[],[o])})))}function $Y({onConfirm:e}){const{t}=ws("ReportPlayerRoute");return r.createElement(r.Fragment,null,r.createElement($m.Header,{onClose:e},t(".reportConfirmation.title")),r.createElement($m.Content,{scrollable:!1},r.createElement($m.Text,{narrationText:t(".reportConfirmation")},t(".reportConfirmation"))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",inputLegend:t(".next"),delayedClick:!0,onClick:e},t(".next")),r.createElement(Vi,{size:1})))}function XY({onConfirm:e,onCancel:t,gamertag:a}){const{t:n}=ws("ReportPlayerRoute"),o=(0,l.useFacetMap)((e=>n(".warningTitle",[e])),[n],[a]),c=(0,l.useFacetMap)((e=>n(".friendWarningText",[e])),[n],[a]);return r.createElement(r.Fragment,null,r.createElement($m.Header,{onClose:t},o),r.createElement($m.Content,{scrollable:!1},r.createElement($m.Text,{narrationText:n(".friendWarningText")},c)),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",inputLegend:n(".next"),delayedClick:!0,onClick:e},n(".warningReportAnyway")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".next"),delayedClick:!0,onClick:t},n(".cancel"))))}function KY({onConfirm:e,onCancel:t,gamertag:a}){const{t:n}=ws("ReportPlayerRoute"),o=(0,l.useFacetMap)((e=>n(".warningTitle",[e])),[n],[a]);return r.createElement(r.Fragment,null,r.createElement($m.Header,{onClose:t},o),r.createElement($m.Content,{scrollable:!1},r.createElement($m.Text,{narrationText:n(".reportLimitWarningText1")},n(".reportLimitWarningText1")),r.createElement($m.Text,{narrationText:n(".reportLimitWarningText2")},n(".reportLimitWarningText2"))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",inputLegend:n(".next"),delayedClick:!0,onClick:e},n(".warningReportAnyway")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".next"),delayedClick:!0,onClick:t},n(".cancel"))))}function YY(){const{t:e}=ws("ReportPlayerRoute"),t=Yr("inherit"),a=p(),n=h(),o=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("gamertag"))&&void 0!==t?t:""}),[],[n]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[n]),i=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("platformId"))&&void 0!==t?t:""}),[],[n]),s=(0,l.useFacetMap)((e=>"true"===e.get("isFriend")),[],[n]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("galleryScreenshotId"))&&void 0!==t?t:""}),[],[n]),d=(0,l.useFacetMap)((e=>""!=e),[],[c,o]),[m,f]=(0,l.useFacetState)(-1),[g,E]=(0,l.useFacetState)(-1),[b,v]=(0,l.useFacetState)(""),[F,y]=(0,l.useFacetState)(!1),[S,C]=(0,l.useFacetState)(!1),[M,w]=(0,l.useFacetState)(!1),[k,P]=(0,l.useFacetState)(!1),T=(0,l.useSharedFacet)(Oh),I=(0,l.useSharedFacet)(Rv),[x,O]=(0,l.useFacetState)([]),A=(0,l.sharedSelector)((e=>e.reportableChatMessages),[Oh]),N=(0,l.useSharedFacet)(A),R=(0,l.useFacetCallback)((e=>()=>{e.hasReachedReportLimit&&w(!0)}),[w],[T]),L=(0,l.useFacetCallback)((e=>()=>{e&&C(!0)}),[C],[s]),D=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{e.startReport(t,a,n),e.decideReportReasonOptions()}),[],[T,c,i,u]);(0,r.useEffect)((()=>{R(),L(),D()}),[R,L,D]);const _=(0,l.useFacetCallback)(((e,t)=>()=>{e.reportArea=t,e.decideReportReasonOptions()}),[],[T,m]);(0,l.useFacetEffect)((()=>{_(),E(-1),O([])}),[E,O,_],[m]);const B=(0,l.sharedSelector)((e=>e.reportReasonOptions),[Oh]),W=(0,l.useFacetMap)((t=>t.map((t=>({label:e("."+t.label),value:t.value})))),[e],[(0,l.useSharedFacet)(B)]),U=(0,l.useFacetCallback)((e=>t=>{e.loadGallery(t)}),[],[I]);(0,l.useFacetEffect)(((e,t)=>{""!==t&&f(6)}),[U,f],[c,u]);const z=e(".hideContent"),[j,H]=(0,l.useFacetState)(!1),G=(0,l.useFacetWrap)(""),V=(0,l.useFacetWrap)(""),$=(0,l.useFacetMap)((t=>e(".sidePanel.text",[t])),[e],[o]),X=(0,l.useFacetMap)(((e,t,a)=>{if(""!==a){const n=t.screenshots.slice().find((e=>e.id===a));return n?n.thumbnail:e.screenshot}return e.screenshot}),[],[T,I,u]),K=(0,l.useFacetWrap)(FB.STORY),Y=(0,l.useFacetCallback)(((e,t,a,n,r,l,o)=>()=>{a.reportArea=n,a.reportReason=r,a.reportMessage=l,a.selectedChatMessages=o,a.xuid=e,a.platformId=t,a.finishReport(),P(!0)}),[P],[c,i,T,m,g,b,x]),q=(0,l.useFacetMap)((e=>""===e),[],[u]),Q=(0,l.useFacetMap)((e=>4!==e&&6!==e),[],[m]),J=(0,l.useFacetMap)(((e,t,a,n,r)=>!a||-1===t&&r||-1===e&&n),[],[g,m,F,Q,q]),Z=(0,l.useFacetMap)(((e,t)=>0===e&&t.isChatAvailable()),[],[m,T]),ee=(0,l.useFacetCallback)((()=>()=>{C(!1)}),[C],[]),te=(0,l.useFacetCallback)((()=>()=>{w(!1)}),[w],[]),ae=a.goBack,ne=(0,l.useFacetCallback)((()=>()=>{C(!1),w(!1),ae()}),[ae,C,w],[]),re=(0,l.useFacetCallback)((()=>()=>{P(!1),ae()}),[ae,P],[]),le=(0,l.useFacetMap)((e=>e),[],[S]),oe=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[le,M]),ce=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[S,M,k]),ie=(0,l.useFacetMap)((t=>{const a=e(".reportPanel.narration.enumeration",["1","2"]);return t?[a,e(".reportPanel.narration.disabledHint")].join(" . "):a}),[e],[J]);return r.createElement(ZN,{onBack:ae,title:e(".title"),screenAnalyticsId:"ReportPlayer",gamepadAlias:"player-report"},(()=>r.createElement(zM,null,r.createElement(l.Mount,{when:ce},r.createElement($m,null,r.createElement(l.Mount,{when:le},r.createElement(XY,{gamertag:o,onConfirm:ee,onCancel:ne})),r.createElement(l.Mount,{when:oe},r.createElement(KY,{gamertag:o,onConfirm:te,onCancel:ne})),r.createElement(l.Mount,{when:k},r.createElement($Y,{onConfirm:re})))),r.createElement(Vi,{size:4}),r.createElement(zM.Row,null,r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d,condition:!1},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(aw,{title:e(".error.title"),text:e(".error.text"),buttons:[{text:e(".error.buttonText"),onClick:ae,inputLegend:e(".buttonLegend")}]}))),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:4,narrowSize:0},r.createElement("div",{className:dl()("a5df21a638eff8e561f7",t.border.base)},r.createElement(Vw,{title:z,value:j,onChange:H})),r.createElement(l.Mount,{when:j,condition:!1},r.createElement(yB,{sender:$,timestamp:G,content:V,image:X,containerType:K}))),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(ud,{floating:!0,delegateFocusFromMemory:!0},r.createElement("div",{className:dl()("a94aa98cf678e718133e",t.border.base)},r.createElement(GY,{reportArea:m,onChangeReportArea:f,visible:q}),r.createElement(HY,{chatMessages:N,selectedMessages:x,setSelectedMessagesFacet:O,visible:Z}),r.createElement(VY,{gamertag:o,reportReason:g,availableOptions:W,onChangeReportReason:E,visible:Q}),r.createElement(gm,{label:e(".commentPanel.title"),description:e(".commentPanel.description"),placeholder:e(".commentPanel.placeholder"),value:b,maxLength:350,rows:6,onChange:v}),r.createElement(Td,{title:e(".attestation"),value:F,onChange:y}),r.createElement(hD,{title:"",stackedButtons:!0,buttons:r.createElement(r.Fragment,null,r.createElement(lm,{variant:"destructive",inputLegend:e(".buttonLegend"),onClick:Y,narrationSuffix:ie,disabled:J},e(".report")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{variant:"secondary",inputLegend:e(".buttonLegend"),onClick:ae,narrationSuffix:e(".reportPanel.narration.enumeration",["2","2"])},e(".cancel")))})))))))),r.createElement(Vi,{size:4}),r.createElement(Lm.Space,null))))}function qY(e,t,a){return`/screenshot-details/${e}?sort=${t}&filter=${a}`}const QY="e50630ab37cab38d42cd",JY=As((({onClose:e,menuOptions:t,onItemSelect:a,title:n})=>{const o=(0,l.useFacetWrap)(n);return r.createElement(fP,{isOpen:!0,title:o,items:t,onClose:e,onItemSelect:a})})),ZY=As((({onClose:e,onConfirm:t})=>{const{t:a}=ws("ScreenshotDeleteModal");return r.createElement($m,null,r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".text")},a(".text"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{horizontal:!0,inputLegend:a(".cancel"),variant:"secondary",onClick:e},a(".cancel")),r.createElement(Vi,{size:1}),r.createElement(lm,{horizontal:!0,inputLegend:a(".delete"),variant:"destructive",onClick:t,"data-testid":"screenshotDeleteModalDeleteButton"},a(".delete"))))})),eq="delete-screenshots-error-close-button-wrapper",tq=As((({onClose:e})=>{const{t}=ws("ScreenshotDeleteErrorModal"),a=t(".text");return r.createElement($m,{defaultFocusAlias:eq},r.createElement($m.Header,{titlebarGamepadAlias:eq,onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a},a)),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".close"),variant:"secondary",onClick:e,horizontal:!0},t(".close"))))}));let aq;var nq;function rq({screenshot:e,index:t,length:a,onGoToIndex:n,screenshotNarrationSuffix:o,variant:c}){const{t:i}=ws("ScreenshotDetailsSideMenu"),{t:s}=ws("ScreenshotDetailsSideMenu.narration"),u=JY.useModal(),d=p(),m=(0,l.useSharedFacet)(Nv),f=(0,l.useSharedFacet)(Wv),g=JY.useModal(),E=[{label:i(".shareOptions.shareToExternal"),value:nq.ShareToExternal,gamepadAlias:"share-menu-modal-option-1",enumeration:i(".shareOptions.enumeration",["1","2"])},{label:i(".shareOptions.postToRealmsStories"),value:nq.PostToRealmsStories,gamepadAlias:"share-menu-modal-option-2",enumeration:i(".shareOptions.enumeration",["2","2"])}],b=(0,l.useFacetCallback)(((e,t)=>a=>{null!=t&&(g.hide(),a===nq.ShareToExternal?e.shareFile(i(".shareTitle"),i(".shareText"),t.filePath):d.push(`/post-to-realm-stories?screenshotId=${t.id}`))}),[g,d,i],[f,e]),h=(0,l.useFacetCallback)((e=>()=>{e.isShareSupported?g.show():b(nq.PostToRealmsStories)}),[g,b],[f]),v=ZY.useModal(),F=(0,l.useFacetMap)((e=>e.deleteScreenshotsError),[],[m]),y=(0,l.useFacetMap)((e=>e===Av.HttpError),[],[F]),S=(0,l.useFacetCallback)((e=>e.clearDeleteScreenshotsError),[],[m]),C=(0,r.useCallback)((e=>{n(e-1)}),[n]),M=(0,l.useFacetMap)((e=>e+1),[],[t]),w=Yr("neutral80"),k=r.createElement(Vi,{size:3}),P=(0,l.useFacetMap)((e=>e>=2),[],[a]),T=function(){const e=Rd(Nb),{t}=ws("ScreenshotDetailsSideMenu");return(0,l.useFacetMap)((a=>{let n=e?2:1;const r=[];return a.isInGame||(n+=1,r.push({label:t(".deviceStorage"),value:aq.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:t(".optionsEnumeration",["1",n.toString()])})),r.push({label:t(".deleteScreenshot"),value:aq.DeleteScreenshot,gamepadAlias:"screenshot-manage-menu-options-2",enumeration:t(".optionsEnumeration",[`${r.length+1}`,n.toString()])}),e&&r.push({label:t(".setWorldThumbnail"),value:aq.SetWorldThumbnail,gamepadAlias:"screenshot-manage-menu-options-3",enumeration:t(".optionsEnumeration",[`${r.length+1}`,n.toString()])}),r}),[t,e],[(0,l.useSharedFacet)(Kb)])}(),I=(0,l.useFacetCallback)((e=>t=>{if(u.hide(),null!=e)switch(t){case aq.DeviceStorage:d.push("/settings/storage");break;case aq.DeleteScreenshot:v.show();break;case aq.SetWorldThumbnail:d.push(`/set-world-thumbnail/${e.id}`)}}),[u,d,v],[e]),x=(0,l.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[e]),O=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[e]),A=(0,l.useFacetMap)((e=>{let t="manage"===c?3:2;return e&&(t+=2),t}),[c],[P]),N=fU.useModal(),R=(0,l.useFacetMap)(((e,t)=>`${i(".narration.fullImage")} . ${t}`),[i],[t,o]),L=(0,l.useFacetCallback)(((e,t,a)=>()=>{null!=a&&(v.hide(),e.deleteScreenshots([a.id]),t.queueSnackbar(i(".screenshotDeleted")),d.goBack())}),[d,v,i],[m,(0,l.useSharedFacet)(dh),e]);return r.createElement(r.Fragment,null,r.createElement(tR,{spacingAroundSideMenu:k},r.createElement(l.Unwrap,{data:A},(t=>r.createElement(r.Fragment,null,"manage"===c?r.createElement(lq,{showFullImageModal:N.show,showManageMenuModal:u.show,onShareButtonClicked:h,numButtons:t}):r.createElement(oq,{screenshot:e,showFullImageModal:N.show,numButtons:t.toString()}),r.createElement(l.Mount,{when:P},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement("div",{className:dl()("ef4f08710023a4714ba5",w.bevel.base)}),r.createElement("div",{className:dl()("c2e178836a95994fafde",w.background.base,w.bevel.base)},r.createElement(FO,{totalPages:a,currentPage:M,onChange:C,counterStyle:"index-counter-no-border",unlockMaxWidth:!0,narrateContextOnChange:!0,narrateTotalOnChange:!1,prevNarrationSuffix:[s(".buttonRole"),s(".enumeration",[""+(t-1),t.toString()]),s(".previousScreenshotHint"),s(".moveToRightHint")].join(" . "),nextNarrationSuffix:[s(".buttonRole"),s(".enumeration",[`${t}`,t.toString()]),s(".showNextScreenshotHint")].join(" . "),triggerShortcuts:!0})))))))),r.createElement(l.Mount,{when:N.isVisible},r.createElement(fU.Component,{src:O,isLoading:x,onClose:N.hide,closeInputLegend:i(".fullImageBack"),closeNarration:i(".fullImageBack"),narrationText:R})),"manage"===c&&r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u.isVisible},r.createElement(JY.Component,{onClose:u.hide,menuOptions:T,onItemSelect:I,title:i(".manage")})),r.createElement(l.Mount,{when:v.isVisible},r.createElement(ZY.Component,{onClose:v.hide,onConfirm:L}))),r.createElement(l.Mount,{when:g.isVisible},r.createElement(JY.Component,{onClose:g.hide,menuOptions:E,onItemSelect:b,title:i(".share")})),r.createElement(l.Mount,{when:y},r.createElement(tq.Component,{onClose:S})))}function lq({showFullImageModal:e,showManageMenuModal:t,onShareButtonClicked:a,numButtons:n}){const{t:l}=ws("ScreenshotDetailsSideMenu.narration"),{t:o}=ws("ScreenshotDetailsSideMenu");return r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement(lm,{inputLegend:o(".share"),onClick:a,variant:"primary",linebreak:!0,narrationPrefix:o(".share"),narrationSuffix:l(".enumeration",["1",n.toString()])},o(".share"))),r.createElement(Vi,{size:1}),r.createElement(tR.Item,null,r.createElement(lm,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:l(".enumeration",[""+(n-3),n.toString()]),onClick:e},o(".fullImage"))),r.createElement(Vi,{size:1}),r.createElement(tR.Item,null,r.createElement(lm,{onClick:t,inputLegend:o(".manage"),narrationPrefix:o(".manage"),narrationSuffix:l(".enumeration",[""+(n-2),n.toString()]),variant:"secondary",linebreak:!0},o(".manage"))),r.createElement(Vi,{size:1}))}function oq({screenshot:e,showFullImageModal:t,numButtons:a}){const{t:n}=ws("ScreenshotDetailsSideMenu.narration"),{t:o}=ws("ScreenshotDetailsSideMenu"),c=p(),i=(0,l.useFacetCallback)(((e,t)=>()=>{const a=e.relation===kh.TwoWayFriend||e.relation===kh.Following;c.push(lN(e.xuid,e.playerName,a,"",null==t?void 0:t.id))}),[c],[Az(),e]);return r.createElement(tR.Item,null,r.createElement(lm,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:n(".enumeration",["1",a]),onClick:t},o(".fullImage")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:o(".report"),variant:"secondary",linebreak:!0,narrationPrefix:o(".report"),narrationSuffix:n(".enumeration",["2",a]),onClick:i},o(".report")))}function cq({title:e,screenshot:t,index:a,length:n,onGoToIndex:o,screenshotNarrationSuffix:c,variant:i}){const s=Yr(),{t:u}=ws("ScreenshotDetailsLayout"),{t:d}=ws("ScreenshotDetailsLayout.narration"),m=Rd(Nb),p=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.showcased)&&void 0!==t&&t}),[],[t]),f=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.featured)&&void 0!==t&&t}),[],[t]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[t]),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.captureTimeLabel)&&void 0!==t?t:""}),[],[t]),b=(0,l.useFacetMap)(((e,t,a)=>`${d(".screenshotEnumeration",[(e+1).toString(),t.toString()])} . ${a}`),[d],[a,n,c]),h=(0,l.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[t]),v={paddingTop:pu.aspectRatioToPercentage(pu.AspectRatio["16:9"])},F=(0,l.useSharedFacet)(_l),y=(0,l.useFacetMap)((e=>e.platform),[],[F]),S=(0,l.useFacetMap)((e=>!xI(e)),[],[y]),C=(0,l.useFacetMap)(((e,t,a)=>m&&(t||a)||e),[m],[S,p,f]);return r.createElement(ZN,{title:e,screenAnalyticsId:"ScreenshotDetails",gamepadAlias:"screenshot-details"},(()=>r.createElement(bd,{text:b},r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(rq,{screenshot:t,index:a,length:n,onGoToIndex:o,screenshotNarrationSuffix:c,variant:i})),r.createElement(zM.Column,{wideSize:8,narrowSize:5},r.createElement(Vi,{size:3}),r.createElement("div",{className:dl()("ea5c994f031002b30075",QY,s.neutral.border.base,s.neutral80.background.base)},r.createElement(l.Mount,{when:h},r.createElement("div",{className:"c78a9c8efb1e3668d45d",style:v},r.createElement(id,null))),r.createElement(l.Mount,{when:h,condition:!1},r.createElement(pu,{className:"ddbd3c0739d50157266f",src:g,aspectRatio:pu.AspectRatio["16:9"]}))),r.createElement(l.Mount,{when:C},r.createElement("div",{className:dl()("d0a5a19145b759c1ac55",QY,s.neutral.background.base,s.neutral.border.base)},r.createElement("div",null,r.createElement(l.Mount,{when:S},r.createElement(Zi,{variant:"dimmer",type:"body"},E))),m&&r.createElement("div",{className:dl()("e7af01d22652a8248cba")},r.createElement(Vi,{size:7}),r.createElement(l.Mount,{when:p},r.createElement("div",{className:"c7f25228d474fd96ae71"},r.createElement(LM.Friends,{role:"neutral",width:24,height:24}))),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:f},r.createElement("div",{className:dl()("a887e3548e7635a1beee",s.primaryTint.background.base)},r.createElement(Zi,{role:"noticeTint",type:"captionShort"},u(".featured")))))))))))))}function iq(e){const{t}=ws("ScreenshotDetailsLayout"),{t:a}=ws("ScreenshotDetailsLayout.narration"),n=(0,l.useSharedFacet)(_l),r=(0,l.useFacetMap)((e=>e.platform),[],[n]),o=(0,l.useFacetMap)((e=>!xI(e)),[],[r]),c=(0,l.useFacetWrap)(e);return(0,l.useFacetMap)(((e,n)=>{if(null==n)return"";const r=n.captureTimeLabel,l=n.featured,o=n.showcased,c=e&&null!=r?[a(".screenshotHint",[`${r}`])]:[];return l?c.push(t(".featured")):o&&c.push(a(".showcased")),c.join(" . ")}),[a,t],[o,c])}function sq(){const{t:e}=ws("ScreenshotDetailsRoute"),t=(0,l.useSharedFacet)(Nv),a=p(),n=f(),o=g(),c=h();(0,l.useFacetEffect)(((e,t)=>{e&&t.count<=0&&a.goBack()}),[a],[n,t]);const i=(0,l.useFacetMap)((e=>e.id),[],[o]),[s,u]=(0,l.useFacetState)(Gz.NewestFirst),[d,m]=(0,l.useFacetState)(Vz.ShowAll);(0,l.useFacetEffect)((e=>{e.has("sort")&&e.has("filter")&&(u(Number(e.get("sort"))),m(Number(e.get("filter"))))}),[u,m],[c]);const E=function(e,t,a){return(0,l.useFacetMap)(((e,t,a)=>{let n=nx(e);switch(t===Gz.NewestFirst?n.sort(((e,t)=>t.captureTime-e.captureTime)):n.sort(((e,t)=>e.captureTime-t.captureTime)),a){case Vz.Showcased:n=n.filter((e=>e.showcased));break;case Vz.Featured:n=n.filter((e=>e.featured));break;case Vz.Unmarked:n=n.filter((e=>!e.showcased&&!e.featured))}return n}),[],[e,t,a])}((0,l.useFacetMap)((e=>e.screenshots),[],[t]),s,d),b=(0,l.useFacetMap)(((e,t)=>e.find((e=>e.id===t))),[],[E,i]),v=(0,l.useFacetMap)(((e,t)=>null!=t?e.indexOf(t):-1),[],[E,b]),F=(0,l.useFacetMap)((e=>e.length),[],[E]),y=(0,l.useFacetCallback)(((e,t,n)=>r=>{if(r>=0&&r<e.length){const l=e[r].id;a.replace(qY(l,t,n))}}),[a],[E,s,d]),S=iq(b);return r.createElement(cq,{title:e(".title"),screenshot:b,index:v,length:F,onGoToIndex:y,screenshotNarrationSuffix:S,variant:"manage"})}!function(e){e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshot=2]="DeleteScreenshot",e[e.SetWorldThumbnail=3]="SetWorldThumbnail"}(aq||(aq={})),function(e){e[e.ShareToExternal=1]="ShareToExternal",e[e.PostToRealmsStories=2]="PostToRealmsStories"}(nq||(nq={}));const uq="dfe3d0ee824373994871",dq=a.p+"assets/info-icon-4cdb89a6333acdc26201.png",mq=a.p+"assets/manage-icon-4558c1dd329badc5712c.png",pq="screenshot-gallery-modal-close-button-wrapper",fq=As((({onClose:e})=>{const{t}=ws("ScreenshotGalleryInfoModal"),a=aj();return r.createElement($m,{defaultFocusAlias:pq},r.createElement($m.Header,{titlebarGamepadAlias:pq,onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement(l.Unwrap,{data:a},(e=>r.createElement(r.Fragment,null,r.createElement("div",{className:"c0ea6f59afe4ff6d3ddb"},e.icon),r.createElement($m.Text,{narrationText:e.narration},e.text))))))})),gq="lyc-modal-cancel",Eq=As((({deleteScreenshots:e,onClose:t,plural:a,hasShowcased:n,hasFeatured:l})=>{const{t:o}=ws("ScreenshotGalleryRoute.deleteScreenshotsModal"),c=o(a?".messagePlural":".message"),i=[];n&&i.push(o(".showcasedMessage")),l&&i.push(o(".featuredMessage")),i.push(c);const s=i.join(" . ");return r.createElement($m,{onOverlayClick:t,defaultFocusAlias:gq},r.createElement($m.Header,{onClose:t},o(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:s},n&&r.createElement(Zi,{children:o(".showcasedMessage"),type:"captionLong"}),l&&r.createElement(Zi,{children:o(".featuredMessage"),type:"captionLong"}),r.createElement(Zi,{children:c,type:"captionLong"}))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:o(".cancelButton"),variant:"secondary",onClick:t},o(".cancelButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:o(".deleteButton"),variant:"destructive",onClick:e,gamepadAlias:gq},o(".deleteButton"))))}));var bq;function hq(){const{t:e}=ws("ScreenshotGalleryRoute"),t=(0,r.useRef)(null),a=uj(),n=(0,l.useSharedFacet)(dh),o=(0,l.useSharedFacet)(Nv),c=Eq.useModal(),i=JY.useModal(),s=fq.useModal(),u=p(),d=(0,l.useSharedFacet)(FF),m=(0,r.useCallback)(((e,t,a)=>{u.push(qY(e.id,t,a))}),[u]),[f,g]=(0,l.useFacetState)(!0),[E,b]=(0,l.useFacetState)(!1),[v,F]=(0,l.useFacetState)([]),y=(0,l.useFacetMap)((e=>e.deleteScreenshotsError),[],[o]),S=(0,l.useFacetMap)((e=>e===Av.HttpError),[],[y]),C=(0,l.useFacetCallback)(((t,a,n)=>()=>{t.deleteScreenshots(n),a.queueSnackbar(e(1===n.length?".deleteScreenshotSnack":".deleteScreenshotSnackPlural",[n.length.toString()])),c.hide(),b(!1)}),[c,b,e],[o,n,v]),M=function(e){const t=(0,l.useSharedFacet)(Nv);return(0,l.useFacetMap)(((e,t)=>{const a=e.screenshots.filter((e=>e.showcased)).some((e=>t.includes(e.id)));let n=!1;const r=e.screenshots.find((e=>e.featured));return null!=r&&t.includes(r.id)&&(n=!0),{hasShowcased:a,hasFeatured:n,plural:1!==t.length}}),[],[t,e])}(v),w=(0,r.useCallback)((e=>{F(e),c.show()}),[c,F]),k=(0,l.useFacetMap)((t=>e(t?".deleteScreenshots":".screenshotGalleryHeader")),[e],[E]),P=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[o]),T=(()=>{const e=wI();return(0,r.useCallback)(((t,a,n,r,l)=>{e("ScreenshotGalleryLoaded",{profileXuid:{value:t,privacyTag:zv.EUPI},relationToCurrentUser:{value:a,privacyTag:zv.SystemMetadata},numberOfScreenshots:{value:n,privacyTag:zv.SystemMetadata},numberOfShowcased:{value:r,privacyTag:zv.SystemMetadata},hasFeatured:{value:l,privacyTag:zv.SystemMetadata}})}),[e])})();(0,l.useFacetEffect)(((e,t,a,n)=>{if(a&&!e.isLoadGalleryInProgress){const t=e.screenshots.some((e=>e.featured));T(n.currentXuid,Number(kh.Self),e.count,e.screenshots.filter((e=>e.showcased)).length,t),g(!1)}}),[T,g],[o,h(),f,d]);const I=(0,l.useFacetMap)((t=>{const a=[];t.isInGame||a.push({label:e(".deviceStorage"),value:bq.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-0",enumeration:e(".optionsEnumeration",["1","2"])});const n=a.length;return a.push({label:e(".deleteScreenshotsButton"),value:bq.DeleteScreenshots,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:e(".optionsEnumeration",[`${n+1}`,`${n+1}`])}),a}),[e],[(0,l.useSharedFacet)(Kb)]),x=Rd(Nb),O=x?3:2,A="narrow"==Sc(),N=(0,r.useCallback)((e=>{switch(i.hide(),e){case bq.DeleteScreenshots:b(!0);break;case bq.DeviceStorage:u.push("/settings/storage")}}),[i,b,u]),R=(0,l.useFacetMap)((e=>e.undownloadedCount),[],[o]),L=(0,l.useFacetMap)(((e,t,a)=>e>0&&a&&e+t.count>t.maxScreenshots),[],[R,o,(0,l.useFacetWrap)(x)]),D=(0,l.useFacetMap)(((t,a)=>e(".galleryFullWarning",[""+(t+a.count-a.maxScreenshots)])),[e],[R,o]),_=(0,l.useFacetCallback)((e=>e.clearDeleteScreenshotsError),[],[o]);return r.createElement(r.Fragment,null,r.createElement(sj,{headerText:k,showHeaderNumbers:!0,onScreenshotClicked:m,screenshotLists:a,scrollViewRef:t,isLoadingScreenshots:P,banner:r.createElement(l.Mount,{when:L},r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,D),r.createElement(xO.Link,{onClick:()=>b(!0)},e(".deleteScreenshotsLink"))))),managementRowButtons:r.createElement("div",{className:dl()("da680cb9e8b3353c09b4",!A&&"c1d4f12e1f61607657d3")},x&&r.createElement(r.Fragment,null,r.createElement("div",{className:dl()(A?"eacfee6872e2a9567832":"e2dbf96ee1693dc52c29")},r.createElement(lm,{narrationPrefix:e(".manageShowcase"),inputLegend:e(".manageShowcase"),Icon:LM.Album,narrationSuffix:e(".optionsEnumeration",["1",`${O}`]),onClick:()=>u.push("/manage-showcase"),disabled:L},e(".manageShowcase"))),r.createElement(Vi,{size:2})),r.createElement("div",{className:dl()("c0669e7960e7ab10ace8",!A&&"e47cd0c7e5bffdf6c16e")},r.createElement("div",{className:uq},r.createElement(lm,{inputLegend:e(".info"),narrationPrefix:e(".info"),imgSrc:dq,onClick:s.show,narrationSuffix:e(".optionsEnumeration",[""+(O-1),`${O}`])})),r.createElement(Vi,{size:2}),r.createElement("div",{className:uq},r.createElement(lm,{inputLegend:e(".moreOptions"),narrationPrefix:e(".moreOptions"),imgSrc:mq,onClick:i.show,narrationSuffix:e(".optionsEnumeration",[`${O}`,`${O}`]),"data-testid":"screenshot-gallery-route-more-options"})))),onSubmitSelection:w,onCancelSelection:()=>b(!1),selectionType:"delete",selectionEnabled:E}),r.createElement(l.Mount,{when:i.isVisible},r.createElement(JY.Component,{onClose:i.hide,menuOptions:I,onItemSelect:N,title:e(".galleryOptions")})),r.createElement(l.Unwrap,{data:M},(e=>r.createElement(l.Mount,{when:c.isVisible},r.createElement(Eq.Component,{deleteScreenshots:C,onClose:c.hide,plural:e.plural,hasShowcased:e.hasShowcased,hasFeatured:e.hasFeatured})))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(fq.Component,{onClose:s.hide})),r.createElement(l.Mount,{when:S},r.createElement(tq.Component,{onClose:_})))}function vq(){const{t:e}=ws("GuidedCreateWorldRoute"),t=Cl();return r.createElement(r.Fragment,null,r.createElement(ay,null,r.createElement(BM,{left:r.createElement(BM.BackButton,{onClick:()=>t.goBack()}),center:r.createElement(Zi,{type:"header5A"},e(".title")),gamepadAlias:"guided-create-world-route"},r.createElement(r.Fragment,null))))}!function(e){e[e.ManageShowcased=0]="ManageShowcased",e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshots=2]="DeleteScreenshots"}(bq||(bq={}));const Fq="de90f7f4da3ea5be069d";function yq(){return yq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},yq.apply(null,arguments)}function Sq({variant:e,featuredScreenshot:t,featuredScreenshotEmptyImgSrc:a,showFeaturedSpinner:n=!1,showEmptyShowcasedSpinner:o=!1,nonFeaturedScreenshots:c,onScreenshotSlotClick:i}){const{t:s}=ah("ScreenshotShowcaseGrid.narration"),u=Sc(),d=(0,l.useFacetWrap)(5),m=(0,l.useFacetWrap)(n),p=(0,l.useFacetWrap)(o),f=(0,l.useFacetMap)((e=>null==e),[],[t]),g=(0,l.useFacetMap)((e=>e.length>4?4:e.length),[],[c]),E=(0,l.useFacetCallback)(((e,t)=>a=>{0!==a?t.length>0&&a-1<t.length?i(a,t[a-1]):i(a):i(0,e)}),[i],[t,c]),b="narrow"!==u?{height:9.4,width:16}:void 0,h="manage"===e?s(".featuredScreenshotHint"):"",v="manage"===e?s(".showcasedScreenshotHint"):"",F="manage"===e?[s(".gridTitle"),s(".gridRole"),s(".gridHint")].join(" . "):[s(".gridTitle"),s(".gridRole")].join(" . "),y=(0,l.useFacetMap)(((t,a)=>Array.from({length:4-t},((n,r)=>{const l="manage"===e&&0===r?"manage":"view",o=1+t+r;return{variant:l,index:o,onClick:()=>E(o),loading:0===r&&a,narrationSuffix:"manage"===l?v:"",gamepadAlias:`showcase-grid-item-${o}`}}))),[e,E,v],[g,p]);return r.createElement(bd,{text:F},r.createElement("div",{className:dl()({e47f44df85e99c8993c0:"narrow"!==u,ccfb91ec8284c35def5c:"narrow"===u})},r.createElement("div",{className:dl()({bad4bcf17683348dd8e9:"narrow"!==u})},r.createElement(l.With,{data:t},(t=>r.createElement(Uz,{length:d,screenshot:t,index:0,onScreenshotClicked:()=>E(0),variant:e,loading:m,gamepadAlias:"showcase-grid-item-0",narrationSuffix:h}))),r.createElement(l.Mount,{when:f},r.createElement(Uz.Empty,{imgSrc:a,length:d,index:0,onClick:()=>E(0),variant:e,loading:m,gamepadAlias:"showcase-grid-item-0",narrationSuffix:h,featured:!0}))),"narrow"===u&&r.createElement(Vi,{size:2}),r.createElement("div",{className:dl()("ef37ebcd5bda08d4c4e2",{ce59c03f286df75e47a8:"narrow"!==u})},r.createElement(l.Map,{array:c},((t,a)=>a>=4?null:r.createElement("div",{className:Fq},r.createElement(Uz,{length:d,screenshot:t,onScreenshotClicked:()=>E(a+1),variant:e,index:a+1,gamepadAlias:`showcase-grid-item-${a+1}`,narrationSuffix:v,imageAspectRatioOverride:b})))),r.createElement(l.Unwrap,{data:y},(e=>r.createElement(r.Fragment,null,e.map(((e,t)=>r.createElement("div",{className:Fq,key:t},r.createElement(Uz.Empty,yq({length:d,imageAspectRatioOverride:b},e)))))))))))}function Cq(e,t){return`/showcase-details/${e}?${Oz(t)}`}function Mq(){const{t:e}=ws("ScreenshotShowcaseRoute"),t=p(),a=(0,l.useSharedFacet)(Rv),n=h(),o=f(),c=(0,l.useFacetCallback)((e=>t=>{e.loadGallery(t),e.loadFeaturedScreenshot(t)}),[],[a]);(0,l.useFacetEffect)(((e,t)=>{var a;e.has("xuid")&&t&&c(null!==(a=e.get("xuid"))&&void 0!==a?a:"")}),[c],[n,o]);const i=(0,l.useFacetMap)((t=>{var a;return e(".header",[null!==(a=t.get("playerName"))&&void 0!==a?a:""])}),[e],[n]),s=(0,l.useFacetMap)((e=>e.screenshots.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[a]),u=(0,l.useFacetMap)((e=>e.isLoadingScreenshots||e.isLoadingFeaturedScreenshot),[],[a]),d=(0,l.useFacetMap)((e=>e.find((e=>e.featured))),[],[s]),m=(0,l.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[s]),g=YU((0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[n])),E=(0,l.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[a]),b=(0,l.useFacetCallback)((e=>(a,n)=>{if(null!=n){n.showcased&&E(n.id);const a=Cq(n.id,e);t.push(a)}}),[t,E],[Az()]);return r.createElement(ZN,{title:i,screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"screenshot-showcase-scroll-view"},(()=>r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(l.Mount,{when:u},r.createElement(Vi,{size:2})),r.createElement(ud,{loading:u,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"screenshot-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},r.createElement(Vi,{size:2}),r.createElement(Sq,{variant:"view",featuredScreenshot:d,featuredScreenshotEmptyImgSrc:g,nonFeaturedScreenshots:m,onScreenshotSlotClick:b}),r.createElement(Vi,{size:2})),r.createElement(l.Mount,{when:u},r.createElement(Vi,{size:2})))))))}function wq(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kq(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wq(Object(a),!0).forEach((function(t){Pq(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wq(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pq(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Tq=a.p+"assets/missing_image_asset-c4690201d0408a39765f.png",Iq=e=>null!=e.image&&""!=e.image;function xq({template:e,onSelect:t,inputLegend:a}){const n=(0,l.useFacetCallback)((e=>()=>{t(e.seedValue,e.image)}),[t],[e]),o=(0,l.useFacetMap)((e=>e.title),[],[e]),c=(0,l.useFacetMap)((e=>Iq(e)),[],[e]),i=(0,l.useFacetMap)((e=>Iq(e)?e.image:Tq),[],[e]),{t:s}=ws("SeedTemplateCard"),{background:u}=Yr("neutral80");return r.createElement(r.Fragment,null,r.createElement(pW,{inputLegend:a,narrationSuffix:s(".narrationSuffix"),onClick:n},r.createElement(l.Mount,{when:c},r.createElement(pu,{src:i,aspectRatio:pu.AspectRatio["16:9"]})),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(pu,{src:i,aspectRatio:pu.AspectRatio["16:9"],className:dl()("fc0bd2f92966efe8169c",u.base),imageRendering:"pixelated"})),r.createElement(pW.Information,{narrationText:o},r.createElement(Zi,{type:"body",verticalAlign:"center"},o))))}const Oq=a.p+"assets/creeper-cropped-9e281d5900185e023433.png",Aq=(0,l.createFacet)({initialValue:{templates:[]}}),Nq=e=>null!=e.image&&e.image.length>0;function Rq(){const{t:e}=ws("SeedTemplatesRoute"),t=Vu(),a=Cl(),n=Sc(),o=Nw({wide:8,narrow:6,width:260}),c=(0,l.useFacetMap)((e=>e?"fc5bc4a1edbfdf849d6f":"c1d73df6d38efaf23e4e"),[],[o]),i=(0,l.useSharedFacet)(Bv),s=t?Aq:i,u=(0,l.useFacetMap)((e=>{if(!e.templates.length)return!1;if(e.templates.length>=9){for(let t=0;t<e.templates.length;t++){const a=e.templates[t];if(null==a.image||!a.image.length)return!1}return!0}return function(e,t){for(let t=0;t<e.length;t++)if(!(null!=(a=e[t]).image&&a.image.length>0))return!1;var a;return!0}(e.templates)}),[],[s]),[d,m]=(0,l.useFacetState)(!1);(0,r.useEffect)((()=>{const e=setTimeout((()=>m(!0)),1250);return()=>clearTimeout(e)}),[m]);const p=(0,l.useFacetMap)((e=>e.failedToFetch),[],[i]),f=(0,l.useFacetMap)(((e,t,a,n)=>{if(n)return[];const r=[];if(a||t)for(let t=0;t<e.templates.length;t++){const a=e.templates[t];r.find((e=>e.seedValue===a.seedValue))||r.push(a)}return r}),[],[s,d,u,p],(()=>()=>!1)),g=function(e,t){const a=(0,l.useFacetWrap)(e),n=(0,r.useRef)({}),[o,c]=(0,l.useFacetState)(!0),i=(0,r.useRef)(null);return(0,l.useFacetLayoutEffect)((e=>{if(i.current&&document.body.removeChild(i.current),i.current=null,n.current=e.reduce(((e,t)=>kq(kq({},e),{},{[t]:!1})),{}),e.filter((e=>e.length>0)).length){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",i.current=t,e.forEach((a=>{const r=new Image;r.src=a,r.addEventListener("load",(t=>()=>{n.current[t]=!0;const a=Object.values(n.current);a.length===e.length&&a.every((e=>e))&&c(!1)})(a)),t.appendChild(r)})),document.body.appendChild(t)}return()=>{i.current&&document.body.removeChild(i.current),i.current=null}}),[c],[a]),(0,r.useEffect)((()=>{let e;return null!=t&&(e=setTimeout((()=>c(!1)),t)),()=>{null!=e&&clearTimeout(e)}}),[t,c]),o}((0,l.useFacetMap)((e=>{const t=e.filter(Nq).map((e=>e.image));return e.length&&t.push(Tq),t}),[],[f]),8e3),E=(0,l.useFacetMap)(((e,t,a)=>!!a||!e&&t.templates.length>0&&!a),[],[g,s,p]),b=Rw(E,1e4),h=(0,l.useFacetMap)(((e,t)=>e||t),[],[p,b]),v=Rw(E,1500),F=(0,l.useFacetMap)(((e,t)=>e&&t),[],[v,g]),y=(0,l.useFacetCallback)((e=>(t,n)=>{e.worldData.advanced.worldSeed=t,e.worldPreviewImagePath=n,a.goBack()}),[a],[(0,l.useSharedFacet)(gb)]);return r.createElement(r.Fragment,null,r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(l.Mount,{when:F},r.createElement(ty,{text:e(".narration.loadingMessage")})),r.createElement(ay,null,r.createElement(BM,{onBackButton:a.goBack,center:r.createElement(Zi,{type:"header5A"},e(".title")),gamepadAlias:"seed-layout-content",delegateByAlias:"seed-templates-grid",delegateFocusFromMemory:!0},r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(l.Mount,{when:h},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:2,narrowSize:0}),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(Vi,{size:6}),r.createElement(aw,{imgSrc:Oq,imgClass:c,title:e(".errorMessageTitle"),text:e(".errorMessageBody"),buttons:[{text:e(".errorBackButtonText"),inputLegend:e(".errorBackButtonInputLegend"),gamepadAlias:"seed-temp-empty-state",onClick:()=>a.goBack()}]}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0})))),r.createElement(l.Mount,{when:h,condition:!1},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(U_,{gamepadAlias:"seed-templates-grid",loading:(0,l.useFacetMap)((e=>!e),[],[E]),data:f,columns:"narrow"===n?2:3,firstRowSeparatorVertical:r.createElement(Vi,{size:4}),itemSeparatorHorizontal:r.createElement(Vi,{size:"narrow"===n?1:3}),itemSeparatorVertical:r.createElement(Vi,{size:"narrow"===n?2:4}),footer:r.createElement(r.Fragment,null,r.createElement(Lm.Space,null),r.createElement(Vi,{size:4})),renderItem:({itemFacet:t})=>r.createElement(xq,{template:t,inputLegend:e(".selectTemplateInputLegend"),onSelect:y}),renderTracker:e=>r.createElement(ek,{type:"meaningful",renderingCompleted:e})}))))))))}const Lq=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",Dq=a.p+"assets/cloud-sync-default-c5ac686895fcd8b97a26.png",_q=a.p+"assets/player-online-icon-b63b81863545d7c6a444.png",Bq=a.p+"assets/player-online-icon-dimmer-86fcb9b9b802e2204af0.png",Wq=a.p+"assets/player-online-icon-full-5db61a9992ca3cc6741f.png";function Uq(){return Uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Uq.apply(null,arguments)}const zq=e=>{let{className:t,variant:a}=e,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className","variant"]);const o=(0,l.useFacetWrap)(null!=a?a:"regular"),c=bu("bb13cd31f1a1d1794a4e",t),i=(0,l.useFacetMap)((e=>"dimmer"===e?Bq:"full"===e?Wq:_q),[],[o]);return r.createElement(pu,Uq({},n,{className:c,src:i,imageRendering:"pixelated"}))};function jq({amountOfPlayersOnline:e,capacity:t}){const a=(0,l.useFacetMap)((e=>e>0),[],[e]),n=(0,l.useFacetMap)(((e,t)=>`${e}/${t}`),[],[e,t]),o=(0,l.useFacetMap)(((e,t)=>e>=t?"full":"regular"),[],[e,t]);return r.createElement(l.Mount,{when:a},r.createElement("div",{className:"ed17e57540e1483501e8"},r.createElement(zq,{className:"befa0dcd87c231f79b7c",variant:o}),r.createElement(Zi,{type:"captionShort"},n)))}const Hq="multiplayer-disabled-modal-play-offline-button",Gq=As((({onClose:e,onPlayOffline:t})=>{const{t:a}=ah("WorldItem.MultiplayerDisabledModal"),n=(0,l.useSharedFacet)(CF),o=(0,l.useSharedFacet)(FF),c=(0,l.useSharedFacet)(_l),i=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.TroubleshootingMultiplayerDisabled)}),[],[n,c,o]),s=(0,l.useFacetCallback)(((e,t,a)=>()=>{II(t.platform)?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(SF.ParentPermissionHelpPage)}),[],[n,c,o]),u=(0,r.useCallback)((()=>{t(),e()}),[t,e]),d=(0,l.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)?"multiplayer-parental":e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)?"multiplayer-disabled":void 0),[],[o]);return r.createElement($m,{defaultFocusAlias:Hq},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement(l.Unwrap,{data:d},(e=>{switch(e){case"multiplayer-disabled":return r.createElement(r.Fragment,null,r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".bodyMultiplayerDisabled"),center:!0},a(".bodyMultiplayerDisabled"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{horizontal:!0,variant:"secondary",Icon:LM.ExternalLink,inputLegend:a(".learnMore"),onClick:i},a(".learnMore")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,variant:"primary",inputLegend:a(".playOffline"),onClick:u,gamepadAlias:Hq},a(".playOffline"))));case"multiplayer-parental":return r.createElement(r.Fragment,null,r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".bodyMultiplayerDisabledParental"),center:!0},a(".bodyMultiplayerDisabledParental"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{horizontal:!0,variant:"secondary",Icon:LM.ExternalLink,inputLegend:a(".learnMore"),onClick:s},a(".learnMore")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,variant:"primary",inputLegend:a(".playOffline"),onClick:u,gamepadAlias:Hq},a(".playOffline"))));default:return null}})))})),Vq="multiplayer-disabled-due-to-ban-modal-play-offline-button",$q=As((({onClose:e,onPlayOffline:t})=>{const{t:a}=ws("WorldItem.MultiplayerDisabledDueToBanModal"),{reasonCopy:n,helpButtonCopy:o}=HA(),c=(0,l.useFacetMap)((e=>jA(e.banExpiration)),[],[(0,l.useSharedFacet)(FF)]),i=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.BannedHelpPage)}),[],[(0,l.useSharedFacet)(CF)]),s=(0,r.useCallback)((()=>{t(),e()}),[t,e]);return r.createElement($m,{defaultFocusAlias:Vq},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},a(".body")),r.createElement($m.Text,{narrationText:n,center:!0},n)),r.createElement($m.Buttons,{horizontal:!0},r.createElement(l.Unwrap,{data:c},(e=>r.createElement(lm,{"data-testid":"help-button-"+(e?"suspended":"banned"),horizontal:!0,variant:"secondary",Icon:LM.ExternalLink,inputLegend:o,onClick:i},o))),r.createElement(Vi,{size:1}),r.createElement(lm,{horizontal:!0,variant:"primary",inputLegend:a(".playOffline"),onClick:s,gamepadAlias:Vq},a(".playOffline"))))}));function Xq({className:e,useGreyBorder:t}){const a=(0,l.useFacetMap)((t=>dl()("b3f9bdd72a8542a94141",{a7dcd02180d031bd69af:t},e)),[e],[(0,l.useFacetWrap)(null!=t&&t)]);return r.createElement("fast-div",{className:a})}function Kq(e){const t=GA(),a=zI();return(0,l.useFacetMap)(((e,t,a)=>e&&(t||a)),[],[e,a,t])}function Yq(e){const t=Kq(e),a=WI();return(0,l.useFacetMap)(((e,t,a,n)=>!e&&t&&(a||!n.isOnline)),[],[t,e,a,(0,l.useSharedFacet)(_l)])}let qq;!function(e){e[e.LAN=0]="LAN",e[e.Friend=1]="Friend",e[e.Local=2]="Local"}(qq||(qq={}));const Qq=a.p+"assets/icon-cloud-sync-0d0d63219d797579d7fb.png";function Jq(){return Jq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Jq.apply(null,arguments)}const Zq=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("a54f43a42f3fe0f2b02d",t);return r.createElement(pu,Jq({},a,{className:n,src:Qq,imageRendering:"pixelated"}))};function eQ(){const e=Yr();return r.createElement("div",{className:dl()("a23829554805f4996230",e.neutral80.background.base,e.neutral80.border.base)},r.createElement(Zq,null))}const tQ=()=>{};function aQ({id:e,title:t,subtitle:a,imageSrc:n,requiresCloudSync:o,worldTypeTags:c,gameModeTags:i,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,isMultiplayerWorld:p,amountOfPlayersOnline:f,capacity:g,isHardcore:E,playerHasDied:b,disable:h,metadataList:v,testId:F,itemRole:y,itemInputLegend:S,worldType:C,hidePlayButton:M=!1,onViewProfile:w,showProfileInputLegend:k=!1}){const{t:P}=ws("WorldListItem"),{t:T}=ws("WorldListItem.narration"),I=Yr("neutral"),x=(0,l.useFacetWrap)(y),O=(0,l.useFacetMap)((e=>e&&null!=w),[w],[(0,l.useFacetWrap)(k)]),A=null!=d,N=(0,l.useFacetWrap)(null!=f?f:0),R=(0,l.useFacetWrap)(null!=g?g:0),L=(0,l.useFacetMap)((e=>e>0),[],[N]),D=(0,l.useFacetWrap)(null!=v?v:[]),_=(0,l.useFacetMap)((e=>e.length>0),[],[D]),B=(0,l.useFacetMap)((e=>e.map((e=>e.displayText))),[],[D]),W=(0,l.useFacetWrap)(null!=o&&o),U=(0,l.useFacetWrap)(null!=E&&E),z=(0,l.useFacetWrap)(null!=b&&b),[H,G]=(0,l.useFacetState)(!1),V=(0,l.useFacetUnwrap)(e),$=(0,l.useFacetMap)(((e,t)=>t?Dq:null!=e&&e.length?e:Lq),[],[(0,l.useFacetWrap)(n),W]),X=(0,l.useFacetWrap)(u),K=(0,l.useFacetMap)(((e,t,a,n,r,l)=>[e,null!=r?r:T(rQ(l)),t>0?T(".listLengthContext",[`${n}`,`${t}`]):void 0,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[T],[t,m,i,X,x,C]),Y=(0,l.useFacetMap)((e=>{const t=[];return M||t.push([T(".play"),A?T(".buttonSiblings",["1","2"]):T(".button")]),t.push(...e.map((e=>e.narrationText))),t.filter(Boolean).join(" . ")}),[M,T,A],[D]),q=(0,l.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),Q=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(null!=a?a:"")]),J=(0,l.useFacetMap)((e=>e.length>0),[],[Q]),Z=Gq.useModal(),ee=$q.useModal(),te=GA(),ae=Kq(p),ne=Yq(p),re=(0,l.useFacetMap)(((e,t)=>t&&e),[],[p,te]),le=(0,l.useFacetCallback)(((e,t)=>()=>{t?ee.show():e?Z.show():s()}),[s,ee,Z],[ae,re]),oe=(0,l.useFacetMap)(((e,t,a)=>null!=a?a:e?"multiplayer-world-list-item-primary-action-"+(t-1):"world-list-item-primary-action-"+(t-1)),[],[p,X,(0,l.useFacetWrap)(F)]),ce=(0,l.useFacetMap)(((e,t,a,n)=>(a?t=[{label:P(".multiplayerDisabledLong"),role:"destructiveTint"}]:n&&(t=[{label:P(".multiplayerWorldOffline"),role:"destructiveTint"}]),[...e,...t])),[P],[i,c,ae,ne]),ie=(0,l.useFacetMap)((e=>dl()("a3fc9060a0e7b89adc70",I.border.base,{fd7702fa69b497518f82:!e})),[I],[U]);return V==l.NO_VALUE?null:r.createElement(hl,null,r.createElement(bd,{text:K,key:V},r.createElement(iI,{tall:!0,disableDeferredMount:!0},r.createElement(iI.Action,{testId:oe,className:"ea4a19c80a8253526ffc",inputLegend:null!=S?S:P(".play"),narrationText:Y,onClick:le,onFocusChanged:G,onHoverChanged:G,disabled:h},r.createElement("fast-div",{className:ie},r.createElement(l.Mount,{when:W},r.createElement(eQ,null)),r.createElement(pu,{src:$,aspectRatio:pu.AspectRatio["16:9"]}),r.createElement(l.Mount,{when:U},r.createElement(lG,{className:"c18fda52da104cd0d04a",animate:H,startFrame:8,dead:z})),r.createElement(l.Mount,{when:U},r.createElement(Xq,{useGreyBorder:z}))),r.createElement(iI.Main,null,r.createElement(Zi,{type:"body",overflowEllipsis:!0},t),r.createElement(l.Mount,{when:J},r.createElement(Zi,{type:"body",variant:"dimmer",overflowEllipsis:!0},Q)),r.createElement("div",{className:"b2600a72a990e330c825"},r.createElement(l.Map,{array:ce},(e=>r.createElement(nQ,{tag:e}))))),r.createElement(l.Mount,{when:_},r.createElement("div",{className:"c6ae33306ffb825365c3"},r.createElement(l.Map,{array:B},((e,t)=>r.createElement(Zi,{type:"captionShort",variant:"dimmest",key:t,overflowEllipsis:!0},e))))),r.createElement(l.Mount,{when:L},r.createElement(iI.Cell,null,r.createElement("div",{className:"cdafd5a83979664d53fc"},r.createElement(jq,{amountOfPlayersOnline:N,capacity:R}))))),r.createElement(iI.AdditionalAction,{narrationText:[T(".edit"),T(".buttonSiblings",["2","2"])].join(" . "),inputLegend:P(".edit"),onClick:q,hidden:!A},r.createElement(LM.Edit,null),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",overflowEllipsis:!0},P(".edit"))),r.createElement(l.Mount,{when:O},r.createElement(Ed,{options:{button:j.Y,inputLegend:P(".viewXboxProfile")},onClick:null!=w?w:tQ})),r.createElement(l.Mount,{when:ee.isVisible},r.createElement($q.Component,{onClose:ee.hide,onPlayOffline:s})),r.createElement(l.Mount,{when:Z.isVisible},r.createElement(Gq.Component,{onClose:Z.hide,onPlayOffline:s})))))}function nQ({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(rk,{role:t},a)}function rQ(e){switch(e){case qq.Local:return".componentRoleLocal";case qq.LAN:return".componentRoleLan";case qq.Friend:return".componentRoleFriend"}}const lQ=(0,r.createContext)((()=>Math.floor(Date.now()/1e3)));function oQ(e){switch(e){case Qv.ADVENTURE:return".adventure";case Qv.SURVIVAL:return".survival";case Qv.CREATIVE:return".creative";default:return".unknown"}}let cQ;function iQ(e){const{t}=ws("WorldTag");return(0,l.useFacetMap)((e=>e.friendWorld?[{label:t(e.friendOfFriendWorld?".friendOfFriend":".friend"),role:"successTint"}]:[{label:t(".lanWorld"),role:"informativeTint"}]),[t],[e])}function sQ(e){const{t}=ws("WorldTag");return(0,l.useFacetMap)((e=>{const a=[];return e.isHardcore||a.push({label:t(oQ(e.gameMode)),role:"neutral80"}),e.isHardcore&&a.push({label:t(".hardcore"),role:"destructiveTint"}),a}),[t],[e])}function uQ(e){const{t}=ws("WorldTag");return(0,l.useFacetMap)((e=>{const a=[];return e.isHardcore||e.requiresCloudSync||a.push({label:t(oQ(e.gameMode)),role:"neutral80"}),e.isExperimental&&a.push({label:t(".experimental"),role:"noticeTint"}),e.isHardcore&&a.push({label:t(".hardcore"),role:"destructiveTint"}),a}),[t],[e])}function dQ({world:e,onWorldClick:t,onEdit:a,index:n,indexOffset:o,totalNrOfWorlds:c,itemRole:i,hidePlayButton:s,itemInputLegend:u}){const d=(0,l.useFacetMap)((e=>e.id),[],[e]),m=(0,l.useFacetMap)((e=>e.name),[],[e]),p=(0,l.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),f=uQ(e),g=function(){const{t:e}=ws("WorldTag");return(0,l.useFacetWrap)([{label:e(".localWorld"),role:"informativeTint"}])}(),E=(0,l.useFacetMap)((e=>e.previewImgPath),[],[e]),b=(0,l.useFacetMap)((e=>e.requiresCloudSync),[],[e]),h=(0,l.useFacetMap)((e=>e+n+1),[n],[o]),v=(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),F=function(e,t){const{t:a}=ws("ThumbnailWorldList"),{t:n}=ws("ThumbnailWorldList.narration"),r=function(e,t){const{t:a,f:n}=ws("ThumbnailWorldList");return(0,l.useFacetMap)(((e,t)=>{const r=t-e;function l(e,t){const n=Math.floor(r/t);return 1==n&&(e+="Singular"),a(e,[n.toString()])}return r<120?a(".justNow"):r<3600?l(".minutesAgo",60):r<86400?l(".hoursAgo",3600):r<=604800?l(".daysAgo",86400):n.formatDate(e)}),[a,n],[e,t])}((0,l.useFacetMap)((e=>e.lastSaved),[],[e]),t),o=a(".lastPlayed"),c=(0,l.useFacetMap)((e=>n(".lastPlayed",[e])),[n],[r]);return(0,l.useFacetMap)(((e,t)=>[{displayText:o,narrationText:""},{displayText:e,narrationText:t}]),[o],[r,c])}(e,(0,l.useFacetWrap)((0,r.useContext)(lQ)())),y=(0,l.useFacetCallback)((e=>()=>{t(e)}),[t],[d]);return r.createElement(aQ,{id:d,title:m,gameModeTags:f,worldTypeTags:g,worldType:(0,l.useFacetWrap)(qq.Local),imageSrc:E,requiresCloudSync:b,containerListLength:c,narrationIndex:h,onEdit:a,onWorldClick:y,isMultiplayerWorld:p,isHardcore:v,metadataList:F,itemRole:i,hidePlayButton:s,itemInputLegend:u})}function mQ({localWorlds:e,onLocalWorldClick:t,onLocalWorldEdit:a,itemRole:n,hidePlayButton:o,itemInputLegend:c}){const i=(0,l.useFacetMap)((e=>e.length),[],[e]),s=(0,l.useFacetWrap)(0);return r.createElement(r.Fragment,null,r.createElement(l.Map,{array:e},((e,l)=>r.createElement(r.Fragment,null,l>0&&r.createElement(Vi,{size:1}),r.createElement(dQ,{world:e,onWorldClick:t,onEdit:a,indexOffset:s,index:l,totalNrOfWorlds:i,itemRole:n,hidePlayButton:o,itemInputLegend:c})))))}!function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(cQ||(cQ={}));const pQ=a.p+"assets/no-worlds-yet-art-446b1f244c652ef1c166.png";function fQ(){const{t:e}=ws("SetWorldThumbnailRoute.errorState"),t=p(),a=Sc(),n=(0,r.useCallback)((()=>{t.push("/create-new-world")}),[t]);return r.createElement(aw,{title:e(".emptyStateTitle"),text:e(".emptyStateText"),imgSrc:pQ,imgClass:"narrow"===a?"ed46fad2f7808c210fb4":"a8927ebc1945e83eb4a0",buttons:[{variant:"primary",text:e(".emptyStateCreateNewButton"),narrationSuffix:e(".createNewWorldNarration"),onClick:n,gamepadAlias:"play-cnw-button"}]})}function gQ(){const e=(0,l.useSharedFacet)(OY),t=(0,l.useFacetMemo)((({localWorlds:e})=>e.filter((e=>e.allContentOwned))),[],[e]);return{data:t,isEmpty:(0,l.useFacetMap)((e=>e.length<1),[],[t]),alternativeStorageHasWorlds:(0,l.useFacetMap)((e=>e.otherStorageTypeHasWorlds),[],[e])}}function EQ(){const e=p(),t=gQ(),a=(0,l.useSharedFacet)(dh),n=(0,l.useSharedFacet)(_F),o=(0,l.useSharedFacet)(Nv),c=g(),{t:i}=ws("SetWorldThumbnailRoute"),{t:s}=ws("SetWorldThumbnailRoute.narration"),u=(0,l.useFacetCallback)((e=>t=>e.find((e=>e.id===t))),[],[t.data]),d=(0,l.useFacetMap)(((e,t)=>e.screenshots.find((e=>e.id===t.thumbnailId))),[],[o,c]),m=(0,l.useFacetCallback)(((t,a,n)=>r=>{const o=u(r);null!=o&&null!=n&&o!=l.NO_VALUE&&(a.saveScreenshotAsWorldIcon(r,n.filePath,n.id),t.queueSnackbar(i(".successSnackbarMessage",[o.name])),e.goBack())}),[e,i,u],[a,n,d]),f=(0,l.useFacetMap)((e=>0===e.length),[],[t.data]),E=[s(".selectWorld"),s(".group")].join(" . ");return r.createElement(ZN,{title:i(".setWorldThumbnailHeader"),screenAnalyticsId:"SetWorldThumbnail",gamepadAlias:"set-world-thumbnail-route"},(()=>r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(l.Mount,{when:f,condition:!1},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(ud,{alwaysVisibleChildren:r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}))},r.createElement(bd,{text:E},r.createElement(mQ,{localWorlds:t.data,onLocalWorldClick:m,itemRole:s(".listItem"),itemInputLegend:i(".select"),hidePlayButton:!0}))))),r.createElement(l.Mount,{when:f},r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(fQ,null))),r.createElement(zM.Column,{wideSize:1,narrowSize:0})))))))}const bQ=a.p+"assets/arrowForwardWhite-9acfff2a810da383d67f.png";function hQ(){return hQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hQ.apply(null,arguments)}const vQ=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("d8aa607e39deee96d338",t);return r.createElement(pu,hQ({},a,{className:n,src:bQ,imageRendering:"pixelated"}))};let FQ,yQ,SQ,CQ;!function(e){e[e.NONE=0]="NONE",e[e.REALMS=1]="REALMS",e[e.GAME=2]="GAME"}(FQ||(FQ={})),function(e){e[e.NONE=0]="NONE",e[e.ACCEPTED=1]="ACCEPTED",e[e.REJECTED=2]="REJECTED",e[e.EXPIRED=3]="EXPIRED",e[e.JOIN=5]="JOIN"}(yQ||(yQ={})),function(e){e.NEWS="news",e.INVITES="invites",e.REALMS="realms",e.MARKETPLACEPASS="marketplacepass",e.FEEDBACK="feedback"}(SQ||(SQ={})),function(e){e.NONE="Unknown",e.IMAGETEXT="ImageText",e.IMAGETNAILCTA="ImageThumbnailCTA",e.HEROIMAGECTA="HeroImageCTA",e.CONTENTLISTCTA="ContentListWithCTA",e.CONTENTLISTNOCTA="ContentListNoCTA",e.SHOWCASECTA="ShowcaseAnnouncementCTA",e.SHOWCASENOCTA="ShowcaseAnnouncementNoCTA",e.GAMEDROP="GameDrop"}(CQ||(CQ={}));const MQ=(0,l.sharedFacet)("vanilla.inbox");function wQ(e,t){for(let a=0;a<e.length;++a)if(e[a].categoryName==t)return e[a].unreadMessages;return 0}function kQ(e,t){e.forEach((e=>{var a;const n=(a=Date.now(),AQ(Math.floor(a/1e3))-AQ(e.dateReceived)<=AQ(604800));for(const a of t)if(e.inboxCategory==a.category){n?a.recent.push(e):a.history.push(e);break}}))}const PQ=(0,l.sharedSelector)((e=>function(e,t){const a=[];return Object.values(SQ).forEach((e=>{const n=wQ(t,e);a.push({recent:[],history:[],unreadCount:n,category:e,name:"",imageUrl:""})})),kQ(e,a),a}(e.inboxMessages,e.categoryData)),[MQ]),TQ=(0,l.sharedSelector)((e=>function(e,t){const a=[];return t.forEach((e=>{a.push({recent:[],history:[],unreadCount:e.unreadMessages,category:e.categoryName,name:e.localizedName,imageUrl:e.imageUrl})})),kQ(e,a),a}(e.inboxMessages,e.categoryData)),[MQ]),IQ=(0,l.sharedSelector)((e=>e.settings),[MQ]);function xQ(){const e=p();return(0,l.useFacetCallback)((t=>(a,n,r)=>{null!=r&&(t.reportClick(a,n,r.id),r.action===hh.EXTERNAL?r.openExternalLink():r.action===hh.INTERNAL&&e.push(r.link))}),[e],[(0,l.useSharedFacet)(MQ)])}function OQ(e){const t=(0,l.useFacetWrap)(e),a=(0,l.useFacetMap)((e=>e.id),[],[t]),n=(0,l.useFacetMap)((e=>e.instanceId),[],[t]),r=xQ();return(0,l.useFacetCallback)(((e,t)=>a=>{r(e,t,a)}),[r],[a,n])}function AQ(e){return Math.floor(e/60/60/24)}function NQ(){const{t:e}=ws("JoinRealmsServerInvitationsButton"),t=Yr("neutral"),a=p(),n=e(".narrationSuffix"),o=(0,l.useSharedFacet)(MQ),c=(0,l.useFacetMap)((e=>wQ(e.categoryData,SQ.INVITES)>0),[],[o]),i=(0,l.useFacetMap)((t=>e(t?".hasInvitesTitle":".noInvitesTitle")),[e],[c]),s=(0,l.useFacetMap)((t=>e(t?".hasInvitesBody":".noInvitesBody")),[e],[c]),u=(0,l.useFacetMap)(((e,t)=>[e,t,n].join(" . ")),[n],[i,s]);return r.createElement(bd,{text:[e(".invitationsName"),e(".invitationsRole")].join(" . ")},r.createElement(qd,{delayedClick:!0,inputLegend:e(".inputLegend"),narrationText:u,onClick:()=>a.push("/inbox/invites"),variant:"neutral",reflection:"bevel"},r.createElement("div",{className:dl()(t.text.base,"e098b8656adc8b29a509")},r.createElement("div",{className:"e40081d4255548160311"},r.createElement(Zi,{type:"body"},r.createElement(ji,null,i)),r.createElement(Zi,{variant:"dimmer",type:"captionShort"},r.createElement(ji,null,s))),r.createElement(vQ,null))))}function RQ(e,t){const a=(0,l.useSharedFacet)(cv),n=(0,l.useFacetMap)((e=>e.fetchRealmProgress),[],[a]),r=(0,l.useFacetMap)((e=>e.fetchRealmResult),[],[a]),o=(0,l.useFacetMap)((e=>e.fetchRealmError),[],[a]),c=JT(),i=VI(((e,a)=>function*(){if(""===a)return;null!=(null==t?void 0:t.analyticsId)&&c({button:"JoinRealmLink",screen:t.analyticsId});const r=a.trim();e.clearFetchRealm(),e.fetchRealm(r),yield n,null==e.fetchRealmError&&null!=t&&t.onSuccess&&t.onSuccess(r)}),[n,c,t],[a,e]),s=(0,l.useFacetCallback)((e=>()=>e.clearFetchRealm()),[],[a]);return{fetch:i,progress:n,result:r,error:o,clear:s}}function LQ(){const{t:e}=ws("JoinRealmsServerError");return t=>{switch(t){case lv.AlreadyMember:return e(".alreadyMember");case lv.BadInvite:return e(".badInvite");case lv.BlockedInvite:return e(".blockedInvite");case lv.RealmClosed:return e(".realmClosed");case lv.RealmExpired:return e(".realmExpired");case lv.UnexpectedServerResponse:return e(".unexpectedServerResponse");case lv.AnonymousAccount:return e(".anonymousAccount");case lv.InviteLinkNotFound:return e(".inviteLinkNotFound");case lv.InviteDisabledFound:return e(".inviteLinkDisabled");case lv.InviteExpiredFound:return e(".inviteLinkExpired");default:return e(".unknownError")}}}const DQ="JoinRealmsServer";function _Q(){const{t:e}=ws("JoinRealmsServer"),t=Yr("neutral"),a=p(),n=f(),[o,c]=(0,l.useFacetState)(""),i=(0,l.useFacetMap)((e=>e.length<=0),[],[o]),s=function(){const e=(0,l.useSharedFacet)(CF),t=JT();return(0,l.useFacetCallback)((e=>()=>{t({button:"Help",screen:DQ}),e.openLink(SF.JoinRealmHelpPage)}),[t],[e])}(),u=(0,r.useCallback)((e=>{c(""),a.push(`/join-realms-server/${e}`)}),[a,c]),d=RQ((0,l.useFacetMap)((e=>function(e){const t=e;return t.split("/")[t.split("/").length-1]}(e)),[],[o]),{analyticsId:DQ,onSuccess:u}),m=(0,l.useFacetMap)(((e,t)=>t&&e===HI.RUNNING),[],[d.progress,n]),g=(0,r.useCallback)((()=>{d.clear(),a.goBack()}),[a,d]);return r.createElement(_r,{collection:xx},r.createElement(ZN,{screenAnalyticsId:DQ,gamepadAlias:"join-realms-server",title:e(".title"),onBack:g},(()=>r.createElement(zM,null,r.createElement(WQ,{error:d.error},r.createElement(BQ,{error:d.error}),r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{narrowSize:8,wideSize:10},r.createElement(ud,null,r.createElement(Vi,{size:2}),r.createElement(bd,{text:[e(".linkBoxNarrationName"),e(".linkBoxNarrationRole")].join(" . ")},r.createElement("div",{className:dl()(t.border.base,"d7aa368e79f8d676540b")},r.createElement(dk,{description:e(".inputDescription"),label:e(".inputLabel"),onChange:c,placeholder:e(".inputPlaceholder"),value:o}),r.createElement(Ud,null,r.createElement("div",{className:"ad6f257280177d4c6ecf"},r.createElement(lm,{onClick:s,inputLegend:e(".helpButtonLabel"),Icon:LM.ExternalLink,horizontal:!0,"data-testid":"help-button",narrationSuffix:e(".buttonEnumeration",["1","2"])},e(".helpButtonLabel")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{onClick:d.fetch,inputLegend:e(".joinButtonLabel"),horizontal:!0,disabled:i,variant:"primary","data-testid":"join-realm-button",narrationSuffix:e(".buttonEnumeration",["2","2"])},e(".joinButtonLabel")))))),r.createElement(Vi,{size:2}),r.createElement(NQ,null))),r.createElement(zM.Column,{wideSize:1,narrowSize:0})))))),r.createElement(l.Mount,{when:m},r.createElement(Jw.Component,{title:e(".verifyingLinkModalTitle")})))}function BQ({error:e}){const t=LQ();return r.createElement(l.Unwrap,{data:e},(e=>null==e?null:r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{narrowSize:8,wideSize:10},r.createElement(Vi,{size:2}),r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(e)))),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))))}function WQ({error:e,children:t}){const a=LQ(),n=(0,l.useFacetMap)((e=>null==e?"":a(e)),[a],[e]);return r.createElement(bd,{text:n},t)}function UQ(){return UQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},UQ.apply(null,arguments)}function zQ(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const jQ={Root:e=>{let{children:t,title:a,role:n="neutral80",className:o,disableBackButton:c=!0,centerContentVertically:i=!0}=e,s=zQ(e,["children","title","role","className","disableBackButton","centerContentVertically"]);const u=Yr(n),d=(0,l.useFacetMap)((e=>dl()("d097e422ae1e522f1412",u.background.base,u.border.base,u.text.base,e)),[u],[(0,l.useFacetWrap)(o)]);return r.createElement(ZN,UQ({title:a,disableBackButton:c},s),(({})=>r.createElement(Sr,{role:n},r.createElement(zM,{centerContentVertically:i},r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement("fast-div",{className:d},t))),r.createElement(Vi,{size:2}),r.createElement(Lm.Space,null)))))},Body:e=>{let{className:t}=e,a=zQ(e,["className"]);return r.createElement("fast-div",UQ({className:dl()("e603963c162f966cdb32",t)},a))},Footer:({children:e,role:t="inherit",align:a,className:n})=>{const o=Yr(t),c=(0,l.useFacetMap)((e=>dl()("b621267a425faff075df",o.background.base,o.border.base,o.text.base,e)),[o],[(0,l.useFacetWrap)(n)]);return r.createElement("fast-div",{className:c},r.createElement("fast-div",{className:dl()("b3e83e4de3da4c27f5ad",o.specular.base,{da9f2f503dd4242ec6f2:"center"===a})},e))}},HQ={mainWrapper:"c4987e59f43217502242",spinner:"f8dd7a98708a61337f46",border:"ca2d9df39a1a1f649619",narrowImage:"f35ca7e0187bfed2ac52",narrowImageWrapper:"b12a971b56d15f311676",imageWrapper:"bf14613f669a80a29a58",overlayInformation:"ee0ed682c2505782e987",overlayInformationNarrow:"e52f902ccc81652e97de",joinButtonWrapper:"dce494ca09fc8fd6c067"},GQ=As((()=>{const{t:e}=ws("JoinRealmsServerError"),{t}=ws("JoinRealmsServerErrorModal"),a=(0,l.useSharedFacet)(cv),n=(0,l.useFacetCallback)((e=>()=>e.clearJoinRealm()),[],[a]),o=(0,l.useFacetMap)((t=>{switch(t.joinRealmError){case rv.MemberOfTooManyRealms:return e(".memberOfTooManyRealms");case rv.NeedToCallFetchFirst:case rv.RealmsAPIUnavailable:case rv.UnknownError:default:return e(".unknownError")}}),[e],[a]);return r.createElement($m,{onOverlayClick:n},r.createElement($m.Header,{onClose:n},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o,center:!0},o)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".closeButtonLabel"),variant:"secondary",onClick:n,"data-testid":"join-realms-error-close-button"},t(".closeButtonLabel"))))})),VQ=a.p+"assets/Realms_Default_Thumbnail_3840-998f353288f2319bc09b.jpg",$Q=a.p+"assets/generic-error-art-8fa35da1a2442a3b4db5.png",XQ="JoinRealmsServerTransient";function KQ(){const{t:e}=ah("JoinRealmsServerTransient"),t=p(),a=f(),n=g(),o=(0,l.useSharedFacet)(dh),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.code)&&void 0!==t?t:""}),[],[n]),i=RQ(c,{analyticsId:XQ}),s=(0,l.useFacetCallback)((a=>(n,r)=>{a.queueSnackbar(e(".successSnackbar",[r])),t.go(-2),t.replace(`/play/realms/${n}`)}),[t,e],[o]),u=function(e,t){const a=(0,l.useSharedFacet)(cv),n=(0,l.useSharedFacet)(pv),r=(0,l.useFacetMap)(((e,t)=>e.joinRealmProgress!==HI.IDLE&&t.state===mv.Loading?HI.RUNNING:e.joinRealmProgress),[],[a,n]),o=(0,l.useFacetMap)((e=>e.joinedRealmId&&e.joinedRealmName),[],[a]),c=(0,l.useFacetMap)((e=>e.joinRealmError),[],[a]),i=JT(),s=VI(((e,a)=>function*(){if(i({button:"JoinRealm",screen:XQ}),e.clearJoinRealm(),e.joinRealm(a),yield r,null==e.joinRealmError){const a=e.joinedRealmId,n=e.joinedRealmName;t(a,n),e.clearJoinRealm()}}),[r,i,t],[a,e]);return{join:s,progress:r,result:o,error:c}}(c,s),d=(0,l.useFacetMap)((e=>e===HI.RUNNING),[],[i.progress]),m=(0,l.useFacetMap)((e=>e===HI.RUNNING),[],[u.progress]),E=(0,l.useFacetMap)(((e,t)=>e===HI.FAILED&&null!=t),[],[u.progress,u.error]);(0,l.useFacetEffect)(((e,t,a,n)=>{!n||t||a||null!=e||i.fetch()}),[i],[i.result,m,d,a]);const b=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.ownerXuid)&&void 0!==t?t:""}),[],[i.result]),{profileName:h,isLoaded:v,avatarSource:F}=NO({ownerId:b}),y=(0,l.useFacetMap)(((e,t,a,n)=>e||t||null!=a||!n),[],[d,m,i.error,v]),S=(0,l.useFacetMap)(((e,t)=>e===HI.RUNNING||!t),[],[i.progress,v]),C=(0,l.useFacetMap)((t=>null!=(null==t?void 0:t.realmName)?e(".title",[t.realmName]):e(".genericTitle")),[e],[i.result]);return r.createElement(_r,{collection:xx},r.createElement(jQ.Root,{gamepadAlias:"join-realms-server-transient-route",title:C,screenAnalyticsId:XQ,className:HQ.mainWrapper,disableBackButton:!1,centerContentVertically:!1},r.createElement(ud,{floating:!0},r.createElement(YQ,{profileName:h,avatarSource:F,showSpinner:S,error:i.error,realmWorld:i.result})),r.createElement(jQ.Footer,{align:"center"},r.createElement("div",{className:HQ.joinButtonWrapper},r.createElement(lm,{horizontal:!0,onClick:u.join,inputLegend:e(".joinButtonLabel"),variant:"primary",disabled:y,"data-testid":"join-realm-button"},e(".joinButtonLabel"))))),r.createElement(l.Mount,{when:m},r.createElement(Jw.Component,{title:e(".joinRealmModal")})),r.createElement(l.Mount,{when:E},r.createElement(GQ.Component,null)))}function YQ({realmWorld:e,showSpinner:t,error:a,profileName:n,avatarSource:o}){const{t:c}=ah("JoinRealmsServerTransient"),i=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.realmName)&&void 0!==t?t:""}),[],[e]),s=Nw({wide:8,narrow:6,width:260}),u=(0,l.useFacetMap)(((e,t)=>c(".ownerInformation",[e])+' "'+t+'"'),[c],[n,i]),d=(0,l.useFacetMap)((e=>[e,c(".caption")].join(" . ")),[c],[u,i]),{border:m}=Yr("inherit"),p=Ln(),f=(0,l.useFacetMap)(((e,t)=>null!=t?"error":e?"spinner":"content"),[],[t,a]);return r.createElement(l.Unwrap,{data:f},(e=>{switch(e){case"spinner":return r.createElement("div",{className:HQ.spinner},r.createElement(id,null));case"error":return r.createElement(qQ,{error:a});default:return r.createElement(jQ.Body,{className:HQ.contentWrapper},r.createElement(Wi.Maybe,{classNameFocused:Ws,isInteractive:p,narrationText:d},r.createElement(Bs,null),r.createElement(l.Unwrap,{data:s},(e=>e?r.createElement("div",{className:HQ.narrowImageWrapper},r.createElement(pu,{src:VQ,aspectRatio:pu.AspectRatio["10:3"],className:dl()(HQ.border,HQ.narrowImage,m.base)}),r.createElement("div",{className:HQ.overlayInformationNarrow},r.createElement(Uy,{src:o,variant:"medium",statusBadge:"offline"}))):r.createElement("div",{className:HQ.imageWrapper},r.createElement(pu,{src:VQ,className:dl()(HQ.border,m.base),aspectRatio:pu.AspectRatio["10:3"]}),r.createElement("div",{className:HQ.overlayInformation},r.createElement(Uy,{src:o,variant:"large",statusBadge:"offline"}))))),r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"captionLong"},u),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmest"},c(".caption"))))}}))}function qQ({error:e}){const{t}=ah("JoinRealmsServerTransient"),a=LQ(),n=Nw({wide:8,narrow:6,width:260}),o=(0,l.useFacetMap)((e=>e?HQ.errorImage:HQ.errorImageBig),[],[n]);return r.createElement(l.Unwrap,{data:e},(e=>null==e?null:r.createElement(aw.Wrapper,{borderless:!0},r.createElement(aw.Title,null,t(".errorMessageTitle")),r.createElement(aw.Image,{imgClass:o,imgSrc:$Q}),r.createElement(aw.Text,null,a(e)))))}function QQ(){const{t:e}=ws("ShowcaseDetailsRoute"),t=p(),a=(0,l.useSharedFacet)(Rv),n=g(),o=(0,l.useFacetMap)((e=>e.id),[],[n]),c=(h=(0,l.useFacetMap)((e=>e.screenshots),[],[a]),(0,l.useFacetMap)((e=>function(e){const t=e.findIndex((e=>e.featured)),a=nx(e);if(t>0){const e=a.splice(t,1);a.unshift(e[0])}return a}(e.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime)))),[],[h])),i=(0,l.useFacetMap)(((e,t)=>{var a;return null!==(a=e.find((e=>e.id===t)))&&void 0!==a?a:e[0]}),[],[c,o]),s=(0,l.useFacetMap)(((e,t)=>e.indexOf(t)),[],[c,i]),u=(0,l.useFacetMap)((e=>e.length),[],[c]),d=(0,l.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[a]),m=Az(),f=(0,l.useFacetCallback)(((e,a)=>n=>{if(n>=0&&n<e.length){const r=e[n].id;e[n].showcased&&d(e[n].id),t.replace(Cq(r,a))}}),[t,d],[c,m]),E=iq(i),b=(0,l.useFacetMap)((t=>e(".title",[t.playerName])),[e],[m]);var h;return r.createElement(cq,{title:b,screenshot:i,index:s,length:u,onGoToIndex:f,screenshotNarrationSuffix:E,variant:"view"})}const JQ="manage-showcase-close-button-wrapper",ZQ=As((({onClose:e})=>{const{t}=ws("ManageShowcaseErrorModal"),a=t(".text");return r.createElement($m,{defaultFocusAlias:JQ},r.createElement($m.Header,{titlebarGamepadAlias:JQ,onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a,center:!0},a)),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".close"),variant:"secondary",onClick:e,horizontal:!0},t(".close"))))}));function eJ(){const{t:e}=ws("ManageShowcaseRoute"),t=(0,l.useSharedFacet)(FF),a=(0,l.useSharedFacet)(Nv),n=mj.useModal(),o=(0,l.useSharedFacet)(uh),c=(0,l.useFacetMap)((e=>e.screenshots.slice().filter((e=>e.showcased)).sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[a]),i=(0,l.useFacetMap)((e=>e.find((e=>e.featured))),[],[c]),s=(0,l.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[c]),u=YU((0,l.useFacetMap)((e=>e.currentXuid),[],[t])),[d,m]=(0,l.useFacetState)(-1),p=(0,l.useFacetMap)((e=>0===e?"all":"noShowcased"),[],[d]),[f,g]=(0,l.useFacetState)(""),E=(0,l.useFacetMap)((e=>-1!==e),[],[d]),b=(0,l.useFacetMap)(((e,t)=>e.find((e=>t===e.id))),[],[c,f]),h=(0,l.useFacetMap)((e=>e.isLoadGalleryInProgress),[],[a]),v=(0,l.useFacetMap)((e=>e.isAddFeaturedImageInProgress),[],[a]),F=(0,l.useFacetMap)((e=>e.isAddShowcasedImageInProgress),[],[a]),y=(0,r.useCallback)((()=>{m(-1)}),[m]),S=(0,r.useCallback)((()=>{g("")}),[g]),C=(0,l.useFacetCallback)((e=>(t,a)=>{e.addScreenshotToShowcase(t,a)}),[],[a]),M=(0,l.useFacetCallback)((e=>t=>{e.removeShowcasedScreenshot(t)}),[],[a]),w=(0,l.useFacetCallback)((e=>t=>{C(t.id,0===e),y()}),[y,C],[d]),k=(0,l.useFacetCallback)((e=>(t,a)=>{null==a?m(t):e.doNotShowManageShowcaseClearWarning?M(a.id):(g(a.id),n.show())}),[m,g,M,n],[o]),P=(0,r.useCallback)((()=>{n.hide(),S()}),[S,n]),T=(0,l.useFacetCallback)((e=>()=>{null!=e&&M(e.id),n.hide(),S()}),[S,n,M],[b]),I=(0,l.useFacetMap)((e=>e.modifyShowcaseGalleryError),[],[a]),x=(0,l.useFacetMap)((e=>e===Av.HttpError),[],[I]),O=(0,l.useFacetCallback)((e=>()=>e.clearModifyShowcaseGalleryError()),[],[a]);return r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:E},(t=>t?r.createElement(dj,{onScreenshotSelect:w,onGoBack:y,filterType:p}):r.createElement(ZN,{title:e(".manageHeader"),screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"manage-showcase-scroll-view"},(()=>r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(l.Mount,{when:h},r.createElement(Vi,{size:2})),r.createElement(ud,{loading:h,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"manage-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},r.createElement(Vi,{size:2}),r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,e(".galleryBanner"))),r.createElement(Vi,{size:2}),r.createElement(Sq,{variant:"manage",featuredScreenshot:i,featuredScreenshotEmptyImgSrc:u,showFeaturedSpinner:v,showEmptyShowcasedSpinner:F,nonFeaturedScreenshots:s,onScreenshotSlotClick:k}),r.createElement(Vi,{size:2})),r.createElement(l.Mount,{when:h},r.createElement(Vi,{size:2}))))))))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(mj.Component,{onConfirm:T,onCancel:P,title:(0,l.useFacetMap)((t=>null!=t&&t.featured?e(".clearFeaturedTitle"):e(".clearShowcasedTitle")),[e],[b]),message:(0,l.useFacetMap)((t=>null!=t&&t.featured?e(".clearFeaturedMessage"):e(".clearShowcasedMessage")),[e],[b]),option:"doNotShowManageShowcaseClearWarning"})),r.createElement(l.Mount,{when:x},r.createElement(ZQ.Component,{onClose:O})))}const tJ=()=>{const e=Cl(),t=(0,l.useSharedFacet)(fh),a=(0,l.useSharedFacet)(Hv),n=(0,l.useFacetCallback)((e=>t=>{e.fireEventButtonPressed("MobileDataBlockedModal_".concat(t),{})}),[],[a]),o=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0}),[],[t]),c="backButton",{t:i}=ws("MobileDataBlockedModalRoute");return r.createElement(bd,{text:`${i(".title")}. ${i(".onlyWifi")}. ${i(".costWarning")}`},r.createElement($m,{defaultFocusAlias:c},r.createElement($m.Header,{onClose:()=>{n("Close_Button_Or_Unfocus"),e.goBack()}},i(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:`${i(".onlyWifi")}. ${i(".costWarning")}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong"},i(".onlyWifi")),r.createElement(Zi,{type:"captionLong",fontWeight:Zi.FontWeight.Bold},i(".costWarning"))),r.createElement(bd,{text:`${i(".changeSettings")}`},r.createElement("div",{className:"d87ae3b1d67139890a6a"},r.createElement(MO,{onClick:()=>{n("Settings_Page_Link"),e.replace("/mobile-data-blocked-modal/links/settings-page")},withUnderlinePolyfill:!0},i(".changeSettings"))))),r.createElement($m.Buttons,null,r.createElement(lm,{delayedClick:!0,onClick:()=>{n("Go_Back_Button"),e.goBack()},gamepadAlias:c,inputLegend:i(".goBack"),variant:"primary"},i(".goBack")),r.createElement(Vi,{size:1}),r.createElement(lm,{delayedClick:!0,onClick:()=>{n("Use_Data_Once_Button"),o(),e.goBack()},inputLegend:i(".playOnceWithData"),variant:"secondary"},i(".playOnceWithData")))))};let aJ;!function(e){e.ServerTab="ServerTab"}(aJ||(aJ={}));const nJ=()=>{const e=JT(),t=(0,l.useSharedFacet)(sh),a=(0,l.useSharedFacet)(lh),n=(0,l.useFacetMap)((e=>e.joinThirdPartyServerTaskState),[],[t]),r=(0,l.useFacetMap)((e=>e.joinExternalServerTaskState),[],[t]),o=VI(((t,a)=>function*(){const r={joinedServerName:a.networkDetails.name};e({button:"PlayThirdPartyServer",screen:aJ.ServerTab,details:r}),t.joinThirdPartyServer(a.networkDetails.id),yield n,t.clearJoinThirdPartyServerTaskState()}),[e,n],[t,a]),c=VI(((t,a)=>function*(n){e({button:"PlayExternalServer",screen:aJ.ServerTab}),t.joinExternalServer(null!=n?n:a.networkDetails.id),yield r,t.clearJoinExternalServerTaskState()}),[e,r],[t,a]);return{thirdParty:o,external:c}};function rJ(e,t){const a=(0,l.useSharedFacet)(sh),n=(0,l.useFacetMap)((e=>e.joinLANServerTaskState),[],[a]),r=(0,l.useFacetMap)((e=>e.joinFriendServerState),[],[a]),o=VI((e=>function*(t,a){a?(e.joinFriendServer(t),yield r,e.clearJoinFriendServerTaskState()):(e.joinLanServer(t),yield n,e.clearJoinLANServerTaskState())}),[n,r],[a]);return(0,l.useFacetCallback)(((e,t)=>()=>{o(e,t)}),[o],[e,t])}function lJ(e){switch(e){case Jv.External:return"external";case Jv.ThirdParty:return"third-party";case Jv.Realm:return"realm";case Jv.LAN:return"LAN"}}const oJ="online-play-warning-proceed-button",cJ=()=>{const e=g(),t=(0,l.useSharedFacet)(uh),a=nJ(),n=p(),{t:o}=ah("PlayScreen.onlinePlayWarning"),c=o(".proceed"),i=o(".back"),s=(0,l.useFacetMap)((e=>e.type),[],[e]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:void 0}),[],[e]),d=(0,l.useFacetMap)((e=>e===lJ(Jv.ThirdParty)),[],[s]),m=(0,l.useFacetMap)((e=>o(e?".thirdParty.body":".multiplayerGeneric.body")),[o],[d]),f=(0,l.useFacetMap)((e=>o(e?".thirdParty.header":".multiplayerGeneric.header")),[o],[d]),E=(0,l.useFacetMap)((e=>null!=e?e:""),[],[u]),b=FH({worldId:E,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:ih.PlayScreen}),v=rJ(E,(0,l.useFacetMap)((e=>null!=e.get("isFriendWorld")),[],[h()])),F=(0,l.useFacetCallback)(((e,t,n)=>()=>{if(e===lJ(Jv.External))return t.doNotShowMultiplayerIpSafetyWarning=!0,void a.external(n);e===lJ(Jv.Realm)&&b(),e===lJ(Jv.ThirdParty)&&a.thirdParty(),e===lJ(Jv.LAN)&&v(),t.doNotShowMultiplayerOnlineSafetyWarning=!0}),[a,b,v],[s,t,u]),y=(0,r.useCallback)((()=>n.goBack()),[n]);return r.createElement(jQ.Root,{gamepadAlias:"online-play-transient-route",title:o(".title"),screenAnalyticsId:"online-play-warning",className:"d2a86d0936582b1d80be",onBack:y,disableBackButton:!1},r.createElement(ud,{delegateFocusByAlias:oJ},r.createElement(jQ.Body,{className:"f1a6509de021472e1dda"},r.createElement(Zi,{type:"body"},f),r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"captionLong"},m)),r.createElement(jQ.Footer,null,r.createElement(lm,{horizontal:!0,inputLegend:i,onClick:y},i),r.createElement(Vi,{size:3}),r.createElement(lm,{horizontal:!0,gamepadAlias:oJ,onClick:F,inputLegend:c,variant:"primary"},c))))},iJ=a.p+"assets/GenericError-86c4bf8e5dbb1c96c151.png",sJ=a.p+"assets/AccessDenied-4ffcbe7396258f6c567b.png",uJ=a.p+"assets/RealmsMissing-e89cb34a35facd2151a8.png",dJ=a.p+"assets/ExternalLink-eae4d40c6a18fa15334d.png",mJ=a.p+"assets/realms_default_image-e7bc094bdf77e622b703.jpg";function pJ({realm:e,onItemClick:t,index:a,count:n}){const{t:o,f:c}=ws("RealmListItem"),i=(0,l.useFacetMap)((e=>e.world.realmName),[],[e]),s=(0,l.useFacetMap)((e=>e.world.slotName),[],[e]),u=(0,l.useFacetMap)((e=>e.isOwner?o(".yourRealm"):o(".joinedRealm")),[o],[e]),d=Yr("neutral"),m=(0,l.useFacetMap)((e=>null!=e.world.lastSaved?c.getHowLongAgoAsString(e.world.lastSaved):"-"),[c],[e]),p=(0,l.useFacetMap)(((e,t,n,r)=>[e,o(".role"),t,o(".enumeration",[`${a+1}`,`${r}`]),o(".lastPlayedNarration",[n])].join(" . ")),[o,a],[i,u,m,n]);return r.createElement(rT,{tall:!0},r.createElement(rT.Action,{inputLegend:o(".select"),narrationText:p,onClick:t},r.createElement(rT.Cell,null,r.createElement("div",{className:"a8ead3ff95d2f0319949"},r.createElement(pu,{src:mJ,className:dl()(d.border.base,"d58773b43f895b63cd5c"),aspectRatio:pu.AspectRatio["16:9"]}))),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,i)),r.createElement(Zi,{type:"body",variant:"dimmer"},r.createElement(ji,null,s)),r.createElement(Vi,{size:1}),r.createElement(_r,{collection:xx},r.createElement(rk,{role:"primaryTint"},u))),r.createElement(rT.Cell,{direction:"column"},r.createElement(Zi,{type:"captionShort",variant:"dimmer"},o(".lastPlayed")),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},m))))}function fJ(){const e=p(),{t}=ws("PostToRealmStoriesRoute"),a=h(),n=(0,l.useSharedFacet)(Lh),o=(0,l.useSharedFacet)(pv),c=(0,l.useFacetMap)((e=>e.realms),[],[o]),i=(0,l.useFacetCallback)(((t,a)=>n=>{e.push(`/realms-story-entry-route/new-story/${t.realms[n].world.id}?screenshotId=${a.get("screenshotId")}`)}),[e],[o,a]),s=(0,l.useFacetMap)((e=>e.state===mv.Error),[],[o]),u=(0,l.useFacetMap)((e=>e.state!=mv.Error&&e.state!=mv.Loading&&0===e.realms.length),[],[o]),d=(0,l.useFacetMap)(((e,t)=>e.state!=mv.Error&&e.state!=mv.Loading&&0!=e.realms.length&&!t.getClubCheckResult),[],[o,n]),m=(0,l.useFacetMap)(((e,t)=>e.state!=mv.Error&&e.state!=mv.Loading&&0!=e.realms.length&&t.getClubCheckResult&&!t.getAllowCapturesResult),[],[o,n]),f=(0,l.useFacetMap)(((e,t,a,n)=>e||t||a||n),[],[s,u,d,m]),g=Sc(),E=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.RealmsSafetyPage)}),[],[(0,l.useSharedFacet)(CF)]),b=(0,r.useCallback)((()=>{e.replace("/realms-pdp")}),[e]),v=(0,l.useFacetCallback)((e=>()=>e.forceFetchRealmsList()),[],[o]),F=iD();return r.createElement(ZN,{screenAnalyticsId:"Post-To-Realm-Stories",gamepadAlias:"post-to-realm-stories",title:t(".title"),delegateByAlias:"post-to-realm-stories-scrollview"},(()=>r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(l.Unwrap,{data:f},(e=>e?r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:"tablet"===g?1:"desktop"===g?2:12,narrowSize:0}),r.createElement(zM.Column,{wideSize:"tablet"===g?10:"desktop"===g?8:12,narrowSize:8},r.createElement(ud,null,r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:s},r.createElement(aw,{title:t(".realmsCantLoad.title"),text:t(".realmsCantLoad.message"),imgSrc:iJ,imgClass:F,buttons:[{text:t(".realmsCantLoad.button"),inputLegend:t(".select"),onClick:v,variant:"secondary"}]})),r.createElement(l.Mount,{when:u},r.createElement(aw,{title:t(".noRealmsFound.title"),imgSrc:uJ,imgClass:F,buttons:[{text:t(".noRealmsFound.button"),inputLegend:t(".select"),onClick:b,variant:"secondary"}]})),r.createElement(l.Mount,{when:d},r.createElement(aw,{title:t(".youNeedPermission.title"),text:t(".youNeedPermission.message"),imgSrc:sJ,imgClass:F,buttons:[{text:t(".youNeedPermission.button"),inputLegend:t(".select"),onClick:E,variant:"secondary",imgSrc:dJ}]})),r.createElement(l.Mount,{when:m},r.createElement(aw,{title:t(".accessDenied.title"),text:t(".accessDenied.message"),imgSrc:sJ,imgClass:F,buttons:[{text:t(".accessDenied.button"),inputLegend:t(".select"),onClick:E,variant:"secondary",imgSrc:dJ}]}))))):r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(b_,{data:c,header:r.createElement(Vi,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(pJ,{realm:e,index:t,count:a,onItemClick:()=>{i(t)}}),footer:r.createElement(Vi,{size:2}),itemSeparator:r.createElement(Vi,{size:2})}))))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}))))}const gJ=As((()=>{const{t:e}=ws("RealmsNewStoryRoute.modals");return k_(e(".postingStoryTitle")),r.createElement($m,null,r.createElement($m.Header,null,e(".postingStoryTitle")),r.createElement($m.Content,null,r.createElement($m.Spinner,null)))})),EJ=As((()=>{const{t:e}=ws("RealmsNewStoryRoute.modals"),t="pop-up-modal-postingStoryErrorModal",a=(0,l.useSharedFacet)(_h),n=(0,l.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[a]);return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:n},e(".errorModalTitle")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:e(".errorModalBody")},e(".errorModalBody"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:n},e(".close"))))})),bJ=a.p+"assets/add-image-dark-icon-7fb8f791ce9fb2225094.png",hJ=a.p+"assets/add-image-grey-icon-9de108ece7db87df80dd.png",vJ="eea1c5b4ffdd5da1e2e6",FJ="a5a2cc33831928b3b90a";var yJ;function SJ(){const e=(0,l.useSharedFacet)(_h),t=(0,l.useSharedFacet)(zh),a=(0,l.useSharedFacet)(Hh),n=(0,l.useSharedFacet)(Bh),o=(0,l.useSharedFacet)(vv),c=uj(),i=(0,l.useSharedFacet)(_l),s=(0,l.useSharedFacet)(Lh);(0,l.useFacetEffect)(((e,t)=>{t.fetchMembersStatus===nF.Idle&&e.fetchMembers()}),[],[e,a]);const u=Sc(70,100);let d=3,m=6;"narrow"===u?(d=1,m=7):"tablet"===u&&(d=2,m=8);const f=p(),{t:E}=ws("RealmsNewStoryRoute"),b=(0,l.useFacetMap)((e=>e.players),[],[a]),h=(0,l.useFacetMap)(((e,{userXuid:t})=>{var a;return null!==(a=SE(e,(e=>e.xuid===t)))&&void 0!==a?a:H_}),[],[b,n]),v=(0,l.useFacetMap)((e=>e.gamerIcon),[],[h]),F=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[h]),y=(0,l.useFacetMap)((e=>!e.postInProgressBody.length&&!e.storyScreenshotSelectionFilePath.length),[],[t]),S=(0,l.useFacetMap)((e=>e.storyScreenshotSelectionFilePath.length>0),[],[t]),C=(0,l.useFacetMap)((e=>e.postStoryStatus),[],[o]),M=(0,l.useFacetMap)((e=>e===rF.InProgress||e===rF.Uploading||e===rF.Success),[],[C]),w=(0,l.useFacetMap)((e=>e===rF.InputInvalid||e===rF.InternalError||e===rF.PostingFailed||e===rF.UploadFailed),[],[C]),k=(0,l.useFacetMap)((e=>e===rF.RateLimit),[],[C]),P=(0,l.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[e]),T=(0,l.useFacetMap)(((e,t)=>{if(!t.storyScreenshotSelectionFilePath.length)return"";let a=null;return a=SE(e.all,(e=>e.filePath===t.storyScreenshotSelectionFilePath)),null!=a?a.image:""}),[],[c,t]),I=(0,l.useFacetCallback)((e=>()=>{e.storyScreenshotSelectionFilePath=""}),[],[t]),x=(0,l.useFacetMap)((e=>e.postInProgressBody),[],[t]),O=(0,l.useFacetCallback)((e=>t=>{e.postInProgressBody=t}),[],[t]),A=(0,l.useFacetCallback)((e=>t=>{t.keyCode===pe.ENTER&&e.split("\n").length>=10&&t.preventDefault()}),[],[x]),[N,R]=ik(!1),L=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{t===rF.Idle&&(ck(a,n)?R.show():e.postStory())}),[R],[e,C,(0,l.useSharedFacet)(Dh),x]),D=(0,l.useFacetMap)(((e,t)=>{const a=[];return e?(a.push(yJ.ChangeScreenshotButton),a.push(yJ.RemoveScrenshotButton)):a.push(yJ.AddScreenshotButton),a.push(yJ.PostTextField),t||a.push(yJ.PostStoryButton),a.push(yJ.CancelPostButton),a}),[],[S,y]),_=(0,r.useCallback)(((e,t)=>{const a=e.indexOf(t);return-1===a?"":E(".enumeration",[`${a+1}`,`${e.length}`])}),[E]),B=(0,l.useFacetMap)((e=>_(e,yJ.AddScreenshotButton)),[_],[D]),W=(0,l.useFacetMap)((e=>_(e,yJ.ChangeScreenshotButton)),[_],[D]),U=(0,l.useFacetMap)((e=>_(e,yJ.RemoveScrenshotButton)),[_],[D]),z=(0,l.useFacetMap)((e=>_(e,yJ.PostTextField)),[_],[D]),j=(0,l.useFacetMap)((e=>_(e,yJ.PostStoryButton)),[_],[D]),H=(0,l.useFacetMap)((e=>_(e,yJ.CancelPostButton)),[_],[D]),G=(0,l.useFacetMap)(((e,t)=>e?[E(".disabled"),E(".postStoryHint")].join(" . "):t),[E],[y,j]),V=(0,l.useFacetMap)(((e,t)=>[E(".textBoxPlaceholder"),E(".inputField"),t,e.length>0?e:E(".inputFieldHint")].join(" . ")),[E],[x,z]),$=(0,l.useFacetMap)((e=>!e.getAllowCapturesResult),[],[s]),X=(0,l.useFacetMap)((e=>e?hJ:bJ),[],[$]),K=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.RealmsSafetyPage)}),[],[(0,l.useSharedFacet)(CF)]);!function(){const e=(0,l.useSharedFacet)(_h),t=(0,l.useSharedFacet)(zh),a=(0,l.useSharedFacet)(vv),n=p(),r=(0,l.useSharedFacet)(al),o=(0,l.useSharedFacet)(Bh),{t:c}=ws("RealmsStories"),i=(0,l.useFacetMap)((e=>e.postStoryStatus),[],[a]),s=(0,l.useFacetCallback)((e=>()=>e.clearPostStoryStatus()),[],[e]),u=(0,l.useFacetCallback)((e=>()=>{e.postInProgressBody="",e.storyScreenshotSelectionFilePath=""}),[],[t]),d=(0,l.useFacetCallback)((e=>()=>e.newPostAvailable=!0),[],[t]),m=(0,l.useFacetCallback)((e=>()=>{let t=0;for(;t<e.history.list.length&&(null===(a=e.history.list[t])||void 0===a||!a.pathname.includes("/post-to-realm-stories"));){var a;++t}t<e.history.list.length?n.go(t-e.history.list.length):n.goBack()}),[n],[r]),f=(0,l.useSharedFacet)(dh),g=(0,l.useFacetCallback)(((e,t,a)=>()=>{let n=0;for(;n<e.history.list.length&&(null===(r=e.history.list[n])||void 0===r||!r.pathname.includes("/post-to-realm-stories"));){var r;++n}n<e.history.list.length&&t.queueSnackbar(c(".postedTo",[a.name]))}),[c],[r,f,o]);(0,l.useFacetEffect)((e=>{e===rF.Success&&(g(),s(),u(),d(),m())}),[s,u,d,m,g],[i])}();const Y=g(),q=(0,l.useFacetMap)((e=>e.realmId),[],[Y]),Q=(0,l.useFacetCallback)((e=>()=>{f.push(`/realms-new-story/screenshot-gallery/${e}`)}),[f],[q]),J=Yr("neutral"),Z=(0,l.useFacetMap)((e=>!e.isOnline),[],[i]);return r.createElement(_r,{collection:xx},r.createElement(ay,null,r.createElement(BM,{onBackButton:f.goBack,center:r.createElement(Zi,{type:"header5A"},E(".addStory")),gamepadAlias:"realms-new-story-route"},r.createElement(l.Mount,{when:M},r.createElement(gJ.Component,null)),r.createElement(l.Mount,{when:w},r.createElement(EJ.Component,null)),r.createElement(l.Mount,{when:k},r.createElement(M_.Component,{onClickClose:P})),r.createElement(l.Mount,{when:R.isVisible},r.createElement(Zw.Component,{onClose:R.hide})),r.createElement(zM,null,r.createElement(l.Mount,{when:Z},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:d,narrowSize:0}),r.createElement(zM.Column,{wideSize:m,narrowSize:8},r.createElement(Vi,{size:4}),r.createElement(sB,null)))),r.createElement(l.Mount,{when:Z,condition:!1},r.createElement(zM.Row,{className:"bf503d6307b116f3ee83"},r.createElement(zM.Column,{wideSize:d,narrowSize:d},r.createElement(Vi,{size:4}),r.createElement("div",{className:"a26c95effb5b1d231f5c"},r.createElement(Uy,{statusBadge:F,src:v,variant:"large"}))),r.createElement(zM.Column,{wideSize:m,narrowSize:m},r.createElement(ud,null,r.createElement(Vi,{size:4}),r.createElement("div",{className:FJ},r.createElement(bG,null,r.createElement(Uu,null,r.createElement(l.Mount,{when:$},r.createElement(Ud,null,r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,E(".bannerText")),r.createElement(xO.Link,{onClick:K},E(".bannerLink")))))),r.createElement(Uu,null,r.createElement(Ud,null,r.createElement(Zi,{type:"body"},E(".selectScreenshot")),r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:S,condition:!1},r.createElement(lm,{onClick:Q,inputLegend:E(".addScreenshot"),imgSrc:X,narrationPrefix:E(".addScreenshot"),narrationSuffix:B,disabled:$},E(".addScreenshot"))),r.createElement(l.Mount,{when:S},r.createElement(r.Fragment,null,r.createElement("div",{className:dl()(FJ,J.border.base)},r.createElement(pu,{src:T,aspectRatio:pu.AspectRatio["16:9"]})),r.createElement(Vi,{size:2}),r.createElement("div",{className:vJ},r.createElement(lm,{inputLegend:E(".changeScreenshotImage"),onClick:Q,narrationPrefix:E(".changeScreenshotImage"),narrationSuffix:W,horizontal:!0},E(".change")),r.createElement(Vi,{size:4}),r.createElement(lm,{inputLegend:E(".removeScreenshotImage"),onClick:I,narrationPrefix:E(".removeScreenshotImage"),narrationSuffix:U,horizontal:!0},E(".remove"))))))),r.createElement(Uu,null,r.createElement(dk,{"data-testid":"new-story-field-id",maxLength:350,rows:3,label:"",placeholder:E(".textBoxPlaceholder"),value:x,narrationOverride:V,onChange:O,onKeyDown:A,disabled:M,onBlur:N})),r.createElement(Ud,null,r.createElement("div",{className:vJ},r.createElement(lm,{inputLegend:E(".cancel"),onClick:f.goBack,horizontal:!0,narrationPrefix:E(".cancel"),narrationSuffix:H},E(".cancel")),r.createElement(Vi,{size:4}),r.createElement(lm,{inputLegend:E(".postStory"),variant:"primary",onClick:L,disabled:(0,l.useFacetMap)(((e,t)=>t||e),[],[y,M]),horizontal:!0,narrationPrefix:E(".postStory"),narrationSuffix:G},E(".post")))))),r.createElement(Vi,{size:2})),r.createElement(Lm.Space,null))))))))}!function(e){e[e.AddScreenshotButton=0]="AddScreenshotButton",e[e.ChangeScreenshotButton=1]="ChangeScreenshotButton",e[e.RemoveScrenshotButton=2]="RemoveScrenshotButton",e[e.PostTextField=3]="PostTextField",e[e.PostStoryButton=4]="PostStoryButton",e[e.CancelPostButton=5]="CancelPostButton"}(yJ||(yJ={}));const CJ=a.p+"assets/privacy_safety_help_qr-c5392606b14a2d90086d.png",MJ="https://aka.ms/RealmsSafety";function wJ({addExtraSpace:e,onClose:t,children:a,isBrowserFriendly:n}){const{t:o}=ws("PrivacyAndOnlineSafetyModal"),c=(0,l.useSharedFacet)(Lh),i="privacy-and-online-safety-try-again-button",s=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.RealmsSafetyPage)}),[],[(0,l.useSharedFacet)(CF)]),u=(0,l.useFacetCallback)((e=>()=>{e.checkClubAndMultiplayerPermissions()}),[],[c]),d=(0,l.useFacetWrap)(e);return r.createElement($m,{defaultFocusAlias:i},r.createElement($m.Header,{onClose:t},o(".header")),r.createElement($m.Content,null,r.createElement("div",{className:"f79658be5c2fea3cb29e"},r.createElement(l.Mount,{when:n,condition:!1},r.createElement("div",{className:"d33a395bb740726a56b2"},r.createElement(pu,{src:CJ,className:"c2f3a4fd2c5112b7cfdb"}))),r.createElement("div",{className:"e4bd75e7f8ef63c3d743"},a,r.createElement("div",{className:"b9f6c49f42b27487c649"},r.createElement(l.Mount,{when:n},r.createElement(Zi,{type:"captionLong"},r.createElement(MO,{onClick:s,withUnderlinePolyfill:!0},MJ))),r.createElement(l.Mount,{when:n,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d},r.createElement(Vi,{size:4})),r.createElement(Zi,{type:"captionLong"},MJ))),r.createElement(Vi,{size:4}))))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{gamepadAlias:i,inputLegend:o(".tryAgain"),horizontal:!0,onClick:u},o(".tryAgain")),r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(Vi,{size:4}),r.createElement(lm,{onClick:s,Icon:LM.ExternalLink,inputLegend:o(".buttonAction"),variant:"primary",horizontal:!0,narrationSuffix:o(".linkButtonHint")},o(".externalLinkText"))))))}const kJ=As((({closeCallback:e,isBrowserFriendly:t})=>{const{t:a}=ws("PrivacyAndOnlineSafetyModal"),n=(0,l.useFacetMap)((e=>{const t=e?null:a(".qrCodeHint");return[a(".fromOnlineSafety"),a(".toAccessRealmsStories"),a(".clubPermissionMessage"),t].join(" . ")}),[a],[t]);return r.createElement(wJ,{onClose:e,isBrowserFriendly:t},r.createElement($m.Paragraphs,{spaceBetweenParagraphs:0,narrationText:n},r.createElement(Zi,{type:"captionLong"},a(".fromOnlineSafety")),r.createElement(Zi,{type:"captionLong"},a(".toAccessRealmsStories")),r.createElement(Zi,{type:"captionLong"},a(".clubPermissionMessage"))))}));function PJ({closeCallback:e}){const t=(0,l.useSharedFacet)(Lh),a=(0,l.useSharedFacet)(_l),n=(0,l.useFacetMap)((e=>!e.getClubCheckResult),[],[t]),o=(0,l.useFacetMap)((({platform:e})=>LI(e)),[],[a]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:n},r.createElement(kJ.Component,{closeCallback:e,isBrowserFriendly:o})))}var TJ;function IJ(){const e=g(),t=h(),a=p(),n=f(),o=(0,l.useSharedFacet)(Sv),c=(0,l.useSharedFacet)(Bh),i=(0,l.useSharedFacet)(zh),[s,u]=(0,l.useFacetState)(TJ.Enter),d=(0,l.useFacetMap)(((e,t,a)=>t&&e==TJ.Initializing&&!a.isFetchingRealmWorld&&!a.isRealmWorldValid),[],[s,n,c]),m=(0,l.useFacetMap)(((e,t,a)=>t&&e==TJ.FetchSettings&&(a.currentFetchState===nF.FetchFailed||a.currentFetchState===nF.InternalError)),[],[s,n,o]),E=(0,l.useFacetMap)(((e,t,a)=>t&&e==TJ.FetchSettings&&a.currentFetchState===nF.RateLimit),[],[s,n,o]),b=(0,l.useFacetMap)(((e,t,a,n,r)=>t&&e!=TJ.DataReady&&!a&&!n&&!r),[],[s,n,d,m,E]),v=(0,l.useFacetMap)((e=>e.getClubCheckResult),[],[(0,l.useSharedFacet)(Lh)]),F=(0,l.useFacetMap)(((e,t,a)=>t&&e==TJ.DataReady&&!a),[],[s,n,v]),y=(0,r.useCallback)((()=>{a.goBack()}),[a]),S=(0,l.useSharedFacet)(Nv),C=(0,l.useFacetMap)((e=>e.screenshots),[],[S]);return(0,l.useFacetEffect)(((e,t,n,r,l,o,c,i,s,d,m)=>{if(n)switch(t){case TJ.Enter:{if(!e.realmId)return;r.reset(),m.reset(),r.init(e.realmId);const t=d.get("screenshotId");if(null!=t){const e=s.find((e=>e.id===t));e&&(i.storyScreenshotSelectionFilePath=e.filePath)}u(TJ.FetchSettings)}break;case TJ.FetchSettings:o.currentFetchState===nF.Success&&(r.clearSettingsStatus(),u(TJ.DataReady));break;case TJ.DataReady:c&&(u(TJ.Finished),"new-story"===e.tab?a.replace(`/realms-new-story/${e.realmId}`):a.replace(`/realms-stories/${e.tab}/${e.realmId}`))}else u(TJ.Enter)}),[u,a],[e,s,n,(0,l.useSharedFacet)(_h),c,o,v,i,C,t,(0,l.useSharedFacet)(BB)]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:b},r.createElement(x_,{onClickClose:y})),r.createElement(l.Mount,{when:d},r.createElement(S_.Component,{onClickClose:y})),r.createElement(l.Mount,{when:m},r.createElement(y_.Component,{onClickClose:y})),r.createElement(l.Mount,{when:E},r.createElement(M_.Component,{onClickClose:y})),r.createElement(l.Mount,{when:F},r.createElement(PJ,{closeCallback:y})))}!function(e){e[e.Enter=0]="Enter",e[e.Initializing=1]="Initializing",e[e.FetchSettings=2]="FetchSettings",e[e.DataReady=3]="DataReady",e[e.Finished=4]="Finished"}(TJ||(TJ={}));const xJ=a.p+"assets/hardcore-heart-white-6b3814c00ab5446aa7ac.png",OJ="hardcore-mode-world-warning-modal-play",AJ=As((({onCancel:e,onSubmit:t})=>{const{t:a}=ws("CreateNewWorld.hardcoreModeWorldModal"),[n,o]=(0,l.useFacetState)(!1),c=(0,l.useSharedFacet)(uh),i=(0,l.useFacetCallback)(((a,n)=>()=>{n&&(a.doNotShowHardcoreModeWarning=!0),t(),e()}),[e,t],[c,n]);return r.createElement($m,{defaultFocusAlias:OJ},r.createElement($m.Header,{onClose:e},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".body")},a(".body")),r.createElement(Vi,{size:2}),r.createElement($m.OrderedList,{items:(0,l.useFacetWrap)([a(".bodyListItem1"),a(".bodyListItem2"),a(".bodyListItem3")])}),r.createElement(Vi,{size:6})),r.createElement($m.Buttons,{header:r.createElement($m.Checkbox,{value:n,onChange:o,title:a(".doNotShowAgain")})},r.createElement(lm,{gamepadAlias:OJ,inputLegend:a(".createWorld"),variant:"primary",delayedClick:!0,onClick:i,imgSrc:xJ},a(".createWorld")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".goBack"),variant:"secondary",delayedClick:!0,onClick:e},a(".goBack"))))})),NJ=As((({playNow:e,openStories:t})=>{const a="Play-Realms-Button",{t:n}=ws("RealmsStories"),{t:l}=ws("RealmsStories.ShareLink"),o=l(".title"),c=l(".message");return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,null,o),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c},c)),r.createElement($m.Buttons,null,r.createElement(_r,{collection:xx},r.createElement(lm,{gamepadAlias:a,inputLegend:n(".select"),variant:"primary",onClick:e},l(".playNow")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".select"),variant:"secondary",onClick:t},l(".openStories")))))}));function RJ(){const e=p(),t=g(),a=NJ.useModal(!0),n=AJ.useModal(!1),o=f(),c=(0,l.useSharedFacet)(Bh),i=(0,l.useSharedFacet)(_h),s=(0,l.useSharedFacet)(uh);kH();const u=(0,l.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&t.isFetchingRealmWorld),[],[o,c]),d=(0,r.useCallback)((()=>{e.goBack()}),[e]),m=(0,l.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&!t.isFetchingRealmWorld),[],[o,c]),E=(0,l.useFacetMap)(((e,t,a)=>e&&t.isRealmWorldValid&&!t.isFetchingRealmWorld&&a),[],[o,c,a.isVisible]),b=(0,l.useFacetMap)(((e,t)=>e&&t),[],[o,n.isVisible]),h=(0,l.useFacetCallback)(((e,t,r)=>()=>{t.isHardcore&&!r.doNotShowHardcoreModeWarning?(a.hide(),n.show()):(e.joinRealmFromInvite(),a.hide())}),[a,n],[i,c,s]),v=(0,l.useFacetCallback)((t=>()=>{a.hide(),e.replace(`/realms-story-entry-route/feed/${t.realmId}`)}),[e,a],[t]),F=(0,l.useFacetCallback)((e=>()=>{e.joinRealmFromInvite(),n.hide()}),[n],[i]),y=(0,r.useCallback)((()=>{n.hide(),e.replace("/play/all")}),[e,n]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u},r.createElement(x_,{onClickClose:d})),r.createElement(l.Mount,{when:m},r.createElement(S_.Component,{onClickClose:d})),r.createElement(l.Mount,{when:b},r.createElement(AJ.Component,{onSubmit:F,onCancel:y})),r.createElement(l.Mount,{when:E},r.createElement(NJ.Component,{playNow:h,openStories:v})))}const LJ=e,DJ=t,_J=n,BJ=a.p+"assets/default-f00267f06b75f9f5f60e.png";function WJ(e,t){for(let a=0;a<e.images.length;a++){const n=e.images[a];if((null==n?void 0:n.id)===t)return n}return null}function UJ(e,t){const a=WJ(e,t);return a&&(null==a?void 0:a.nonAnimatedUrl.length)>0?null==a?void 0:a.nonAnimatedUrl:a&&a.isLoaded?BJ:""}function zJ(e,t){const a=WJ(e,t);return a&&(null==a?void 0:a.animatedUrl.length)>0?null==a?void 0:a.animatedUrl:a&&a.isLoaded?BJ:""}function jJ(e,t){for(let a=0;a<e.buttons.length;a++){const n=e.buttons[a];if(null!=n&&n.id==t)return n}return null}function HJ(e,t,a=""){const n=jJ(e,t);return null!=n&&n.text.length>0?n.text:a}function GJ(){const e=p();return(0,l.useFacetCallback)((t=>(a,n,r,l)=>{t.reportClick(a,n,r,l.id),l.action===hh.EXTERNAL?(l.openExternalLink(),e.goBack()):l.action==hh.INTERNAL&&e.replace(l.link)}),[e],[(0,l.useSharedFacet)(yh)])}function VJ({errorMessage:e,messageID:t}){const{t:a}=ws("AnnouncementModalRoute"),n=p();let l=String(a(".errorTitle"));const o=String(e);return null!=t&&(l+=" ID: "+t),r.createElement(bd,{text:l+o},r.createElement($m,null,r.createElement($m.Header,null,l),r.createElement($m.Content,{focusableIfScrollable:!0},r.createElement($m.Text,{narrationText:o},r.createElement(Zi,{type:"captionLong",align:"left"},o))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".confirmInputLegend"),variant:"secondary",onClick:()=>{n.goBack()}},a(".continue")))))}const $J="Primary";function XJ({announcement:e}){const{t}=ws("AnnouncementModalRoute"),a=Cl(),n=(0,l.useFacetUnwrap)(e),o=(0,l.useFacetCallback)((e=>(t,a,n)=>{e(t,a,n)}),[],[(0,l.useSharedFacet)(Sh)]);if(n===l.NO_VALUE||null==n)return r.createElement(VJ,{errorMessage:t(".errorNoMessage")});const c=n.header,i=n.body;if(null==i||null==c||!function(e){return"ImageText"===e.template&&e.images.length>=1}(n))return r.createElement(VJ,{errorMessage:t(".errorInvalidTemplate")});const s=UJ(n,$J),u=zJ(n,$J),d=HJ(n,"Dismiss",t(".continue")),m=()=>{o(n.id,n.instanceId,n.surface),a.goBack()};return r.createElement($m,null,r.createElement($m.Header,{onClose:m},c),r.createElement($m.Content,{focusableIfScrollable:!0},r.createElement("div",{className:"d264f8e2dbb8911e3c07"},r.createElement("div",{className:"b3d920639ea7a60e8e9d"},r.createElement(FL,{gifSrc:u,imageSrc:s,className:"bfe05e17684e6cd46cba",aspectRatio:pu.AspectRatio["16:9"]})),r.createElement($m.Text,{narrationText:i},r.createElement("div",{className:"f1537d5c80be9f5147b1"},r.createElement(Zi,{type:"captionLong",align:"left",whiteSpace:"preWrap"},i))))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:m},d)))}const KJ="a30beca26cfb78d32e08";function YJ({messageId:e,messageInstanceId:t,messageSurface:a,unlockButton:n,unlockButtonText:l,onApply:o,onDismiss:c,styleType:i,inputLegend:s,gamepadAlias:u,horizontal:d=!1,narrationSuffix:m,className:p}){const f=r.createElement(lm,{gamepadAlias:u,inputLegend:s,variant:"primary",Icon:()=>r.createElement(yL,{button:n}),onClick:()=>{o(e,t,a,n),c(e,t,a)},horizontal:d,narrationSuffix:m},l),g=i===vh.Realms?r.createElement(_r,{collection:xx},f):f;return r.createElement("div",{className:dl()("cecdc39b09fcbde3b279",p)},g)}const qJ="CallToAction",QJ="Primary",JJ="Secondary";function ZJ({announcement:e}){const{t}=ws("AnnouncementModalRoute"),a=Cl(),n=(0,l.useFacetUnwrap)(e),o=GJ(),c=(0,l.useFacetCallback)((e=>(t,a,n)=>{e(t,a,n)}),[],[(0,l.useSharedFacet)(Sh)]);if(n===l.NO_VALUE||null==n)return r.createElement(VJ,{errorMessage:t(".errorNoMessage")});const i=n.header,s=n.body;if(null==s||null==i||!function(e){return"ImageThumbnailCTA"===e.template&&e.images.length>=2&&null!=jJ(e,qJ)}(n))return r.createElement(VJ,{errorMessage:t(".errorInvalidTemplate")});const u=HJ(n,"Dismiss",t(".continue")),d=jJ(n,qJ),m=HJ(n,qJ,t(".unlock")),p=UJ(n,QJ),f=zJ(n,QJ),g=UJ(n,JJ),E=zJ(n,JJ),b=()=>{c(n.id,n.instanceId,n.surface),a.goBack()};return r.createElement($m,null,r.createElement($m.Header,{onClose:b},i),r.createElement($m.Content,{focusableIfScrollable:!0},r.createElement("div",{className:"af9ae3623435b8bad07f"},r.createElement("div",{className:"ec07cb885ebde4709393"},r.createElement("div",{className:"b1af1235aceed855375f"},r.createElement(FL,{gifSrc:f,imageSrc:p,className:KJ,aspectRatio:pu.AspectRatio["16:9"]})),r.createElement("div",{className:"c5f812a252f372eaa40c"},r.createElement("div",{className:"e2411e4849990a2ae1c2"},r.createElement(FL,{gifSrc:E,imageSrc:g,className:KJ,aspectRatio:pu.AspectRatio["16:9"]})),null!=d&&r.createElement(YJ,{messageId:n.id,messageInstanceId:n.instanceId,messageSurface:n.surface,unlockButton:d,unlockButtonText:m,onApply:o,onDismiss:c,styleType:n.style,inputLegend:t(".confirmInputLegend")}))),r.createElement($m.Text,{narrationText:s},r.createElement("div",{className:"e79812f4cc12b9e81c18"},r.createElement(Zi,{type:"captionLong",align:"left",whiteSpace:"preWrap"},s))))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:b},u)))}const eZ="CallToAction",tZ="Primary";function aZ({announcement:e}){const{t}=ws("AnnouncementModalRoute"),a=p(),n=(0,l.useFacetUnwrap)(e),o=GJ(),c=(0,l.useFacetCallback)((e=>(t,a,n)=>{e(t,a,n)}),[],[(0,l.useSharedFacet)(Sh)]);if(n===l.NO_VALUE||null==n)return r.createElement(VJ,{errorMessage:t(".errorNoMessage")});const i=n.header,s=n.body;if(null==s||null==i||!function(e){return"HeroImageCTA"===e.template&&e.images.length>=1}(n))return r.createElement(VJ,{errorMessage:t(".errorInvalidTemplate")});const u=HJ(n,"Dismiss",t(".continue")),d=jJ(n,eZ),m=HJ(n,eZ,t(".unlock")),f=UJ(n,tZ),g=zJ(n,tZ),E=()=>{c(n.id,n.instanceId,n.surface),a.goBack()},b=()=>r.createElement(yL,{button:d});return r.createElement($m,null,r.createElement($m.Header,{onClose:E},i),r.createElement($m.Content,{focusableIfScrollable:!0},r.createElement("div",{className:"e59ec10a19261134fb4b"},r.createElement("div",{className:"f95f545157d1284e4f36"},r.createElement(FL,{gifSrc:g,imageSrc:f,className:"ffd01ddb251cc22dcfb7",aspectRatio:pu.AspectRatio["16:9"]})),r.createElement($m.Text,{narrationText:s},r.createElement("div",{className:"d2c96d3296d048da5baf"},r.createElement(Zi,{type:"captionLong",verticalAlign:"center",align:"left",role:"inherit",whiteSpace:"preWrap"},s))))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:E,horizontal:!0},u),null!=d&&r.createElement(Vi,{size:4}),null!=d&&function(e){const a=r.createElement(lm,{inputLegend:t(".confirmInputLegend"),variant:"primary",Icon:b,onClick:()=>{null!=d&&(o(e.id,e.instanceId,e.surface,d),c(e.id,e.instanceId,e.surface))},horizontal:!0},m);return e.style===vh.Realms?r.createElement(_r,{collection:xx},a):a}(n)))}const nZ={overlay:"f50997f179e48cf61853",container:"bf04d9c484e7d98c5767",content:"dc5c7f340cc264d86c51",wrapper:"a8eb62ba271a579c0cb1",closeButton:"e0c79755f6681031fa74",modalBody:"cf1c49900e57db32f989",center:"a1b759dd0daeff17430a"};function rZ({children:e,role:t="neutral80",className:a,containerRef:n,wideGridWidth:o,wideGridMargin:c=0,narrowGridWidth:i,narrowGridMargin:s=0}){const u=Yr(t),d=(0,l.useFacetMap)((e=>dl()(nZ.container,u.background.base,u.border.base,u.text.base,e)),[u],[(0,l.useFacetWrap)(a)]);return r.createElement(zM,{centerContentVertically:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:c,narrowSize:s}),r.createElement(zM.Column,{wideSize:o,narrowSize:i},r.createElement("fast-div",{ref:n,className:d,onClick:lZ},e)),r.createElement(zM.Column,{wideSize:c,narrowSize:s})))}const lZ=e=>{e.stopPropagation()},oZ=()=>{};function cZ({children:e,className:t,narrationText:a,narrationSuffix:n,delegateFocusByAlias:l,onOverlayClick:o,onBack:c,wideGridWidth:i,wideGridMargin:s,narrowGridWidth:u,narrowGridMargin:d,role:m="neutral80"}){var p;const{t:f}=ws("WideAnnouncementModal"),g=(0,r.useRef)(null),E=[a,f(".narration.modal"),n].join(" . "),b={button:j.B,inputLegend:f(".back")};return r.createElement(Sr,{role:m},r.createElement(iZ,{onClick:o},r.createElement(rZ,{role:m,className:dl()(t,nZ.container),containerRef:g,wideGridWidth:i,wideGridMargin:s,narrowGridWidth:u,narrowGridMargin:d},r.createElement(bd,{text:E},r.createElement(uu,{containerRef:g,delegateFocusByAlias:l,shouldBindFocus:!0,delegateFocusFromMemory:!0},r.createElement(Ed,{options:b,onClick:null!==(p=null!=c?c:o)&&void 0!==p?p:oZ}),e)))))}function iZ({onClick:e,children:t,role:a="inherit"}){const n=Yr(a);return r.createElement("div",{className:dl()(nZ.overlay,n.overlay.base),onClick:e},r.createElement("div",{className:nZ.wrapper},t,r.createElement(Lm.Space,null)))}cZ.Body=function({children:e,role:t="inherit",className:a,onCloseButtonClick:n,hideCloseButton:o=!1,outerRef:c,disableSpecular:i=!1}){const s=Yr(t),u=(0,l.useFacetWrap)(o),{t:d}=ws("WideAnnouncementModal.narration"),m=[d(".close"),d(".button")].join(" . ");return r.createElement("div",{ref:c,className:dl()(s.background.base,nZ.modalBody)},!i&&r.createElement(Ks,{effect:"specular"}),r.createElement("div",{className:dl()(s.text,nZ.content,a)},e),r.createElement(l.Mount,{when:u,condition:!1},r.createElement(Us,{role:"inherit",inputLegend:d(".close"),narrationText:m,onClick:null!=n?n:oZ,className:nZ.closeButton},r.createElement(Su,null))))},cZ.Footer=function({children:e,role:t="inherit",className:a}){const n=Yr(t),o=(0,l.useFacetMap)((e=>dl()(nZ.footer,nZ.center,n.background.base,n.border.base,n.text.base,e)),[n],[(0,l.useFacetWrap)(a)]);return r.createElement("fast-div",{className:o},r.createElement(Ks,{effect:"bevel",left:!1,right:!1}),e)};const sZ={modalNarrow:"e52d170d185b195070ef",modalTablet:"b8d36a450b815f7245ef",modalDesktop:"f030e5e6672a08884a12",modalBody:"d5ecc91712bd62349b19",imageSlot:"f0c6cb45d5e3d806d14a",imageSlotNarrow:"e9a055c5b024fad59e2b",imageSlotTablet:"f4239edc203fa14ae601",imageSlotDesktop:"c02b11cd358acb048afa",contentRow:"a71dff9f886ff9682d12",textContent:"a445b92673c6f53b80c0",textContentNarrow:"fc774f2e282f178d6d59",textContentTablet:"fc21dd3fc0c39a080f92",textContentDesktop:"e7d81e38af368b6803fb",title:"b9c54abeb93543c5a8fe",bodyText:"e09376c3ec4a958d5b68",bodyTextNarrow:"f4606d8a2a8752d1dacf",scrollBox:"cb9e7611474eed81ab79",scrollBar:"d1f8c82e3352b8ff1ba8",footer:"d6525edbb5e784ce7a86"},uZ="CallToAction";function dZ({announcement:e}){const{t}=ws("AnnouncementModalRoute");if(null==e)return r.createElement(VJ,{errorMessage:t(".errorNoMessage")});const a=e.header;return null!=e.body&&null!=a&&function(e){return"ShowcaseAnnouncementCTA"===e.template&&1===e.images.length&&1===e.buttons.length||"ShowcaseAnnouncementNoCTA"===e.template&&1===e.images.length&&0===e.buttons.length}(e)?r.createElement(mZ,{announcement:e}):r.createElement(VJ,{errorMessage:t(".errorInvalidTemplate")})}function mZ({announcement:e}){const{t}=ws("AnnouncementModalRoute"),a=Sc(82),n=p(),o=(0,l.useFacetCallback)((e=>(t,a,n)=>{e(t,a,n)}),[],[(0,l.useSharedFacet)(Sh)]),c=GJ(),i=(0,r.useCallback)((()=>{o(e.id,e.instanceId,e.surface),n.goBack()}),[e,o,n]),s=(0,r.useRef)(null),u=(0,l.useFacetCallback)((()=>e=>{if(!e.repeat&&null!=s.current){const t=s.current;e.keyCode==pe.HOME?t.scrollTop=0:e.keyCode==pe.END&&(t.scrollTop=t.scrollHeight)}}),[s],[]);(0,r.useEffect)((()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),[u]);const d=e.header,m=e.body,f=UJ(e,"Primary"),g=jJ(e,uZ),E=HJ(e,uZ,t(".continue")),b=null!=g,h=dl()({[sZ.modalNarrow]:"narrow"===a,[sZ.modalTablet]:"tablet"===a,[sZ.modalDesktop]:"desktop"===a}),v=dl()(sZ.imageSlot,{[sZ.imageSlotNarrow]:"narrow"===a,[sZ.imageSlotTablet]:"tablet"===a,[sZ.imageSlotDesktop]:"desktop"===a}),F=dl()(sZ.textContent,{[sZ.textContentNarrow]:"narrow"===a,[sZ.textContentTablet]:"tablet"===a,[sZ.textContentDesktop]:"desktop"===a}),y=dl()(sZ.bodyText,{[sZ.bodyTextNarrow]:"narrow"===a});return r.createElement(cZ,{onOverlayClick:i,className:h,narrationText:d,narrationSuffix:m,delegateFocusByAlias:uZ,wideGridWidth:12,wideGridMargin:0,narrowGridWidth:8,narrowGridMargin:0},r.createElement(cZ.Body,{onCloseButtonClick:i,className:dl()(sZ.contentRow,sZ.modalBody)},r.createElement("div",{className:v},r.createElement(FL,{className:sZ.image,gifSrc:f,imageSrc:f,aspectRatio:{height:9,width:16}})),r.createElement(Vi,{size:5}),r.createElement("div",{className:F},r.createElement(Zi,{type:"header5A",className:sZ.title},d),r.createElement(Vi,{size:2}),r.createElement("div",{className:sZ.scrollBox},r.createElement(ud,{innerRef:s,emptyFocusableNarrationText:m,scrollbarClassName:sZ.scrollBar,floating:!0},r.createElement(Zi,{type:"captionLong",whiteSpace:"preWrap",className:y},m))))),b&&r.createElement(cZ.Footer,{role:"neutral60",className:sZ.footer},r.createElement(YJ,{messageId:e.id,messageInstanceId:e.instanceId,messageSurface:e.surface,unlockButton:g,unlockButtonText:E,onApply:c,onDismiss:o,styleType:e.style,inputLegend:t(".confirmInputLegend"),gamepadAlias:uZ})))}function pZ(e,t,a,n){const{t:r}=ws("Patchnote.narration");return(0,l.useFacetMap)(((e,t,a,n)=>[e,t,r(".textBlockRole"),a,n].filter((e=>null!=e)).join(" . ")),[r],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(a),(0,l.useFacetWrap)(n),(0,l.useFacetWrap)(t)])}function fZ(){return fZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fZ.apply(null,arguments)}let gZ;function EZ({heroPadding:e=!1,middleSpacing:t=5,displayContent:a,textContent:n,textSide:o,narrationText:c="",interactive:i=!0,showBorder:s=!0,gamepadAlias:u,className:d,role:m="neutral80"}){const p=Yr(m),f=Sc(60),g=(0,l.useFacetMap)(((e,t)=>dl()("dc89c759e8508ebd4fac",p.border.base,p.background.base,{af820cdadc685a088133:e&&"narrow"!=f,c7584b28bfaabda84b82:t===gZ.Left,f8cf28f8b2055f48d7be:s},d)),[f,d,p.background.base,p.border.base,s],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(o)]),E=dl()("dfa098d63ee0705e8b80",{ffb67abb9c89b810a13b:"narrow"!=f&&e}),b=r.createElement("fast-div",{className:g},r.createElement(Ks,{effect:"specular",bottom:!1}),a,r.createElement(Vi,{size:t}),r.createElement("fast-div",{className:E},n));return r.createElement(_r,{collection:Ax},r.createElement(l.Unwrap,{data:(0,l.useFacetWrap)(i)},(e=>e?r.createElement(Wi,{inputLegend:!1,gamepadAlias:u,narrationText:c,classNameFocused:Ws,classNameHovered:"bbb1d9190cfcad51d50c"},r.createElement(Bs,{inset:!0,className:"caa7f63a06e3ed5067d1"}),b):r.createElement(r.Fragment,null,b))))}!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(gZ||(gZ={}));const bZ=function({textSide:e,imageSrc:t,gifSrc:a,title:n,subtitle:l,description:o,narrationInfix:c="",className:i,gamepadAlias:s,showBorder:u=!0,role:d="neutral80"}){const m=Sc(60),p=pZ(n,o,c,l),f="desktop"==m?"header4A":"header5A",g="desktop"==m?"header5B":"body";return r.createElement(EZ,{textSide:e,heroPadding:!0,displayContent:r.createElement("fast-div",{className:"ac53aa1d15461a9e5ba4"},r.createElement(FL,{gifSrc:a,imageSrc:t,aspectRatio:{width:16,height:9}})),textContent:r.createElement(r.Fragment,null,r.createElement(Zi,{align:"center",type:f},n),null!=l&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(Zi,{align:"center",type:g},l)),r.createElement(Vi,{size:3}),r.createElement(Zi,{align:"center",type:g},o)),narrationText:p,className:i,gamepadAlias:s,showBorder:u,role:d})},hZ=function({textSide:e,imageSrc:t,gifSrc:a,title:n,description:l,narrationInfix:o,className:c,gamepadAlias:i,showBorder:s=!0,role:u="neutral100"}){const d=Sc(60),m=pZ(n,l,o),p="desktop"==d?"paragraphs":"captionLong";return r.createElement(EZ,{textSide:e,displayContent:r.createElement("fast-div",{className:"b781d3cb1bc569ff09f2"},r.createElement(FL,{gifSrc:a,imageSrc:t,aspectRatio:{width:16,height:9}})),textContent:r.createElement(r.Fragment,null,r.createElement(Zi,{align:"left",type:"header5B"},n),r.createElement(Vi,{size:3}),r.createElement(Zi,{align:"left",type:p},l)),narrationText:m,className:c,gamepadAlias:i,showBorder:s,role:u})},vZ=function({buttonProps:e,title:t,description:a,className:n,gamepadAlias:o,showBorder:c=!0,role:i="neutral80"}){const s=(0,l.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e)).join(" . ")),[],[(0,l.useFacetWrap)(t),(0,l.useFacetWrap)(e.children)]);return r.createElement(EZ,{interactive:!1,textSide:gZ.Left,textContent:r.createElement(r.Fragment,null,r.createElement(Vi,{size:3}),r.createElement(Zi,{align:"left",type:"header5B"},t),r.createElement(Vi,{size:3}),r.createElement(Zi,{align:"left",type:"body"},a),r.createElement(Vi,{size:3})),middleSpacing:1,displayContent:r.createElement("div",{className:"d6c49b554856c71205e2"},r.createElement(lm,fZ({horizontal:!0,narrationPrefix:s,narrationSuffix:a},e))),className:n,gamepadAlias:o,showBorder:c,role:i})};function FZ(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yZ(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?FZ(Object(a),!0).forEach((function(t){SZ(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FZ(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function SZ(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CZ({data:e,i:t,totalPatches:a}){const{t:n}=ah("GamedropContent"),o=n(".narration.enumeration",[`${2+t}`,`${a}`]),c=(0,l.useFacetMap)((e=>e.image.nonAnimatedUrl),[],[e]),i=(0,l.useFacetMap)((e=>e.image.animatedUrl),[],[e]),s=(0,l.useFacetMap)((e=>e.title),[],[e]),u=(0,l.useFacetMap)((e=>e.body),[],[e]);return r.createElement(hZ,{key:t,textSide:t%2==0?gZ.Right:gZ.Left,narrationInfix:o,imageSrc:c,gifSrc:i,title:s,description:u,showBorder:!1})}function MZ({message:e,onButtonClick:t,scrollViewRef:a,hideOuterBorders:n=!1,role:o="neutral80"}){const c=Yr(o),i=(0,l.useFacetWrap)(e),s=(0,l.useFacetMap)((e=>e.header),[],[i]),u=(0,l.useFacetMap)((e=>e.subtitle),[],[i]),d=(0,l.useFacetMap)((e=>e.body),[],[i]),m=(0,l.useFacetMap)((e=>e.images.find((e=>"Primary"===e.id))),[],[i]),p=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.nonAnimatedUrl)&&void 0!==t?t:""}),[],[m]),f=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.animatedUrl)&&void 0!==t?t:""}),[],[m]),g=(0,l.useFacetMap)((e=>e.gamedrop.footerTitle),[],[i]),E=(0,l.useFacetMap)((e=>e.gamedrop.footerBody),[],[i]),b=function(e,t){const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetCallback)((e=>()=>{t(e)}),[t],[a]);return(0,l.useFacetMap)((e=>({gamepadAlias:"GamedropFooterButton",inputLegend:e.text,variant:"secondary",onClick:n,children:e.text})),[n],[a])}((0,l.useFacetMap)((e=>e.gamedrop.footerButton),[],[i]),t),h=dl()(c.border.base,"dd8d390944b2e684d5a8"),v=(0,l.useFacetMap)((e=>{var t;return dl()("ccadcf9417b508b428a6",{[null!==(t=c.border.base)&&void 0!==t?t:""]:!e,f26db613944c97eb165a:!e})}),[c.border.base],[(0,l.useFacetWrap)(n)]);return r.createElement("fast-div",{className:v},r.createElement(ud,{floating:!0,scrollbarClassName:"f8bef038f492ce7a2faa",innerRef:a},r.createElement(bZ,{textSide:gZ.Right,imageSrc:p,gifSrc:f,title:s,subtitle:u,description:d,showBorder:!1}),r.createElement("div",{className:h}),r.createElement(l.Map,{array:(0,l.useFacetMap)((e=>e.gamedrop.patchnotes),[],[i])},((e,t,a)=>r.createElement(r.Fragment,null,r.createElement(CZ,{data:e,i:t,totalPatches:a}),r.createElement("div",{className:h})))),r.createElement(l.Unwrap,{data:b},(e=>r.createElement(vZ,{title:g,description:E,buttonProps:e,showBorder:!1})))))}function wZ({message:e}){const t=(0,l.useFacetWrap)(e),a=(0,l.useFacetMap)((e=>yZ(yZ({},e),{},{header:e.title,body:e.content,subtitle:e.subtitle,gamedrop:e.gamedrop})),[],[t]),n=OQ(e);return r.createElement(MZ,{onButtonClick:n,message:a})}const kZ="CallToAction",PZ="Dismiss";function TZ({announcement:e}){const{t}=ws("AnnouncementModalRoute");if(null==e)return r.createElement(VJ,{errorMessage:t(".errorNoMessage")});const a=e.header;return null!=e.body&&null!=a&&function(e){return"GameDrop"===e.template&&null!=e.gamedrop&&e.gamedrop.patchnotes.length>0&&null!=e.subtitle}(e)?r.createElement(IZ,{announcement:e}):r.createElement(VJ,{errorMessage:t(".errorInvalidTemplate")})}function IZ({announcement:e}){const{t}=ws("AnnouncementModalRoute"),a=Sc(),n=p(),o=(0,l.useFacetCallback)((e=>(t,a,n)=>{e(t,a,n)}),[],[(0,l.useSharedFacet)(Sh)]),c=GJ(),i=(0,r.useCallback)((()=>{o(e.id,e.instanceId,e.surface),n.goBack()}),[e,o,n]),s=(0,r.useRef)(null),u=(0,l.useFacetCallback)((()=>e=>{if(!e.repeat&&null!=s.current){const t=s.current;e.keyCode==pe.HOME?t.scrollTop=0:e.keyCode==pe.END&&(t.scrollTop=t.scrollHeight)}}),[s],[]);(0,r.useEffect)((()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),[u]);const[d,m]=(0,r.useState)(!0),f=(0,r.useRef)(null),g=_c(f);(0,l.useFacetLayoutEffect)((({height:e,width:t})=>{null!=f.current&&m(e/t<.35)}),[],[g]);const E=e.header,b=e.subtitle,h=e.body,v=jJ(e,kZ),F=HJ(e,kZ,t(".continue")),y=jJ(e,PZ),S=HJ(e,PZ,t(".continue")),C=[null==y?void 0:y.description,t(".narration.enumeration",["1","2"])].join(" . "),M=function(e,t=!0){const a=(0,l.useFacetWrap)(e),n=(0,l.useFacetMap)((e=>e.id),[],[a]),r=(0,l.useFacetMap)((e=>e.instanceId),[],[a]),o=(0,l.useFacetMap)((e=>e.surface),[],[a]),c=GJ();return(0,l.useFacetCallback)(((e,a,n,r)=>l=>{c(e,a,n,l),t&&r(e,a,n)}),[c,t],[n,r,o,(0,l.useSharedFacet)(Sh)])}(e);return r.createElement(cZ,{onOverlayClick:i,narrationText:E,narrationSuffix:`${b} . ${h}`,delegateFocusByAlias:kZ,wideGridWidth:12,narrowGridWidth:8},r.createElement(cZ.Body,{onCloseButtonClick:i,hideCloseButton:!0,disableSpecular:!0,outerRef:f,className:"narrow"===a||d?"b19c985a42d71e532958":"ede699833e1fa38cbd01"},r.createElement("div",{className:"narrow"===a||d?"f2a90eb561d27074b643":"c3934d3a7be9318f234a"},r.createElement(MZ,{hideOuterBorders:!0,onButtonClick:M,message:e,scrollViewRef:s}))),r.createElement(cZ.Footer,{role:"neutral",className:"f86fc83d9920583b582e"},r.createElement(lm,{inputLegend:t(".confirmInputLegend"),variant:"secondary",onClick:()=>{null!=y&&c(e.id,e.instanceId,e.surface,y),i()},horizontal:!0,narrationSuffix:C},S),v&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(YJ,{messageId:e.id,messageInstanceId:e.instanceId,messageSurface:e.surface,unlockButton:v,unlockButtonText:F,onApply:c,onDismiss:o,styleType:e.style,inputLegend:t(".confirmInputLegend"),gamepadAlias:kZ,horizontal:!0,narrationSuffix:`${t(".narration.enumeration",["2","2"])} . ${v.description}`,className:"a7bc3363820f0a5a7989"}))))}function xZ({template:e,message:t}){const{t:a}=ws("AnnouncementModalRoute"),n=(0,l.useFacetUnwrap)(e),o=(0,l.useFacetUnwrap)(t);if(n==l.NO_VALUE||o==l.NO_VALUE)return null;switch(n){case"ImageText":return r.createElement(XJ,{announcement:o});case"ImageThumbnailCTA":return r.createElement(ZJ,{announcement:o});case"HeroImageCTA":case"HeroImageCTA_RealmsLink":return r.createElement(aZ,{announcement:o});case"ShowcaseAnnouncementCTA":case"ShowcaseAnnouncementNoCTA":return r.createElement(dZ,{announcement:o});case"GameDrop":return r.createElement(TZ,{announcement:o});default:return r.createElement(VJ,{errorMessage:a(".errorUnsupportedTemplate")})}}function OZ(){const{t:e}=ws("AnnouncementModalRoute"),t=Ml(),a=(0,l.useSharedFacet)(Mh(t.id)),n=(0,l.useFacetMap)((e=>e.message),[],[a]),o=(0,l.useFacetMap)(((e,t)=>e.isLoaded&&null!=t),[],[a,n]),c=(0,l.useFacetMap)(((e,t)=>e.isLoaded&&null==t),[],[a,n]),i=(0,l.useFacetMap)((e=>null==e?void 0:e.template),[],[n]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(xZ,{template:i,message:n})),r.createElement(l.Mount,{when:c},r.createElement(VJ,{errorMessage:e(".errorNoMessage")})))}const AZ=a.p+"assets/Feedback-ecfce4d670046c25d3df.png",NZ=a.p+"assets/Invites-6a62211ac071c98b2994.png",RZ=a.p+"assets/MarketplacePass-8eb08ee1dd714dd15307.png",LZ=a.p+"assets/News-f81489154ff3c38f5b5f.png",DZ=a.p+"assets/Realms-c7419af9abd527149fcc.png";function _Z(e){switch(e){case SQ.FEEDBACK:return AZ;case SQ.INVITES:return NZ;case SQ.MARKETPLACEPASS:return RZ;case SQ.NEWS:return LZ;case SQ.REALMS:return DZ;default:return""}}function BZ({setScrollTo:e}){const{t}=ws("InboxRoute"),a=Rd(Ob)?TQ:PQ,n=(0,l.useFacetMap)((e=>OI(e.platform)),[],[(0,l.useSharedFacet)(_l)]),o=(0,l.useFacetMap)((e=>e.platform===Ye.AMAZON_HANDHELD),[],[(0,l.useSharedFacet)(_l)]),c=(0,l.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,l.useSharedFacet)(MQ)]),i=(0,l.useFacetMap)(((e,a,n,r,l)=>function(e,t,a,n,r){const l=[];return n.forEach((n=>{const o=n.category===SQ.INVITES?r.showInvitesBadges:r.showMessageBadges;(n.category!==SQ.MARKETPLACEPASS||t)&&(n.category!==SQ.FEEDBACK||a)&&l.push({displayName:n.name?n.name:e("."+n.category),imageUrl:n.imageUrl?n.imageUrl:_Z(n.category),imageId:n.category+"Icon",value:n.category,count:n.unreadCount,shouldShowBadge:o,telemetryButtonName:"Inbox_"+n.category+"_Button"})})),l}(t,l||!r,!n,e,{showMessageBadges:a.showMessageBadges,showInvitesBadges:a.showInvitesBadges})),[t],[(0,l.useSharedFacet)(a),(0,l.useSharedFacet)(IQ),n,o,c]),s=(0,l.useFacetMap)(((e,t)=>0===e.length||t),[],[i,Gu()]);return r.createElement(tR,{loading:s},r.createElement(tR.ItemList,{items:i,renderItem:({item:t})=>function({item:e,setScrollTo:t}){const a=p(),{t:n}=ws("InboxRoute"),o=Ml(),c=(0,l.useFacetMap)((e=>e.displayName),[],[e]),i=JT(),s=(0,l.useFacetMap)((e=>o.tab===e.value),[o],[e]);return r.createElement(Uu,null,r.createElement(tR.ListItem,{narrationText:c,onSelect:(0,l.useFacetCallback)((e=>()=>{e.value!==o.tab&&(t&&t(0),i({button:e.telemetryButtonName,screen:"Inbox"}),a.replace(`/inbox/${e.value}`))}),[o,a,i,t],[e]),value:(0,l.useFacetMap)((e=>e.value),[],[e]),selected:s,inputLegend:n(".select")},r.createElement(tR.ItemCell,null,r.createElement(EL,{iconSrc:(0,l.useFacetMap)((e=>e.imageUrl),[],[e]),selected:s})),r.createElement(tR.ItemMain,null,r.createElement(Zi,{type:"body"},c)),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.count>0&&e.shouldShowBadge),[],[e])},r.createElement(tR.ItemCell,{margin:"start"},r.createElement(rk,{role:"destructiveTint"},(0,l.useFacetMap)((e=>`${e.count}`),[],[e]))))))}({item:t,setScrollTo:e})}))}const WZ=a.p+"assets/trash-4fd680d99505bfaf6df8.png",UZ=e=>({messageId:e.id,messageType:e.inboxCategory,messageRead:e.read.toString()}),zZ="invite-expired-modal-ok",jZ=As((({item:e,onClose:t})=>{const{t:a}=ws("Realms.InviteExpiredModals"),n=Os(),o=(0,l.useFacetCallback)(((e,a)=>()=>{e.rejectInvitation(a.instanceId),t(),n()}),[n,t],[(0,l.useSharedFacet)(MQ),e]);return r.createElement($m,{defaultFocusAlias:zZ},r.createElement($m.Header,null,a(".header")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message")},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:zZ,inputLegend:a(".ok"),variant:"secondary",onClick:o},a(".ok"))))})),HZ="delete-inbox-message-confirm",GZ=As((function({item:e}){const{t}=ws("InboxRoute.deleteConfirmation"),a=Os(),n=JT(),o=(0,l.useFacetCallback)((t=>()=>{t.deleteNotification(e.id,e.instanceId),n({button:"MessageAction_Delete",screen:"Inbox",details:UZ(e)})}),[e,n],[(0,l.useSharedFacet)(MQ)]);return r.createElement($m,{defaultFocusAlias:HZ},r.createElement($m.Header,{onClose:a},t(".header")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".dialogText")},t(".dialogText"))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"destructive",gamepadAlias:HZ,inputLegend:t(".deleteConfirm"),onClick:()=>{o(),a()}},t(".deleteConfirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:t(".cancel"),onClick:a},t(".cancel"))))}));function VZ({invite:e,daysLeft:t}){const{t:a}=ws("InboxRoute"),n=(0,l.useFacetMap)(((e,t)=>{switch(e.invStatus){case yQ.ACCEPTED:return"primaryTint";case yQ.REJECTED:return"neutral100";case yQ.EXPIRED:return"noticeTint";case yQ.NONE:if(null!=t&&e.inboxCategory!==SQ.INVITES)return t<=0?"noticeTint":"informativeTint";default:return"noticeTint"}}),[],[e,t]),o=(0,l.useFacetMap)(((e,t)=>{switch(e.invStatus){case yQ.ACCEPTED:return a(".accepted");case yQ.REJECTED:return a(".rejected");case yQ.EXPIRED:return a(".expired");default:return null!=t&&e.inboxCategory!==SQ.INVITES?t<=0?a(".expired"):t<1?a(".endsToday"):a(".endsSoon",[`${t}`]):""}}),[a],[e,t]),c=(0,l.useFacetMap)(((e,t)=>e.invStatus!=yQ.NONE||null!=t),[],[e,t]);return r.createElement(l.Mount,{when:c},r.createElement(rk,{role:n},o))}function $Z({item:e,indexData:t}){const a=(0,l.useFacetMap)((e=>e.title),[],[e]),n=(0,l.useFacetMap)((e=>e.read),[],[e]),o=(0,l.useFacetMap)((e=>e.sender),[],[e]),c=(0,l.useFacetMap)((e=>e.inboxCategory),[],[e]),{t:i}=ws("InboxListItem.narration"),s=(0,l.useFacetMap)(((e,t,a,n,r)=>[e,t,i(!1===a?".unreadPost":".readPost"),""!==n?i(".postedBy",[n]):"",i(".messageEnumeration",[`${r.messageIndex}`,`${r.totalMessages}`])].filter((e=>null!=e&&""!==e)).join(" . ")),[i],[c,a,n,o,(0,l.useFacetWrap)(t)]);return r.createElement(rT,null,r.createElement(bd,{text:s},r.createElement(XZ,{item:e,indexData:t}),r.createElement(KZ,{item:e,indexData:t})))}const XZ=({item:e})=>{const t=p(),{t:a}=ws("InboxListItem.narration"),n=(0,l.useFacetMap)((e=>[a(".view"),e.inboxCategory!==SQ.INVITES?a(".buttonSiblings",["1","2"]):a(".buttonSiblings",["1","3"])].join(" . ")),[a],[e]),{t:o}=ws("InboxListItem"),c=(0,l.useFacetMap)((e=>e.expiryDaysLeft),[],[e]),i=JT(),s=(0,l.useFacetCallback)((e=>()=>{i({button:"MessageAction_View",screen:"Inbox",details:UZ(e)}),t.push(`/message/${e.id}/${e.instanceId}/`)}),[t,i],[e]);return r.createElement(rT.Action,{inputLegend:o(".view"),narrationText:n,onClick:s},r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.invStatus===yQ.NONE&&e.invType!=FQ.NONE||!e.read&&e.inboxCategory!=SQ.INVITES),[],[e])},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(rT.Cell,null,r.createElement(Lk,null)),r.createElement(Vi,{size:1}))),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,(0,l.useFacetMap)((e=>e.title),[],[e]))),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,(0,l.useFacetMap)((e=>e.sender),[],[e])))),r.createElement(rT.Cell,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.inboxCategory!=SQ.INVITES),[],[e])},r.createElement(Zi,{type:"body",variant:"dimmer"},r.createElement(ji,null,(0,l.useFacetMap)((e=>e.dateString),[],[e])))),r.createElement(VZ,{invite:e,daysLeft:c})),r.createElement(Vi,{size:1}))},KZ=({item:e})=>{const{t}=ws("InboxListItem"),{t:a}=ws("InboxListItem.narration"),n=Yr("inherit"),o=GZ.useShowModal(),c=JT(),i=fL((0,l.useFacetMap)((e=>e.worldId),[],[e])),s=p(),u=(0,l.useSharedFacet)(MQ),[d,m]=(0,l.useFacetState)(!1),f=(0,l.useFacetCallback)(((e,t,a)=>()=>{a||(t.acceptInvitation(e.instanceId),m(!0),c({button:"MessageAction_AcceptInvite",screen:"Inbox",details:UZ(e)}))}),[c,m],[e,u,d]),g=(0,l.useFacetCallback)(((e,t)=>()=>{t.rejectInvitation(e.instanceId),c({button:"MessageAction_RejectInvite",screen:"Inbox",details:UZ(e)})}),[c],[e,u]),E=(0,l.useFacetCallback)(((e,t)=>()=>{s.push(t),c({button:"MessageAction_Realms",screen:"Inbox",details:UZ(e)})}),[s,c],[e,i]),b=(0,l.useFacetCallback)((e=>()=>{o({item:e})}),[o],[e]),h=(0,l.useFacetMap)((e=>e.invStatus==yQ.JOIN&&e.invType==FQ.REALMS||e.invStatus==yQ.ACCEPTED&&e.invType==FQ.REALMS),[],[e]),v=(0,l.useFacetMap)((e=>e?["3","3"]:["2","2"]),[],[h]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.invStatus==yQ.NONE&&e.invType!=FQ.NONE),[],[e])},r.createElement(r.Fragment,null,r.createElement(rT.AdditionalAction,{narrationText:[a(".accept"),a(".buttonSiblings",["2","3"])].join(" . "),inputLegend:t(".accept"),onClick:f},r.createElement(wd,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny"},t(".accept"))),r.createElement(rT.AdditionalAction,{narrationText:[a(".reject"),a(".buttonSiblings",["3","3"])].join(" . "),inputLegend:t(".reject"),onClick:g},r.createElement(Su,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny"},t(".reject"))))),r.createElement(l.Mount,{when:h},r.createElement(rT.AdditionalAction,{inputLegend:t(".join"),narrationText:[t(".join"),a(".buttonSiblings",["2","3"])].join(" . "),onClick:E},r.createElement(vQ,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny"},t(".join")))),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.invStatus!=yQ.NONE||e.invType==FQ.NONE),[],[e])},r.createElement(rT.AdditionalAction,{narrationText:(0,l.useFacetMap)((e=>[a(".delete"),a(".buttonSiblings",e)].join(" . ")),[a],[v]),inputLegend:t(".delete"),onClick:b},r.createElement(pu,{src:WZ,className:dl()("ab8612fa282f85622612",n.icon)}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionTiny"},t(".delete")))),r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>t&&e.invStatus===yQ.EXPIRED),[],[e,d])},r.createElement(jZ.Component,{item:e,onClose:()=>m(!1)})))},YZ=a.p+"assets/Feedback-f094908efcd587627365.png",qZ=a.p+"assets/NoNews-191af6af0ccecf0a8f31.png",QZ=a.p+"assets/NoRealmsInvites-3af80e6a84c1c6ea0b93.png",JZ=a.p+"assets/NoRealmsNews-ed60424dec0bbf91d423.png",ZZ="c4efde010b75d43947fa",e0="f084ca16e52768164632";function t0({data:e,scrollTo:t,setScrollTo:a,scrollLoadThreshold:n=.75}){const o=(0,l.useFacetWrap)(e),c=(0,l.useFacetMap)((e=>e.history.length>0||e.recent.length>0),[],[o]),i=(0,l.useFacetMap)((e=>e.category==SQ.FEEDBACK),[],[o]),s=(0,l.useFacetMap)((e=>e.category),[],[o]),u=(0,l.useFacetWrap)(0),d=null!=t?t:u,{t:m}=ws("InboxSectionList"),p=(0,l.useFacetMap)((e=>e.realmsSubscriber),[],[(0,l.useSharedFacet)(MQ)]),f=(0,r.useRef)(null),[g,E]=(0,l.useFacetState)(void 0),b=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{const r=null==f?void 0:f.current;if(!r)return;const l=function(e,t,a){return(t-e)*a}(r.getBoundingClientRect().height,r.scrollHeight,n);r.scrollTop>=l&&(null==a||a<l)&&e.requestMessages(t),E(r.scrollTop)}),[E],[(0,l.useSharedFacet)(MQ),s,g,(0,l.useFacetWrap)(n)]);(0,l.useFacetEffect)((()=>{const e=null==f?void 0:f.current;return()=>{const t=null==e?void 0:e.scrollTop;null!=a&&null!=t&&a(t)}}),[a],[o]),(0,l.useFacetLayoutEffect)((e=>{const t=null==f?void 0:f.current;t&&(t.scrollTop=e)}),[],[d]);const h=(0,r.useRef)(null),[v,F]=(0,l.useFacetState)(0),y=(0,r.useCallback)((({height:e})=>F(e)),[F]);return Bc(h,y),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(n0,null)),r.createElement(l.Mount,{when:c},r.createElement("div",{className:"c0f1ce4d0368efb1a2f1",ref:h},r.createElement(nP,{data:(0,l.useFacetMap)((e=>[{role:"neutral",title:m(".recent"),data:e.recent},{role:"neutral",title:m(".history"),data:e.history}]),[m],[o]),renderItem:e=>r.createElement(l0,{item:e}),footer:r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})}),containerSizePixels:v,rowSizeInRem:7,scrollRef:f,onScroll:b,checkForDynamicScrollArea:!0}))),r.createElement(l.Mount,{when:c,condition:!1},r.createElement(r0,{value:s,realmsSubscriber:p})))}function a0({value:e,t,historyAPI:a,state:n}){return r.createElement(l.Unwrap,{data:e},(e=>{switch(e){case SQ.NEWS:return r.createElement(aw,{title:t(".emptyNewsTitle"),text:t(".emptyNewsText"),imgSrc:qZ,imgClass:ZZ});case SQ.INVITES:return r.createElement(aw,{title:t(".emptyInvitesTitle"),text:t(".emptyInvitesText"),imgSrc:QZ,imgClass:ZZ});case SQ.REALMS:return r.createElement(aw,{title:t(".emptyRealmSubTitle"),text:t(".emptyRealmSubText"),imgSrc:JZ,imgClass:ZZ});case SQ.MARKETPLACEPASS:return r.createElement(l.Unwrap,{data:n},(e=>"subscribePromptWithLearnMoreButton"==e?r.createElement(aw,{title:t(".emptyMarketplacePassSubscribePromptTitle"),text:t(".emptyMarketplacePassSubscribePromptText"),imgSrc:JZ,imgClass:ZZ,buttons:[{text:t(".learn"),inputLegend:t(".select"),onClick:()=>a.push("/csb-pdp/?tab=csb"),variant:"primary"}]}):"subscribePrompt"==e?r.createElement(aw,{title:t(".emptyMarketplacePassSubscribePromptTitle"),text:t(".emptyMarketplacePassSubscribePromptText"),imgSrc:JZ,imgClass:ZZ}):r.createElement(aw,{title:t(".emptyMarketplacePassTitle"),text:t(".emptyMarketplacePassText"),imgSrc:qZ,imgClass:ZZ})));case SQ.FEEDBACK:return r.createElement(aw,{title:t(".feedbackSubTitle"),text:"",imgSrc:YZ,imgClass:ZZ});default:return r.createElement(aw,{title:t(".emptyMessageTitle"),text:t(".emptyMessageText"),imgSrc:qZ,imgClass:ZZ})}}))}function n0(){const{t:e}=ws("InboxRoute"),t=(0,l.useSharedFacet)(CF),a=(0,l.useFacetCallback)((e=>()=>e.openLink(SF.PlayerFeedbackMain)),[],[t]),n=(0,l.useFacetCallback)((e=>()=>e.openLink(SF.PlayerFeedbackIdeas)),[],[t]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"e1c7d9ba126a9a2e8294"},r.createElement("div",{className:e0},r.createElement(lm,{inputLegend:e(".feedbackMainButton"),onClick:a,Icon:LM.ExternalLink},e(".feedbackMainButton"))),r.createElement(Vi,{size:2}),r.createElement("div",{className:e0},r.createElement(lm,{inputLegend:e(".feedbackIdeasButton"),onClick:n,Icon:LM.ExternalLink},e(".feedbackIdeasButton")))),r.createElement(Vi,{size:2}))}function r0({value:e,realmsSubscriber:t}){const{t:a}=ws("InboxRoute"),n=Cl(),o=(0,l.useFacetMap)((e=>e.platform===Ye.AMAZON_HANDHELD),[],[(0,l.useSharedFacet)(_l)]),c=(0,l.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,l.useSharedFacet)(MQ)]),i=(0,l.useFacetMap)((e=>e.isAnyBeta),[],[(0,l.useSharedFacet)(cb)]),s=(0,l.useFacetMap)(((e,t,a)=>t||e?t?"general":"undefined":a?"subscribePrompt":"subscribePromptWithLearnMoreButton"),[],[o,c,i]),u=(0,l.useFacetMap)(((e,t)=>e==SQ.REALMS&&!t),[],[e,t]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u,condition:!0},r.createElement(r.Fragment,null,r.createElement(_r,{collection:xx},r.createElement(aw,{title:a(".emptyRealmNoTrialTitle"),text:a(".emptyRealmNoSubText"),imgSrc:JZ,imgClass:ZZ,buttons:[{text:a(".learn"),inputLegend:a(".select"),onClick:()=>n.push("/realms-plus-pdp?tab=default"),variant:"primary"}]})))),r.createElement(l.Mount,{when:u,condition:!1},r.createElement(r.Fragment,null,r.createElement(a0,{value:e,t:a,historyAPI:n,state:s}))))}function l0({item:e}){const t=(0,l.useFacetMap)((e=>e.isHeader?l.NO_VALUE:e),[],[e]),a=(0,l.useFacetMap)((e=>e.data),[],[t]),n=(0,l.useFacetMap)((e=>({messageIndex:e.localIndex+1,totalMessages:e.sectionLength})),[],[t]);return r.createElement($Z,{item:a,indexData:n})}const o0=a.p+"assets/GenericEmptyState-45ab1891ec2f3d291016.png";function c0(){const e=Cl(),t=Ml(),{t:a}=ws("InboxRoute"),n=Aw({wide:8,narrow:6,width:260}),o=(0,l.useFacetMap)((e=>e.messagingServiceFailed),[],[(0,l.useSharedFacet)(MQ)]),c=Rd(Ob)?TQ:PQ;(0,l.useFacetEffect)((a=>{null==t.tab&&a.length>0&&(e.replace(`/inbox/${a[0].category}`),t.tab=a[0].category)}),[t,e],[(0,l.useSharedFacet)(c)]);const i=(0,l.useFacetMap)((e=>0===e.length),[],[(0,l.useSharedFacet)(c)]),[s,u]=(0,l.useFacetState)(0);return r.createElement(ay,null,r.createElement(BM,{onBackButton:e.goBack,center:r.createElement(Zi,{type:"header5A"},a(".header")),right:r.createElement(BM.MenuButton,{type:"filter",onClick:()=>{e.push("/inbox-settings")},narrationText:a(".settingsButton"),"data-testid":"inbox-route-navigation-button",disabled:o}),gamepadAlias:"inbox-route"},r.createElement(zM,{narrowBreakpointWidth:102},r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:o},r.createElement(zM.Column,{narrowSize:6,wideSize:8},r.createElement(aw,{title:a(".messagingServiceFailure"),text:a(".messagingServiceFailureBody"),imgSrc:o0,imgClass:n?"ff6d7fa330d2b3155cf2":"bbfeed191dbe74334189"}))),r.createElement(l.Mount,{when:o,condition:!1},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:3,narrowSize:2},r.createElement(BZ,{setScrollTo:u})),r.createElement(zM.Column,{wideSize:7,narrowSize:6},r.createElement(l.Mount,{when:i},r.createElement(tk,{tab:void 0},r.createElement(ud,{loading:!0,children:r.createElement(r.Fragment,null)}))),r.createElement(l.Map,{array:(0,l.useSharedFacet)(c)},(e=>r.createElement(l.Unwrap,{data:e},(e=>r.createElement(tk,{tab:e.category},r.createElement(t0,{data:e,scrollTo:s,setScrollTo:u}))))))),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))),r.createElement(Vi,{size:2}))))}const i0="delete-read-inbox-message-confirm",s0=As((function(){const{t:e}=ws("InboxSettingsRoute.deleteReadConfirmation"),t=Os(),a=JT(),n=(0,l.useFacetCallback)((e=>()=>{e.deleteAllRead(),a({button:"DeleteAllRead",screen:"Inbox"}),t()}),[t,a],[(0,l.useSharedFacet)(MQ)]);return r.createElement($m,{defaultFocusAlias:i0},r.createElement($m.Header,{onClose:t},e(".header")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:e(".dialogText")},e(".dialogText"))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"destructive",gamepadAlias:i0,inputLegend:e(".deleteConfirm"),onClick:n},e(".deleteConfirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:e(".cancel"),onClick:t},e(".cancel"))))}));function u0(){const e=Cl(),t=Sc(),a=(0,l.useSharedFacet)(MQ),n=JT(),o="neutral80",c=Yr(o),i=s0.useShowModal(),s=(0,l.useFacetMap)((e=>e.settings.showOnlyFriendInvites),[],[a]),u=(0,l.useFacetMap)((e=>e.settings.showInvitesBadges),[],[a]),d=(0,l.useFacetMap)((e=>e.settings.showMessageBadges),[],[a]),m=(0,l.useFacetCallback)((e=>()=>{e.settings.toggleOnlyFriendInvites(),e.reloadInvites()}),[],[a]),p=(0,l.useFacetCallback)((e=>()=>e.settings.toggleMessageBadges()),[],[a]),f=(0,l.useFacetCallback)((e=>()=>e.settings.toggleInvitesBadges()),[],[a]),{t:g}=ws("InboxSettingsRoute"),E=[g(".categories"),g(".categoriesDescription")].join(" . "),b="5",h=(0,l.useFacetCallback)((t=>()=>{t.saveSettings(),e.goBack()}),[e],[a]);return r.createElement(Sr,{role:o},r.createElement(ay,null,r.createElement(BM,{onBackButton:h,center:r.createElement(Zi,{type:"header5A"},g(".title")),gamepadAlias:"inbox-settings-route",footer:r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})})},r.createElement(ud,null,r.createElement(zM,null,"desktop"===t&&r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:1}),r.createElement(zM.Column,{wideSize:10,narrowSize:6},r.createElement(Vi,{size:2}),r.createElement("fast-div",{className:dl()(c.border.base,c.background.base,"d6246b46c503ed178218")},r.createElement(Vw,{title:g(".onlyShowFriends"),value:s,onChange:m,narrationSuffix:g(".narration.enumeration",["1",b])}),r.createElement(bd,{text:E},r.createElement(wH,{title:g(".categories"),description:g(".categoriesDescription")}),r.createElement(Vw,{title:g(".showMessages"),value:d,onChange:p,narrationSuffix:g(".narration.enumeration",["2",b])}),r.createElement(Vw,{title:g(".showInvites"),value:u,onChange:f,narrationSuffix:g(".narration.enumeration",["3",b])})),r.createElement(Ud,null,r.createElement(lm,{onClick:(0,l.useFacetCallback)((e=>()=>{e.markAllRead(),n({button:"MarkAllRead",screen:"Inbox"})}),[n],[a]),narrationSuffix:g(".narration.enumeration",["4",b]),inputLegend:g(".markAllRead"),variant:"secondary"},g(".markAllRead")),r.createElement(Vi,{size:2}),r.createElement(lm,{onClick:i,narrationSuffix:g(".narration.enumeration",["5",b]),inputLegend:g(".deleteAllRead"),variant:"destructive"},g(".deleteAllRead")))),r.createElement(Vi,{size:2}))))))))}const d0=a.p+"assets/ErrorImage-e99c7c0eefaf6be65529.png";let m0;function p0({errorType:e}){const{t}=ah("InboxMessageDetailsError"),a=Nw({wide:8,narrow:6,width:260}),n=(0,l.useFacetWrap)(e),o=(0,l.useFacetMap)((e=>e?"bd89c42b79c92870b56f":"a263e97305d044ef1596"),[],[a]),c=(0,l.useFacetMap)((e=>e===m0.MessageNotFound?r.createElement(aw,{title:t(".couldntFind"),text:t(".details"),imgSrc:d0,imgClass:o}):r.createElement("div",null)),[o,t],[n]);return r.createElement(l.Unwrap,{data:c},(e=>e))}var f0;function g0({message:e}){const t=(0,l.useFacetMap)((e=>e.invStatus===yQ.NONE),[],[e]),a=(0,l.useFacetMap)((e=>e.invStatus===yQ.ACCEPTED&&e.invType!==FQ.GAME),[],[e]),n=(0,l.useFacetMap)((e=>e.invStatus===yQ.JOIN&&e.invType!==FQ.GAME),[],[e]),o=p(),c=(0,r.useRef)(!1);(0,l.useFacetEffect)((e=>{c.current&&e.invStatus==yQ.REJECTED&&(c.current=!1,o.goBack())}),[o,c],[e]);const i=fL((0,l.useFacetMap)((e=>e.worldId),[],[e])),[s,u]=(0,l.useFacetState)(!1),d=(0,l.useFacetCallback)(((e,t,a,n)=>r=>{switch(r){case f0.Accept:a||(t.acceptInvitation(e.instanceId),u(!0));break;case f0.Reject:t.rejectInvitation(e.instanceId),c.current=!0;break;case f0.Join:o.push(n);break;case f0.Back:o.goBack();break;case f0.ViewProfile:o.push(qx(e.senderXuid))}}),[o,u],[e,(0,l.useSharedFacet)(MQ),s,i]);return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(l.Mount,{when:t},r.createElement(b0,{handleButtonClick:d,style:(0,l.useFacetMap)((e=>e.style),[],[e])})),r.createElement(l.Mount,{when:a},r.createElement(h0,{handleButtonClick:d})),r.createElement(l.Mount,{when:n},r.createElement(h0,{handleButtonClick:d})))}function E0({message:e}){const{t}=ws("InboxMessageDetailsRoute"),a=Ln(),n=(0,l.useFacetMap)((e=>e.invType===FQ.GAME),[],[e]),o=(0,l.useFacetMap)((e=>e.invType===FQ.REALMS),[],[e]),c=(0,l.useFacetMap)(((e,a)=>t(a?".gameInvitationNote0":".invitationNote0",[e.sender])),[t],[e,n]),i=(0,l.useFacetMap)(((e,a)=>t(a?".gameInvitationRejectedMessage":".realmsInvitationRejectedMessage",[e.sender])),[t],[e,n]),s=(0,l.useFacetMap)((e=>e.invStatus==yQ.REJECTED),[],[e]),u=t(".invitationRejectedMessageDetails"),d=(0,l.useFacetMap)((e=>e?[t(".invitationNote1"),t(".invitationNote2"),t(".invitationNote3"),t(".invitationNote4")]:[]),[t],[o]),m=(0,l.useFacetMap)(((e,t)=>[e,t.join(" . ")].join(" . ")),[],[c,d]),p=(0,l.useFacetMap)((e=>[e,u].join(" ")),[u],[i]),f=(0,l.useFacetMap)(((e,t,a)=>e?t:a),[],[s,p,m]);return r.createElement(Wi.Maybe,{isInteractive:a,narrationText:f},r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(Zi,{children:c,type:"paragraphs"}),r.createElement(Vi,{size:4}),r.createElement(l.Mount,{when:n,condition:!1},r.createElement(Zi.List,{items:d})))),r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement(Zi,{children:i,type:"paragraphs"}),r.createElement(Vi,{size:4}),r.createElement(Zi,{children:u,type:"paragraphs"}))))}function b0({handleButtonClick:e,style:t}){const{t:a}=ws("InboxMessageDetailsRoute"),{t:n}=ws("InboxMessageDetailsRoute.narration"),o=a(".accept"),c=a(".reject"),i=a(".viewProfile");return r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement(l.Unwrap,{data:t},(t=>{const a=r.createElement(lm,{narrationSuffix:n(".buttonSiblings",["1","3"]),inputLegend:o,isElevated:!0,variant:"primary",onClick:()=>e(f0.Accept),"data-testid":"message-side-menu-accept"},o);return t===vh.Realms?r.createElement(_r,{collection:xx},a):a}))),r.createElement(Vi,{size:2}),r.createElement(tR.Item,null,r.createElement(lm,{narrationSuffix:n(".buttonSiblings",["2","3"]),inputLegend:c,onClick:()=>e(f0.Reject),isElevated:!0,variant:"secondary","data-testid":"message-side-menu-reject"},c)),r.createElement(Vi,{size:2}),r.createElement(tR.Item,null,r.createElement(lm,{narrationSuffix:n(".buttonSiblings",["3","3"]),inputLegend:i,onClick:()=>e(f0.ViewProfile),isElevated:!0,variant:"secondary","data-testid":"message-side-menu-view-profile"},i)))}function h0({handleButtonClick:e}){const{t}=ws("InboxMessageDetailsRoute"),{t:a}=ws("InboxMessageDetailsRoute.narration"),n=t(".join");return r.createElement(tR.Item,null,r.createElement(_r,{collection:xx},r.createElement(lm,{narrationSuffix:a(".buttonSiblings",["1","1"]),inputLegend:n,onClick:()=>e(f0.Join),isElevated:!0,variant:"primary"},n)))}function v0({message:e}){const t=(0,l.useFacetMap)((e=>e.content),[],[e]);return r.createElement(Zi,{type:"paragraphs",whiteSpace:"preWrap",children:t})}!function(e){e[e.NoError=0]="NoError",e[e.MessageNotFound=1]="MessageNotFound"}(m0||(m0={})),function(e){e[e.Accept=0]="Accept",e[e.Reject=1]="Reject",e[e.Join=2]="Join",e[e.Back=3]="Back",e[e.ViewProfile=4]="ViewProfile"}(f0||(f0={}));const F0=a.p+"assets/default-f00267f06b75f9f5f60e.png";function y0({message:e}){const t=(0,l.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[0])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[],[e]),a=(0,l.useFacetMap)((e=>{var t,a;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.nonAnimatedUrl)?null===(a=e.images[0])||void 0===a?void 0:a.nonAnimatedUrl:F0}),[],[e]),n=(0,l.useFacetMap)((e=>{var t,a;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.animatedUrl)?null===(a=e.images[0])||void 0===a?void 0:a.animatedUrl:F0}),[],[e]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:t},r.createElement(r.Fragment,null,r.createElement(Vi,{size:5}),r.createElement("div",{className:"ceaaa3b6348980bdaa01"},r.createElement(FL,{gifSrc:n,imageSrc:a,aspectRatio:pu.AspectRatio["16:9"]})),r.createElement(Vi,{size:5}))),r.createElement(v0,{message:e}))}function S0({messageId:e,instanceId:t,item:a,index:n}){const{t:o}=ws("InboxContentItem"),c=xQ(),i=(0,l.useFacetCallback)(((e,t,a)=>()=>{c(e,t,a.button)}),[c],[(0,l.useFacetWrap)(e),(0,l.useFacetWrap)(t),a]),s=(0,l.useFacetMap)((e=>e.button.description),[],[a]),u=(0,l.useFacetMap)((e=>e.button.text),[],[a]),d=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.image.isLoaded)&&void 0!==t&&t}),[],[a]),m=(0,l.useFacetMap)((e=>{var t,a;return(null===(t=e.image)||void 0===t?void 0:t.animatedUrl)||(null===(a=e.image)||void 0===a?void 0:a.nonAnimatedUrl)||F0}),[],[a]),p=(0,l.useFacetMap)((e=>{var t,a;const n=null!==(t=null===(a=e.image)||void 0===a?void 0:a.imageSize)&&void 0!==t?t:{width:16,height:9};return n.width/n.height*5.2+"rem"}),[5.2],[a]),f=(0,l.useFacetMap)(((e,t)=>[t,e].filter((e=>null!=e&&""!==e)).join(" . ")),[],[s,u]),g=Yr("neutral");return r.createElement("fast-div",{className:"ec0fbe68b521e1f481eb"},r.createElement(rT,null,r.createElement(rT.Action,{inputLegend:o(".view"),narrationText:f,onClick:i,testId:`message-content-list-cta-${n}`},r.createElement(l.Mount,{when:d},r.createElement(rT.Cell,null,r.createElement(pu,{src:m,height:"5.2rem",width:p,className:dl()(g.border.base,"b9b50b6899809a3a2d20")}))),r.createElement(Vi,{size:1}),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},u),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},s)))))}function C0({message:e}){const t=(0,l.useFacetMap)((e=>e.content),[],[e]),a=(0,l.useFacetMap)((e=>e.id),[],[e]),n=(0,l.useFacetMap)((e=>e.instanceId),[],[e]);return r.createElement(r.Fragment,null,r.createElement(Zi,{type:"body",align:"left",variant:"dimmer",children:t}),r.createElement(Vi,{size:2}),r.createElement(l.Map,{array:(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]}),[],[e])},((e,t)=>r.createElement(S0,{messageId:a,instanceId:n,item:e,index:t}))))}function M0({message:e,children:t,title:a=(0,l.createStaticFacet)(""),imageIndex:n=0,fullHeight:o=!0,defaultImage:c=(0,l.createStaticFacet)(""),spacingAroundSideMenu:i=null,hideInputLegendSpace:s=!1}){const{t:u}=ws("InboxMessageDetailsRoute"),d=(0,l.useFacetMap)(((e,t)=>""!=t?t:e.title),[],[e,a]),m=(0,l.useFacetMap)((e=>u(".from",[e.sender])),[u],[e]),p=(0,l.useFacetMap)((e=>e.dateString),[],[e]),f=(0,l.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[n])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[n],[e]),g=(0,l.useFacetMap)(((e,t,a)=>{var r,l;return""!=(null===(r=e.images[n])||void 0===r?void 0:r.nonAnimatedUrl)&&a?null===(l=e.images[n])||void 0===l?void 0:l.nonAnimatedUrl:t}),[n],[e,c,f]),E=(0,l.useFacetMap)(((e,t,a)=>{var r,l;return""!=(null===(r=e.images[n])||void 0===r?void 0:r.animatedUrl)&&a?null===(l=e.images[n])||void 0===l?void 0:l.animatedUrl:t}),[n],[e,c,f]),b=(0,l.useFacetMap)((e=>e.buttons),[],[e]),h=(0,l.useFacetMap)(((e,t,a)=>[t,a,e.dateString].join(" . ")),[],[e,d,m,a]),v=(0,l.useFacetMap)((e=>e.style),[],[e]);return r.createElement(tR,{fullHeight:o,narrationPrefix:h,spacingAroundSideMenu:i,hideInputLegendSpace:s},r.createElement(tR.Item,null,r.createElement(FL,{className:"d7f0230a6118f840c71a",gifSrc:E,imageSrc:g,aspectRatio:pu.AspectRatio["16:9"]}),r.createElement(Vi,{size:2})),r.createElement(tR.Item,null,r.createElement(Zi,{type:"body",variant:"stronger"},d),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},m),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},p)),r.createElement(l.Map,{array:b},((t,a)=>r.createElement(w0,{message:e,button:t,index:a,style:v}))),t)}function w0({message:e,button:t,style:a}){const n=OQ(e),o=(0,l.useFacetCallback)((e=>()=>n(e)),[n],[t]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}),[],[t]),i=(0,l.useFacetMap)((e=>e.action===hh.EXTERNAL||e.action===hh.INTERNAL),[],[t]);return r.createElement(l.Mount,{when:i},r.createElement(tR.Item,null,r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:t},(e=>r.createElement(l.Unwrap,{data:a},(t=>{const a=r.createElement(lm,{"data-testid":"message-side-menu-cta",inputLegend:c,onClick:o,Icon:()=>r.createElement(yL,{button:e}),variant:"primary",narrationPrefix:c},c);return t===vh.Realms?r.createElement(_r,{collection:xx},a):a}))))))}const k0=a.p+"assets/realmsDefaultImage-bd8bc1fd4dbca52f6f24.png",P0=a.p+"assets/gameInviteDefaultImage-606308f839348a3442e8.png";function T0(){return r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{narrowSize:0,wideSize:1}),r.createElement(zM.Column,{narrowSize:8,wideSize:10},r.createElement(Vi,{size:4}),r.createElement(p0,{errorType:m0.MessageNotFound})),r.createElement(zM.Column,{narrowSize:0,wideSize:1})))}function I0({message:e}){const{t}=ws("InboxMessageDetailsRoute"),a=(0,l.useFacetMap)((e=>e.inboxCategory==SQ.INVITES),[],[e]),n=(0,l.useFacetMap)((e=>e.invType===FQ.GAME),[],[e]),o=(0,l.useFacetMap)((e=>[CQ.IMAGETEXT,CQ.HEROIMAGECTA,CQ.SHOWCASECTA,CQ.SHOWCASENOCTA].includes(e.template)),[],[e]),c=(0,l.useFacetMap)((e=>e.template==CQ.CONTENTLISTCTA||e.template==CQ.CONTENTLISTNOCTA),[],[e]),i=(0,l.useFacetMap)((e=>e.template==CQ.IMAGETNAILCTA),[],[e]),s=(0,l.useFacetMap)((e=>e.template==CQ.GAMEDROP&&null!=e.gamedrop&&null!=e.subtitle),[],[e]);return(0,l.useFacetEffect)(((e,t)=>{e.read||e.inboxCategory==SQ.INVITES||t.setNotificationRead(e.instanceId)}),[],[e,(0,l.useSharedFacet)(MQ)]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:a},r.createElement(O0,{message:e,content:E0,title:(0,l.useFacetMap)((e=>t(e?".gameInvite":".realmInvite")),[t],[n]),imageDefault:(0,l.useFacetMap)((e=>e?P0:k0),[],[n])},r.createElement(g0,{message:e}))),r.createElement(l.Mount,{when:a,condition:!1},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(O0,{message:e,content:v0})),r.createElement(l.Mount,{when:i},r.createElement(O0,{message:e,content:y0,imageIndex:1})),r.createElement(l.Mount,{when:c},r.createElement(O0,{message:e,content:C0})),r.createElement(l.Mount,{when:s},r.createElement(wZ,{message:e})))))}function x0(){const{t:e}=ws("InboxMessageDetailsRoute"),t=p(),{messageId:a,instanceId:n}=Ml(),o=f(),c=(0,l.useFacetMap)(((e,t)=>t?function(e,t,a){if(null!=a)return e.find((e=>e.id===t&&e.instanceId===a));{const a=e.filter((e=>e.id===t)).sort(((e,t)=>t.dateReceived-e.dateReceived));return a.length>0?a[0]:void 0}}(e.inboxMessages,a,n):l.NO_VALUE),[n,a],[(0,l.useSharedFacet)(MQ),o]),i=(0,l.useFacetMap)((e=>null==e),[],[c]),s=(0,l.useFacetMap)((t=>e(t?".inbox":".details")),[e],[i]);return r.createElement(l.Mount,{when:o},r.createElement(ay,null,r.createElement(BM,{onBackButton:t.goBack,center:r.createElement(Zi,{type:"header5A"},s),gamepadAlias:"inbox-message-details-route",delegateByAlias:"inbox-message-details-scroll",footer:r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:1})})},r.createElement(l.With,{data:c},(e=>r.createElement(I0,{message:e}))),r.createElement(l.Mount,{when:i},r.createElement(T0,null)))))}function O0({children:e,message:t,content:a,title:n=(0,l.createStaticFacet)(""),imageIndex:o=0,imageDefault:c=(0,l.createStaticFacet)(F0)}){const i=(0,r.useRef)(null),[s,u]=function(e){const t=(0,r.useRef)(!0),[a,n]=(0,r.useState)([]),o=(0,l.useFacetMap)(((e,t)=>[0,...e].map((e=>e*t))),[],[(0,l.useFacetWrap)([102]),(0,r.useContext)(bc)]);return(0,l.useFacetEffect)((e=>{const a=()=>{const t=window.innerWidth;return e.map(((e,a,n)=>a===n.length-1?t>=e:t>=e&&t<n[a+1]))},r=()=>n(a());return t.current&&(n(a()),t.current=!1),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)}),[n],[o]),a}(),d=Yr(),m="neutral",p=dl()("fdae9d9a8d4720288fa8",d[m].background.base,{[`${d[m].border.base}`]:null!=d[m].border.base&&u,acf236fad1a068eed007:u}),f=(0,l.useFacetMap)((e=>e.content),[],[t]);return r.createElement(zM,{noGutters:s,narrowBreakpointWidth:102},r.createElement(zM.Row,{fullHeight:s},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:3,narrowSize:3},r.createElement(uu,{containerRef:i},r.createElement("div",{ref:i,className:"e948429a66600408cfc4"},r.createElement(M0,{message:t,imageIndex:o,fullHeight:s,children:e,title:n,defaultImage:c,spacingAroundSideMenu:s?null:r.createElement(Vi,{size:2}),hideInputLegendSpace:!0})))),r.createElement(zM.Column,{wideSize:7,narrowSize:5},r.createElement(ud,{emptyFocusableNarrationText:f,floating:s,scrollIntoViewAlign:"start"},r.createElement("div",{className:dl()("bcb01ff6719fd0a23a53",s?"":"f4c54e50e7535e453bd2","b4de93608ad8719b2402")},r.createElement(bd,{text:f},r.createElement("div",{className:dl()(p)},a({message:t})))))),r.createElement(zM.Column,{wideSize:1,narrowSize:0})))}const A0=a.p+"assets/Sign-in_Prompts_Launch-7712e185dbed4a9664e6.png",N0=a.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8e1b5c77b2593ba6.gif";function R0({text:e,type:t="captionLong"}){return r.createElement(Zi,{shouldNarrate:e,type:t,align:"left",indent:!0},(0,l.useFacetMap)((e=>` ${e}`),[],[e]))}function L0(){const e=p(),{t}=ws("FirstTimeSignInRoute"),a="first-time-sign-in-button-alias",n=(0,l.useSharedFacet)(_l),o=JT(),c=Rd(xb),i=(0,l.useFacetMap)((e=>TI(e.platform)?[t(".signInList4"),t(".signInList2PS"),t(".signInList3PS")]:[t(".signInList1"),t(".signInList2"),t(".signInList3"),t(".signInList4")]),[t],[n]);return r.createElement(hH,{title:t(".signInHeader"),delegateFocusByAlias:a,leftContent:r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement("div",{className:"a50469f85d1bb88e53ba"},r.createElement(FL,{gifSrc:N0,imageSrc:A0,aspectRatio:{height:128,width:260},disableAnimation:c})),r.createElement(Vi,{size:8})),rightContent:r.createElement(hH.Content,null,r.createElement(Zi,{type:"captionLong",align:"left",shouldNarrate:!0},t(".signInPrompt")),r.createElement(Vi,{size:4}),r.createElement(l.Map,{array:i},(e=>r.createElement(R0,{text:e}))),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"captionLong",align:"left",shouldNarrate:!0},t(".createAccountPrompt"))),buttons:[{variant:"primary",inputLegend:t(".signInButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"SignIn"}),e.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},children:t(".signInButton"),gamepadAlias:a},{variant:"secondary",inputLegend:t(".laterButton"),onClick:()=>{o({screen:"FirstTimeSignIn",button:"MaybeLater"}),e.goBack()},children:t(".laterButton")}],shouldEnumerateButtons:!0,onGoBack:()=>{o({screen:"FirstTimeSignIn",button:"Close"}),e.goBack()}})}function D0(){return r.createElement(L0,null)}const _0=a.p+"assets/Sign-in_Prompts_Achievements-8e8d27a8f60564156ebc.png",B0=a.p+"assets/Sign-in_Prompts_Achievements Animated-06cb0dc45ddb61059b0d.gif";function W0(){const e=p(),t=h(),{t:a}=ws("SignInAchievementsRoute"),n=JT(),o=Rd(xb),c=Oo(),i=(0,l.useFacetMap)((e=>e&&!o),[o],[c]),s=(0,l.useFacetMap)((e=>e?B0:_0),[],[i]),u=a(".signInHeader"),d=a(".signInPrompt"),m=(0,l.useFacetCallback)((t=>()=>{n({screen:"SignInAchievements",button:"SignIn"});const a=t.get("redirectTo"),r=null!=a?"&redirectTo="+encodeURIComponent(a):"";e.replace("/sign-in?signInSource=SignInAchievementsScreen_OreUI"+r)}),[e,n],[t]);return r.createElement($m,{defaultFocusAlias:"signInAchievementsButton"},r.createElement($m.Header,{onClose:()=>{n({screen:"SignInAchievements",button:"Close"}),e.goBack()}},u),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:s,className:"d510ba3a136c49b02bf8",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:d},r.createElement(Zi,{type:"captionLong",align:"left"},d)),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{n({screen:"SignInAchievements",button:"MaybeLater"}),e.goBack()},horizontal:!0},a(".laterButton")),r.createElement(Vi,{size:4}),r.createElement(lm,{gamepadAlias:"signInAchievementsButton",inputLegend:a(".signInButton"),variant:"primary",onClick:m,horizontal:!0},a(".signInButton"))))}const U0=a.p+"assets/Sign-in_Prompts_Friends-01fb9220b4efc1f23dc4.png",z0=a.p+"assets/Sign-in_Prompts_Friends Animated-0c355131a2f94ee20360.gif";function j0(){const e=p(),{t}=ws("SignInAddFriendRoute"),a=JT(),n=Rd(xb),o=Oo(),c=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),i=(0,l.useFacetMap)((e=>e?z0:U0),[],[c]),s=t(".signInHeader"),u=t(".signInPrompt");return r.createElement($m,{defaultFocusAlias:"signInAddFriendButton"},r.createElement($m.Header,{onClose:()=>{a({screen:"SignInAddFriend",button:"Close"}),e.goBack()}},s),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:i,className:"d2b1764478b2ed23afb6",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:u},r.createElement(Zi,{type:"captionLong",align:"left"},u)),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInAddFriend",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Vi,{size:4}),r.createElement(lm,{gamepadAlias:"signInAddFriendButton",inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInAddFriend",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInAddFriendScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const H0=a.p+"assets/Sign-in_Prompts_Launch-eadae281fe96fff7ef5e.png",G0=a.p+"assets/Sign-in_Prompts_Launch Animated-fdbda82f247ad06f08dd.gif";function V0(){const e=p(),{t}=ws("SignInDressingRoomRoute"),a=JT(),n=Rd(xb),o=Oo(),c=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),i=(0,l.useFacetMap)((e=>e?G0:H0),[],[c]);return r.createElement($m,{defaultFocusAlias:"dressingRoomSignInButton"},r.createElement($m.Header,{onClose:()=>{a({screen:"SignInDressingRoom",button:"Close"}),e.goBack()}},t(".signInHeader")),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:i,className:"a88010f747771a02f585",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:t(".signInPrompt")},r.createElement(Zi,{type:"captionLong",align:"left"},t(".signInPrompt")))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInDressingRoom",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Vi,{size:4}),r.createElement(lm,{gamepadAlias:"dressingRoomSignInButton",inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInDressingRoom",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInDressingRoomScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const $0=a.p+"assets/Sign-in_Prompts_Save_Purchases-f506d129e9c460e408f7.png",X0=a.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b7d3ab497ff42e11.gif";function K0(){const e=p(),{t}=ws("SignInMarketplaceRoute"),a=JT(),n=Rd(xb),o=Oo(),c=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),i=(0,l.useFacetMap)((e=>e?X0:$0),[],[c]);return r.createElement($m,{defaultFocusAlias:"signInMarketplaceButton"},r.createElement($m.Header,{onClose:()=>{a({screen:"SignInMarketplace",button:"Close"}),e.goBack()}},t(".signInHeader")),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:i,className:"f98ee6dc0a1a52ed98a5",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:t(".signInPrompt")},r.createElement(Zi,{type:"captionLong",align:"left"},t(".signInPrompt"))),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInMarketplace",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Vi,{size:4}),r.createElement(lm,{gamepadAlias:"signInMarketplaceButton",inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInMarketplace",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInMarketplaceScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const Y0=a.p+"assets/Sign-in_Prompts_Servers-cc10e6a633ed3bb3133a.png",q0=a.p+"assets/Sign-in_Prompts_Servers Animated-ab2461c2b1be07925865.gif";function Q0(){const e=p(),{t}=ws("SignInPlayOnServerRoute"),a=JT(),n=Rd(xb),o=Oo(),c=(0,l.useFacetMap)((e=>e&&!n),[n],[o]),i=(0,l.useFacetMap)((e=>e?q0:Y0),[],[c]),s=t(".signInHeader"),u=t(".signInPrompt");return r.createElement($m,{defaultFocusAlias:"signInPlayOnServerButton"},r.createElement($m.Header,{onClose:()=>{a({screen:"SignInPlayOnServer",button:"Close"}),e.goBack()}},s),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:i,className:"ecebcd59a010c9fc0886",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:u},r.createElement(Zi,{type:"captionLong",align:"left"},u)),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:t(".laterButton"),variant:"secondary",onClick:()=>{a({screen:"SignInPlayOnServer",button:"MaybeLater"}),e.goBack()},horizontal:!0},t(".laterButton")),r.createElement(Vi,{size:4}),r.createElement(lm,{gamepadAlias:"signInPlayOnServerButton",inputLegend:t(".signInButton"),variant:"primary",onClick:()=>{a({screen:"SignInPlayOnServerModal",button:"SignIn"}),e.replace("/sign-in?signInSource=SignInPlayOnServerScreen_OreUI")},horizontal:!0},t(".signInButton"))))}const J0=a.p+"assets/Sign-in_Prompts_Launch-7712e185dbed4a9664e6.png",Z0=a.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8e1b5c77b2593ba6.gif";function e1(){const e=p(),t=h(),{t:a}=ws("SignInWorldsFriendsServersRoute"),n=(0,l.useSharedFacet)(_l),o=JT(),c=Rd(xb),i=Oo(),s=(0,l.useFacetMap)((e=>e&&!c),[c],[i]),u=(0,l.useFacetMap)((e=>e?Z0:J0),[],[s]),d=(0,l.useFacetMap)((e=>TI(e.platform)?[a(".signInList4"),a(".signInList2PS"),a(".signInList3PS")]:[a(".signInList1"),a(".signInList2"),a(".signInList3"),a(".signInList4")]),[a],[n]),m=(0,l.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"SignIn"});const a=t.get("redirectTo"),n=null!=a?"&redirectTo="+encodeURIComponent(a):"";e.replace("/sign-in?signInSource=SignInWorldsFriendsServersScreen_OreUI"+n)}),[e,o],[t]),f=(0,l.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"MaybeLater"});const a=t.get("redirectTo");null!=a?e.replace(a):e.goBack()}),[e,o],[t]),g=(0,l.useFacetCallback)((t=>()=>{o({screen:"SignInWorldsFriendsServers",button:"Close"});const a=t.get("redirectTo");null!=a?e.replace(a):e.goBack()}),[e,o],[t]);return r.createElement($m,{defaultFocusAlias:"signInWorldsFriendsServersButton"},r.createElement($m.Header,{onClose:g},a(".signInHeader")),r.createElement($m.Content,null,r.createElement(Vi,{size:4}),r.createElement(pu,{src:u,className:"fb3885e9dfd5a6fc5043",imageRendering:"pixelated"}),r.createElement($m.Text,{narrationText:a(".signInPrompt")},r.createElement(Zi,{type:"captionLong",align:"left"},a(".signInPrompt"))),r.createElement($m.List,{items:d}),r.createElement($m.Text,{narrationText:a(".createAccountPrompt")},r.createElement(Zi,{type:"captionLong",align:"left"},a(".createAccountPrompt")))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{inputLegend:a(".laterButton"),variant:"secondary",onClick:f,horizontal:!0},a(".laterButton")),r.createElement(Vi,{size:4}),r.createElement(lm,{gamepadAlias:"signInWorldsFriendsServersButton",inputLegend:a(".signInButton"),variant:"primary",onClick:m,horizontal:!0},a(".signInButton"))))}const t1=(e=35)=>{const t=yc(e),a=(0,l.useFacetCallback)((e=>()=>window.innerHeight<=e),[],[t],!1),[n,o]=(0,l.useFacetState)(a());return(0,r.useEffect)((()=>{const e=()=>o(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a,o]),n},a1="f7cf865e4ef543f082ba";function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n1.apply(null,arguments)}function r1(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const l1={Root:e=>{let{dollColumn:t,bodyColumn:a,title:n}=e,l=r1(e,["dollColumn","bodyColumn","title"]);const o=Yr("neutral80");return r.createElement(ZN,n1({title:n},l),(({})=>r.createElement(Sr,{role:"neutral80"},r.createElement("div",{className:"aa32066034332399bcfb"},r.createElement("div",{className:a1}),r.createElement("div",{className:"c3f585d49f34344bb43b"},t),r.createElement("div",{className:dl()("cb1cc960360bbe34fa39",o.background.base,o.border.base,o.text.base)},a),r.createElement("div",{className:a1})))))},Body:e=>{let{className:t}=e,a=r1(e,["className"]);return r.createElement("fast-div",n1({className:(0,l.useFacetMap)((e=>dl()("ad4c23496551457d7f2c",e)),[],[(0,l.useFacetWrap)(t)])},a))},Footer:jQ.Footer},o1=({onClick:e})=>{const{t}=ws("NewPlayerPathRoute.SkipButton");return r.createElement(Us,{className:"ece474a70997bd8d51b2",narrationText:t(".skip"),inputLegend:t(".skip"),onClick:e},r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"body"},t(".skip")),r.createElement(Vi,{size:1}),r.createElement(cy,{className:"ee9f0197db1d086ade8e"}),r.createElement(Vi,{size:4}))},c1={ALEX_UUID:"b789cb38-5f14-4dc9-be15-e10dc52ba91b",ARI_UUID:"2e662265-1aab-40ce-80c2-934a0a20d41a",EFE_UUID:"399bae94-f074-4d64-af8a-b4634ef0fc15",KAI_UUID:"a40ade20-c28a-4d34-973b-233ec1284d5a",MAKENA_UUID:"fd5c1e0a-5ba3-4467-951b-17103e740a94",NOOR_UUID:"f15a3e5c-26ce-48fc-a2b1-080d18d2acfa",STEVE_UUID:"6c8f57cb-fb91-42d2-b621-cd806784cdab",SUNNY_UUID:"a3dd013e-2f63-4379-b17e-3c35450305ca",ZURI_UUID:"820a57a6-6eb4-4c1a-9a8d-328c107b477d"},i1=Object.keys(c1).length,s1=(0,l.sharedFacet)("vanilla.newPlayerChoices"),u1=a.p+"assets/alex-doll-e10977ba32e09f9089c3.png",d1=a.p+"assets/ari-doll-53034ef319ad5fd34c6b.png",m1=a.p+"assets/efe-doll-481bda44390a9a45e3fe.png",p1=a.p+"assets/kai-doll-68b6b14ff5965e1fb372.png",f1=a.p+"assets/makena-doll-d5ff0102deba47874c48.png",g1=a.p+"assets/noor-doll-7c17a8fd813dca572667.png",E1=a.p+"assets/steve-doll-ae6ffc3931ec3e0f5e22.png",b1=a.p+"assets/sunny-doll-2d60f4c2f241123fbbdc.png",h1=a.p+"assets/zuri-doll-ae75bddfaccfd746c651.png";function v1(e){const t=(0,l.useSharedFacet)(s1);return{setSelected:(0,l.useFacetCallback)(((e,t)=>()=>t.setSelectedCharacter(e.id)),[],[e,t]),isSelected:(0,l.useFacetMap)(((e,t)=>e.id===t.selectedCharacterId),[],[e,t])}}const F1={[c1.ALEX_UUID]:u1,[c1.ARI_UUID]:d1,[c1.EFE_UUID]:m1,[c1.KAI_UUID]:p1,[c1.MAKENA_UUID]:f1,[c1.NOOR_UUID]:g1,[c1.STEVE_UUID]:E1,[c1.SUNNY_UUID]:b1,[c1.ZURI_UUID]:h1};function y1({character:e}){const{isSelected:t}=v1(e),a=(0,l.useFacetMap)((e=>dl()("e38c69f24d42d133876f",{fbba005302a51ef7154c:e})),[],[t]),n=(0,l.useFacetMap)((e=>F1[e.id]),[],[e]),o=(0,l.useFacetMap)(((e,t)=>t?`character-doll-${e.id}`:void 0),[],[e,t]);return r.createElement("fast-div",{"data-testid":o,className:a},r.createElement(pu,{className:"a394ac9f38a76e8154d8",src:n}))}function S1(e){return null!=e&&e.data?""!==e.data.xblName?e.data.xblName:""!==e.data.platformName?e.data.platformName:null:null}function C1(){const e=_J.useCurrentPlayerProfileFacet(),t=function(){const e=(0,l.useSharedFacet)(s1),t=(0,l.useFacetMap)((e=>Object.fromEntries(e.selectableCharacters.map((e=>[e.id,e])))),[],[e]);return(0,l.useFacetMap)(((e,t)=>e[t.selectedCharacterId]),[],[t,e])}(),a=(0,l.useFacetMap)(S1,[],[e]),n=(0,l.useFacetMap)(((e,t)=>null!=t?t:e.name),[],[t,a]),o=(0,l.useFacetMap)((e=>e.selectableCharacters),[],[(0,l.useSharedFacet)(s1)]);return r.createElement("div",{className:"ad3c1bcd723f998b2bef"},r.createElement(rk,{align:"center",role:"neutralAlpha60"},n),r.createElement(Vi,{size:2}),r.createElement("div",{className:"f1af2222a5424519b3ee"},r.createElement(l.Map,{array:o},(e=>r.createElement(y1,{character:e})))))}const M1=a.p+"assets/alex-thumb-3f5f2d190e561da8a73c.png",w1=a.p+"assets/ari-thumb-dc3aac9f2d6c5f32ca56.png",k1=a.p+"assets/efe-thumb-84401a228bab5ccfe3ee.png",P1=a.p+"assets/kai-thumb-a4b5c8954b1528fa8269.png",T1=a.p+"assets/makena-thumb-ee0d4215868d32f20e31.png",I1=a.p+"assets/noor-thumb-f03991f3959e2116ae65.png",x1=a.p+"assets/steve-thumb-c5651120c5dcdcdfff92.png",O1=a.p+"assets/sunny-thumb-e4107db28221d12df2d7.png",A1=a.p+"assets/zuri-thumb-a44d44507a7098d4a92a.png",N1={thumbnail:"e6f8bca39fecc4a0f88e",narrow:"e087fcc41bebb0d4f359",outer:"f6f9d3ec3389e2713a86",image:"a18192e67eec3c941aa9",pressed:"b3ace28413bf3b73306b",edge:"cfec8334ec7613f05e1d",reflection:"a3cc8b73898d799088f0"},R1={[c1.ALEX_UUID]:M1,[c1.ARI_UUID]:w1,[c1.EFE_UUID]:k1,[c1.KAI_UUID]:P1,[c1.MAKENA_UUID]:T1,[c1.NOOR_UUID]:I1,[c1.STEVE_UUID]:x1,[c1.SUNNY_UUID]:O1,[c1.ZURI_UUID]:A1};function L1({character:e,gamepadAlias:t,groupIndex:a,groupSize:n}){const{t:o}=ws("Toggle"),{t:c}=ws("NewPlayerPathRoute.CharacterSelector"),i="neutral",s=t1(),u=Yr(i),d=el(),{isSelected:m,setSelected:p}=v1(e),f=(0,l.useFacetMap)((e=>`character-thumbnail-${e.id}`),[],[e]),g=(0,l.useFacetMap)(((e,t)=>dl()(N1.thumbnail,u.border.base,u.background.interactive,{[N1.narrow]:t,[d.pressed]:e,[N1.pressed]:e})),[d,u],[m,s]),E=(0,l.useFacetMap)(((e,t)=>!t&&e.name),[],[e,m]),b=(0,l.useFacetMap)((e=>R1[e.id]),[],[e]),h=(0,l.useFacetMap)(((e,t)=>[e.name,o(".narrationOptionType"),o(".count",[`${a+1}`,`${n}`]),o(t?".narrationSelected":".narrationUnselected"),c(".character")].join(" . ")),[a,n,o,c],[e,m]);return r.createElement(Wi,{gamepadAlias:t,className:g,classNameFocused:dl()(N1.focused,Ws),classNamePressed:N1.pressed,onClick:p,inputLegend:E,"data-testid":f,narrationText:h},r.createElement(Bs,{role:i}),r.createElement("div",null,r.createElement(Ks,{role:i,className:N1.reflection}),r.createElement("div",{className:N1.outer},r.createElement(pu,{src:b,className:N1.image}))),r.createElement("div",{className:dl()(N1.edge,u.shadow.base)}))}const D1="a1783ee20ab09b08b1b2";function _1({gamepadAlias:e}){const t=(0,l.useSharedFacet)(s1),a=(0,l.useFacetMap)((e=>e.selectableCharacters.slice(0,5)),[],[t]),n=(0,l.useFacetMap)((e=>e.selectableCharacters.slice(5)),[],[t]),o=Mc();return r.createElement("div",{className:"f07366ae6fae0f7ce82b"},r.createElement("div",{className:D1},r.createElement(l.Map,{array:a},((t,a)=>r.createElement(L1,{gamepadAlias:0===a?e:void 0,character:t,groupIndex:a,groupSize:i1})))),r.createElement(l.Unwrap,{data:o},(e=>r.createElement(Vi,{size:e?1:4}))),r.createElement("div",{className:D1},r.createElement(l.Map,{array:n},((e,t)=>r.createElement(L1,{character:e,groupIndex:5+t,groupSize:i1})))))}const B1=()=>{const e=(0,l.useSharedFacet)(IF),t=(0,l.useSharedFacet)(VF),a=(0,l.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[e]);return VI(((e,t)=>function*(n,r){e.saveLocalWorldTaskState===HI.IDLE&&(e.addWorld(),e.worldData.general.gameMode=n,e.worldData.general.difficulty=r,e.saveLocalWorld(e.currentWorldId),yield a,t.startLocalWorld(e.currentWorldId))}),[a],[e,t])},W1={[Yb.EASY]:"easy",[Yb.HARD]:"hard",[Yb.NORMAL]:"normal",[Yb.PEACEFUL]:"peaceful"};function U1(){return(0,l.useFacetMap)((e=>{const t=parseInt(e.difficulty,10),a=parseInt(e.mode,10);return{mode:a,modeKey:a==Qv.CREATIVE?"creative":"survival",difficulty:t,difficultyKey:W1[t],translationKey:a==Qv.CREATIVE?".creative":`.survival.${W1[t]}`}}),[],[g()])}function z1(){const e=it();return(0,l.useFacetMap)(((e,t)=>{const a=e,n=t.platform===Ye.NX_HANDHELD;return a&&!n}),[],[e,(0,l.useSharedFacet)(_l)])}const j1=(e,t)=>`/new-player-path/character-selector/${e}/${t}`,H1=(e,t)=>`/new-player-path/${e}/${t}/touch-control-selection`,G1=(e,t)=>`/new-player-path/sign-in/${e}/${t}`,V1=(e,t)=>`/new-player-path/summary/${e}/${t}`;function $1(){const e=Rd(wb),t=Rd(kb),a=Rd(Pb);return e?wb:t?kb:a?Pb:"no-variant"}function X1(){const e=Rd(wb),t=Rd(kb),a=Rd(Pb);return e||t||a}const K1="new-player-path-route-character-selector/first-character",Y1="new-player-path-route-mode/survival",q1="new-player-path-route-difficulty/easy",Q1="new-player-path-route-sign-in-button",J1="NewPlayerPathMode",Z1="NewPlayerPathDifficulty",e2="NewPlayerPathRouteCharacterSelector",t2="NewPlayerPathSignIn",a2="NewPlayerPathRouteSummary",n2="NewPlayerPathRouteTouchControlsSelection";function r2(){const{t:e}=ws("NewPlayerPathRoute.CharacterSelector"),t=JT(),a=Qr("neutral"),n=t1(),{skip:o,next:c}=function(){const e=$1(),t=U1(),a=z1(),n=p(),r=(0,l.useFacetCallback)(((t,a)=>()=>{switch(e){case wb:case kb:return a?n.push(H1(t.mode,t.difficulty)):n.push(V1(t.mode,t.difficulty));case Pb:return n.push(V1(t.mode,t.difficulty));default:console.error("This should not be reachable")}}),[n,e],[t,a]),o=(0,l.useFacetCallback)((e=>()=>{e.setSelectedCharacter(e.selectableCharacters[0].id),r()}),[r],[(0,l.useSharedFacet)(s1)]);return{next:r,skip:o}}(),i=(0,r.useCallback)((()=>{t({screen:e2,button:"Skip"}),o()}),[t,o]),s=(0,r.useCallback)((()=>{t({screen:e2,button:"Next"}),c()}),[t,c]),u=(0,l.useFacetMap)((e=>e?"a2b012b483d7957b66da":void 0),[],[n]);return r.createElement(l1.Root,{navbarRight:r.createElement(o1,{onClick:i}),title:e(".title"),screenAnalyticsId:e2,gamepadAlias:"new-player-path-route-character-selector",delegateByAlias:K1,dollColumn:r.createElement(C1,null),bodyColumn:r.createElement(bd,{text:e(".controlChangeDoesNotAffectGamePlay")},r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(l1.Body,{className:u},r.createElement(_1,{gamepadAlias:K1}),r.createElement(l.Unwrap,{data:n},(e=>r.createElement(Vi,{size:e?1:3}))),r.createElement(Zi,{shouldNarrate:!0,align:"center",type:"captionShort",variant:"dimmer"},e(".controlChangeDoesNotAffectGamePlay"))),r.createElement(l1.Footer,null,r.createElement(lm,{variant:"primary",horizontal:!0,"data-testid":"character-selector-next",soundEffectPressed:a.press,onClick:s,inputLegend:e(".next")},e(".next"))))})}const l2=()=>{const e=(0,l.useSharedFacet)(IF),t=(0,l.useSharedFacet)(VF);return r.createElement(l.Mount,{when:(0,l.useFacetMap)(((e,t)=>null!=e.saveLocalWorldError||t.startLocalWorldResult===HF.WorldNotInLevelList||t.startLocalWorldResult===HF.GameServerStarterNotReady),[],[e,t])},r.createElement(HK.Component,null))},o2=e=>`url(${e}?filtering=point)`,c2=e=>{const t=(0,r.useRef)(null),[a,n]=(0,l.useFacetState)("0px"),o=yc(e),c=(0,l.useFacetCallback)((e=>({width:t})=>{n(`${Math.max(.5625*t,e)}px`)}),[n],[o]);return Bc(t,c),[t,a]},i2="f6371fae536abdbd4748",s2={control:a.p+"assets/controls-a12e1e11fbedb31b0eef.png",creative:a.p+"assets/creative-b5f9dd69def7e63b7b8c.png",survival:a.p+"assets/survival-7a34d626eee3cd15af38.png",hard:a.p+"assets/hard-9efeb679ca0433233dd1.png",normal:a.p+"assets/normal-2da8db1b0c08ee2a3e87.png",easy:a.p+"assets/easy-d8e2ba6967bad616c80c.png",peaceful:a.p+"assets/peaceful-329cb92ee2393a9605b4.png"};function u2({visibleType:e,entry:[t,a]}){const n=(0,l.useFacetMap)((e=>t===e?`${i2} ee36cee5352f5d42c9ae`:i2),[t],[(0,l.useFacetWrap)(e)]);return r.createElement(pu,{imageRendering:"pixelated",className:n,src:a})}function d2({type:e}){const t=(0,l.useFacetWrap)(e);return r.createElement("div",{className:"c790c00fa72098c5269e"},Object.entries(s2).map((e=>r.createElement(u2,{key:e[0],entry:e,visibleType:t}))))}const m2=({image:e,title:t,iconType:a,description:n,inputLegend:l,gamepadAlias:o,onClick:c,groupIndex:i,groupSize:s})=>{const[u,d]=c2(16.2),{t:m}=ws("Common.narration"),p=m(".position",[`${i}`,`${s}`]),f=[t,m(".roles.button"),p,n].join(" . ");return r.createElement(pW,{inputLegend:l,gamepadAlias:o,onClick:c,narrateCardRole:!1},r.createElement("fast-div",{ref:u,className:"e7406dd8b0b9bb07eb88",style:{backgroundImage:o2(e),paddingTop:d}}),r.createElement(pW.Information,{narrationText:f},r.createElement("div",{className:"f93f0eecda598ac0b7e7"},r.createElement(Zi,{type:"body",verticalAlign:"center"},t),r.createElement(Vi,{size:1}),r.createElement(d2,{type:a})),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},n)))},p2=a.p+"assets/survival-6ff33cd49c5229966a12.png",f2=a.p+"assets/creative-34775cddadd6c45f9ebd.png";function g2(){const{t:e}=ws("NewPlayerPathRoute.Mode"),{next:t}=function(){const e=p(),t=$1(),a=z1(),n=B1(),r=(0,l.useSharedFacet)(FF),o=(0,l.useSharedFacet)(s1);return{next:(0,l.useFacetCallback)(((a,r,l)=>o=>{if(o==Qv.SURVIVAL)return l.setIsCreative(!1),e.push("/new-player-path/survival/difficulty");if(o==Qv.CREATIVE)switch(l.setIsCreative(!0),t){case kb:return r.isSignedInPlatformNetwork&&r.isLoggedInWithMicrosoftAccount?e.push(j1(o,Yb.NORMAL)):e.push(G1(o,Yb.NORMAL));case wb:case Pb:return e.push(j1(o,Yb.NORMAL));default:return a?e.push(H1(o,Yb.NORMAL)):n(o,Yb.NORMAL)}}),[e,t,n],[a,r,o])}}(),a=JT(),n=X1(),o=(0,r.useCallback)((e=>{a({screen:J1,button:e==Qv.CREATIVE?"CreativeCard":"SurvivalCard"}),t(e)}),[a,t]);return r.createElement(ZN,{title:e(".title"),screenAnalyticsId:J1,gamepadAlias:"new-player-path-route-mode",delegateByAlias:Y1},(()=>r.createElement(r.Fragment,null,r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(l2,null),r.createElement(ud,{delegateFocusByAlias:q1},r.createElement(zM,{maxWidth:96,centerContentVertically:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:5,narrowSize:4},r.createElement(m2,{gamepadAlias:Y1,title:e(".survivalTitle"),iconType:"survival",description:e(".survivalDescription"),inputLegend:e(".survivalInputLegend"),image:p2,onClick:()=>o(Qv.SURVIVAL),groupIndex:1,groupSize:2})),r.createElement(zM.Column,{wideSize:5,narrowSize:4},r.createElement(m2,{title:e(".creativeTitle"),iconType:"creative",description:e(".creativeDescription"),inputLegend:e(n?".select":".creativeInputLegend"),image:f2,onClick:()=>o(Qv.CREATIVE),groupIndex:2,groupSize:2}))))))))}const E2=({image:e,title:t,iconType:a,inputLegend:n,description:l,gamepadAlias:o,onClick:c,groupIndex:i,groupSize:s})=>{const[u,d]=c2(14),{t:m}=ws("Common.narration"),p=m(".position",[`${i}`,`${s}`]),f=[t,m(".roles.button"),p,l].join(" . ");return r.createElement(pW,{inputLegend:n,gamepadAlias:o,onClick:c,narrateCardRole:!1},r.createElement("fast-div",{ref:u,className:"d839b04d23868c12497d",style:{backgroundImage:o2(e),paddingTop:d}}),r.createElement(pW.Information,{narrationText:f},r.createElement("div",{className:"fade02dca100163f9057"},r.createElement(Zi,{type:"body",verticalAlign:"center"},t),r.createElement(Vi,{size:1}),r.createElement(d2,{type:a})),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},l)))},b2=({image:e,title:t,iconType:a,description:n,inputLegend:l,gamepadAlias:o,onClick:c,groupIndex:i,groupSize:s})=>{const{t:u}=ws("Common.narration"),d=u(".position",[`${i}`,`${s}`]),m=[t,u(".roles.button"),d,n].join(" . ");return r.createElement(rT,{tall:!0},r.createElement(rT.Action,{inputLegend:l,narrationText:m,gamepadAlias:o,onClick:c},r.createElement(rT.Cell,null,r.createElement("div",{className:"a75b1d158cf9530fa018",style:{backgroundImage:o2(e)}})),r.createElement(rT.Main,null,r.createElement("div",{className:"caf7f4d4004153e2f9e1"},r.createElement(Zi,{type:"body"},t),r.createElement(Vi,{size:1}),r.createElement(d2,{type:a})),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},n))))},h2=a.p+"assets/easy-8c5d9d00b69fd1b1a5cc.png",v2=a.p+"assets/normal-6b57a4bb0b6fcca0cedc.png",F2=a.p+"assets/hard-bd518066cd12462e9ec4.png",y2=a.p+"assets/peaceful-95e19e2fa59c0a7c9806.png";function S2(){const{t:e}=ws("NewPlayerPathRoute.Difficulty"),t=Mc(48),{next:a}=function(){const e=p(),t=$1(),a=z1(),n=B1(),r=(0,l.useSharedFacet)(FF);return{next:(0,l.useFacetCallback)(((a,r)=>l=>{switch(t){case kb:return r.isSignedInPlatformNetwork&&r.isLoggedInWithMicrosoftAccount?e.push(j1(Qv.SURVIVAL,l)):e.push(G1(Qv.SURVIVAL,l));case wb:case Pb:return e.push(j1(Qv.SURVIVAL,l));default:return a?e.push(H1(Qv.SURVIVAL,l)):n(Qv.SURVIVAL,l)}}),[e,t,n],[a,r])}}(),n=JT(),o=X1(),c=(0,r.useCallback)(((e,t)=>{n({screen:Z1,button:t}),a(e)}),[n,a]),i=r.createElement(zM,{nonFullScreen:!0,centerContentVertically:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:3,narrowSize:2},r.createElement(E2,{title:e(".peacefulTitle"),iconType:"peaceful",description:e(".peacefulDescription"),inputLegend:e(".createInputLegend"),image:y2,onClick:()=>c(Yb.PEACEFUL,"Peaceful"),groupIndex:1,groupSize:4})),r.createElement(zM.Column,{wideSize:3,narrowSize:2},r.createElement(E2,{gamepadAlias:q1,title:e(".easyTitle"),iconType:"easy",description:e(".easyDescription"),inputLegend:e(o?".select":".createInputLegend"),image:h2,onClick:()=>c(Yb.EASY,"Easy"),groupIndex:2,groupSize:4})),r.createElement(zM.Column,{wideSize:3,narrowSize:2},r.createElement(E2,{title:e(".normalTitle"),iconType:"normal",description:e(".normalDescription"),inputLegend:e(o?".select":".createInputLegend"),image:v2,onClick:()=>c(Yb.NORMAL,"Normal"),groupIndex:3,groupSize:4})),r.createElement(zM.Column,{wideSize:3,narrowSize:2},r.createElement(E2,{title:e(".hardTitle"),iconType:"hard",description:e(".hardDescription"),inputLegend:e(o?".select":".createInputLegend"),image:F2,onClick:()=>c(Yb.HARD,"Hard"),groupIndex:4,groupSize:4})))),s=r.createElement(zM,{nonFullScreen:!0,centerContentVertically:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(b2,{title:e(".peacefulTitle"),iconType:"peaceful",description:e(".peacefulDescription"),inputLegend:e(o?".select":".createInputLegend"),image:y2,onClick:()=>c(Yb.PEACEFUL,"Peaceful"),groupIndex:1,groupSize:4}),r.createElement(b2,{gamepadAlias:q1,iconType:"easy",title:e(".easyTitle"),description:e(".easyDescription"),inputLegend:e(o?".select":".createInputLegend"),image:h2,onClick:()=>c(Yb.EASY,"Easy"),groupIndex:2,groupSize:4}),r.createElement(b2,{title:e(".normalTitle"),iconType:"normal",description:e(".normalDescription"),inputLegend:e(o?".select":".createInputLegend"),image:v2,onClick:()=>c(Yb.NORMAL,"Normal"),groupIndex:3,groupSize:4}),r.createElement(b2,{title:e(".hardTitle"),iconType:"hard",description:e(".hardDescription"),inputLegend:e(o?".select":".createInputLegend"),image:F2,onClick:()=>c(Yb.HARD,"Hard"),groupIndex:4,groupSize:4}))));return r.createElement(ZN,{title:e(".title"),screenAnalyticsId:Z1,gamepadAlias:"new-player-path-route-difficulty",delegateByAlias:q1},(()=>r.createElement(r.Fragment,null,r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(l2,null),r.createElement(ud,{delegateFocusByAlias:q1},r.createElement(l.Unwrap,{data:t},(e=>e?s:i))))))}const C2="f29247ac6287da3f6716",M2=a.p+"assets/Sign-in_Prompts_Launch-7712e185dbed4a9664e6.png";function w2(){const{t:e}=ah("NewPlayerPathRoute.SignIn"),{skip:t,next:a}=function(){const e=$1(),t=U1(),a=p();return{next:(0,l.useFacetCallback)((t=>()=>{if(e===kb)return a.push("/sign-in?signInSource=NewPlayerPathSignInScreen_OreUI&redirectTo="+encodeURIComponent(j1(t.mode,t.difficulty))+"&replacePreviousRouteAfterSignIn");console.error("This should not be reachable")}),[a,e],[t]),skip:(0,l.useFacetCallback)((e=>()=>{a.push(j1(e.mode,e.difficulty))}),[a],[t]),back:a.goBack}}(),n=JT(),o=Yr("neutral80"),c=(0,r.useCallback)((e=>{n({screen:t2,button:e}),t()}),[n,t]),i=(0,r.useCallback)((()=>{n({screen:t2,button:"SignIn"}),a()}),[n,a]);return r.createElement(ZN,{title:e(".title"),screenAnalyticsId:"NewPlayerPathSignIn",gamepadAlias:"new-player-path-route-sign-in",delegateByAlias:Q1,navbarRight:r.createElement(o1,{onClick:()=>c("Skip")})},(()=>r.createElement(r.Fragment,null,r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(Sr,{role:"neutral80"},r.createElement("div",{className:"d152f126201a1b9a6775"},r.createElement("div",{className:C2}),r.createElement("div",{className:dl()(o.background.base,o.border.base,o.text.base)},r.createElement(jQ.Body,null,r.createElement("div",{className:"a3d2aaa8acda520e9edf"},r.createElement("div",{className:"b105107d9981349d70c3"},r.createElement(Zi,{type:"body",align:"left",shouldNarrate:!0},e(".signInPrompt")),r.createElement(Vi,{size:4}),[e(".signInList1"),e(".signInList2")].map(((e,t)=>r.createElement(Zi,{key:t,shouldNarrate:e,type:"body",align:"left",indent:!0}," ",e))),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"body",align:"left",shouldNarrate:!0},e(".createAccountPrompt"))),r.createElement(pu,{src:M2,className:"e18cf6f62bb43739f5ec",imageRendering:"pixelated"}))),r.createElement(jQ.Footer,null,r.createElement(lm,{horizontal:!0,inputLegend:e(".laterButton"),onClick:()=>c("MaybeLater")},e(".laterButton")),r.createElement(Vi,{size:2}),r.createElement(lm,{horizontal:!0,gamepadAlias:Q1,inputLegend:e(".signInButton"),onClick:i,variant:"primary"},e(".signInButton")))),r.createElement("div",{className:C2}))))))}const k2=a.p+"assets/video_crosshair-769700a7dcf993b51540.webm",P2=a.p+"assets/video_touch-e502156be0cd302bbb87.webm",T2=a.p+"assets/video_classic-fbc33acf7b3125a15262.webm",I2={wrapper:"bd3b1f20f1ca575106e5",wrapperDisabled:"e86497e7e9ab599838f3",RadioBox:"dbc5182f1ac677f923f3",innerBox:"dfa28602ec9f31519fbf",innerBoxTileLeft:"e81d88b0ddca8faaaf07",innerBoxTileRight:"c6daf26d7f8d0f81e728",RadioBoxCheckedDisabled:"b195b8de38a1f50d1884",label:"fe605a1ca0f3cb0ff588",labelInner:"e93e2de004fc4a2c35fd"};function x2({onClick:e,checked:t,label:a,description:n,disabled:o,extraSpeechProps:{index:c,groupSize:i}={index:1,groupSize:1},onFocusChanged:s,omitDescription:u=!1,readDescription:d=!1,checkedRole:m="primary",uncheckedRole:p="neutral50",textRole:f="neutral",soundEffectPressed:g}){const{t:E}=ws("RadioBox"),b=(0,l.useFacetWrap)(t),h=Yr(m),v=Yr(p),F=Qr("inherit"),y=(0,l.useFacetMap)((e=>[...null!=a?[a]:[],e?E(".selected"):"",e&&d&&null!=n?n+". ":"",o?E(".disabled"):"",E(".count",[`${c+1}`,`${i}`])].join(" . ")),[d,n,a,c,i,o,E],[b]),S=(0,l.useFacetMap)((e=>{var t,a,n,r;return dl()(I2.RadioBox,{[null!==(t=h.background.interactive)&&void 0!==t?t:""]:e,[null!==(a=h.border.interactive)&&void 0!==a?a:""]:e,[null!==(n=v.background.interactive)&&void 0!==n?n:""]:!e,[null!==(r=v.border.interactive)&&void 0!==r?r:""]:!e})}),[h,v],[b]);return r.createElement(Wi,{className:I2.wrapper,classNameFocused:dl()(I2.focused,Ws),classNameDisabled:I2.wrapperDisabled,narrationText:y,onClick:e,onFocusChanged:s,inputLegend:!1,disabled:o,soundEffectPressed:null!=g?g:F.toggle},r.createElement("fast-div",{className:S},r.createElement(Bs,null),r.createElement(Ks,{effect:"specular"}),r.createElement(l.Mount,{when:b},r.createElement("div",{className:I2.innerBox},r.createElement("div",{className:I2.innerBoxTileLeft}),r.createElement("div",{className:I2.innerBoxTileRight})))),Boolean(a)&&r.createElement("div",{className:dl()(I2.label)},Boolean(!u)&&Boolean(n)&&r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"body",role:f,variant:o?"dimmer":void 0},a),Boolean(!u)&&Boolean(n)&&r.createElement(r.Fragment,null,r.createElement(Zi,{type:"captionShort",role:f,variant:"dimmer"},r.createElement("div",{className:I2.labelInner},n)),r.createElement(Vi,{size:4}))))}let O2=0;const A2=()=>{};function N2({options:e,title:t,onChange:a=A2,value:n,disabled:l=!1,disabledValues:o,onFocusChanged:c,checkedRole:i,uncheckedRole:s,wrapperRole:u="neutral",soundEffectPressed:d}){const m=(0,r.useRef)(null),p=Yr(u),f=Qr(u);-1===e.findIndex((e=>e.value===n))&&console.warn("The provided default value does not match any of the provided options. This means that no option is selected, which is a broken state for RadioGroup.");const g=(0,r.useRef)("MCT-"+O2++);return r.createElement(Sr,{role:u},r.createElement(uu,{delegateFocusFromMemory:!0,disabled:l,delegateFocusByAlias:g.current,containerRef:m},r.createElement("div",{className:dl()("d62ede4d2ad292898eea",p.background.base),ref:m},r.createElement(Ks,{effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),null!=t&&""!=t&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:4}),r.createElement("div",{className:"dddfc32c1e3d5ffd1dee"},r.createElement(Zi,{type:"body",role:u,variant:l?"dimmer":void 0},t))),r.createElement(Vi,{size:4}),e.map(((t,m)=>r.createElement(x2,{disabled:!!(l||o&&o.indexOf(t.value)>-1),key:m,label:t.label,description:t.description,omitDescription:t.omitDescription,readDescription:t.readDescription,checked:t.value===n,onClick:()=>{n!==t.value&&a(t.value)},extraSpeechProps:{index:m,groupSize:e.length},onFocusChanged:c,checkedRole:i,uncheckedRole:s,textRole:u,soundEffectPressed:null!=d?d:f.toggle}))),r.createElement(Vi,{size:4}))))}const R2="b7903a9f1ac26d0431fb";function L2({startWorld:e,navbarRight:t,role:a="neutral80"}){const[n,o]=(0,l.useFacetState)("0px"),c=(0,r.useRef)(null),i=Cl(),{t:s}=ws("TouchControlSelectionRoute"),u=(0,l.useSharedFacet)(fh),[d,m]=(0,r.useState)(ph.CLASSIC),p=(0,l.useSharedFacet)(gb),f=(0,l.useFacetCallback)((e=>()=>{e.inWorldCreation=!1,i.goBack()}),[i],[p]),g=(0,l.useFacetCallback)((t=>()=>{t.touchControlScheme=d,t.showTouchControlSelectionScreen=!1,e()}),[d,e],[u]),E=(0,r.useContext)(at),b=(0,l.useFacetUnwrap)(E),h=Yr(a),v="touch",F="classic",y="crosshair",S=(0,r.useRef)(null),C=(0,r.useRef)(null),M=(0,r.useRef)(null),w=(0,r.useMemo)((()=>[S,M,C]),[]),k=(0,l.useFacetCallback)((e=>t=>{let a=ph.TOUCH;if(t==F?a=ph.CLASSIC:t==y&&(a=ph.CROSSHAIR),e.playVideoInTouchControlSelectionScreen)for(let e=ph.TOUCH;e<=ph.CLASSIC;++e){const t=w[e].current;e==a?null!=t&&(t.currentTime=0,t.play()):null==t||t.pause()}m(a)}),[w],[u]);(0,l.useFacetEffect)((e=>{switch(e.touchControlScheme){case ph.CLASSIC:k(F);break;case ph.TOUCH:k(v);break;case ph.CROSSHAIR:k(y)}}),[k],[u]);const P=(0,r.useCallback)((()=>{if(c.current){const{width:e}=c.current.getBoundingClientRect();e>0?o(.48*e+"px"):requestAnimationFrame(P)}}),[o]);function T(e){return d==e?"100%":"0px"}function I(e){return d==e?"100%":"0px"}(0,r.useEffect)((()=>(P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P))),[P]);const x=[s(".header")+". ",s(".title")+". ",(d==ph.CLASSIC?s(".classicLabel"):d==ph.TOUCH?s(".touchLabel"):s(".crosshairLabel"))+". ",s(".selected")+". ",null!=b&&!0===b?s(".lockWarning")+". ":"",d==ph.CLASSIC?s(".classicInfo"):d==ph.TOUCH?s(".touchInfo"):s(".crosshairInfo")].join(" . ");return r.createElement(ay,null,r.createElement(ty,{text:x}),r.createElement(BM,{onBackButton:f,center:r.createElement(Zi,{type:"header5A"},s(".header")),gamepadAlias:"touch-control-selection",right:t},r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:8,narrowSize:4},r.createElement(ud,null,r.createElement(Vi,{size:4}),r.createElement("div",{className:dl()(R2,h.border.base)},r.createElement("fast-div",{ref:c,style:{height:n}},r.createElement("div",{className:dl()("dcf223a42223ce390dd2",h.background.base)},r.createElement("div",{className:"c8a7e690e362426d7e46"},r.createElement("div",{className:"ffbc7e45af761fa02a97"},r.createElement(id,null)))),r.createElement("video",{ref:w[ph.CLASSIC],style:{width:T(ph.CLASSIC),height:I(ph.CLASSIC),position:"absolute"},src:T2,loop:!0}),r.createElement("video",{ref:w[ph.CROSSHAIR],style:{width:T(ph.CROSSHAIR),height:I(ph.CROSSHAIR),position:"absolute"},src:k2,loop:!0}),r.createElement("video",{ref:w[ph.TOUCH],style:{width:T(ph.TOUCH),height:I(ph.TOUCH),position:"absolute"},src:P2,loop:!0})),r.createElement("div",{className:dl()("d54e9aca0ddff7262769",h.background.base)},r.createElement(Zi,{type:"body",variant:"dimmer"},d==ph.CLASSIC?s(".classicInfo"):d==ph.TOUCH?s(".touchInfo"):s(".crosshairInfo")))))),r.createElement(zM.Column,{wideSize:4,narrowSize:4},r.createElement(ud,null,r.createElement(Vi,{size:4}),r.createElement("div",{className:dl()(R2,h.border.base)},r.createElement(N2,{wrapperRole:a,title:s(".title"),disabledValues:[null!=b&&!0===b?F:""],options:[{label:s(".touchLabel"),value:v,description:s(".touchInfo"),omitDescription:!0,readDescription:!0},{label:s(".classicLabel"),value:F,description:s(".classicInfo"),omitDescription:!0,readDescription:!0},{label:s(".crosshairLabel"),value:y,description:s(".crosshairInfo"),omitDescription:!0,readDescription:!0}],onChange:e=>k(e),value:d==ph.CLASSIC?F:d==ph.TOUCH?v:y})),r.createElement(Vi,{size:4}),r.createElement(lm,{variant:"hero",onClick:g,inputLegend:s(".select"),"data-testid":"select-touch-control-button",narrationSuffix:d==ph.CLASSIC?s(".classicLabel"):d==ph.TOUCH?s(".touchLabel"):s(".crosshairLabel")},s(".select")),r.createElement(l.Mount,{when:E},r.createElement("div",null,r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"body",variant:"dimmer"},s(".lockWarning"))))))))))}function D2(){const e=JT(),{skip:t,next:a}=function(){const e=$1(),t=U1(),a=B1(),n=p();return{skip:(0,l.useFacetCallback)((t=>()=>{switch(e){case wb:case kb:return n.push(V1(t.mode,t.difficulty));default:console.error("This should not be reachable")}}),[n,e],[t]),next:(0,l.useFacetCallback)((t=>()=>{switch(e){case wb:case kb:case Pb:return n.push(V1(t.mode,t.difficulty));default:return a(t.mode,t.difficulty)}}),[n,e,a],[t])}}(),[n,o]=(0,r.useState)(),c=(0,l.useFacetCallback)((a=>()=>{e({screen:n2,button:"Skip"}),t(),a.touchControlScheme=ph.TOUCH,o("skipped"),o(void 0)}),[e,t],[(0,l.useSharedFacet)(fh)]),i=(0,r.useCallback)((()=>{e({screen:n2,button:"Next"}),a()}),[e,a]),s=X1();return r.createElement(L2,{key:n,startWorld:i,navbarRight:s&&r.createElement(o1,{onClick:c})})}function _2(){const{t:e}=ws("NewPlayerPathRoute.Summary"),t=Qr("neutral"),a=U1(),{next:n}=function(){const e=B1(),t=$1(),a=U1(),n=(0,l.useSharedFacet)(s1);return{next:(0,l.useFacetCallback)(((a,n)=>()=>{switch(t){case wb:case kb:case Pb:n.applySelectedCharacterSkin();default:return e(a.mode,a.difficulty)}}),[e,t],[a,n])}}(),o=JT(),c=(0,r.useCallback)((()=>{o({screen:a2,button:"Play"}),n()}),[o,n]),i=(0,l.useFacetMap)((({modeKey:t})=>e(`.${t}.heading`)),[e],[a]),s=(0,l.useFacetMap)((({translationKey:t})=>e(t+".paragraph1")),[e],[a]),u=(0,l.useFacetMap)((({translationKey:t})=>e(t+".paragraph2")),[e],[a]),d=(0,l.useFacetMap)((({modeKey:e})=>e),[],[a]),m=(0,l.useFacetMap)((({modeKey:t})=>e(`.${t}`)),[e],[a]),p=(0,l.useFacetMap)((({mode:e})=>e==Qv.SURVIVAL),[],[a]),f=(0,l.useFacetMap)((({difficultyKey:e})=>e),[],[a]),g=(0,l.useFacetMap)((({difficultyKey:t})=>e(`.${t}`)),[e],[a]),E=Rd(wb),b=(0,l.useSharedFacet)(fh),h=(0,l.useFacetMap)((e=>E&&e),[E],[z1()]),v=(0,l.useFacetMap)((t=>{switch(t.touchControlScheme){case ph.TOUCH:return e(".controlTouchLabel");case ph.CLASSIC:return e(".controlClassicLabel");case ph.CROSSHAIR:return e(".controlCrosshairLabel")}}),[e],[b]),F=(0,l.useFacetMap)(((...e)=>e.join(" . ")),[],[i,s,u]);return r.createElement(l1.Root,{gamepadAlias:"new-player-path-route-summary",screenAnalyticsId:a2,title:e(".title"),dollColumn:r.createElement(C1,null),bodyColumn:r.createElement(bd,{text:F},r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(l2,null),r.createElement(l1.Body,null,r.createElement(Zi,{shouldNarrate:!0,type:"body"},i),r.createElement(Vi,{size:2}),r.createElement("div",{className:"be280b49f0a81e915e66"},r.createElement(Zi,{shouldNarrate:!0,type:"captionShort",variant:"dimmer"},s),r.createElement(Vi,{size:3}),r.createElement(Zi,{shouldNarrate:!0,type:"captionShort",variant:"dimmer"},u)),r.createElement(Vi,{size:6}),r.createElement("div",{className:"f87081df8b61fd84c0f9"},r.createElement(rk,{icon:r.createElement(d2,{type:d}),role:"neutralAlpha60"},m),r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(rk,{icon:r.createElement(d2,{type:f}),role:"neutralAlpha60"},g))),r.createElement(l.Mount,{when:h},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(rk,{icon:r.createElement(d2,{type:"control"}),role:"neutralAlpha60"},v))))),r.createElement(l1.Footer,null,r.createElement(lm,{variant:"hero",horizontal:!0,"data-testid":"play-minecraft",soundEffectPressed:t.press,onClick:c,inputLegend:e(".play")},e(".playMinecraft"))))})}function B2(){const e=p(),t=(0,l.useFacetCallback)(((t,a)=>()=>{t.inWorldCreation?(t.inWorldCreation=!1,a.fireEventButtonPressed("Create_World_Button_OreUI",{}),t.createWorld()):e.goBack()}),[e],[(0,l.useSharedFacet)(gb),(0,l.useSharedFacet)(Hv)]);return r.createElement(L2,{startWorld:t})}function W2(){const e=Ml(),t=(0,l.useSharedFacet)(OY),a=decodeURIComponent(e.id),n=(0,l.useFacetMap)((e=>e.localWorlds.find((e=>e.allContentOwned&&e.id===a))),[a],[t]),{startLocalWorldWithPrerequisitesCallback:o,StartLocalWorldPrerequisiteModalsComponent:c}=IY(n);return r.createElement(r.Fragment,null,r.createElement(c,null),r.createElement(L2,{startWorld:o}))}function U2(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z2(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U2(Object(a),!0).forEach((function(t){j2(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U2(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j2(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const H2=a.p+"assets/invites_empty-27f16008f2b58929da99.png";function G2({player:e,index:t,sectionIndex:a,listLengthFacet:n,profileEntryPoints:o}){const c=Zx(),i=(0,l.useFacetCallback)((e=>()=>{c({xuid:e.xuid,platformId:e.platformId})}),[c],[e]);return r.createElement(hx,{item:e,index:t,listLength:n,onMainActionClick:()=>i(),profileEntryPoint:(0,l.useFacetMap)((e=>e[a]),[a],[o]),testId:"party-invite-list",gamepadAlias:`party-invite-list-item-${a}-${t}`})}function V2({providedListData:e,invitedXuids:t,loading:a=!1}){const{t:n}=ah("PartyInviteListGroup"),o=(0,l.useFacetWrap)(e),c=kA(),i=(0,l.useSharedFacet)(kv),s=(0,l.useFacetMap)((e=>e.recentlyPlayedWith),[],[i]),u=(0,l.useFacetMap)((e=>e.isLoading),[],[i]),d=(0,l.useFacetWrap)(a),m=(0,l.useFacetMap)(((e,t,a)=>{if(null!=a)return a;const r=[];return e.length>0&&r.push({playerList:e,title:n(".friendsTitle",[e.length.toString()]),role:"successTint",profileEntryPoint:Ih.CreateParty_Friends,showLength:!0}),t.length>0&&r.push({playerList:t,title:n(".recentlyPlayedWithTitle"),role:"neutral",profileEntryPoint:Ih.CreateParty_RecentlyPlayedWith}),r}),[n],[c.friends,s,o]),f=(0,l.useSharedFacet)(gy),g=(0,l.useFacetMap)((e=>e.members.map((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}))),[],[f]),E=function(e,t,a){return(0,l.useFacetMap)(((e,t,a)=>e.map((e=>z2(z2({},e),{},{playerList:e.playerList.filter((({presence:e})=>e===pF.Online||e===pF.Away)).map((e=>{var n,r,l;return z2(z2({},e),{},{id:null!==(n=e.xuid)&&void 0!==n?n:"",variant:t.includes(null!==(r=e.xuid)&&void 0!==r?r:"")?"party-sent-invite":a.includes(null!==(l=e.xuid)&&void 0!==l?l:"")?"party-joined":"party-invite"})}))})))),[],[e,t,a])}(m,t,g),b=(0,l.useFacetMap)((e=>e.map((e=>({role:e.role,title:e.showLength?n(".titleWithLength",[e.title,e.playerList.length.toString()]):e.title,data:e.playerList}))).filter((e=>e.data.length>0))),[n],[E]),h=(0,l.useFacetMap)((e=>e.map((e=>e.profileEntryPoint))),[],[E]),v=(0,l.useFacetMap)(((e,t,a,n)=>null!=a?n:n||e||t),[],[c.isLoading,u,o,d]),F=(0,l.useFacetMap)(((e,t)=>0===e.length&&!t),[],[b,v]),y=p(),S=(0,l.useFacetCallback)(((e,t)=>()=>{t.isLoggedInWithMicrosoftAccount||!TI(e.platform)&&!xI(e.platform)?y.push("/add-friend"):y.push("/sign-in-add-friend")}),[y],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(FF)]),C=Nw({wide:8,narrow:6,width:260}),M=(0,l.useFacetMap)((e=>e?"cb171ca77189bdc9c63f":"caf19bae4d685e24fc5b"),[],[C]);return r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:F},(e=>r.createElement(r.Fragment,null,!e&&r.createElement(nI,{loading:v,gamepadAlias:"party-invite-list",data:b,sectionSeparator:r.createElement(Vi,{size:2}),renderSectionHeader:(e,t)=>r.createElement(aP,{role:t,label:e}),renderItem:({itemFacet:e,index:t,sectionIndex:a,listLengthFacet:n})=>r.createElement(G2,{player:e,index:t,sectionIndex:a,listLengthFacet:n,profileEntryPoints:h})}),e&&r.createElement(aw.Wrapper,null,r.createElement(aw.Title,{children:n(".noPeopleFound")}),r.createElement(aw.Image,{imgClass:M,imgSrc:H2}),r.createElement(aw.Text,{children:n(".noPeopleFoundMessage")}),r.createElement(aw.ButtonsWrapper,null,r.createElement(aw.Button,{onClick:S,children:n(".searchForPeople"),Icon:LM.Search})))))))}const $2=a.p+"assets/invites_empty-d82f3107d60a8e227c18.png";function X2(){const e=p(),{t}=ws("CreatePartyRoute"),{t:a}=ws("CreatePartyRoute.narration"),n=Yr("neutral80"),o=(0,l.useSharedFacet)(by),c=(0,l.useFacetMap)((e=>e.createPartyState.loading),[],[o]),i=(0,l.useFacetMap)((e=>e.createPartyState.hasError),[],[o]),s=(0,l.useSharedFacet)(gy),u=(0,l.useFacetMap)((e=>e.privacy),[],[s]),d=(0,l.useFacetMap)((e=>e.pendingInvitees.map((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}))),[],[s]),m=[{label:t(".open"),description:t(".openDescription"),value:Fy.Open},{label:t(".inviteOnly"),description:t(".inviteOnlyDescription"),value:Fy.InviteOnly}],f=[a(".createParty"),a(".screen")].join(" . "),g=[t(".partySettings"),a(".verticalMenu"),t(".maxPartyExplanation")].join(" . "),E=(0,l.useFacetCallback)((e=>t=>{e.setPrivacy(t)}),[],[o]),b=Nw({wide:8,narrow:6,width:256}),h=(0,l.useFacetMap)((e=>e?"bfe7ffef9510d221bac2":"d54c493f47e86ee06da7"),[],[b]),v=(0,l.useFacetCallback)((t=>()=>{t.createPartyState.clearError(),e.goBack()}),[e],[o]),F=ju();return r.createElement(ay,null,r.createElement(BM,{onBackButton:v,center:r.createElement(Zi,{type:"header5A"},t(".createPartyHeader")),gamepadAlias:"create-party",narrationText:f},r.createElement(zM,null,r.createElement(Vi,{size:4}),r.createElement(zM.Row,null,r.createElement(l.Unwrap,{data:i},(e=>e?r.createElement(r.Fragment,null,r.createElement(zM.Column,{narrowSize:0,wideSize:1}),r.createElement(zM.Column,{narrowSize:8,wideSize:10},r.createElement(aw.Wrapper,null,r.createElement(aw.Title,null,t(".errorStateTitle")),r.createElement(aw.Image,{imgClass:h,imgSrc:$2}),r.createElement(aw.Text,null,t(".errorStateMessage")))),r.createElement(zM.Column,{narrowSize:0,wideSize:1})):r.createElement(r.Fragment,null,r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(bd,{text:g},r.createElement(ud,{loading:c,flexShrinkWrapper:!0,delegateFocusFromMemory:!0},r.createElement("div",{className:dl()(n.border.base,"a900cb7e92b87df8efb3")},r.createElement(wH,{title:t(".partySettings"),description:t(".maxPartyExplanation")}),r.createElement($R,{onMountComplete:F,title:t(".partyPrivacy"),options:m,value:u,onChange:E,wrapToggleText:!0}))))),r.createElement(zM.Column,{wideSize:8,narrowSize:5},r.createElement(V2,{invitedXuids:d,loading:c})))))))))}function K2(){const{t:e}=ws("InviteToPartyRoute"),t=(0,l.useSharedFacet)(gy),a=(0,l.useFacetMap)((e=>e.pendingInvitees.map((e=>{var t;return null!==(t=e.xuid)&&void 0!==t?t:""}))),[],[t]);return r.createElement(ZN,{title:e(".inviteToPartyHeader"),screenAnalyticsId:"InviteToParty",gamepadAlias:"invite-to-party"},(()=>r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Vi,{size:4}),r.createElement(V2,{invitedXuids:a})),r.createElement(zM.Column,{wideSize:1,narrowSize:0})))))}const Y2=As((({onClose:e,isRouted:t})=>{const{t:a}=ws("PartyDeclineTravelModal"),n=(0,l.useSharedFacet)(by),o=p(),c=(0,l.useFacetCallback)((t=>()=>{t.travelToPendingDestination(),e()}),[e],[n]),i=(0,l.useFacetCallback)((a=>()=>{a.leaveParty(),e(),t&&o.goBack()}),[e,o,t],[n]);return r.createElement($m,null,r.createElement($m.Header,{hideCloseButton:!0},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message")},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".cancel"),variant:"secondary",onClick:c},a(".cancel")),r.createElement(Vi,{size:2}),r.createElement(lm,{inputLegend:a(".confirm"),variant:"destructive",onClick:i},a(".confirm"))))}));function q2(){const e=g();return r.createElement(l.Unwrap,{data:e},(e=>"decline-travel"===e.modal?r.createElement(Q2,null):r.createElement(r.Fragment,null)))}function Q2(){const e=Y2.useModal();return r.createElement(J2,{modal:e},(e=>r.createElement(Y2.Component,{onClose:e,isRouted:!0})))}function J2({modal:e,children:t}){(0,r.useEffect)((()=>{e.show()}),[e]);const a=(0,r.useCallback)((()=>{e.hide()}),[e]);return r.createElement(l.Mount,{when:e.isVisible},t(a))}const Z2=a.p+"assets/sleep_steve-5b5b685f51e1ff074190.gif",e5=a.p+"assets/sleep_steve_still-2a5f77b5a8a28ee33767.png",t5=a.p+"assets/sleep_dream_apple-d5fc732fee97c54947d0.gif",a5=a.p+"assets/sleep_dream_apple_still-326c4b99ab6651cfb463.png",n5=a.p+"assets/sleep_dream_creeper-40220c8f629d9c72a3d1.gif",r5=a.p+"assets/sleep_dream_creeper_still-3769b288b3a9ec33dd2c.png",l5=a.p+"assets/sleep_dream_diamond-638b3a14282031c9db66.gif",o5=a.p+"assets/sleep_dream_diamond_still-2565c29be34f7c4e711c.png",c5=a.p+"assets/sleep_dream_dirthut-88c2fdbcf83a4a1b272a.gif",i5=a.p+"assets/sleep_dream_dirthut_still-b48a2d94356013a9e4dd.png",s5=a.p+"assets/sleep_dream_pickaxe-52045d79bd091ad561e7.gif",u5=a.p+"assets/sleep_dream_pickaxe_still-6613aa8d49affe4d26a8.png",d5=a.p+"assets/sleep_dream_poppy-30c798bd4883d33e12b0.gif",m5=a.p+"assets/sleep_dream_poppy_still-3ca37e5ab78ed5b85b98.png";function p5({children:e,role:t="informative",className:a}){return r.createElement(Sr,{role:t},r.createElement("div",{className:dl()("eed83eab52955867dc36",a)},e))}const f5=[t5,n5,l5,c5,s5,d5],g5=[a5,r5,o5,i5,u5,m5],E5=function(){const e=Math.floor(6*Math.random());return f5[e]}(),b5=function(){const e=Math.floor(6*Math.random());return g5[e]}(),h5=()=>{const[e,t]=qa();(0,r.useEffect)((()=>(t(!0),()=>{t(!1)})),[t]);const{t:a}=ah("IdleScreenRoute");return r.createElement(ay,null,r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement("div",{className:"df82ebf0e1680e8ad128"},r.createElement(p5,{className:"a3a2199de2cf4c76af8b"},r.createElement("div",{className:"da63b87b306726fa5659"},r.createElement(FL,{gifSrc:Z2,imageSrc:e5,className:"cb6c048924f2f31fba8f"}),r.createElement(FL,{gifSrc:E5,imageSrc:b5,className:"c67872d4c1ee37de79f6"})),r.createElement(Zi,{align:"left",type:"body",className:"b0a7dd1939fa32756a45"},a(".text")))))),r.createElement(Lm.Space,null)))},v5=({open:e,isOpen:t})=>{const a=Oo();(0,l.useFacetEffect)((t=>{const a=setTimeout(e,t?10:0);return()=>{clearTimeout(a)}}),[e],[a]);const n=p(),[o,c]=(0,r.useState)(!1);return(0,l.useFacetEffect)(((e,t)=>{if(!e&&o)return((e,t)=>{let a=!1;const n=setTimeout((()=>{a=!0,e()}),t);return()=>{clearTimeout(n),a||e()}})((()=>n.goBack()),t?275:0);e&&c(!0)}),[n,o,c],[t,a]),null},F5=()=>r.createElement(y5,null,(({openFriendsDrawer:e,isFriendsDrawerOpen:t})=>r.createElement(v5,{open:e,isOpen:t}))),y5=({children:e})=>Rd(zb)?r.createElement(AN,{children:e,routeScheme:VT.FriendsDrawerRoute,screenAnalyticsId:"SocialDrawer"}):r.createElement(LN,{children:e,screenAnalyticsId:"FriendsDrawer"});function S5(){const e=h(),{t}=ws("ConnectionErrorRoute.server"),a=p(),n=(0,l.useFacetMap)((e=>{var a,n;return null!==(a=t(".disconnectedFrom",[null!==(n=e.get("serverName"))&&void 0!==n?n:""]))&&void 0!==a?a:""}),[t],[e]),o=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("serverMessage"))&&void 0!==t?t:""}),[],[e]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("errorDetails"))&&void 0!==t?t:""}),[],[e]),i=(0,l.useFacetMap)((e=>null!=e&&""!=e),[],[c]),s=(0,l.useFacetCallback)(((e,t)=>()=>{const n=`/disconnected/details?errorDetails=${encodeURIComponent(e)}&serverMessage=${encodeURIComponent(t)}`;a.push(n)}),[a],[c,o]);return r.createElement(r.Fragment,null,r.createElement(aw.Wrapper,null,r.createElement(aw.Title,{children:n}),r.createElement(Vi,{size:4}),r.createElement(_r,{collection:Ox},r.createElement(C5,{description:o})),r.createElement(Vi,{size:2}),r.createElement(aw.ButtonsWrapper,null,r.createElement(aw.Button,{onClick:a.goBack},t(".backToMenu")),r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(aw.ButtonSpacer,null),r.createElement(aw.Button,{onClick:s},t(".showDetails")))))),r.createElement(Ed,{options:{button:j.B,inputLegend:t(".backToMenu")},onClick:a.goBack}))}function C5({description:e}){const t=Yr("neutral80");return r.createElement("div",{className:dl()(t.background.base,t.border.base,"f05e74674d91d07605b7","b889dc399feeb877e189")},r.createElement(Zi,{type:"captionLong",whiteSpace:"preWrap",variant:"dimmer",children:e}))}const M5=(0,l.sharedFacet)("vanilla.connectionErrorInfoFacet"),w5=a.p+"assets/connection_error-01bc20883b3a2f7e5fb3.png",k5=a.p+"assets/external_link-0e493f3fa9f4180781d0.png";function P5(){const e=h(),{t}=ws("ConnectionErrorRoute.standard"),a=(0,l.useSharedFacet)(M5),n=pt(),o=p(),c=(0,l.useFacetMap)((e=>{var t;return parseInt(null!==(t=e.get("reason"))&&void 0!==t?t:"0",10)}),[],[e]),i=(0,l.useFacetMap)(((e,t)=>t.getConnectionErrorInfo(e)),[],[c,a]),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("titleMessage"))&&void 0!==t?t:""}),[],[e]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("errorMessage"))&&void 0!==t?t:""}),[],[e]),d=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("codeword"))&&void 0!==t?t:""}),[],[e]),m=(0,l.useFacetMap)((e=>""!=e),[],[d]),f=(0,l.useFacetMap)((e=>t(".codewordHelp",[null!=e?e:""])),[t],[d]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("errorDetails"))&&void 0!==t?t:""}),[],[e]),E=(0,l.useFacetMap)((e=>null!=e&&""!=e),[],[g]),b=(0,l.useFacetCallback)(((e,t)=>()=>{let a=`/disconnected/details?errorDetails=${encodeURIComponent(t)}`;e&&(a+=`&codeword=${encodeURIComponent(e)}`),o.push(a)}),[o],[d,g]),v=(0,l.useFacetMap)(((e,t)=>e.hasLearnMoreLink&&LI(t)),[],[i,n]),F=(0,l.useFacetCallback)(((e,t)=>()=>{t.openLearnMoreLink(e)}),[],[c,a]),y=Nw({wide:8,narrow:6,width:260}),S=(0,l.useFacetMap)((e=>e?"f0aefc648a5770c85ac4":"dd89a2c3c41af82cd928"),[],[y]);return r.createElement(r.Fragment,null,r.createElement(aw.Wrapper,null,r.createElement(aw.Title,{children:s}),r.createElement("fast-div",{"data-testid":"standard-error-image-test-id"},r.createElement(aw.Image,{imgClass:S,imgSrc:w5})),r.createElement(aw.Text,{children:u}),r.createElement(l.Mount,{when:m},r.createElement(r.Fragment,null,r.createElement(Vi,{size:5}),r.createElement(aw.Text,{children:f}))),r.createElement(aw.ButtonsWrapper,null,r.createElement(aw.Button,{onClick:o.goBack},t(".backToMenu")),r.createElement(l.Mount,{when:E},r.createElement(r.Fragment,null,r.createElement(aw.ButtonSpacer,null),r.createElement(aw.Button,{onClick:b},t(".showDetails")))),r.createElement(l.Mount,{when:v},r.createElement(r.Fragment,null,r.createElement(aw.ButtonSpacer,null),r.createElement(aw.Button,{imgSrc:k5,variant:"primary",onClick:F},t(".learnMore")))))),r.createElement(Ed,{options:{button:j.B,inputLegend:t(".backToMenu")},onClick:o.goBack}))}function T5(){const e=h(),t=(0,l.useFacetMap)((e=>e.has("serverMessage")),[],[e]);return r.createElement(ay,null,r.createElement(zM,null,r.createElement(zM.Row,{className:"cf7ecb955d169ed6c99f"},r.createElement(zM.Column,{wideSize:1,narrowSize:0}),r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(l.Unwrap,{data:t},(e=>e?r.createElement(S5,null):r.createElement(P5,null)))),r.createElement(zM.Column,{wideSize:1,narrowSize:0}))))}const I5="ad1fbd008c04e04a5b25",x5="ac28ea4106c626c6e238";function O5(){const{t:e}=ws("ConnectionErrorRoute.details"),t=h(),a=Yr("neutral80"),n=Yr("neutral"),o=(0,l.useFacetMap)((e=>e.has("serverMessage")),[],[t]),c=(0,l.useFacetMap)((t=>{var a;return e(".fromServer",[null!==(a=t.get("serverName"))&&void 0!==a?a:""])}),[e],[t]),i=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("codeword"))&&void 0!==t?t:""}),[],[t]),s=(0,l.useFacetMap)(((e,t)=>""!=e&&!t),[],[i,o]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.get("errorDetails"))&&void 0!==t?t:""}),[],[t]),d=(0,l.useFacetMap)((t=>{var a;return null!==(a=t.get("serverMessage"))&&void 0!==a?a:e(".errorDetailsHelp")}),[e],[t]);return r.createElement(ZN,{gamepadAlias:"error-details",screenAnalyticsId:"CommunicationErrorDetails",title:e(".header")},(()=>r.createElement(zM,null,r.createElement(zM.Row,{className:"bf3a8aab74e224f66d7d"},r.createElement("div",{className:"bfb876fb09bb6f82bd65"},r.createElement(zM.Column,{wideSize:5,narrowSize:0},r.createElement(l.Mount,{when:o},r.createElement(aP,{role:"informativeTint",label:c})),r.createElement("div",{className:dl()(a.background.base,a.border.base,x5,I5)},r.createElement(Vi,{size:4}),r.createElement("div",null,r.createElement(l.Mount,{when:s},r.createElement(r.Fragment,null,r.createElement("div",{className:dl()(a.border.base,x5,n.background.base)},r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"body",align:"center",children:i}),r.createElement(Vi,{size:2})),r.createElement(Vi,{size:2}),r.createElement(Zi,{variant:"dimmer",type:"paragraphs",children:e(".codewordDetailsHelp")}),r.createElement(Vi,{size:2}))),r.createElement(Zi,{variant:"dimmest",type:"paragraphs",children:d,whiteSpace:"preWrap"})),r.createElement(Vi,{size:4}))),r.createElement(zM.Column,{wideSize:7,narrowSize:8},r.createElement("div",{className:dl()(a.background.base,a.border.base,x5,I5)},r.createElement(Zi,{children:u,type:"captionLong",whiteSpace:"preWrap"}))))))))}const A5="bf34fed5b5baf36da417";function N5({tabs:e,gamepadAliasNamespace:t,value:a,onChange:n,narrationTitle:o,enableGamepadShortcuts:c,onTabHoveredSoundEffect:i,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=ws("TabBar"),f=(0,r.useRef)(null),g=(0,l.useFacetWrap)(null!=c&&c),E=(0,l.useFacetWrap)(e),b=(0,l.useFacetMap)((e=>e.length),[],[E]),h=(0,l.useFacetWrap)(a),v=(0,l.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,l.useFacetWrap)(o)]),F=Qr(d),y=An(),S=(0,l.useFacetCallback)(((e,t)=>(a,r)=>{if(t===a)return;const l=null!=e?e:F.toggle;null!=l&&y(l),n(a,r)}),[n,F.toggle,y],[(0,l.useFacetWrap)(s),h]);return r.createElement(bd,{text:v},r.createElement("div",{ref:f,className:"d5e62977d5a4efd93a15"},r.createElement(l.Map,{array:E},((e,a)=>r.createElement(L5,{gamepadAliasNamespace:t,key:`tab_${a}`,index:a,length:b,tab:e,selectedTab:h,onChange:S,onTabHoveredSoundEffect:i,isCondensed:u,badgeRole:m}))),r.createElement(l.Mount,{when:g},r.createElement(R5,{value:h,onChange:S,tabs:E}))))}const R5=function({value:e,tabs:t,onChange:a}){var n;const o=ot(),c=(0,l.useFacetWrap)(null!==(n=Nk())&&void 0!==n&&n),i=(0,l.useFacetCallback)((e=>t=>e[t].value),[],[t]),s=(0,l.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[t]),u=(0,l.useFacetMap)((e=>s(e)),[s],[e]),d=(0,l.useFacetCallback)((e=>()=>{const t=e-1;if(t>-1){const e=i(t);e!==l.NO_VALUE&&a(e,!0)}}),[i,a],[u]),m=(0,l.useFacetCallback)(((e,t)=>()=>{const n=t+1;if(n<e.length){const e=i(n);e!==l.NO_VALUE&&a(e,!0)}}),[i,a],[t,u]),p=$m.useIsAnyModalVisible(),f=(0,l.useFacetMap)(((e,t)=>({button:j.LEFT_BUMPER,disabled:e||t})),[],[p,c]),g=(0,l.useFacetMap)(((e,t)=>({button:j.RIGHT_BUMPER,disabled:e||t})),[],[p,c]);return r.createElement(l.Mount,{when:o},r.createElement(r.Fragment,null,r.createElement(Ed,{options:f,onClick:d}),r.createElement(Ed,{options:g,onClick:m}),r.createElement("div",{className:"d6a37da29d567fde0b49"},r.createElement(Lm.Icon,{button:j.LEFT_BUMPER})),r.createElement("div",{className:"fd41627f2d5bdd7f8cac"},r.createElement(Lm.Icon,{button:j.RIGHT_BUMPER}))))};function L5({gamepadAliasNamespace:e,selectedTab:t,onChange:a,index:n,length:o,tab:c,onTabHoveredSoundEffect:i,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=ws("TabBar"),{narrateText:f}=sd(),g=Yr(d),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[c]),b=(0,l.useFacetMap)(((e,t)=>e===t.value),[],[t,c]),h=(0,l.useFacetMap)((e=>!e),[],[b]),v=(0,l.useFacetMap)(((e,t,a)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${n+1}`,`${a}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>null!=e)).join(" . ")),[n,p],[c,b,o]),F=(0,l.useFacetMap)((e=>dl()("d450fa8976c8da24fb8c",{c6d539f79d54bd07ac6f:u,[A5]:e})),[u],[b]),y=(0,l.useFacetCallback)((e=>()=>{f(p(".selected")),a(e.value,!1)}),[f,a,p],[c]),S=(0,l.useFacetMap)((t=>D5(e,t.value)),[e],[c]),C=(0,l.useFacetMap)((e=>!e&&p(".open")),[p],[b]),M=(0,l.useFacetMap)(((e,t)=>{var a;return null===(a=e.icons)||void 0===a?void 0:a[t?"selected":"unselected"]}),[],[c,b]),w=(0,l.useFacetMap)((e=>null!=e.badge),[],[c]),k=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[c]),P=(0,l.useFacetMap)((e=>dl()("cf2b24397b5299eaacf4",e?"a5e361f58e6dd2d0f340":null)),[],[w]),T=(0,l.useFacetMap)((e=>e.label),[],[c]);return r.createElement(Wi,{className:F,classNameFocused:"edad1e6828925bfd551b",classNamePressed:A5,classNameHovered:"f829fe742a82bfafedb3",onClick:y,gamepadAlias:S,inputLegend:C,soundEffectHovered:i,soundEffectPressed:s,narrationText:v,"data-testid":E},r.createElement("fast-div",{className:P},r.createElement(Zi,{type:"body",role:d,verticalAlign:"center",disableable:b,interactive:h},r.createElement(l.Unwrap,{data:M},(e=>null!=e?r.createElement(r.Fragment,null,e,r.createElement(Vi,{size:2})):null)),r.createElement(ji,null,T)),r.createElement(l.Mount,{when:w},r.createElement("div",{className:"cba87105ab9e85984a5a"},r.createElement(Vi,{size:2}),r.createElement(Lk,{role:m},k)))),r.createElement(l.Mount,{when:b},r.createElement("div",{className:dl()("f4dcc17cf5bbf89c982f",g.icon.base)})))}function D5(e,t){return`tab-bar-${e}-${t}`}N5.getFocusAlias=D5;const _5=a.p+"assets/UI_Menu_ServerTab-e7c3c035b7d6ba5a414b.png",B5=a.p+"assets/UI_Menu_RealmsTab-c7419af9abd527149fcc.png",W5=a.p+"assets/UI_Menu_WorldsTab-dfd408c83c4cf07814b8.png",U5=a.p+"assets/UI_Menu_WorldsTab_Alt01-1d8f1ecac14db3fa1dd8.png",z5=a.p+"assets/UI_Menu_WorldsTab_Alt02-cc2f9c3073f4f3fcc5d2.png",j5=a.p+"assets/Realms_Default_Thumbnail_3840-998f353288f2319bc09b.jpg",H5="f3dd48a2b9eca357da6f",G5="e54f894bc4bab15c2fc9";function V5(e){switch(e){case Qv.ADVENTURE:return".adventure";case Qv.SURVIVAL:return".survival";case Qv.CREATIVE:return".creative";default:return".unknown"}}let $5;!function(e){e.REALMS_INFORMATION="realms-information-focus-alias",e.REALMS_PLAY_BUTTON="realms-play-button-focus-alias"}($5||($5={}));const X5=a.p+"assets/enter-icon-31b5adba97b53cfb1d79.png";function K5(){return K5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K5.apply(null,arguments)}const Y5=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("ba82cb533049b5161e88",t);return r.createElement(pu,K5({},a,{className:n,src:X5,imageRendering:"pixelated"}))},q5="realmsLeaveRealmModalCancel",Q5=As((({realmName:e,onClose:t,onLeaveRealm:a})=>{const{t:n}=ws("PlayScreen.realmsTab.realmsLeaveRealmModal"),o=(0,l.useFacetMap)((e=>n(".description",[e])),[n],[(0,l.useFacetWrap)(null!=e?e:"")]),c=(0,r.useCallback)((()=>{t(),a()}),[t,a]);return r.createElement($m,{defaultFocusAlias:q5},r.createElement($m.Header,null,n(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o},o)),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{gamepadAlias:q5,inputLegend:n(".cancelAction"),horizontal:!0,onClick:t},n(".cancelAction")),r.createElement(Vi,{size:4}),r.createElement(lm,{onClick:c,inputLegend:n(".leaveRealmAction"),variant:"destructive",horizontal:!0,"data-testid":"confirm-leave-realm-button"},n(".leaveRealmAction"))))})),J5="realmsLeaveRealErrormModalClose",Z5=As((({onClose:e})=>{const{t}=ws("PlayScreen.realmsTab.realmsLeaveRealmErrorModal");return r.createElement($m,{defaultFocusAlias:J5},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".description"),center:!0},t(".description"))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"secondary",inputLegend:t(".closeAction"),onClick:e,gamepadAlias:J5},t(".closeAction"))))})),e4={wrapper:"c23abfe9d7e7e14e2c2f",right:"b1f4669f63de38c63a75",additionalPlayers:"b7707f3862cbc161156e",transitionLoadingOpacity:"c9d2eee29f1f3dff930a",animateOpacity:"d549550730783594a8a9",retriggeredAnimateOpacity:"e32030947eed41ef6218",hiddenContent:"f088ce60119117a71812",content:"aa2df2382243b8d0121d"},t4=(0,r.createContext)(null);function a4({full:e,amountOfPlayersOnline:t,visibleAvatarsOverride:a,playerAvatars:n,hideOnCollapse:o=!1,loading:c=(0,l.createFacet)({initialValue:!1}),worldId:i,alignment:s="left"}){const{t:u}=ws("PlayerAvatarsOnlineInWorld"),d=(0,l.useFacetWrap)(null!=n?n:[]),m=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,l.useFacetMap)((({width:e})=>e),[],[_c(m)]),g=(0,l.useFacetMap)((({width:e})=>e),[],[_c(p)]),E=yc(Uy.VARIANT_SIZES.medium),b=(0,r.useContext)(t4),h=(0,l.useFacetMemo)(((e,t,a)=>{const n=Math.ceil(e),r=(null!=b?b:Math.ceil(t))-(2*n+a);return Math.max(Math.floor(r/e),0)}),[b],[E,f,g]),v=(0,l.useFacetMap)(((e,t)=>null!=a?e.slice(0,a):e.slice(0,t)),[a],[d,h]),F=(0,l.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a}){if(null!=a){if(e>0&&e>a&&0!=a)return"+"+(e-a);if(e===a)return""}else if(e>0&&e>t&&0!=t)return"+"+(e-t);return e===t||0===e?"":`${e}`}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a})),[a],[t,h]),y=(0,l.useFacetMap)(((e,t)=>null!=t&&null!=e&&0!=e.length),[],[v,F]),S=(0,l.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a,hideOnCollapse:n=!1}){return(!n||0!==t)&&e!==a&&e!==t&&(!n&&0!=e&&0===t||(null!=a?0!==a&&e>a:null==a&&0!==t&&e>t))}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a,hideOnCollapse:o})),[a,o],[t,h]),C=(0,l.useFacetMap)(((e,t)=>null!=a?0!=a&&e:e&&0!=t),[a],[c,h]);return r.createElement("div",{className:dl()(e4.wrapper,{[e4.right]:"right"===s}),ref:m},r.createElement("fast-div",{key:i,className:(0,l.useFacetMap)(((e,t)=>dl()(e4.content,e4.animateOpacity,{[e4.hiddenContent]:e,[e4.transitionLoadingOpacity]:t})),[],[c,Oo()])},r.createElement(l.Mount,{when:y},r.createElement(l.Unwrap,{data:v},(e=>r.createElement(r.Fragment,null,e.map(((t,a)=>r.createElement(r.Fragment,{key:`${t.id}`},r.createElement(Uy,{variant:"medium",src:t.img,statusBadge:"online"}),a<e.length-1&&r.createElement(Vi,{size:1})))))))),r.createElement(l.Mount,{when:S},r.createElement("div",{className:e4.additionalPlayers},r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort"},F))),r.createElement("div",{className:e4.tagWrapper,ref:p},r.createElement(l.Mount,{when:(0,l.useFacetWrap)(null!=e&&e)},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(rk,{role:"destructiveTint"},u(".full")))))),r.createElement(l.Mount,{when:C},r.createElement(id,null)))}const n4="b7aab687d924b9351a26",r4="ca117a547bce1317be50";function l4({amountOfPlayersOnline:e,maxPlayers:t,realmId:a,realmOwner:n,realmOwnerName:o,playersOnlineIds:c}){const{t:i}=ws("PlayScreen.realmsTab"),{border:s}=Yr("neutral"),u=(0,l.useFacetMap)(((e,t)=>!e&&t.length>0?i(".playersOnline.realmOwner",[t]):i(".playersOnline")),[i],[(0,l.useFacetWrap)(null==n||n),(0,l.useFacetWrap)(null!=o?o:"")]),d=(0,l.useFacetMap)(((e,t)=>`${e}/${t}`),[],[e,t]),m=(0,l.useSharedFacet)(xh),p=(0,r.useRef)(null),f=(0,r.useRef)(null),g=(0,l.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[m]);(0,l.useFacetEffect)((e=>{e.map((e=>{g(e.xuid)}))}),[g],[c]);const E=DO(c),b=(0,l.useFacetMap)((e=>null==e||0===e.length?[]:e.map((e=>null!=e?""!==e.data.xblProfilePic?{img:e.data.xblProfilePic,id:e.data.xuid}:""!==e.data.platformProfilePic?{img:e.data.platformProfilePic,id:e.data.platformId}:{img:"",id:e.data.xuid}:{img:"",id:`placeholder_${Math.random()}`})).filter((e=>null!=e))),[],[E]),h=(0,l.useFacetMap)((e=>null!=e&&0!==e.length&&e.map((e=>null!=e&&null!=e.data.xuid&&e.state.xblState===Th.Loading)).some((e=>e))),[],[E]),v=(0,l.useFacetMap)((e=>!e),[],[h]),F=Rw(v,1e4),y=(0,l.useFacetMap)(((e,t,a)=>e&&null!=a&&a.length>0?"avatars":0===a.length||t?"no-avatars":"loading"),[],[v,F,b]),S=(0,l.useFacetMap)((e=>"loading"===e),[],[y]);return r.createElement("div",{ref:p,className:dl()(s.base,"e0660ad6f6ec51639978")},r.createElement("div",{className:"eb16d8d5a9f498457336",ref:f},r.createElement(Zi,{type:"body"},u),r.createElement(Vi,{size:4}),r.createElement(l.Unwrap,{data:e},(e=>r.createElement(r.Fragment,null,r.createElement("div",{className:dl()(n4,{[r4]:e})},r.createElement(zq,{variant:"dimmer"})),r.createElement("div",{className:dl()(n4,{[r4]:!e})},r.createElement(LM.Player,{role:"neutral",variant:"dimmer",width:24,height:24}))))),r.createElement(Vi,{size:3}),r.createElement(Zi,{type:"body",variant:"dimmer"},d),r.createElement(Vi,{size:3})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>"no-avatars"!=e),[],[y])},r.createElement(l.Unwrap,{data:a},(t=>r.createElement("div",{className:"aeb45c04a055dbd47105"},r.createElement(a4,{alignment:"right",worldId:t,hideOnCollapse:!0,loading:S,amountOfPlayersOnline:e,playerAvatars:b}))))))}function o4(){const e=p(),{t}=ws("ClaimPreviewOrBetaRealmBanner"),a=(0,l.useFacetMap)((e=>e.isBetaBuild?t(".text.beta"):t(".text.preview")),[t],[(0,l.useSharedFacet)(cb)]);return r.createElement(_r,{collection:Ix},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,a),r.createElement(xO.Link,{"data-testId":"realms-tab-claim-preview-realm-banner-link",onClick:()=>e.push("/realms-choose-realm/realm-subscriptions")},t(".link"))))}function c4(){return c4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c4.apply(null,arguments)}function i4(e){let{children:t,imgSrc:a,Icon:n,linebreak:o=!1,disabledTextOverride:c,disabled:i,variant:s="secondary",narrationPrefix:u,showBadge:d=!0,badgeRole:m,badgeCount:p,badgeOverflowCount:f}=e,g=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix","showBadge","badgeRole","badgeCount","badgeOverflowCount"]);const E=(0,l.useFacetWrap)(i),b=(0,l.useFacetMap)((e=>"hero"===s&&!e),[s],[E]),h="hero"===s?"primary":s,v=(0,l.useFacetWrap)(d);return r.createElement(nm,c4({disabled:i,variant:s,narrationPrefix:null!=u?u:t},g),r.createElement(r.Fragment,null,r.createElement(rm,{buttonVariant:s,imgSrc:a,Icon:n,linebreak:o,disabledTextOverride:c,role:h,hasShadow:b},t),r.createElement(l.Mount,{when:v},r.createElement("div",{className:"c4e8da069d2f2f556d32"},r.createElement(Lk,{role:m,overflowCount:f},p)))))}function s4({realmId:e}){const t=p(),a=JT(),{t:n}=ws("Realms.RealmsHub"),o=(0,l.useFacetCallback)((e=>()=>{a({button:"Realms Hub",screen:"RealmsTabContent",details:{realmId:e}}),t.push(`/realms/${e}/hub`)}),[t,a],[e]);return r.createElement(lm,{onClick:o,"data-testid":"realms-hub-entry-button",inputLegend:"Action",variant:"secondary",Icon:LM.RealmsStories},n(".RealmHub"))}let u4;function d4({isRealmOwner:e,expired:t,closed:a,full:n}){return(0,l.useFacetMap)(((e,t,a,n)=>t||a||n?t&&e?u4.Renew:a&&e?u4.ReOpen:n&&e?u4.Play:u4.PlayDisabled:u4.Play),[],[(0,l.useFacetWrap)(e),t,a,(0,l.useFacetWrap)(n)])}function m4({realmId:e}){return(0,l.useFacetMap)(((e,t)=>{if(e.state===Jh.DONE&&""!=t){var a;const n=null===(a=e.subscriptions)||void 0===a?void 0:a.find((e=>e.realmId===t));if(null!=n)return n.subscriptionId}return""}),[],[(0,l.useSharedFacet)(Zh),e])}function p4(){const e=(0,l.useFacetMap)((e=>TI(e.platform)||xI(e.platform)),[],[(0,l.useSharedFacet)(_l)]);return(0,l.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)||t&&!e.hasPremiumNetworkAccess),[],[(0,l.useSharedFacet)(FF),e])}!function(e){e[e.PlayDisabled=0]="PlayDisabled",e[e.Play=1]="Play",e[e.Renew=2]="Renew",e[e.ReOpen=3]="ReOpen"}(u4||(u4={}));const f4=({joinRealmWorldCallback:e,playButtonAlias:t,buttonSuffixNarration:a,disabled:n=!1})=>{const{t:o}=ws("PlayScreen.realmsTab"),c=p4(),i=KI.useModal(),s=(0,l.useFacetMap)((e=>e||n),[n],[c]),u=(0,l.useFacetCallback)((t=>()=>{t.onlyCellularAvailable&&t.showCellularDataFee?i.show():e()}),[e,i],[(0,l.useSharedFacet)(_l)]),d=(0,l.useFacetCallback)((t=>()=>{t.useMobileDataOnce=!0,e()}),[e],[(0,l.useSharedFacet)(fh)]);return r.createElement(r.Fragment,null,r.createElement(lm,{gamepadAlias:t,"data-testid":"play-realm-button",inputLegend:o(".play"),variant:"hero",delayedClick:!0,onClick:u,narrationSuffix:a,disabled:s},o(".play")),r.createElement(l.Mount,{when:i.isVisible},r.createElement(KI.Component,{onClose:i.hide,joinServer:d})))},g4="renewRealmsInPreviewModalCancel",E4=As((({onClose:e})=>{const{t}=ws("PlayScreen.realmsTab.renewRealmsInPreviewModal");return r.createElement($m,{defaultFocusAlias:g4},r.createElement($m.Header,null,t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".description")},t(".description"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{"data-testid":"close",gamepadAlias:g4,inputLegend:t(".closeAction"),horizontal:!0,onClick:e},t(".closeAction"))))})),b4="renewRealmsMissingSubscriptionIdModal",h4=As((({onClose:e,onRenew:t,realmId:a})=>{const{t:n}=ws("PlayScreen.realmsTab.renewRealmsMissingSubscriptionIdModal"),o=(0,l.useSharedFacet)(Zh),c=(0,l.useFacetCallback)((e=>()=>{e.reset(),e.initialize()}),[],[(0,l.useSharedFacet)(ev)]),i=(0,l.useFacetMap)((e=>e.state===Jh.LOADING),[],[o]);return(0,l.useFacetEffect)(((a,n)=>{if(a.state===Jh.DONE&&""!=n){var r;const l=null===(r=a.subscriptions)||void 0===r?void 0:r.find((e=>e.realmId===n));null!=l&&(t(l.subscriptionId),e())}}),[e,t],[o,a]),r.createElement($m,{defaultFocusAlias:b4},r.createElement($m.Header,{onClose:e},n(".title")),r.createElement(l.Unwrap,{data:i},(e=>e?r.createElement($m.Content,null,r.createElement($m.Spinner,null)):r.createElement(r.Fragment,null,r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".description")},n(".description"))),r.createElement($m.Buttons,{horizontal:!0},r.createElement(lm,{"data-testid":"renew-try-again",gamepadAlias:b4,inputLegend:n(".tryAgain"),horizontal:!0,onClick:c},n(".tryAgain")))))))})),v4=({renewRealmCallback:e,playButtonAlias:t,buttonSuffixNarration:a,realmId:n})=>{const{t:o}=ws("PlayScreen.realmsTab"),c=p4(),i=m4({realmId:n}),s=E4.useModal(),u=h4.useModal(),d=(0,l.useFacetCallback)(((t,a)=>()=>{t.isAnyBeta?s.show():""==a?u.show():e()}),[s,u,e],[(0,l.useSharedFacet)(cb),i]);return r.createElement(r.Fragment,null,r.createElement(lm,{gamepadAlias:t,"data-testid":"renew-realm-button",inputLegend:o(".renew"),variant:"primary",delayedClick:!0,onClick:d,narrationSuffix:a,disabled:c},o(".renew")),r.createElement(l.Mount,{when:s.isVisible},r.createElement(E4.Component,{onClose:s.hide})),r.createElement(l.Mount,{when:u.isVisible},r.createElement(h4.Component,{onClose:u.hide,onRenew:e,realmId:n})))},F4=({reOpenRealmCallback:e,playButtonAlias:t,buttonSuffixNarration:a})=>{const{t:n}=ws("PlayScreen.realmsTab"),l=p4();return r.createElement(lm,{gamepadAlias:t,"data-testid":"reopen-realm-button",inputLegend:n(".reOpen"),variant:"primary",delayedClick:!0,onClick:e,narrationSuffix:a,disabled:l},n(".reOpen"))},y4=a.p+"assets/generic-error-art-8fa35da1a2442a3b4db5.png";function S4({context:e}){const{t}=ws(`PlayScreen.genericError.${e}`),a=t(".title"),n=t(".description"),o=Nw({wide:8,narrow:6,width:256}),c=(0,l.useFacetMap)((e=>e?"ceaa12cb459fb2fdd4d9":"e7eb9f90342e7a4d3bb5"),[],[o]);return r.createElement(r.Fragment,null,r.createElement(aw,{title:a,text:n,imgSrc:y4,imgClass:c}),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}const C4=r.createContext({isRealmOwner:(0,l.createFacet)({initialValue:!1}),expired:(0,l.createFacet)({initialValue:!1}),closed:(0,l.createFacet)({initialValue:!1}),full:(0,l.createFacet)({initialValue:!1}),maxPlayers:(0,l.createFacet)({initialValue:0}),realmId:(0,l.createFacet)({initialValue:""}),realmName:(0,l.createFacet)({initialValue:""}),realmOwnerName:(0,l.createFacet)({initialValue:""}),areStoriesNotificationsEnabled:(0,l.createFacet)({initialValue:!1}),storiesUnreadCount:(0,l.createFacet)({initialValue:0}),lastPlayed:(0,l.createFacet)({initialValue:""}),slotName:(0,l.createFacet)({initialValue:""})});function M4({loading:e}){const{t,f:a}=ws("PlayScreen.realmsTab"),n=JT(),o=Yr("neutral80"),c=g(),i=(0,l.useSharedFacet)(dh),s=(0,l.useSharedFacet)(pv),u=(0,l.useFacetMap)(((e,t)=>{var a;return null===(a=e.realms)||void 0===a?void 0:a.find((e=>`${e.world.id}`===t.id))}),[],[s,c]),d=(0,l.useFacetMap)((e=>e),[],[(0,l.useFacetWrap)(null!=e&&e)]),m=(0,l.useFacetMap)((e=>null!=e?"defined":"undefined"),[],[u]),f=(0,l.useFacetMap)((e=>null!=e?e.world.id.toString():""),[],[u]),E=(0,l.useFacetMap)((e=>null!=e?e.world.realmName:""),[],[u]),b=(0,l.useFacetMap)((e=>null!=e?e.world.slotName:""),[],[u]),h=(0,l.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.expired),[],[u]),v=(0,l.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.closed),[],[u]),F=(0,l.useFacetMap)((e=>null!=e&&e.isOwner),[],[u]),y=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.ownerXuid)&&void 0!==t?t:""}),[],[u]),S=(0,l.useFacetMap)(((e,t)=>{if(null!=e){if(t)return!1;if(null!=e.world)return e.world.full}return!1}),[],[u,F]),C=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.description)&&void 0!==t?t:"-"}),[],[u]),M=(0,l.useFacetMap)((e=>{var t;return null!=e&&""!=(null===(t=e.world)||void 0===t?void 0:t.description)}),[],[u]),{profileName:w}=NO({ownerId:y}),k=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.areStoriesNotificationsEnabled)&&void 0!==t&&t}),[],[u]),P=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.unreadStoryCount)&&void 0!==t?t:0}),[],[u]),T=(0,l.useFacetMap)((e=>null!=e&&null!=e.world.maxPlayers?e.world.maxPlayers:0),[],[u]),I=(0,l.useFacetMap)((e=>function(e,t){const a=[];for(let e=0;e<t.length;e++)a.push(t[e]);return a}(0,null!=e&&null!=e.world.onlinePlayers?e.world.onlinePlayers:[])),[],[u]),x=(0,l.useFacetMap)(((e,t)=>{{const a=null==t||null==t.world.ownerXuid?"":t.world.ownerXuid;return e.filter((e=>e.xuid!==a)).length}}),[],[I,u]),O=(0,l.useFacetMap)(((e,t)=>!t&&!e),[],[h,v]),A=(0,l.useFacetMap)((e=>0===e.length?[]:e.map((e=>({xuid:e.xuid,platformId:""})))),[],[I]),N=(0,l.useFacetMap)((e=>null!=e&&null!=e.world.lastSaved?a.getHowLongAgoAsString(e.world.lastSaved):"-"),[a],[u]),R=Q5.useModal(),L=Z5.useModal(),D=(0,l.useSharedFacet)(sh),_=(0,l.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult!==ch.Ok&&e.joinRealmResult!==ch.TimelineRequired&&e.joinRealmResult!==ch.InvalidCrossPlatformMultiplayerSkin),[],[D]),B=(0,l.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult===ch.InvalidCrossPlatformMultiplayerSkin),[],[D]),W=(0,l.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[D]),U=(0,l.useSharedFacet)(cv),z=(0,l.useFacetMap)((e=>e.leaveRealmProgress),[],[U]),j=(0,l.useFacetMap)((e=>e==HI.RUNNING),[],[z]),H=p(),G=VI(((e,a,r,l,o)=>function*(){if(""===l)return;n({screen:"RealmsTabContent",button:"LeaveRealm",details:{realmId:l}});const c=function(e,t){const a=1===e.realms.length,n=e.realms[0].world.id===Number(t);return a?"":n?e.realms[1].world.id.toString():e.realms[0].world.id.toString()}(e,l);a.clearLeaveRealm(),a.leaveRealm(Number(l)),yield z,a.leaveRealmResult===ov.Success?(r.queueSnackbar(t(".leaveRealmNotification",[o])),H.replace(`/play/realms/${c}`)):a.leaveRealmResult!==ov.Unknown&&L.show()}),[z,H,L,n,t],[s,U,i,f,E]),V=(0,l.useSharedFacet)(sb),$=function(e,t,a){const{t:n}=ws("RealmTag");return(0,l.useFacetMap)(((e,t)=>{const a=[];return null==e?[]:(e.isOwner?a.push({label:n(t?".previewRealmOwner":".realmOwner"),role:"primaryTint"}):a.push({label:n(t?".invitedToPreviewRealm":".invitedToRealm"),role:"primaryTint"}),e.world.isHardcore?a.push({label:n(".hardcore"),role:"destructiveTint"}):null!=e.world.gameMode&&a.push({label:n(V5(e.world.gameMode)),role:"neutral100"}),a)}),[n,true],[e,t])}(u,V),X=Vu(),K=(0,l.useFacetMap)((e=>X||e),[X],[d]),Y=(0,l.useFacetUnwrap)(Oo()),q=Sc(),Q=(0,r.useMemo)((()=>({isRealmOwner:F,expired:h,closed:v,full:S,maxPlayers:T,realmId:f,realmName:E,realmOwnerName:w,areStoriesNotificationsEnabled:k,storiesUnreadCount:P,lastPlayed:N,slotName:b})),[F,h,v,S,T,f,E,w,k,P,N,b]),J=(0,l.useFacetMap)(((e,t)=>dl()({ac20d36f9f29fd89c457:e||t})),[],[v,h]),Z=(0,l.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[V,(0,l.useSharedFacet)(gF)]),ee=(0,l.useFacetMap)((e=>[t(".realmsDescription"),e].join(" . ")),[t],[C]),te=(0,l.useFacetMap)(((e,t)=>e&&!t),[],[v,h]);return r.createElement(C4.Provider,{value:Q},r.createElement(ud,{alwaysVisibleChildren:r.createElement(Vi,{size:"narrow"===q?1:2}),floating:"desktop"!==q,loading:K,delegateFocusFromMemory:!0,spinnerBackgroundColor:!0===Y?void 0:"#48494A"},r.createElement(l.Mount,{when:Z},r.createElement(r.Fragment,null,r.createElement(o4,null),r.createElement(Vi,{size:2}))),r.createElement(l.Unwrap,{data:m},(e=>"defined"===e?r.createElement("div",{className:dl()("fb5a0c4277c505c49a94",o.background.base,o.border.base)},r.createElement(_r,{collection:xx},r.createElement(l.Mount,{when:h},r.createElement("div",{className:H5},r.createElement(xO,{role:"destructiveTint"},r.createElement(xO.Text,null,t(".bannerExpired"))))),r.createElement(l.Mount,{when:te},r.createElement("div",{className:H5},r.createElement(xO,{role:"destructiveTint"},r.createElement(xO.Text,null,t(".bannerClosed"))))),r.createElement(l.Mount,{when:S},r.createElement("div",{className:H5},r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".bannerFull"))))),r.createElement("div",{className:"a64224c88bf70d4c815e"},r.createElement(pu,{aspectRatio:pu.AspectRatio["10:3"],src:j5,className:J}),r.createElement(l.Mount,{when:O},r.createElement("div",{className:"d3ffe1c83309ca9a507f"},r.createElement(l4,{realmId:f,realmOwner:F,realmOwnerName:w,amountOfPlayersOnline:x,playersOnlineIds:A,maxPlayers:T})))),r.createElement(w4,{tags:$,onLeaveRealm:R.show}),r.createElement(l.Mount,{when:F},r.createElement(P4,null)),r.createElement(l.Mount,{when:_},r.createElement(ZK.Component,{worldId:f})),r.createElement(l.Mount,{when:B},r.createElement(tY.Component,{onClose:W,onChangeSkin:()=>{H.push("/persona")}})),r.createElement(l.Mount,{when:M},r.createElement(Ud,{focusable:!0,role:"neutral80",narrationText:ee},r.createElement(jd,null,t(".realmsDescription")),r.createElement(Vi,{size:2}),r.createElement(Hd,null,C))))):r.createElement(S4,{context:"realmDetails"}))),r.createElement(Vi,{size:"narrow"===q?1:2}),r.createElement(Vi,{size:"narrow"===q?1:2}),r.createElement(Lm.Space,null)),r.createElement(l.Mount,{when:j},r.createElement(Jw.Component,{title:t(".leaveRealmProgressMessage")})),r.createElement(l.Mount,{when:R.isVisible},r.createElement(Q5.Component,{onClose:R.hide,onLeaveRealm:G,realmName:E})),r.createElement(l.Mount,{when:L.isVisible},r.createElement(Z5.Component,{onClose:L.hide})))}function w4({tags:e,onLeaveRealm:t}){const{t:a}=ws("PlayScreen.realmsTab"),{t:n}=ws("PlayScreen.realmsTab.narration"),{realmName:o,slotName:c,lastPlayed:i,isRealmOwner:s}=(0,r.useContext)(C4),u=Sc(),d=(0,l.useFacetMap)((e=>e.map(((t,a)=>{const n=e.length>a;return null!=t.narrationString?n?t.narrationString+" . ":t.narrationString:n?t.label+" . ":t.label}))),[],[e]),{realmId:m}=(0,r.useContext)(C4),p=DB("realms_hub"),f=(0,l.useFacetMap)(((e,t,r,l)=>[n(".realmInformation"),e,t,r.join(" . "),a(".lastPlayed"),l].join(" . ")),[n,a],[o,c,d,i]);return r.createElement(Ud,{role:"neutral80",narrationText:f},r.createElement("div",{className:"da72abe8754cb9b6e06b"},r.createElement("div",{className:G5},r.createElement(jd,null,o),r.createElement(Vi,{size:2}),r.createElement(Hd,null,c),r.createElement(Vi,{size:2}),r.createElement(lk,{tags:e}),r.createElement(Vi,{size:2}),r.createElement("div",{className:"ac225e9e230c0d31b11d"},r.createElement(Zi,{type:"captionShort",variant:"dimmer"},a(".lastPlayed")),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort"},i))),r.createElement(Vi,{size:3}),r.createElement("div",{className:G5},r.createElement(k4,null),r.createElement(Vi,{size:2}),r.createElement(T4,null),r.createElement(l.Mount,{when:p},r.createElement(s4,{realmId:m})),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(lm,{inputLegend:a(".leaveRealm"),variant:"destructive",delayedClick:!0,onClick:t,narrationSuffix:[n(".buttonSiblings",["3","3"]),a(".options")].join(" . "),Icon:"narrow"!==u?Y5:void 0,"data-testid":"leave-realm-button"},a(".leaveRealm")))))))}function k4(){const{t:e}=ws("PlayScreen.realmsTab.narration"),{isRealmOwner:t,expired:a,closed:n,full:o,maxPlayers:c,realmId:i,realmName:s}=(0,r.useContext)(C4),u=p(),d=d4({isRealmOwner:t,expired:a,closed:n,full:o}),m=FH({worldId:i,screen:"RealmsTabContent",button:"PlayRealm",telemetryLocation:ih.PlayScreen}),f=(0,l.useFacetCallback)(((e,t)=>()=>{e.doNotShowMultiplayerOnlineSafetyWarning?m():u.push(`/online-play-warning/${lJ(Jv.Realm)}/${t}`)}),[m,u],[(0,l.useSharedFacet)(uh),i]),g=function({realmId:e,realmName:t,maxPlayers:a}){const n=p(),r=Rd(Ib),o=m4({realmId:e});return(0,l.useFacetCallback)(((e,t,a)=>()=>{let l=r?"/realms-purchase-subscription":"/realms-create-screen";l+=e>2?r?"/plus?":"?offerTier=10player&":r?"/core?":"?offerTier=2player&",l+=`realmName=${t}&subscriptionId=${a}`,n.push(l)}),[n,r],[a,t,o])}({realmId:i,realmName:s,maxPlayers:c}),E=(0,l.useFacetCallback)(((e,t)=>()=>{e.openRealm(parseInt(t))}),[],[(0,l.useSharedFacet)(GB),i]),b=(0,l.useFacetMap)((t=>e(".buttonSiblings",["1",t?"4":"3"])),[e],[t]);return r.createElement(l.Unwrap,{data:d},(e=>{switch(e){case u4.Play:return r.createElement(f4,{joinRealmWorldCallback:f,playButtonAlias:$5.REALMS_PLAY_BUTTON,buttonSuffixNarration:b});case u4.Renew:return r.createElement(v4,{renewRealmCallback:g,playButtonAlias:$5.REALMS_PLAY_BUTTON,realmId:i,buttonSuffixNarration:b});case u4.ReOpen:return r.createElement(F4,{reOpenRealmCallback:E,playButtonAlias:$5.REALMS_PLAY_BUTTON,buttonSuffixNarration:b});default:return r.createElement(f4,{joinRealmWorldCallback:()=>{},playButtonAlias:$5.REALMS_PLAY_BUTTON,disabled:!0,buttonSuffixNarration:b})}}))}function P4(){const{t:e}=ws("PlayScreen.realmsTab"),{t}=ws("PlayScreen.realmsTab.narration"),{realmId:a}=(0,r.useContext)(C4),n=p(),o=(0,l.useFacetCallback)((e=>()=>{n.push(`/settings/members/${e}`)}),[n],[a]),c=(0,l.useFacetCallback)((e=>()=>{n.push(`/realm-settings/${e}`)}),[n],[a]);return r.createElement(Ud,{role:"neutral80"},r.createElement("div",{className:"c87fe738b486fc8e2f01"},r.createElement(lm,{Icon:LM.AddPlayer,"data-testid":"realm-add-members-button",inputLegend:e(".addMembers"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:o,narrationSuffix:t(".buttonSiblings",["3","4"])},e(".addMembers")),r.createElement(Vi,{size:2}),r.createElement(lm,{Icon:LM.Settings,"data-testid":"realm-settings-button",inputLegend:e(".settings"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:c,narrationSuffix:t(".buttonSiblings",["4","4"])},e(".settings"))))}function T4(){const e=p(),t=JT(),{t:a}=ws("PlayScreen.realmsTab"),{t:n}=ws("PlayScreen.realmsTab.narration"),{realmId:o,areStoriesNotificationsEnabled:c,storiesUnreadCount:i,isRealmOwner:s}=(0,r.useContext)(C4),u=(0,l.useSharedFacet)(gv),d=(0,l.useFacetCallback)(((a,n)=>()=>{t({button:"Stories",screen:"RealmsTabContent",details:{realmId:a}}),n.clearRealmUnreadCount(a),e.push(`/realms-story-entry-route/feed/${a}`)}),[e,t],[o,u]),m=(0,l.useFacetMap)((e=>e>0),[],[i]),f=(0,l.useFacetMap)(((e,t)=>e&&t),[],[c,m]),g=(0,l.useFacetMap)(((e,t,a)=>{const r=[n(".buttonSiblings",["2",a?"4":"3"])];if(e){const e=1===t?n(".realmInformation.storiesUnreadBadgeCount.single"):n(".realmInformation.storiesUnreadBadgeCount.multiple",[`${t}`]);r.push(e)}return r.join(" . ")}),[n],[f,i,s]);return r.createElement(i4,{Icon:()=>r.createElement(l.Unwrap,{data:f},(e=>r.createElement(r.Fragment,null,e?r.createElement(LM.RealmsStoriesUnread,{role:"inherit",width:24,height:24}):r.createElement(LM.RealmsStories,{role:"inherit",width:24,height:24}),r.createElement(Vi,{size:1})))),inputLegend:a(".realmsStories"),variant:"secondary",delayedClick:!0,onClick:d,narrationSuffix:g,"data-testid":"realm-stories-button",showBadge:f,badgeRole:"neutral",badgeCount:i},a(".realmsStories"))}const I4=a.p+"assets/icon-info-5845df63b31a16736c15.png";function x4(){return x4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},x4.apply(null,arguments)}const O4=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("e4605d9918f2d2bef1de",t);return r.createElement(pu,x4({},a,{className:n,src:I4,imageRendering:"pixelated"}))},A4=a.p+"assets/icon-plus-48f3d515c1b14439d2ae.png";function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N4.apply(null,arguments)}const R4=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("f64b3ddf02032f8bb877",t);return r.createElement(pu,N4({},a,{className:n,src:A4,imageRendering:"pixelated"}))};var L4;!function(e){e[e.ADD=0]="ADD",e[e.JOIN=1]="JOIN",e[e.LEARN=2]="LEARN"}(L4||(L4={}));const D4=As((({onClose:e,onAddRealmSubscription:t,onJoinExistingRealm:a})=>{const{t:n}=ws("PlayScreen.realmsTab.joinRealmOptionsModalMenu"),o=p(),c=r.useCallback((n=>{n===L4.ADD&&(t(),e()),n===L4.JOIN&&(a(),e()),n===L4.LEARN&&(o.push("/realms-pdp"),e())}),[t,a,e,o]),i=(0,l.useFacetMap)((e=>e.isAnyBeta?[{enumeration:n(".optionsEnumeration",["1","1"]),gamepadAlias:"join",label:n(".joinRealm"),value:L4.JOIN,Icon:Y5,testId:"realm-join-existing-button"},{enumeration:n(".optionsEnumeration",["2","2"]),gamepadAlias:"learn",label:n(".learnMore"),value:L4.LEARN,Icon:O4,testId:"realm-learn-more-button"}]:[{enumeration:n(".optionsEnumeration",["1","3"]),gamepadAlias:"sub",label:n(".addRealm"),value:L4.ADD,Icon:R4,testId:"realm-add-subscription-button"},{enumeration:n(".optionsEnumeration",["2","3"]),gamepadAlias:"join",label:n(".joinRealm"),value:L4.JOIN,Icon:Y5,testId:"realm-join-existing-button"},{enumeration:n(".optionsEnumeration",["3","3"]),gamepadAlias:"learn",label:n(".learnMore"),value:L4.LEARN,Icon:O4,testId:"realm-learn-more-button"}]),[n],[(0,l.useSharedFacet)(cb)]);return r.createElement(fP,{onClose:e,onItemSelect:c,isOpen:!0,title:n(".title"),items:i})}));function _4(e){return{label:e.world.realmName,value:`${e.world.id}`,expired:e.world.expired,closed:e.world.closed,full:e.world.full,amountOfPlayersOnline:null==e.world.onlinePlayers?0:e.world.onlinePlayers.filter((e=>e.isOnline)).length,playersOnline:null!=e.world.onlinePlayers&&e.world.onlinePlayers.filter((e=>e.isOnline)).length>0,ownsRealm:e.isOwner,ownerXuid:e.world.ownerXuid,areStoriesNotificationsEnabled:e.areStoriesNotificationsEnabled,storiesUnreadCount:e.unreadStoryCount}}function B4(e){if(null==e.realms)return{ownedRealms:{realms:[]},joinedRealms:{realms:[]}};const t=(a=e.realms.map(_4),[...a].sort(W4));var a;const[n,r]=t.reduce((([e,t],a)=>(a.ownsRealm?e.push(a):t.push(a),[e,t])),[[],[]]);return{ownedRealms:{realms:n},joinedRealms:{realms:r}}}function W4(e,t){return e.expired&&!t.expired?1:!e.expired&&t.expired?-1:e.closed&&!t.closed?1:!e.closed&&t.closed?-1:!e.ownsRealm&&t.ownsRealm?1:e.ownsRealm&&!t.ownsRealm?-1:!e.playersOnline&&t.playersOnline?1:e.playersOnline&&!t.playersOnline?-1:0}const U4=()=>(0,l.useFacetMemo)((e=>function(e){const t=B4(e);return null!=t.ownedRealms.realms&&0!==t.ownedRealms.realms.length?t.ownedRealms.realms[0].value:0===t.ownedRealms.realms.length&&null!=t.joinedRealms.realms&&0!==t.joinedRealms.realms.length?t.joinedRealms.realms[0].value:""}(e)),[],[(0,l.useSharedFacet)(pv)]),z4="RealmsTabList",j4="RealmsTabListOptions";function H4({item:e}){const t=JT(),a=(0,l.useFacetMap)((e=>e.value),[],[e]),n=(0,l.useFacetMap)((e=>e.label),[],[e]),o=(0,l.useFacetMap)((e=>e.expired),[],[e]),c=(0,l.useFacetMap)((e=>e.closed),[],[e]),i=(0,l.useFacetMap)((e=>e.full),[],[e]),s=(0,l.useFacetMap)((e=>e.ownerXuid),[],[e]),u=Sc(),d=(0,l.useFacetMap)((e=>e.ownsRealm),[],[e]),m=(0,l.useFacetMap)((e=>e.playersOnline),[],[e]),f=(0,l.useFacetMap)((e=>e.amountOfPlayersOnline),[],[e]),E=(0,l.useFacetMap)((e=>e.areStoriesNotificationsEnabled&&e.storiesUnreadCount>0),[],[e]),b=g(),h=p(),{t:v}=ws("PlayScreen.realmsTab.sideMenu"),{t:F}=ws("PlayScreen.realmsTab.sideMenu.narration"),y=function(e){const{t}=ws("RealmTag");return(0,l.useFacetMap)(((e,a)=>e.expired?{label:t(".expired"),role:"destructiveTint"}:!e.expired&&e.closed?{label:t(".closed"),role:"destructiveTint"}:e.full&&e.ownerXuid!==a.currentXuid?{label:t(".full"),role:"noticeTint"}:void 0),[t],[e,(0,l.useSharedFacet)(FF)])}(e),S=(0,l.useFacetMap)(((e,t,a,n,r,l,o)=>{const c=[];return e&&!t?v(".closed"):e&&t||t?v(".expired"):l&&!o?v(".full"):a?1===n?F(".onePlayerOnline",["1"]):F(".playersOnlineAmount",[`${n}`]):(r&&c.push(F(".hasNotification")),c.join(" . "))}),[v,F],[c,o,m,f,E,i,d]),C=(0,l.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[(0,l.useSharedFacet)(xh)]);(0,l.useFacetEffect)((e=>{C(e)}),[C],[s]);const M=(0,l.useFacetMap)(((e,t)=>`${t.id}`===e.value),[],[e,b]),w=RO((0,l.useFacetMap)((e=>({xuid:e,platformId:""})),[],[s])),k=(0,l.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return e.data.xblProfilePic;if(""!==e.data.platformProfilePic)return e.data.platformProfilePic}return""}),[],[w]),P=(0,l.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblName)return e.data.xblName;if(""!==e.data.platformName)return e.data.platformName}return""}),[],[w]),T=(0,l.useFacetMap)((e=>e?"online":"offline"),[],[m]),I=(0,l.useFacetCallback)(((e,a)=>()=>{e.value!==a.id&&(t({button:"SelectRealm",screen:z4,details:{realmId:e.value}}),h.replace(`/play/realms/${e.value}`))}),[h,t],[e,b]);return r.createElement(Uu,null,r.createElement("div",{className:dl()({d5d0e409faf2121c251f:"desktop"!==u})},r.createElement(tR.ListItem,{narrationText:n,narrationSuffix:S,selected:M,value:a,onSelect:I,inputLegend:v(".inputLegend"),hasSubtitle:!0,testId:(0,l.useFacetMap)((e=>e?"realm-list-item-your-realm":"realm-list-item-joined-realm"),[],[d])},r.createElement(tR.ItemCell,null,r.createElement(Uy,{grayscaleAvatar:(0,l.useFacetMap)(((e,t)=>e||t),[],[c,o]),variant:"large",src:k,statusBadge:T})),r.createElement(tR.ItemMain,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,n)),r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:"neutral"},r.createElement(ji,null,P))),r.createElement(tR.ItemCell,null,r.createElement(l.Unwrap,{data:y},(e=>null!=e&&null!=e.role?r.createElement(rk,{role:e.role},e.label):r.createElement(r.Fragment,null)))),r.createElement(l.Mount,{when:E},r.createElement(tR.ItemCell,null,r.createElement(Lk,null))))))}const G4=(0,l.createStaticFacet)(!1);function V4({loading:e=G4}){return r.createElement(Wu,null,r.createElement($4,{loading:e}))}function $4({loading:e}){const t=(0,l.useSharedFacet)(pv),a=JT(),n=Sc(),o="neutralAlpha60",{t:c}=ws("PlayScreen.realmsTab.sideMenu"),{t:i}=ws("PlayScreen.realmsTab.sideMenu.narration"),s=p(),u=p4(),d=(0,l.useSharedFacet)(MQ),m=(0,l.useFacetMap)((e=>wQ(e.categoryData,SQ.INVITES)),[],[d]),f=(0,l.useFacetMap)((e=>i(".buttonSiblings",["1","2"])+" . "+i(".invitationsAmount",[`${e}`])),[i],[m]),g=(0,l.useFacetMap)((e=>e>0),[],[m]),E=r.createElement(Vi,{size:"narrow"===n?1:2}),b=D4.useModal(),h=(0,l.useFacetMap)((e=>e?i(".buttonSiblings",["2","2"]):""),[i],[g]),v=(0,l.useFacetMap)((e=>e.isAnyBeta?c(".joinRealm"):c(".addOrJoinRealm")),[c],[(0,l.useSharedFacet)(cb)]),F=r.useCallback((()=>{a({screen:z4,button:"AddJoinRealmServer"}),b.show()}),[a,b]),y=r.useCallback((()=>{a({screen:z4,button:"InvitationsPending"}),s.push("/inbox/"+SQ.INVITES)}),[a,s]),S=r.useCallback((()=>{a({screen:j4,button:"JoinExistingRealm"}),s.push("/join-realms-server")}),[a,s]),C=r.useCallback((()=>{a({screen:j4,button:"AddRealmSubscription"}),s.push("/realms-plan-picker")}),[a,s]),M=(0,l.useFacetMap)((e=>B4(e)),[],[t]),w=(0,l.useFacetMap)((e=>null!=e.ownedRealms.realms&&e.ownedRealms.realms.length>0),[],[M]),k=(0,l.useFacetMap)((e=>null!=e.joinedRealms.realms&&e.joinedRealms.realms.length>0),[],[M]),P=(0,l.useFacetMap)((e=>c(".ownedRealms",[`${e.ownedRealms.realms.length}`])),[c],[M]),T=(0,l.useFacetMap)((e=>c(".joinedRealms",[`${e.joinedRealms.realms.length}`])),[c],[M]),I=(0,l.useFacetMap)((e=>e.joinedRealms.realms),[],[M]);return r.createElement(Sr,{role:o},r.createElement(bd,{text:i(".context")},r.createElement(tR,{loading:(0,l.useFacetMap)(((e,t)=>e||t),[],[e,Gu()]),spacingAroundSideMenu:E,delegateFocusByAlias:"remember",role:o},r.createElement(l.Mount,{when:g},r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement(i4,{inputLegend:c(".invitations"),narrationPrefix:i(".invitations"),narrationSuffix:f,variant:"secondary",onClick:y,"data-testid":"realm-invitations-button",showBadge:!0,badgeRole:"neutral",badgeCount:m},c(".invitations"))))),r.createElement(l.Mount,{when:w},r.createElement(r.Fragment,null,r.createElement(tR.Divider,{label:r.createElement("fast-text",{text:P})}),r.createElement(bd,{text:P},r.createElement(tR.ItemList,{items:(0,l.useFacetMap)((e=>e.ownedRealms.realms),[],[M]),renderItem:H4})))),r.createElement(l.Mount,{when:k},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(tR.Divider,{label:r.createElement("fast-text",{text:T})}),r.createElement(bd,{text:T},r.createElement(tR.ItemList,{items:I,renderItem:H4})))),r.createElement(Vi,{size:2}),r.createElement(tR.Item,null,r.createElement(lm,{Icon:LM.Plus,inputLegend:v,narrationSuffix:h,variant:"secondary",onClick:F,"data-testid":"realm-add-join-button",disabled:u},v)),r.createElement(l.Mount,{when:b.isVisible},r.createElement(D4.Component,{onClose:b.hide,onJoinExistingRealm:S,onAddRealmSubscription:C})))))}const X4="a7448d5db19b84334dd4",K4=a.p+"assets/Realms-Missing-84884319b654eeae4011.png",Y4=a.p+"assets/Realms-Empty-714f9275b786d6ffa804.png",q4=a.p+"assets/preproduction-access-art-realms-7007a2cf204971ca3b4b.png";function Q4({expiration:e,isTempBan:t}){const{t:a}=ws("PlayScreen.RealmsBannedMessage"),n=(0,l.useFacetMap)((e=>t||jA(e)),[t],[e]),o=(0,l.useFacetMap)((e=>e?".Suspended":".Banned"),[],[n]),c=(0,l.useFacetMap)((e=>a(`${e}.title`)),[a],[o]),i=(0,l.useFacetMap)((e=>a(`${e}.bodyFirstParagraph`)),[a],[o]),s=(0,l.useFacetMap)((e=>a(`${e}.bodySecondParagraph`)),[a],[o]),u=a(".role"),d=(0,l.useFacetMap)(((e,t,a)=>[e,u,t,a].join(" . ")),[u],[c,i,s]),m=(0,l.useFacetMap)((e=>a(`${e}.helpButton`)),[a],[o]);return r.createElement(VA,{narrationText:d,title:c,bodyFirstParagraph:i,bodySecondParagraph:s,helpButtonCopy:m,banExpiration:e})}function J4({realmsFetchRetry:e,showUnknownError:t=!1}){const a=(0,l.useSharedFacet)(Ev),n=(0,l.useSharedFacet)(pv),o=(0,l.useFacetMap)((e=>{var a;return t?dv.Unknown:null!==(a=e.error)&&void 0!==a?a:dv.None}),[t],[n]),c=(0,l.useFacetMap)((e=>e.compatibility),[],[n]),i=(0,l.useFacetWrap)(""),s=(0,l.useFacetMap)(((e,t)=>e===uv.UserNotAllowed&&t.isRealmsPreproductionEnvironment),[],[c,a]);return r.createElement(ud,{floating:!0,flexShrinkWrapper:!0},r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:o},(t=>{switch(t){case dv.ServiceError:return r.createElement(t3,{realmsFetchRetry:e});case dv.RateLimit:return r.createElement(e3,null);case dv.Compatibility:return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:s},r.createElement(a3,null)),r.createElement(l.Mount,{when:s,condition:!1},r.createElement(S4,{context:"realms"})));case dv.RealmsBan:return r.createElement(Q4,{expiration:i,isTempBan:!1});case dv.RealmsSuspension:return r.createElement(Q4,{expiration:i,isTempBan:!0});case dv.NetworkError:case dv.Unknown:default:return r.createElement(S4,{context:"realms"})}})),r.createElement(Lm.Space,null))}function Z4({title:e,text:t,imgSrc:a,borderless:n=!1,buttons:o}){const c=Nw({wide:8,narrow:6,width:256}),i=(0,l.useFacetMap)((e=>e?"b37175d29551d022fc87":"e4cbdb4a4bc94d699b06"),[],[c]);return r.createElement(r.Fragment,null,r.createElement(aw,{borderless:n,title:e,text:t,imgSrc:a,imgClass:i,buttons:o}),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function e3(){const{t:e}=ah("PlayScreen.realmsTab.realmsTabErrorStates.realmsRateLimitError");return r.createElement(Z4,{title:e(".title"),text:e(".text"),imgSrc:K4})}function t3({realmsFetchRetry:e}){const{t}=ah("PlayScreen.realmsTab.realmsTabErrorStates.realmsServiceError");return r.createElement(Z4,{title:t(".title"),text:t(null!=e?".text.tryAgain":".text.wait"),imgSrc:Y4,buttons:e?[{text:t(".button.text"),inputLegend:t(".button.inputLegend"),onClick:e}]:void 0})}function a3(){const{t:e}=ah("PlayScreen.realmsTab.realmsTabErrorStates.realmsPreprodError"),t=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.PreproductionRealmsGuide)}),[],[(0,l.useSharedFacet)(CF)]);return r.createElement(Z4,{title:e(".title"),text:e(".text"),imgSrc:q4,buttons:[{text:e(".button.text"),imgSrc:EA.imgSrc,inputLegend:e(".button.inputLegend"),onClick:t}]})}function n3(){return(0,l.useFacetMap)((e=>e.thirdPartyServersStatus===Gv.Win32DevBuildWarning),[],[(0,l.useSharedFacet)(Vv)])}let r3;function l3(e){return(0,l.useFacetMap)(((t,a)=>{switch(e){case r3.FRIENDS:return!TI(a.platform)&&!xI(a.platform)&&!t.isLoggedInWithMicrosoftAccount||(TI(a.platform)||xI(a.platform))&&!t.isLoggedInWithMicrosoftAccount&&!t.isSignedInPlatformNetwork;case r3.REALMS:return(TI(a.platform)||xI(a.platform))&&!t.isSignedInPlatformNetwork||!t.isLoggedInWithMicrosoftAccount;case r3.SERVERS:case r3.TEMPLATES:default:return!t.isLoggedInWithMicrosoftAccount}}),[e],[(0,l.useSharedFacet)(FF),(0,l.useSharedFacet)(_l)])}function o3(e){return(0,l.useFacetMap)(((t,a,n,r,l,o)=>r.isOnline?t?"trial-mode":!a.isSignedInPlatformNetwork&&xI(r.platform)?"platform-guest-nintendo":!a.isSignedInPlatformNetwork&&TI(r.platform)?"platform-guest-playstation":!a.isLoggedInWithMicrosoftAccount&&xI(r.platform)?"msa-guest-nintendo":!a.isLoggedInWithMicrosoftAccount&&TI(r.platform)?"msa-guest-playstation":n?"not-signed-in":a.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive_Parental)?"parental-online-safety":a.isBanned?"banned":a.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)?"multiplayer-disabled":!a.hasPremiumNetworkAccess&&TI(r.platform)?"no-online-subscription-playstation":!a.hasPremiumNetworkAccess&&xI(r.platform)?"no-online-subscription-nintendo":a.userPermissions.multiplayer.denyReasons.includes(bF.Platform_PlayStation)||a.userPermissions.multiplayer.denyReasons.includes(bF.Platform_NintendoSwitch)?"platform-multiplayer-disabled":e!==r3.SERVERS||l.fetchThirdPartyWorldsTaskState!==HI.DONE||null!=l.thirdPartyWorlds&&0!==l.thirdPartyWorlds.length||o?"content":"no-content":"offline"),[e],[(0,l.useSharedFacet)(yF),(0,l.useSharedFacet)(FF),l3(e),(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(Vv),n3()])}function c3({disableHeaderButtons:e=!1}){const t=(0,l.useSharedFacet)(pv),a=(0,l.useFacetMap)((e=>e.state===mv.Loading||e.state===mv.Unknown),[],[t]),n=(0,l.useFacetMap)((e=>e.state===mv.Error),[],[t]),o=(0,l.useFacetMap)((e=>null==e.realms||0==e.realms.length),[],[t]),c=(0,l.useFacetCallback)((e=>()=>{e.initialize()}),[],[(0,l.useSharedFacet)(ev)]),i=(0,l.useFacetMap)((e=>e.state===Jh.IDLE),[],[(0,l.useSharedFacet)(Zh)]);(0,l.useFacetEffect)((e=>{e&&c()}),[c],[i]);const s=(0,l.useFacetMap)((({id:e})=>e),[],[g()]),u=(0,l.useFacetMap)(((e,t,a,n)=>a?"realms-fetch-failed":n||!t&&e?!t&&e?"no-realms":"content":"no-id"),[],[o,a,n,s]),d=(0,r.useRef)(null),m=(0,r.useRef)(null),p=(0,l.useFacetMap)(((e,t)=>e?null!=t.realms&&0!=t.realms.length?"claim-preview-realm-banner":"purchase-on-retail-banner":"no-preview-banner"),[],[(0,l.useSharedFacet)(sb),(0,l.useSharedFacet)(gF)]);return r.createElement(_r,{collection:xx},r.createElement(l.Unwrap,{data:u},(t=>{switch(t){case"realms-fetch-failed":return r.createElement(J4,null);case"no-id":return r.createElement(d3,null);case"content":return r.createElement(uu,{containerRef:d,delegateFocusByAlias:$5.REALMS_INFORMATION,delegateFocusFromMemory:!0},r.createElement(zM.Row,{innerRef:d},r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(V4,{loading:a})),r.createElement(uu,{containerRef:m,delegateFocusByAlias:$5.REALMS_PLAY_BUTTON,alias:$5.REALMS_INFORMATION},r.createElement(zM.Column,{innerRef:m,wideSize:8,narrowSize:5},r.createElement(M4,{loading:a})))));default:return r.createElement(GL,{hideUpsellButton:!0,header:r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:p},(e=>{switch(e){case"claim-preview-realm-banner":return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(o4,null));case"purchase-on-retail-banner":return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(VL,null));default:return null}})),r.createElement(Vi,{size:2}),r.createElement(s3,{disabled:e}),r.createElement(Vi,{size:2})),footer:r.createElement(Vi,{size:2}),screenAnalyticsId:"RealmsTabPDP"})}})))}function i3(){const e=o3(r3.REALMS),{t}=ah("PlayScreen.realmsTab");return r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:e},(e=>{switch(e){case"banned":return r.createElement($A.InTab,null);case"offline":return r.createElement(u3,null,r.createElement(sA,{text:t(".noInternetMessage")}));case"parental-online-safety":return r.createElement(KL,{variant:"parental"});case"trial-mode":return r.createElement(aA,{context:tA.REALMS});case"no-online-subscription-nintendo":case"no-online-subscription-playstation":case"multiplayer-disabled":return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(oD,{tab:QL.RealmsTab}),r.createElement(c3,{disableHeaderButtons:!0}));case"platform-guest-nintendo":return r.createElement(u3,null,r.createElement(RA,{context:NA.Nintendo}));case"platform-guest-playstation":return r.createElement(u3,null,r.createElement(RA,{context:NA.Playstation}));case"platform-multiplayer-disabled":return r.createElement(u3,null,r.createElement(sD,null));case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return r.createElement(GL,{hideUpsellButton:!0,header:r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(oD,{tab:QL.RealmsTab}),r.createElement(Vi,{size:2}),r.createElement(s3,{disabled:!0}),r.createElement(Vi,{size:2})),footer:r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}),screenAnalyticsId:"RealmsTabPDP"});case"content":return r.createElement(c3,null);default:return r.createElement(J4,{showUnknownError:!0})}})),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function s3({disabled:e=!1}){const t=p(),a=(0,l.useSharedFacet)(MQ),{t:n}=ah("PlayScreen.realmsTab.buttonHeader"),{t:o}=ah("PlayScreen.realmsTab.buttonHeader.narration"),c=(0,l.useSharedFacet)(sb),{isRealmsTrialAvailable:i,isLoading:s}=kL(),u=(0,l.useFacetMap)(((e,t)=>e||t?2:3),[],[c,s]),d=(0,l.useFacetMap)((e=>wQ(e.categoryData,SQ.INVITES)),[],[a]),m=o(".buttonSiblings",["1","3"]),f=(0,l.useFacetMap)(((e,t,a,n)=>o(".buttonSiblings",[a||n?"1":"2",`${t}`])+" . "+o(".invitationsAmount",[`${e}`])),[o],[d,u,c,s]),g=(0,l.useFacetMap)(((e,t,a)=>o(".buttonSiblings",[t||a?"2":"3",`${e}`])),[o],[u,c,s]),E=(0,l.useFacetMap)(((e,t,a,n)=>e?"no-upsell":xI(t.platform)?"subscribe-now":n?"loading":a?"free-trial":"buy-now"),[],[c,(0,l.useSharedFacet)(_l),i,s]),b=(0,l.useFacetMap)((e=>!e.isLoggedInWithMicrosoftAccount),[],[(0,l.useSharedFacet)(FF)]);return r.createElement("div",{className:"dc04be7a85bcd70b2353"},r.createElement(l.Unwrap,{data:E},(a=>{switch(a){case"loading":return r.createElement("div",{className:"db1f2e96a050d2de0913"},r.createElement(id,null));case"free-trial":return r.createElement("div",{className:X4},r.createElement(lm,{inputLegend:n(".freeTrialUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-free-trial-realm-button"},n(".freeTrialUpsell")));case"buy-now":return r.createElement("div",{className:X4},r.createElement(lm,{inputLegend:n(".buyNowUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-buy-now-realm-button"},n(".buyNowUpsell")));case"subscribe-now":return r.createElement("div",{className:X4},r.createElement(lm,{inputLegend:n(".subscribeNowUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>t.push("/realms-plan-picker"),disabled:e,"data-testid":"pdp-header-subscribe-now-realm-button"},n(".subscribeNowUpsell")));default:return r.createElement(r.Fragment,null)}})),r.createElement(Vi,{size:2}),r.createElement("div",{className:X4},r.createElement(i4,{inputLegend:n(".invitations"),narrationSuffix:f,variant:"secondary",onClick:()=>t.push("/inbox/invites"),disabled:b,"data-testid":"pdp-header-invitation-realm-button",showBadge:(0,l.useFacetMap)(((e,t)=>!t&&null!=e&&0!=e),[],[d,b]),badgeRole:"neutral",badgeCount:d},n(".invitations"))),r.createElement(Vi,{size:2}),r.createElement("div",{className:X4},r.createElement(lm,{inputLegend:n(".joinRealm"),narrationSuffix:g,variant:"secondary",onClick:()=>t.push("/join-realms-server"),disabled:e,"data-testid":"pdp-header-join-realm-button"},n(".joinRealm"))))}function u3({children:e}){return r.createElement(ud,{floating:!0},r.createElement(Vi,{size:2}),e,r.createElement(Lm.Space,null))}!function(e){e.SERVERS="SERVERS",e.REALMS="REALMS",e.FRIENDS="FRIENDS",e.TEMPLATES="TEMPLATES"}(r3||(r3={}));const d3=()=>{const e=p();return(0,l.useFacetEffect)((t=>{e.replace(`/play/realms/${t}`)}),[e],[U4()]),r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(ud,{loading:!0},r.createElement(r.Fragment,null)),r.createElement(Vi,{size:2}))};function m3(){const e=(0,l.useFacetMap)((e=>TI(e.platform)||xI(e.platform)),[],[(0,l.useSharedFacet)(_l)]);return(0,l.useFacetMap)(((e,t,a)=>!a&&(!e.isLoggedInWithMicrosoftAccount||e.userPermissions.multiplayer.denyReasons.includes(bF.XboxLive)||t&&!e.hasPremiumNetworkAccess)),[],[(0,l.useSharedFacet)(FF),e,n3()])}let p3;!function(e){e.SERVER_SIDE_MENU="server-side-menu-focus-alias",e.SERVER_DESCRIPTION="server-description-focus-alias"}(p3||(p3={}));function f3({label:e,value:t,image:a,subtitle:n,inputLegend:o,selected:c,onSelect:i}){const s=(0,l.useFacetWrap)(null!=n?n:""),u=(0,l.useFacetWrap)(null!=a?a:""),d=(0,l.useFacetMap)((e=>Boolean(e)),[],[u]),m=(0,l.useFacetMap)((e=>Boolean(e)),[],[s]),p=(0,l.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[e,s]);return r.createElement(tR.ListItem,{narrationText:p,selected:c,value:t,onSelect:i,inputLegend:o,hasSubtitle:!0},r.createElement(l.Mount,{when:d},r.createElement(Uu,null,r.createElement(tR.ItemCell,null,r.createElement(EL,{variant:"large",border:!0,iconSrc:u,selected:c})))),r.createElement(tR.ItemMain,null,r.createElement(Zi,{type:"body",overflowEllipsis:!0},e),r.createElement(l.Mount,{when:m},r.createElement("div",{className:dl()("c453f8a5a19fe12f2ccc")},r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:"neutral",overflowEllipsis:!0},s)))))}function g3({item:e}){const t=p(),a=(0,l.useSharedFacet)(lh),{t:n}=ws("PlayScreen.serverTab"),o=(0,l.useFacetMap)((e=>e.label),[],[e]),c=(0,l.useFacetMap)((e=>e.value),[],[e]),i=(0,l.useFacetMap)((e=>null!=e.message?e.message:""),[],[e]),s=(0,l.useFacetMap)((e=>null!=e.image?e.image:l.NO_VALUE),[],[e]),u=(0,l.useFacetMap)(((e,t)=>e===t.networkDetails.id),[],[c,a]),d=(0,l.useFacetMap)((e=>e.type===Jv.ThirdParty),[],[e]),m=(0,l.useFacetMap)((e=>Boolean(e)),[],[i]),f=Sc(),g=JT(),E=(0,l.useFacetCallback)((e=>()=>{const a={selectedServerName:e.label};switch(e.type){case Jv.ThirdParty:g({button:"SelectThirdPartyServer",screen:aJ.ServerTab,details:a});break;case Jv.External:g({button:"SelectExternalServer",screen:aJ.ServerTab,details:a})}t.replace(`/play/servers/${e.value}/${lJ(e.type)}`)}),[t,g],[e]);return r.createElement("div",{className:dl()({fb7380b8de81c4ae84a9:"desktop"!==f})},r.createElement(l.Mount,{when:d},r.createElement(f3,{label:o,value:c,image:s,subtitle:i,inputLegend:n(".sideMenuInputLegend"),selected:u,onSelect:E})),r.createElement(l.Mount,{when:d,condition:!1},r.createElement(tR.ListItem,{value:c,onSelect:E,selected:u,narrationText:o,inputLegend:n(".sideMenuInputLegend")},r.createElement(tR.ItemMain,null,r.createElement("div",{className:dl()("ff0e6c85a1e1b7954bf2")},r.createElement(Zi,{type:"body",className:dl()("cddb8ac0b940730569b1")},r.createElement(ji,null,o)),r.createElement(l.Mount,{when:m},r.createElement("div",{className:dl()("e7e2d7c8a86746f82973")},r.createElement(Zi,{type:"captionShort",variant:"dimmer",role:"neutral",overflowEllipsis:!0},i))))))))}function E3({loading:e}){const{t}=ws("PlayScreen.serverTab"),{t:a}=ws("PlayScreen.serverTab.narration"),n=(0,l.useSharedFacet)(Vv),o=(0,l.useSharedFacet)(Cb),c=(0,l.useSharedFacet)(_l),i=t(".addServer"),s=p(),u=JT(),d="neutralAlpha60",m=Sc(),f=m3(),g=(0,r.useCallback)((()=>{u({button:"AddServer",screen:aJ.ServerTab}),s.push("/play/servers/add")}),[s,u]),E=(0,l.useFacetMap)((e=>e.thirdPartyWorlds.map((e=>({message:e.msgOfTheDay,image:e.image,label:e.name,type:Jv.ThirdParty,value:e.id})))),[],[n]),b=(0,l.useFacetMap)((e=>t(".featuredServer",[e.thirdPartyWorlds.length.toString()])),[t],[n]),h=(0,l.useFacetMap)((e=>e.externalServerWorlds.map((e=>({label:e.name,value:e.id,type:Jv.External,message:e.msgOfTheDay})))),[],[o]),v=(0,l.useFacetMap)((e=>t(".externalServer",[e.externalServerWorlds.length.toString()])),[t],[o]),F=(0,l.useFacetMap)((e=>e.externalServerWorlds.length>0),[],[o]),y=(0,l.useFacetMap)((e=>e.supportsManualAddedServers),[],[c]),S=r.createElement(Vi,{size:"narrow"===m?1:2});return r.createElement(Sr,{role:d},r.createElement(bd,{text:a(".context")},r.createElement(tR,{spacingAroundSideMenu:S,loading:e,gamepadAlias:p3.SERVER_SIDE_MENU,delegateFocusByAlias:"remember",role:d},r.createElement(l.Mount,{when:y},r.createElement(tR.Item,null,r.createElement(lm,{onClick:g,Icon:LM.Plus,inputLegend:i,variant:"secondary",disabled:f},i))),r.createElement(bd,{text:b},r.createElement(tR.Divider,{label:r.createElement("fast-text",{text:b})}),r.createElement(tR.ItemList,{items:E,renderItem:g3})),r.createElement(l.Mount,{when:F},r.createElement(bd,{text:v},r.createElement(tR.Divider,{label:r.createElement("fast-text",{text:v})}),r.createElement(tR.ItemList,{items:h,renderItem:g3}))),r.createElement(Vi,{size:4}))))}const b3="show-server-address-button",h3=As((({showServerAddress:e,closeModal:t})=>{const{t:a}=ws("PlayScreen.serverTab.ShowServerAddressModal"),n=(0,r.useCallback)((()=>{e(),t()}),[e,t]);return r.createElement($m,{onOverlayClick:t,defaultFocusAlias:b3},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".firstParagraph"),center:!0},a(".firstParagraph")),r.createElement($m.Text,{narrationText:a(".secondParagraph"),center:!0},a(".secondParagraph"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:b3,variant:"primary",inputLegend:a(".primaryButton"),onClick:n,"data-testId":b3},a(".primaryButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".secondaryButton"),onClick:t},a(".secondaryButton"))))}));function v3(){const e=h3.useModal(),t=(0,l.useSharedFacet)(lh),a=(0,l.useFacetMap)((e=>e.networkDetails),[],[t]),n=p(),o=g(),[c,i]=(0,l.useFacetState)(!1),s=(0,l.useFacetCallback)((t=>()=>{t?i(!1):e.show()}),[i,e],[c]),u=(0,l.useFacetMap)(((e,t)=>[{fieldData:e.name,fieldName:"name"},{fieldData:e.address,fieldName:"address",showFieldData:t,handleShowFieldData:s},{fieldData:e.port.toString(),fieldName:"port"}]),[s],[a,c]),d=(0,l.useFacetMap)((e=>e.id),[],[a]),m=(0,l.useFacetCallback)((e=>()=>{n.push(`/play/servers/${e}/${lJ(Jv.External)}/edit`)}),[n],[d]),f="narrow"===Sc(),E=m3();(0,l.useFacetEffect)((()=>{i(!1)}),[i],[o]);const b=r.createElement(r.Fragment,null,r.createElement(y3,{handleOnClick:m,disabled:E}),r.createElement(Lm.Space,null));return r.createElement(r.Fragment,null,r.createElement(b_,{data:u,renderItem:F3,footer:!f&&b}),f&&b,r.createElement(l.Mount,{when:e.isVisible},r.createElement(h3.Component,{showServerAddress:()=>i(!0),closeModal:e.hide})))}function F3({itemFacet:e}){const t=Ln(),{t:a}=ws("PlayScreen.serverTab.externalServerDetails"),n=(0,l.useFacetMap)((e=>!1===e.showFieldData?a(".placeholder"):e.fieldData),[a],[e]),o=(0,l.useFacetMap)((e=>a(`.${e.fieldName.toLowerCase()}`)),[a],[e]),c=(0,l.useFacetMap)(((e,t)=>a(`.${e.fieldName.toLowerCase()}`)+" . "+t),[a],[e,n]),i=(0,l.useFacetMap)((e=>null!=e.showFieldData),[],[e]),s=(0,l.useFacetMap)((e=>e.showFieldData?a(".hideButton"):a(".showButton")),[a],[e]),u=(0,l.useFacetMap)((e=>e.showFieldData?a(".hideButtonHint"):a(".showButtonHint")),[a],[e]),d=(0,l.useFacetCallback)((e=>()=>e.handleShowFieldData&&e.handleShowFieldData()),[],[e]);return r.createElement(Uu,null,r.createElement(Ud,{role:"neutral80",focusable:t,narrationText:c},r.createElement("div",{className:"be3da078ca5c7f0f44b1"},r.createElement("div",null,r.createElement(jd,null,n),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},o)),r.createElement(l.Mount,{when:i},r.createElement("div",{className:"b71f8b12fdefc84f5443"},r.createElement(lm,{horizontal:!0,inputLegend:s,onClick:d,narrationSuffix:u,"data-testid":"show-address-button"},s))))))}function y3({handleOnClick:e,disabled:t}){const a=Yr("neutral"),{t:n}=ws("PlayScreen.serverTab.externalServerDetails");return r.createElement("div",{className:dl()("d6f2fe5834627a1cedb4","b5b98b9467ee4a73720b",a.background.base,a.border.base)},r.createElement(Ks,{effect:"bevel",left:!1,right:!1}),r.createElement("div",{className:"fc752a3ef1cce0260782"},r.createElement(lm,{inputLegend:n(".editButton"),onClick:e,narrationSuffix:n(".editBtnHint"),disabled:t,"data-testid":"edit-server-button"},n(".editButton"))))}function S3({activity:e,narration:t}){const a=(0,l.useFacetMap)((e=>e.title),[],[e]),n=(0,l.useFacetMap)((e=>e.subtitle),[],[e]),o=(0,l.useFacetMap)((e=>e.description),[],[e]),c=(0,l.useFacetMap)((e=>e.imagePath),[],[e]),i=Yr("neutral");return r.createElement(Ud,{compact:!0,narrationText:t,className:"dfb479124248a095c8c8",focusable:!0},r.createElement(l.Mount,{when:(0,l.useFacetMap)(Boolean,[],[c])},r.createElement(r.Fragment,null,r.createElement("div",{className:"e7f4f9e16bfa130fa8fb"},r.createElement(Vi,{size:3}),r.createElement(pu,{className:dl()(i.border.base,"c37898995a1230137f4f"),aspectRatio:pu.AspectRatio["1:1"],src:c}),r.createElement(Vi,{size:3})),r.createElement(Vi,{size:3}))),r.createElement("div",{className:"ced1ea103fb7a7b86cbf"},r.createElement(Vi,{size:3}),r.createElement(jd,null,a),r.createElement(Zi,{type:"captionLong",variant:"dimmer"},n),r.createElement(Vi,{size:2}),r.createElement(Hd,null,o),r.createElement(Vi,{size:3})))}function C3(){const{t:e}=ws("PlayScreen.serverTab"),t=(0,l.useSharedFacet)(lh),a=(0,l.useFacetMap)((e=>e.networkDetails.newsTitle),[],[t]),n=(0,l.useFacetMap)((e=>e.networkDetails.newsDescription),[],[t]),o=(0,l.useFacetMap)(((t,a)=>`${e(".newsTitle")} . ${t} . ${a}`),[e],[a,n]);return r.createElement(Ud,{role:"neutral80",focusable:!0,narrationText:o},r.createElement(Vi,{size:3}),r.createElement(jd,null,e(".newsTitle")),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},a),r.createElement(Vi,{size:3}),r.createElement(Hd,null,n),r.createElement(Vi,{size:6}))}const M3="ab21b0b494dac74c4226";function w3({playerCount:e,maximumCapacity:t}){const a=(0,l.useFacetMap)(((e,t)=>0!==e&&e===t),[],[e,t]),{t:n}=ws("PlayScreen.serverCapacity");return r.createElement("div",{className:"d96a03678330da7afff7"},r.createElement(zq,null),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body",variant:"dimmer"},e),r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(rk,{role:"destructiveTint"},n(".fullLabel")))))}const k3=a.p+"assets/pingAnimation-4d7a029e5f864843c958.png",P3=()=>r.createElement("div",{className:"e3c6094d383442b62b26"},r.createElement(NP,{src:k3,frames:6,duration:700,width:11.2,height:2,repeat:"infinite",imageRendering:"pixelated"})),T3=e=>{switch(e){case Zv.Low:return r.createElement(YP,null);case Zv.High:return r.createElement(JP,null);case Zv.Medium:return r.createElement(tT,null);default:return r.createElement(P3,null)}};function I3({pingStatus:e}){const t=x3(e);return r.createElement("div",{className:"aa0b378e51336a3018a8"},r.createElement(l.Unwrap,{data:e,children:T3}),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body",variant:"dimmer"},t))}const x3=e=>{const{t}=ws("PlayScreen.ServerPing");return(0,l.useFacetMap)((e=>{switch(e){case Zv.Low:return t(".lowPing");case Zv.Medium:return t(".mediumPing");case Zv.High:return t(".highPing");default:return t(".loadingPing")}}),[t],[e])};function O3(e){switch(e){case oh.NoInternetError:return".NoInternetError";case oh.ThirdPartyBadIPError:return".ThirdPartyBadIPError";case oh.InvalidUserError:case oh.UserNeedsToBeSignedInError:case oh.BlockedByPlatformError:case oh.BlockedByVersionError:case oh.BlockedByXBLError:case oh.UserBannedError:case oh.ThirdPartyNoServerOrServerLockedError:case oh.UnknownError:default:return".UnknownError"}}I3.useLabel=x3;const A3=As((({onClose:e})=>{const t=(0,l.useSharedFacet)(sh),[a,n]=(0,l.useFacetState)(null),{t:o}=ws("PlayScreen.serverTab.joinServerErrorModal"),c=(0,l.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[t]),i=(0,l.useFacetMap)((e=>e.joinExternalServerResult),[],[t]);(0,l.useFacetEffect)(((e,t)=>{const a=null!=e&&e!==oh.OK,r=null!=t&&t!==oh.OK;(a||r)&&n(a?e:t)}),[n],[c,i]);const s=(0,l.useFacetMap)((e=>o(`${O3(e)}.title`)),[o],[a]),u=(0,l.useFacetMap)((e=>o(`${O3(e)}.message`)),[o],[a]);return r.createElement($m,null,r.createElement($m.Header,null,s),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:u,center:!0},u)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:o(".cancel"),variant:"secondary",onClick:e},o(".cancel"))))}));function N3({loading:e,pingAndPlayerCountVisible:t,showServerDetails:a=!1}){const n=(0,l.useSharedFacet)(lh),o=(0,l.useSharedFacet)(uh),c=(0,l.useSharedFacet)(sh),i=A3.useModal(),s=KI.useModal(),u=p(),d=ZT(),m=nJ(),f=Yr("neutral100"),{t:g}=ws("PlayScreen.serverTab"),E="narrow"===Sc(),b=(0,l.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),h=(0,l.useFacetMap)((e=>e.networkDetails.capacity),[],[n]),v=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[o]),F=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[o]),y=(0,l.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[c]),S=(0,l.useFacetMap)((e=>e.joinExternalServerResult),[],[c]),C=(0,l.useFacetMap)((e=>e.networkDetails.type),[],[n]);(0,l.useFacetEffect)(((e,t)=>{const a=null!=e&&e!==oh.OK,n=null!=t&&t!==oh.OK;if(a||n){let r;i.show(),null!=e&&a?r={modalReason:oh[e]}:null!=t&&n&&(r={modalReason:oh[t]}),d({modal:a?"JoinThirdPartyError":"JoinExternalError",screen:aJ.ServerTab,details:r})}}),[i,d],[y,S]);const M=(0,l.useFacetCallback)((e=>()=>{e.clearJoinThirdPartyServerTaskState(),e.clearJoinExternalServerTaskState(),i.hide()}),[i],[c]),w=(0,l.useFacetCallback)((e=>()=>{e.networkDetails.type===Jv.ThirdParty&&m.thirdParty(),e.networkDetails.type===Jv.External&&m.external()}),[m],[n]),k=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{const r=a===Jv.ThirdParty;n.onlyCellularAvailable&&n.showCellularDataFee?s.show():r&&e||!r&&t?w():u.push(`/online-play-warning/${lJ(a)}`)}),[w,u,s],[v,F,C,(0,l.useSharedFacet)(_l)]),P=(0,l.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,w()}),[w],[(0,l.useSharedFacet)(fh)]),T=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]),I=(0,l.useFacetMap)(((e,t,a)=>a&&e.networkDetails.type===Jv.External?function(e,t,a){const n=a(1===t?".PlaySuffixExtServerOnePlayer":".PlaySuffixExtServerManyPlayers",[String(t)]);return`${function(){switch(e){case Zv.Low:return a(".PlaySuffixExtServerLowPing");case Zv.Medium:return a(".PlaySuffixExtServerMediumPing");case Zv.High:return a(".PlaySuffixExtServerHighPing");default:return a(".PlaySuffixExtServerUnavailablePing")}}()} ${n}`}(t,e.networkDetails.playerCount,g):g(".PlaySuffix")),[g],[n,T,t]),x=(0,r.useRef)(null),O=m3(),A=(0,l.useFacetMap)(((e,t)=>e||t),[],[e,O]);return r.createElement(r.Fragment,null,a?r.createElement(uu,{containerRef:x},r.createElement("div",{className:dl()("a3ad61d7d122d4ffb6d5",f.background.base),ref:x},r.createElement(l.Mount,{when:t},r.createElement("div",{className:E?"a5e80c7a01c409a3b2f5":"a255278e663c8b5dc8cb"},r.createElement(I3,{pingStatus:T}),r.createElement(Vi,{size:E?1:6}),r.createElement(w3,{playerCount:b,maximumCapacity:h}))),r.createElement(Vi,{size:4}),r.createElement("div",{className:M3},r.createElement(lm,{inputLegend:g(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:k,narrationSuffix:I,gamepadAlias:p3.SERVER_DESCRIPTION,disabled:A,"data-testid":"server-play-button"},g(".Play"))))):r.createElement("div",{className:M3},r.createElement(lm,{inputLegend:g(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:k,narrationSuffix:I,gamepadAlias:p3.SERVER_DESCRIPTION,disabled:A,"data-testid":"server-play-button"},g(".Play"))),r.createElement(l.Mount,{when:i.isVisible},r.createElement(A3.Component,{onClose:M})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(KI.Component,{joinServer:P,onClose:s.hide})))}function R3({loading:e,pingAndPlayerCountVisible:t}){const a=(0,l.useSharedFacet)(lh),n=(0,l.useFacetMap)((e=>e.networkDetails.activities.length>0),[],[a]),o=(0,l.useFacetMap)((e=>null!=e.networkDetails.newsTitle||""!=e.networkDetails.newsTitle),[],[a]),c=Yr("neutral80");return r.createElement("div",{className:dl()("a0deef4d09702833dd33",c.border.base)},r.createElement(L3,{loading:e,pingAndPlayerCountVisible:t}),r.createElement(l.Mount,{when:n},r.createElement(D3,null)),r.createElement(l.Mount,{when:o},r.createElement(C3,null)))}function L3({loading:e,pingAndPlayerCountVisible:t}){const{t:a}=ws("PlayScreen.serverTab"),n=(0,l.useSharedFacet)(lh),o=Yr("neutral80"),c=(0,l.useFacetMap)((e=>e.networkDetails.name),[],[n]),i=(0,l.useFacetMap)((e=>e.networkDetails.imagePath),[],[n]),s=(0,l.useFacetMap)((e=>e.networkDetails.description),[],[n]),u=(0,l.useFacetMap)(((e,t)=>[e,a(".narrationRoleTextBlock"),t].join(" . ")),[a],[c,s]),d="narrow"===Sc(),m=(0,l.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),p=(0,l.useFacetMap)((e=>e.networkDetails.capacity),[],[n]),f=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]);return r.createElement("div",{className:o.background.base},r.createElement("div",{className:"b1ab30a3ead6fd044b3f"},r.createElement(pu,{aspectRatio:pu.AspectRatio["10:3"],src:i,className:dl()(o.border.base,"cc726700a020cdbebb3d")}),r.createElement(l.Mount,{when:t},r.createElement("div",{className:dl()("c8c16b89ca3f738d61a5","cd01e4a6cadef7d2c396",{e8854926584f42f84d50:d,fedf7501ffa5779f661a:!d})},r.createElement(I3,{pingStatus:f}),r.createElement(Vi,{size:d?1:6}),r.createElement(w3,{playerCount:m,maximumCapacity:p})))),r.createElement(Ud,{role:"neutral80"},r.createElement("div",{className:"bd77b83d14b58fe9ef41"},r.createElement("div",{className:"a4c40e9a90676b56528d"},r.createElement(jd,null,c)),r.createElement(Vi,{size:1}),r.createElement(N3,{loading:e,pingAndPlayerCountVisible:t}))),r.createElement(Ud,{focusable:!0,role:"neutral80",narrationText:u},r.createElement(jd,null,a(".ServerDescription.title")),r.createElement(Vi,{size:2}),r.createElement(Hd,null,s)))}function D3(){const{t:e}=ws("PlayScreen.serverTab"),{background:t}=Yr("neutral80"),a=(0,l.useSharedFacet)(lh),n=(0,l.useFacetMap)((e=>e.networkDetails.activities),[],[a]),o=[e(".narrationTitleActivities"),e(".narrationRoleGroup")].join(" . ");return r.createElement(bd,{text:o},r.createElement(Ud,{role:"neutral80",className:dl()("a442059f1ffc20bcd5ef",t.base)},r.createElement(Vi,{size:3}),r.createElement(jd,{className:"a3ed4b485c4ef9a2e092"},e(".Activities")),r.createElement(Vi,{size:3}),r.createElement(l.Map,{array:n},((e,t,a)=>r.createElement(_3,{activity:e,index:t,activitiesCount:a})))))}const _3=({index:e,activitiesCount:t,activity:a})=>{const{t:n}=ws("PlayScreen.serverTab"),o=(0,l.useFacetMap)((a=>{const{title:r,subtitle:l,description:o}=a;return[r,l,o,n(".sectionEnumeration",[String(e+1),String(t)])].join(" . ")}),[n,e,t],[a]);return r.createElement(S3,{activity:a,narration:o})};function B3(){const{t:e}=ws("PlayScreen.serverTab.ServerNotifications"),t=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus===Zv.High),[],[(0,l.useSharedFacet)(lh)]),a=(0,l.useFacetMap)(((e,t)=>t?"win32-build":e?"high-ping":void 0),[],[t,n3()]),n="narrow"===Sc()?1:2;return r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:a},(t=>{switch(t){case"high-ping":return r.createElement(r.Fragment,null,r.createElement(Vi,{size:n}),r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,e(".highPingWarning"))));case"win32-build":return r.createElement(r.Fragment,null,r.createElement(Vi,{size:n}),r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,"Third party servers are not available in Win32 builds, to access this type of servers use an UWP build")));default:return null}})))}function W3({loading:e,scrollViewRef:t}){const{t:a}=ws("PlayScreen.serverTab"),n=(0,l.useSharedFacet)(lh),o=(0,l.useFacetMap)((e=>e.networkDetails.type===Jv.External),[],[n]),c=(0,l.useFacetMap)((e=>Boolean(e.networkDetails.id)),[],[n]),i=(0,l.useFacetMap)((e=>e.networkDetails.name),[],[n]),s=(0,l.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]),u=(0,l.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),d=Rd("vanilla.hidePingAndPlayerCount"),m=(0,l.useFacetMap)((e=>!d&&""!==e.networkDetails.address&&0!==e.networkDetails.port),[d],[n]),p=Sc(),f=(0,l.useFacetMap)(((e,t,n,r)=>r?[a(".narrationScreen",[String(e)]),a(`.ServerDescription.${U3(t)}`),a(".ServerDescription."+(1===n?"personPlaying":"peoplePlaying"),[String(n)])].join(" . "):a(".narrationScreen",[String(e)])),[a],[i,s,u,m]);return r.createElement(bd,{text:f},r.createElement(B3,null),r.createElement(l.Mount,{when:c},r.createElement(r.Fragment,null,r.createElement(ud,{loading:e,innerRef:t,floating:"desktop"!==p,alwaysVisibleChildren:r.createElement(Vi,{size:"narrow"===p?1:2})},r.createElement(l.Mount,{when:o,condition:!1},r.createElement(r.Fragment,null,r.createElement(R3,{loading:e,pingAndPlayerCountVisible:m}),r.createElement(Vi,{size:"narrow"===p?2:4}),r.createElement(Lm.Space,null))),r.createElement(l.Mount,{when:o,condition:!0},r.createElement(r.Fragment,null,r.createElement(N3,{loading:e,pingAndPlayerCountVisible:m,showServerDetails:!0}),r.createElement(v3,null)))))))}function U3(e){switch(e){case Zv.Low:return"lowPing";case Zv.Medium:return"mediumPing";case Zv.High:return"highPing";default:return"unavailablePing"}}function z3(){const e=(0,l.useSharedFacet)(lh),t=(0,l.useSharedFacet)(cb),a=(0,l.useSharedFacet)(Cb),n=(0,l.useSharedFacet)(Vv),o=(0,r.useRef)(null),c=(0,r.useRef)(null),i=(0,l.useFacetMap)((e=>e.fetchThirdPartyWorldsTaskState===HI.DONE),[],[n]),s=(0,l.useFacetMap)((e=>e.isDevBuild),[],[t]),u=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[i,s]),d=(0,l.useFacetMap)(((e,t)=>!e.hasLoadedDetails||t),[],[e,u]),m=(0,r.useRef)(null),p=g(),f=(0,l.useFacetMap)((e=>null==e?void 0:e.id),[],[p]),E=(0,l.useFacetMap)((e=>(null==e?void 0:e.type)===lJ(Jv.External)?Jv.External:Jv.ThirdParty),[],[p]),b=(0,l.useFacetCallback)((e=>(t,a)=>{e.loadNetworkWorldDetails(t,a),m.current&&(m.current.scrollTop=0)}),[],[e]),h=(0,l.useFacetMap)((e=>e.externalServerWorlds),[],[a]),v=(0,l.useFacetMap)((e=>e.thirdPartyWorlds.length>0?e.thirdPartyWorlds[0].id:""),[],[n]),F=(0,l.useFacetMemo)(((e,t,a)=>t===Jv.External&&!a.some((t=>t.id===e))),[],[f,E,h]);return(0,l.useFacetEffect)(((e,t,a,n)=>{null==t||null==a||n?b(e,Jv.ThirdParty):b(t,a)}),[b],[v,f,E,F]),r.createElement(uu,{containerRef:o,delegateFocusByAlias:p3.SERVER_SIDE_MENU,delegateFocusFromMemory:!0},r.createElement(zM.Row,{innerRef:o},r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(E3,{loading:u})),r.createElement(uu,{containerRef:c,delegateFocusByAlias:p3.SERVER_DESCRIPTION},r.createElement(zM.Column,{wideSize:8,narrowSize:5,innerRef:c},r.createElement(W3,{loading:d,scrollViewRef:m})))))}function j3(){const{t:e}=ws("PlayScreen.serverTab"),t=o3(r3.SERVERS);return r.createElement(r.Fragment,null,r.createElement(l.Unwrap,{data:t},(t=>{switch(t){case"banned":return r.createElement($A.InTab,null);case"offline":return r.createElement(H3,null,r.createElement(sA,{text:e(".noInternetMessage")}));case"parental-online-safety":return r.createElement(KL,{variant:"parental"});case"online-safety":return r.createElement(KL,{variant:"online"});case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"multiplayer-disabled":case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(oD,{tab:QL.ServersTab}),r.createElement(z3,null));case"platform-guest-nintendo":return r.createElement(H3,null,r.createElement(RA,{context:NA.Nintendo}));case"platform-guest-playstation":return r.createElement(H3,null,r.createElement(RA,{context:NA.Playstation}));case"platform-multiplayer-disabled":return r.createElement(H3,null,r.createElement(sD,null));case"content":return r.createElement(z3,null);case"trial-mode":return r.createElement(aA,{context:tA.SERVERS});default:return r.createElement(H3,null,r.createElement(S4,{context:"servers"}))}})),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function H3({children:e}){return r.createElement(ud,{floating:!0},r.createElement(Vi,{size:2}),e,r.createElement(Lm.Space,null))}const G3=a.p+"assets/no-worlds-yet-art-446b1f244c652ef1c166.png";function V3(){const{t:e}=ws("PlayScreen.allWorlds"),t=(0,l.useSharedFacet)(yF),a=(0,l.useFacetMap)((t=>e(t?".emptyStateText.trialMode":".emptyStateText")),[e],[t]),n=Aw({wide:8,narrow:6,width:224});return r.createElement(aw,{title:e(".emptyStateTitle"),text:a,imgSrc:G3,imgClass:n?"ce61a8dc3c4e47d04638":"bf0e34df23b2bb909541"})}const $3=As((()=>{const{t:e}=ws("PlayScreen.worldMissingEntitlementModal"),t="pop-up-modal-worldMissingEntitlementModal",a=(0,l.useSharedFacet)(OY),n=Os(),[o,c]=(0,l.useFacetState)(!1),i=(0,l.useFacetMap)((e=>e.localWorlds.filter((e=>!e.allContentOwned))),[],[a]),s=(0,l.useFacetMap)((e=>e.length),[],[i]),u=(0,l.useFacetMemo)((e=>e.map((({name:e})=>e))),[],[i]),d=(0,l.useFacetMap)((t=>e(".body",[`${t}`])),[e],[s]),m=(0,l.useFacetCallback)(((e,t)=>()=>{e.doNotShowEntitlementsWarning=t,n()}),[n],[(0,l.useSharedFacet)(uh),o]);return r.createElement($m,{onOverlayClick:n,defaultFocusAlias:t},r.createElement($m.Header,{onClose:n},(0,l.useFacetMap)((t=>e(".title",[`${t}`])),[e],[s])),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:d},d),r.createElement($m.List,{items:u}),r.createElement(Vi,{size:4})),r.createElement($m.Buttons,{header:r.createElement($m.Checkbox,{value:o,onChange:e=>c(!!e),title:e(".doNotShowAgain")})},r.createElement(lm,{gamepadAlias:t,inputLegend:e(".close"),variant:"secondary",onClick:m},e(".close"))))})),X3=As((()=>{const{t:e}=ws("PlayScreen.cloudSyncWorldProgressModal");return r.createElement($m,null,r.createElement($m.Header,null,e(".title")),r.createElement($m.Content,null,r.createElement($m.Spinner,null)))})),K3=As((()=>{const e="pop-up-modal-cloudSyncWorldConnectionError",{t}=ws("PlayScreen.cloudSyncWorldConnectionError"),a=(0,l.useSharedFacet)(wF),n=Os(),o=(0,l.useFacetCallback)((e=>()=>{e.clearSyncWorldTaskState(),n()}),[n],[a]),c=t(".text");return r.createElement($m,{onOverlayClick:o,defaultFocusAlias:e},r.createElement($m.Header,{onClose:o},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c,center:!0},c)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:e,inputLegend:t(".close"),variant:"secondary",onClick:o},t(".close"))))})),Y3=As((()=>{const{t:e}=ws("PlayScreen.copyingWorldModal"),t=e(".body"),a=e(".title");return r.createElement($m,null,r.createElement($m.Header,null,a),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t,center:!0},t),r.createElement($m.Spinner,null)))})),q3=As((({onHandleStorage:e})=>{const{t}=ws("PlayScreen.insufficientDiskSpaceModal"),a="pop-up-modal-insufficientDiskSpaceModal",n=(0,l.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[(0,l.useSharedFacet)(VF)]);return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:n},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".body")},t(".body"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:a,inputLegend:t(".action"),variant:"primary",onClick:n},t(".action")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:t(".secondaryAction"),variant:"secondary",onClick:()=>{e(),n()}},t(".secondaryAction"))))})),Q3=As((()=>{const e="pop-up-modal-unknown-error",{t}=ws("PlayScreen.unknownErrorModal"),a=(0,l.useSharedFacet)(VF),n=(0,l.useFacetMap)((e=>{var a;const n=(null===(a=e.backupThenStartLocalWorld.result)||void 0===a?void 0:a.backupResult)===GF.IncorrectWorldId?GF.IncorrectWorldId:GF.UnknownError;return t(".errorCode",[`${n}`])}),[t],[a]),o=(0,l.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[a]),c=t(".body");return r.createElement($m,{defaultFocusAlias:e},r.createElement($m.Header,{onClose:o},t(".title")),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{center:!0,narrationText:(0,l.useFacetMap)((e=>[c,e].join(" . ")),[c],[n]),spaceBetweenParagraphs:2},r.createElement(Zi,{type:"captionLong"},c),r.createElement(Zi,{type:"captionLong"},n))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:e,inputLegend:t(".action"),variant:"secondary",onClick:o},t(".action"))))}));function J3(e){switch(e){case oh.BlockedByVersionError:return".blockedByVersion";case oh.InvalidUserError:case oh.UserNeedsToBeSignedInError:case oh.BlockedByPlatformError:case oh.BlockedByXBLError:case oh.ThirdPartyBadIPError:case oh.ThirdPartyNoServerOrServerLockedError:case oh.UnknownError:default:return".UnknownError"}}const Z3=As((()=>{const e=(0,l.useSharedFacet)(sh),{t}=ws("FriendsDrawer.joinFriendServerErrorModal"),a=(0,l.useFacetMap)((e=>e.joinFriendServerResult),[],[e]),n=(0,l.useFacetCallback)((e=>()=>{e.clearJoinFriendServerTaskState()}),[],[e]),o=(0,l.useFacetMap)((e=>t(`${J3(null!=e?e:void 0)}.title`)),[t],[a]),c=(0,l.useFacetMap)((e=>t(`${J3(null!=e?e:void 0)}.message`)),[t],[a]);return r.createElement($m,null,r.createElement($m.Header,null,o),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c,center:!0},c)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".cancel"),variant:"secondary",onClick:n},t(".cancel"))))})),e8=As((()=>{const{t:e}=ws("PlayScreen.importWorldProgressModal"),t=(0,l.useSharedFacet)(XF),a=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.importWorld.progress)&&void 0!==t?t:0}),[],[t]),n=e(".body");return r.createElement($m,null,r.createElement($m.Header,null,e(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},n),r.createElement($m.Progress,{percentage:a})))})),t8=As((()=>{const{t:e}=ws("PlayScreen.importWorldErrorModal"),t=(0,l.useSharedFacet)(XF),a="import-world-error-button-focus",n=(0,l.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[t]),o=e(".close"),c=e(".unknownError.body");return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:n},e(".unknownError.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:c,center:!0},c)),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"secondary",inputLegend:o,onClick:n,gamepadAlias:a},o)))})),a8=(0,r.createContext)({getSelectedWorldId:()=>(0,l.createFacet)({initialValue:""}),setSelectedWorldId:()=>{}}),n8=()=>(0,r.useContext)(a8);function r8(){const{t:e}=ah("PlayScreen"),t=NH.useModal(),{getSelectedWorldId:a,setSelectedWorldId:n}=n8(),o=p(),c=(0,l.useSharedFacet)(VF),i=(0,l.useSharedFacet)(wF),s=(0,l.useSharedFacet)(XF),u=(0,l.useSharedFacet)(OY),d=(0,l.useSharedFacet)(uh),m=(0,l.useSharedFacet)(dh),E=(0,l.useSharedFacet)(jF),b=(0,l.useFacetMap)((e=>e.isReadyForDownload),[],[E]),h=(0,l.useFacetMap)((e=>{var t;return e.importWorld.state===eF.InProgress&&(null!==(t=e.importWorld.progress)&&void 0!==t?t:0)>0}),[],[s]),v=(0,l.useFacetMap)((e=>null!=e.importWorld.result&&e.importWorld.result!==$F.Success&&e.importWorld.result!==$F.InterruptedByUser),[],[s]),F=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===HF.HasUnownedPacks}),[],[c]),y=(0,l.useFacetMap)(((e,t)=>e&&"all"===t.tab),[],[f(),g()]),S=(0,l.useFacetMap)(((e,{doNotShowEntitlementsWarning:t})=>{const a=e.localWorlds.filter((e=>!e.allContentOwned)).length>0;return!t&&a}),[],[u,d]),C=(0,l.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[E]),M=(0,l.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&(t===HF.WorldSavedInNewerVersion||t===HF.WorldNotInLevelList||t===HF.RealmsPlusEnded||t===HF.UnknownError)}),[],[c]),w=(0,l.useFacetMap)((e=>e.syncWorldTaskState===HI.RUNNING),[],[i]),k=(0,l.useFacetMap)((e=>e.syncWorldTaskState===HI.FAILED),[],[i]),P=(0,l.useFacetMap)((e=>e.backupThenStartLocalWorld.state===eF.InProgress),[],[c]),T=(0,l.useFacetMap)((e=>{var t,a;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===GF.IncorrectWorldId||(null===(a=e.backupThenStartLocalWorld.result)||void 0===a?void 0:a.backupResult)===GF.UnknownError}),[],[c]),I=(0,l.useFacetMap)((e=>{var t;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===GF.InsufficientDiskSpace}),[],[c]),x=(0,l.useFacetMap)((e=>null!=e.joinFriendServerResult&&e.joinFriendServerResult!==oh.OK&&e.joinFriendServerResult!==oh.UserBannedError&&e.joinFriendServerResult!==oh.NoInternetError),[],[(0,l.useSharedFacet)(sh)]),O=(0,l.useFacetMap)((e=>e.startLocalWorldTaskState===HI.RUNNING),[],[c]),A=a(),{downloadAssetsAndStartWorld:N,hasMissingPacks:R,hasMissingTemplate:L}=pY(),D=(0,l.useFacetCallback)(((a,n,r)=>()=>{null!=a&&(r||t.show(),N(encodeURI(a),(()=>{n.queueSnackbar(e(".missingDependenciesModal.downloadComplete"))})))}),[N,e,t],[A,m,b]),_=(0,l.useFacetCallback)((e=>()=>{n(null),e.clearStartLocalWorldResult()}),[n],[c]),B=(0,l.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===HF.MissingDependencies),[],[A,c]),W=(0,l.useFacetMap)((e=>e.startLocalWorldResult===HF.DlcMissingContentKey),[],[c]);return(0,l.useFacetEffect)((e=>{(e.packDownloadError===zF.InitializationTimeout||e.isReadyForDownload)&&t.hide()}),[t],[E]),r.createElement(l.Mount,{when:y},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:M},r.createElement(EY.Component,null)),r.createElement(l.Mount,{when:F},r.createElement(gY.Component,null)),r.createElement(l.Mount,{when:S},r.createElement($3.Component,null)),r.createElement(l.Mount,{when:w},r.createElement(X3.Component,null)),r.createElement(l.Mount,{when:k},r.createElement(K3.Component,null)),r.createElement(l.Mount,{when:P},r.createElement(Y3.Component,null)),r.createElement(l.Mount,{when:I},r.createElement(q3.Component,{onHandleStorage:()=>o.push("/settings/storage")})),r.createElement(l.Mount,{when:C},r.createElement(sY.Component,null)),r.createElement(l.Mount,{when:T},r.createElement(Q3.Component,null)),r.createElement(l.Mount,{when:x},r.createElement(Z3.Component,null)),r.createElement(l.Mount,{when:O},r.createElement(Jw.Component,{title:e(".startLocalWorldModal.title")})),r.createElement(l.Mount,{when:h},r.createElement(e8.Component,null)),r.createElement(l.Mount,{when:v},r.createElement(t8.Component,null)),r.createElement(l.Mount,{when:W},r.createElement(cY.Component,null)),r.createElement(l.Mount,{when:B},r.createElement(dY.Component,{onClose:_,onAccept:D,hasMissingPacks:R,hasMissingTemplate:L})),r.createElement(l.Mount,{when:t.isVisible},r.createElement(NH.Component,{onClose:t.hide}))))}const l8=a.p+"assets/import-world-icon-4e8aa37086d435c7b044.png";let o8,c8;function i8(e="Play"){const t=p(),a=JT();return(0,r.useCallback)((()=>{a({button:"CreateNewWorld",screen:e}),t.push("/create-new-world")}),[a,e,t])}!function(e){e.Featured="Featured Creators",e.MarketplacePass="Marketplace Pass",e.OwnedByMe="Owned by me"}(o8||(o8={})),function(e){e.Featured="featured-creators",e.MarketplacePass="marketplace-pass",e.OwnedByMe="owned-by-me"}(c8||(c8={}));function s8(){}function u8({item:e,index:t,numberOfButtons:a,t:n,breakpoint:o}){const c=(0,l.useFacetMap)((({narrationSuffix:e},a)=>[n(".buttonSiblings",[`${t+1}`,`${a}`]),e].join(" . ")),[n,t],[e,a]),i=(0,l.useFacetMap)((({text:e})=>e),[],[e]),s=(0,l.useFacetMap)((({imgSrc:e})=>e),[],[e]),u=(0,l.useFacetMap)((({gamepadAlias:e})=>e),[],[e]),d=(0,l.useFacetMap)((({inputLegend:e,text:t})=>null!=e?e:t),[],[e]),m=(0,l.useFacetMap)((e=>t<e-1),[t],[a]),p=(0,l.useFacetCallback)((({onClick:e})=>null!=e?e:s8),[],[e]),f=(0,l.useFacetMap)((({variant:e})=>e),[],[e]);return r.createElement(l.Unwrap,{data:f},(e=>r.createElement(r.Fragment,null,r.createElement("div",{className:"f2626fe85bf29e6a9fd2"},r.createElement(lm,{inputLegend:d,narrationSuffix:c,variant:null!=e?e:"secondary",onClick:p,imgSrc:s,gamepadAlias:u},i)),r.createElement(l.Mount,{when:m},r.createElement(Vi,{size:"narrow"===o?2:4})))))}function d8({navigationButtons:e,layoutButton:t}){const{t:a}=ws("PlayScreen.ButtonHeader.narration"),n=Sc(),o=(0,l.useFacetMap)((e=>e.length),[],[e]),c="narrow"===Sc(102);return r.createElement(m8,{layoutButton:c?null:t},r.createElement("div",{className:"a4325920089ee8893b56"},r.createElement(l.Map,{array:e},((e,t)=>r.createElement(u8,{t:a,breakpoint:n,item:e,index:t,numberOfButtons:o})))))}function m8({layoutButton:e,children:t}){return null==e?r.createElement(r.Fragment,null,t):r.createElement("div",{className:"bd51dc370d84ef945de9"},e,r.createElement("div",{className:"d9ee0f593d3d5d9d249e"},t))}function p8({text:e,link:t,onClose:a=(()=>{}),onCloseTestId:n}){const l=p();return r.createElement(xO,{"close-button-test-id":n,role:"neutral100",onClose:a},r.createElement(xO.Text,null,e),r.createElement(xO.Link,{onClick:()=>l.push("/settings/storage")},t))}function f8({onClose:e,variant:t,onCloseTestId:a}){const n=p(),{t:l}=ws(`PlayScreen.outdatedOrRetailWorldsBanner.${t}`),{t:o}=ws("PlayScreen.outdatedOrRetailWorldsBanner");return r.createElement(xO,{role:"informative",onClose:e,"close-button-test-id":a},r.createElement(xO.Text,null,l(".text")),r.createElement(xO.Link,{onClick:()=>n.push("/settings/storage")},o(".link")))}function g8(){const{t:e}=ws("PlayScreen.AllWorldsTab.BannedOrSuspendedBanner"),t=(0,l.useFacetMap)((e=>jA(e.banExpiration)),[],[(0,l.useSharedFacet)(FF)]),a=(0,l.useFacetMap)((t=>e(t?".suspended.text":".banned.text")),[e],[t]),n=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.BannedHelpPage)}),[],[(0,l.useSharedFacet)(CF)]),o=(0,l.useFacetMap)((e=>e.banExpiration),[],[(0,l.useSharedFacet)(FF)]);return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,a),r.createElement(l.Mount,{when:t},r.createElement(zA,{banExpiration:o})),r.createElement(xO.Link,{onClick:n},e(".linkText")))}function E8(){const{t:e}=ws("PlayScreen.AllWorldsTab.MultiplayerDisabledBanner"),t=_I(),a=(0,l.useFacetMap)((e=>II(e.platform)),[],[(0,l.useSharedFacet)(_l)]),n=(0,l.useFacetMap)((t=>e(t?".parentalText":".text")),[e],[t]),o=(0,l.useFacetMap)((t=>e(t?".fixNow":".linkText")),[e],[a]),c=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{n?a.updateMultiplayerPrivilegeUsingSystemModal():e.openLink(t?SF.ParentPermissionHelpPage:SF.TroubleshootingMultiplayerDisabled)}),[],[(0,l.useSharedFacet)(CF),t,(0,l.useSharedFacet)(FF),a]);return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,n),r.createElement(xO.Link,{onClick:c},o))}function b8(){const e=(0,l.useSharedFacet)(uh),{t}=ws("PlayScreen.storageBanner"),{t:a}=ws("StorageIndicator"),n=function(){const e=gQ(),t=(0,l.useSharedFacet)(_l),a=(0,l.useFacetMap)((e=>e.storageType),[],[t]),n=(0,l.useFacetMap)(((e,t,a)=>!a&&!t.doNotShowOldWorldsWarning&&OI(e.platform)),[],[t,(0,l.useSharedFacet)(uh),(0,l.useSharedFacet)(sb)]),r=(0,l.useFacetMap)(((e,t,a)=>a&&!t.doNotShowOldWorldsWarning&&OI(e.platform)&&e.platform!==Ye.PS5),[],[t,(0,l.useSharedFacet)(uh),(0,l.useSharedFacet)(sb)]),o=(0,l.useFacetMap)(((e,t,a)=>a&&!t.doNotShowOldWorldsWarning&&e.platform===Ye.PS5),[],[t,(0,l.useSharedFacet)(uh),(0,l.useSharedFacet)(sb)]),c=(0,l.useFacetMap)(((e,t,a)=>!t&&e&&!a.doNotShowHiddenAlternativeStorageWorldsWarning),[],[e.alternativeStorageHasWorlds,e.isEmpty,(0,l.useSharedFacet)(uh)]),i=(0,l.useFacetMap)(((e,t,a)=>e===Ll.EXTERNAL&&!t&&!a.doNotShowUsingExternalStorageWarning),[],[a,e.alternativeStorageHasWorlds,(0,l.useSharedFacet)(uh)]),s=(0,l.useFacetMap)(((e,t,a)=>e===Ll.EXTERNAL&&t&&!a.doNotShowHiddenLocalWorldsWarning),[],[a,c,(0,l.useSharedFacet)(uh)]),u=(0,l.useFacetMap)(((e,t)=>e===Ll.APPDATA&&t),[],[a,c]),d=(0,l.useFacetMap)(((e,t,a)=>e&&a&&!t.doNotShowAlternativeStorageHasWorlds),[],[e.isEmpty,(0,l.useSharedFacet)(uh),e.alternativeStorageHasWorlds]),m=(0,l.useFacetMap)((({isStorageFull:e,isStorageLow:t})=>e||t),[],[t]),p=GA(),f=(0,l.useFacetMap)(((e,t)=>!e&&t),[],[p,zI()]);return{possiblyOldWorldsAvailableRetail:n,possiblyRetailWorldsAvailablePreview:r,possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5:o,worldsOnAlternativeStorageAndCurrentStorage:c,alternativeStorageHasWorlds:e.alternativeStorageHasWorlds,worldsOnlyOnAlternativeStorageWhenOnRegular:d,worldsUsingAlternativeStorage:i,worldsOnBothStoragesUsingAlternativeStorage:s,worldsOnBothStoragesUsingRegularStorage:u,showStorageIndicator:m,playerIsBannedOrSuspended:p,multiplayerIsDisabled:f}}(),o=(0,l.useFacetCallback)((e=>()=>{e.doNotShowOldWorldsWarning=!0}),[],[e]),c=(0,l.useFacetCallback)((e=>()=>{e.doNotShowHiddenLocalWorldsWarning=!0}),[],[e]),i=(0,l.useFacetCallback)((e=>()=>{e.doNotShowHiddenAlternativeStorageWorldsWarning=!0}),[],[e]),s=(0,l.useFacetCallback)((e=>()=>{e.doNotShowUsingExternalStorageWarning=!0}),[],[e]),u=(0,l.useFacetCallback)((e=>()=>{e.doNotShowAlternativeStorageHasWorlds=!0}),[],[(0,l.useSharedFacet)(uh)]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:n.playerIsBannedOrSuspended},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(g8,null))),r.createElement(l.Mount,{when:n.multiplayerIsDisabled},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(E8,null))),r.createElement(l.Mount,{when:n.showStorageIndicator},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(wG,{labelFull:a(".storageLabelFullEnterWorld"),labelLow:a(".storageLabelAlmostFullEnterWorld")}))),r.createElement(l.Mount,{when:n.worldsUsingAlternativeStorage},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(p8,{onCloseTestId:"worlds-using-alternative-storage",onClose:s,text:t(".externalStorageWarningText"),link:t(".manageStorageLink")}))),r.createElement(l.Mount,{when:n.worldsOnlyOnAlternativeStorageWhenOnRegular},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(p8,{onCloseTestId:"worlds-only-on-alternative-storage-when-on-regular",text:t(".changeStorageText"),link:t(".changeStorageLink"),onClose:u}))),r.createElement(l.Mount,{when:n.worldsOnBothStoragesUsingRegularStorage},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(p8,{onCloseTestId:"worlds-on-both-storages-using-regular-storage",text:t(".alternativeStorageWorldsHiddenText"),link:t(".changeStorageLink"),onClose:i}))),r.createElement(l.Mount,{when:n.worldsOnBothStoragesUsingAlternativeStorage},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(p8,{onCloseTestId:"worlds-on-both-storages-using-alternative-storage",text:t(".localWorldsHiddenText"),link:t(".changeStorageLink"),onClose:c}))),r.createElement(l.Mount,{when:n.possiblyOldWorldsAvailableRetail},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(f8,{onCloseTestId:"possibly-old-worlds-available-retail",onClose:o,variant:"retail"}))),r.createElement(l.Mount,{when:n.possiblyRetailWorldsAvailablePreview},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(f8,{onCloseTestId:"possibly-retail-worlds-available-preview",onClose:o,variant:"preview"}))),r.createElement(l.Mount,{when:n.possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(f8,{onCloseTestId:"possibly-retail-and-old-worlds-available-preview",onClose:o,variant:"previewPS5"}))))}const h8=As((({onClose:e})=>{const{t}=ws("PlayScreen.templateScreenNotAvailableInPreview"),a="backButton";return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{center:!0,narrationText:t(".text")},t(".text"))),r.createElement($m.Buttons,null,r.createElement(lm,{delayedClick:!0,onClick:e,gamepadAlias:a,inputLegend:t(".close"),variant:"primary"},t(".close")),r.createElement(Vi,{size:1})))}));function v8({isListLayout:e,onClick:t}){const{t:a}=ws("PlayScreen.layoutButton"),{narrateText:n}=sd({interruptible:!1}),o=`${a(".toggleGrid")} . ${a(".componentRole")}`,c=`${a(".toggleList")} . ${a(".componentRole")}`;return r.createElement(xi,{value:!1},r.createElement(yP,{inputLegend:(0,l.useFacetMap)((e=>a(e?".toggleGrid":".toggleList")),[a],[e]),narrationText:(0,l.useFacetMap)((e=>e?o:c),[o,c],[e]),onClick:(0,l.useFacetCallback)((e=>()=>{t(),n(a(e?".worldsInGrid":".worldsInList"))}),[t,n,a],[e]),height:4.4,variant:"neutral60",reflection:"bevel",className:"bc51950facfd8d978273","data-testid":"all-worlds-layout-button"},r.createElement(LM.Grid,{width:24,height:24,style:{display:(0,l.useFacetMap)((e=>e?"none":"flex"),[],[e])}}),r.createElement(LM.List,{width:24,height:24,style:{display:(0,l.useFacetMap)((e=>e?"flex":"none"),[],[e])}})))}function F8(e){const{f:t}=ws("WorldListItem"),{t:a}=ws("WorldListItem.narration");return(0,l.useFacetMap)((e=>{if(null==e||e<1)return[];const n=t.formatDate(e);return[{displayText:n,narrationText:a(".lastSaved",[n])}]}),[t,a],[e])}function y8(e){const t=p(),a=(0,l.useSharedFacet)(wF),n=(0,l.useFacetMap)((e=>e.syncWorldTaskState),[],[a]);return VI(((e,a)=>function*(){const r=a.id;a.requiresCloudSync&&(e.syncWorld(r),yield n,e.clearSyncWorldTaskState()),t.push(`/edit-world/${encodeURIComponent(r)}`)}),[n,t],[a,e])}function S8(e,t){return e>1?t*(e-1):0}function C8({currentPage:e,worldsPerPage:t,localWorlds:a,lanAndFriendWorlds:n,totalAmountOfPages:r,delegateFocus:o}){const c=p(),i=(0,l.useFacetWrap)(t),s=(0,l.useFacetMemo)(((e,t,a,n)=>{const r=(a-1)*n;return function({rangeStart:e,rangeEnd:t,lanAndFriendWorlds:a,localWorlds:n}){const r=[],l=[],o=a.length+n.length;for(let c=e;c<Math.min(t,o);c++)c<a.length?r.push(a[c]):l.push(n[c-a.length]);return{lanAndFriendWorlds:r,localWorlds:l}}({rangeStart:r,rangeEnd:r+n,lanAndFriendWorlds:e,localWorlds:t})}),[],[n,a,e,i]),u=(0,l.useFacetMap)((e=>e.lanAndFriendWorlds),[],[s]),d=(0,l.useFacetMap)((e=>e.localWorlds),[],[s]),m=(0,l.useFacetMap)(((e,t)=>S8(e,t)),[],[e,i]),f=(0,l.useFacetMap)(((e,t,a)=>S8(a,t)+e.length),[],[u,i,e]);return(0,l.useFacetEffect)(((e,t)=>{e<t&&setTimeout((()=>{c.replace(`/play/all?page=${e}`)}),1)}),[c],[r,e]),{currentLanAndFriendWorldData:u,currentLocalWorldData:d,changeWorldGridPage:(0,l.useFacetCallback)((e=>t=>{e!=t&&(c.replace(`/play/all/?page=${t}`),o&&requestAnimationFrame((()=>o.first())))}),[c,o],[e]),localWorldIndexOffset:f,lanWorldIndexOffset:m}}function M8(e,t,a,n,r,o){return(0,l.useFacetCallback)(((n,r,l)=>()=>{if(r)a(n),t();else{let t=`/online-play-warning/${lJ(Jv.LAN)}/${n}`;l&&(t+="?isFriendWorld=true"),e.push(t)}}),[e,t,a],[n,r,o])}function w8(e,t){return(0,l.useFacetMap)(((e,t,a)=>II(a.platform)&&e===qq.Friend&&null!=t),[],[e,t,(0,l.useSharedFacet)(_l)])}function k8({world:e,index:t,indexOffset:a,totalNrOfWorlds:n,onWorldClick:o}){const c=(0,l.useFacetMap)((e=>e.id),[],[e]),i=(0,l.useFacetMap)((e=>e.name),[],[e]),s=(0,l.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),u=uQ(e),d=(0,l.createFacet)({initialValue:[]}),m=(0,l.useFacetMap)((e=>e.previewImgPath),[],[e]),p=(0,l.useFacetMap)((e=>e.requiresCloudSync),[],[e]),f=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),g=(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),E=(0,l.useFacetMap)((e=>e.playerHasDied),[],[e]),b=function(e){const t=(0,l.useFacetMap)((e=>e.fileSize),[],[e]),a=(0,l.useFacetMap)((e=>e.lastSaved),[],[e]),n=function(e){const{t}=ws("WorldListItem.narration");return(0,l.useFacetMap)((e=>null==e?[]:[{displayText:e,narrationText:t(".worldSize",[e])}]),[t],[e])}(t),r=F8(a);return(0,l.useFacetMap)(((e,t)=>[...e,...t]),[],[n,r])}(e),{startLocalWorldWithPrerequisitesCallback:h,StartLocalWorldPrerequisiteModalsComponent:v}=IY(e),F=(0,l.useFacetCallback)((e=>()=>{o(e),h()}),[h,o],[c]);return r.createElement(r.Fragment,null,r.createElement(v,null),r.createElement(aQ,{id:c,title:i,gameModeTags:u,worldTypeTags:d,imageSrc:m,requiresCloudSync:p,containerListLength:n,narrationIndex:f,onEdit:y8(e),onWorldClick:F,isMultiplayerWorld:s,isHardcore:g,playerHasDied:E,metadataList:b,worldType:(0,l.useFacetWrap)(qq.Local)}))}function P8({lanOrFriendWorld:e,index:t,indexOffset:a,numberOfWorlds:n,onWorldClick:o}){const{t:c}=ws("WorldList"),i=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),s=(0,l.useFacetMap)((e=>e.id),[],[e]),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=(0,l.useFacetMap)((e=>e.ownerName?c(".lanWorldOwner",[e.ownerName]):void 0),[c],[e]),m=(0,l.useFacetMap)((e=>e.ownerId),[],[e]),f=iQ(e),g=sQ(e),E=(0,l.useFacetMap)((e=>e.playerCount),[],[e]),b=(0,l.useFacetMap)((e=>e.capacity),[],[e]),h=(0,l.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[e]),v=(0,l.useFacetMap)((e=>e.friendWorld),[],[e]),F=(0,l.useFacetMap)((e=>e.friendWorld?qq.Friend:qq.LAN),[],[e]),y=rJ(s,v),S=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,l.useSharedFacet)(uh)]),C=M8(p(),y,o,s,S,v),M=(0,l.useFacetMap)((e=>`${e===qq.Friend?"friend":"lan"}-world-list-item-${t}`),[t],[F]),w=w8(F,m),k=(0,l.useFacetCallback)(((e,t)=>()=>{null!=t&&""!==t&&e.showXboxProfileCard(t)}),[],[(0,l.useSharedFacet)(Rh),m]);return r.createElement(aQ,{testId:M,id:s,title:u,subtitle:d,worldTypeTags:f,gameModeTags:g,containerListLength:n,narrationIndex:i,onWorldClick:C,amountOfPlayersOnline:E,capacity:b,worldFull:h,isMultiplayerWorld:(0,l.useFacetWrap)(!0),worldType:F,showProfileInputLegend:w,onViewProfile:k})}function T8({localWorlds:e,lanAndFriendWorlds:t,totalNrOfWorlds:a,onPagination:n}){const{setSelectedWorldId:o}=n8(),c=(0,r.useCallback)((e=>{o(e)}),[o]),i=(0,l.useFacetMap)((e=>Math.ceil(e/12)),[],[a]),{delegationEventFacet:s,delegateFocus:u}=Js(),d=(0,r.useRef)(null),m=(0,r.useRef)(null),[p,f]=(0,l.useFacetState)(1);(0,l.useFacetEffect)((e=>{const t=e.get("page");null!=t&&f(Number(t))}),[f,u,n],[h()]);const{localWorldIndexOffset:g,currentLanAndFriendWorldData:E,lanWorldIndexOffset:b,currentLocalWorldData:v,changeWorldGridPage:F}=C8({currentPage:p,worldsPerPage:12,lanAndFriendWorlds:t,localWorlds:e,totalAmountOfPages:i,delegateFocus:u});return(0,l.useFacetEffect)((()=>{n()}),[u,n],[p]),r.createElement(r.Fragment,null,r.createElement(eu,{delegationEvent:s},r.createElement(uu,{containerRef:d,delegateFocusFromMemory:!0},r.createElement("div",{ref:d},r.createElement(l.Map,{array:E},((e,t)=>r.createElement(r.Fragment,null,t>0&&r.createElement(Vi,{size:2}),r.createElement(P8,{lanOrFriendWorld:e,index:t,indexOffset:b,numberOfWorlds:a,onWorldClick:c})))),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e.length>0),[],[E])},r.createElement(Vi,{size:2})),r.createElement(l.Map,{array:v},((e,t)=>r.createElement(r.Fragment,null,t>0&&r.createElement(Vi,{size:2}),r.createElement(k8,{world:e,indexOffset:g,index:t,totalNrOfWorlds:a,onWorldClick:c})))),r.createElement(Vi,{size:3})))),r.createElement(uu,{containerRef:m},r.createElement("div",{ref:m},r.createElement(FO,{totalPages:i,currentPage:p,onChange:F}))))}function I8({children:e,position:t,isHardcore:a}){const n=Yr("neutral80"),o=(0,l.useFacetMap)((e=>{const a="top"==t?e?"dcc5781e192871e7009c":"b1cf16c95320d86579e5":e?"d80e31df90cf6ee7af98":"dc39cc52471a5b453707";return dl()("d91aca83467a2ca6c733",n.background.base,n.border.base,a)}),[t,n],[a]);return r.createElement("fast-div",{className:o},e)}function x8({src:e,isGrayscale:t}){return r.createElement("div",{className:"e5a8d2d11756a9a6d383"},r.createElement(pu,{src:e,isGrayscale:t,aspectRatio:pu.AspectRatio["16:9"]}))}const O8=()=>{};function A8({id:e,title:t,subtitle:a,imageSrc:n,requiresCloudSync:o,gameModeTags:c,worldTypeTags:i,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,amountOfPlayersOnline:p,capacity:f,isMultiplayerWorld:g,isHardcore:E,playerHasDied:b,className:h,testId:v,worldType:F,onViewProfile:y,showProfileInputLegend:S=!1}){const{t:C}=ws("WorldCard"),{t:M}=ws("WorldCard.narration"),w=(0,l.useFacetWrap)(null!=o&&o),k=(0,l.useFacetWrap)(null!=p?p:0),P=(0,l.useFacetWrap)(null!=f?f:0),T=(0,l.useFacetWrap)(null!=E&&E),I=(0,l.useFacetWrap)(null!=b&&b),x=(0,l.useFacetMap)((e=>null!=e?e:""),[],[(0,l.useFacetWrap)(null!=a?a:"")]),O=(0,l.useFacetMap)((e=>e&&null!=y),[y],[(0,l.useFacetWrap)(S)]),[A,N]=(0,l.useFacetState)(!1),R=null!=d,L=rt(),D=(0,l.useFacetMap)((e=>R&&!e),[R],[L]),_=(0,l.useFacetMap)((e=>R&&e),[R],[L]),B=(0,l.useFacetWrap)(u),W=(0,l.useFacetMap)(((e,t,a,n,r)=>[e,M(L8(r)),t>0?M(".gridAmountContext",[`${n}`,`${t}`]):void 0,,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[M],[t,m,c,B,F]),U=(0,l.useFacetMap)(((e,t)=>t?Dq:null!=e&&e.length>0?e:Lq),[],[(0,l.useFacetWrap)(n),w]),z=(0,l.useFacetCallback)((e=>()=>d&&d(e)),[d],[e]),H=(0,l.useFacetMap)((e=>e?[M(".play"),M(".buttonSiblings",["1","2"])].join(" . "):[M(".play"),C(".button")].join(" . ")),[C,M],[D]),G=(0,l.useFacetMap)((e=>e.length>0),[],[x]),V=Gq.useModal(),$=$q.useModal(),X=GA(),K=Kq(g),Y=Yq(g),q=(0,l.useFacetMap)(((e,t,a)=>a.length>0&&!e&&!t),[],[K,Y,i]),Q=(0,l.useFacetMap)(((e,t)=>t&&e),[],[g,X]),J=(0,l.useFacetCallback)(((e,t)=>()=>{t?$.show():e?V.show():s()}),[s,V,$],[K,Q]);return r.createElement(hl,null,r.createElement(bd,{text:W},r.createElement("div",{className:h},r.createElement(N8,{onHoverChanged:N,onClick:J},r.createElement(x8,{src:U}),r.createElement(l.Mount,{when:K},r.createElement(I8,{position:"top",isHardcore:T},r.createElement(rk,{role:"destructiveTint"},C(".multiplayerDisabled")))),r.createElement(l.Mount,{when:Y},r.createElement(I8,{position:"top",isHardcore:T},r.createElement(rk,{role:"destructiveTint"},C(".multiplayerWorldOffline")))),r.createElement(l.Mount,{when:q},r.createElement(I8,{position:"top",isHardcore:T},r.createElement(l.Map,{array:i},(e=>r.createElement(R8,{tag:e}))))),r.createElement(l.Mount,{when:T},r.createElement(lG,{className:"c76e610f7477e7011ef1",animate:A,startFrame:8,dead:I})),r.createElement(l.Mount,{when:T},r.createElement(Xq,{className:"ee4371abd6bde019ebc2",useGreyBorder:I})),r.createElement(I8,{position:"bottom",isHardcore:T},r.createElement(l.Unwrap,{data:w},(e=>e?r.createElement("div",{className:"a295fe9e7e6b065abfc8"},r.createElement(Zq,null)):r.createElement(l.Map,{array:c},(e=>r.createElement(R8,{tag:e}))))))),r.createElement(iI,{className:"c51feb1ff6198eeeda4f"},r.createElement(iI.Action,{testId:(0,l.useFacetMap)(((e,t,a)=>null!=a?a:e?"multiplayer-world-card-primary-action-"+(t-1):"world-card-primary-action-"+(t-1)),[],[g,B,(0,l.useFacetWrap)(v)]),inputLegend:C(".play"),narrationText:H,onClick:J,onFocusChanged:N,onHoverChanged:N,gamepadAlias:(0,l.useFacetMap)((e=>`world-card-${e}`),[],[e])},r.createElement("div",{className:"f4cdf5aa00bb39aa4d2b"},r.createElement(Zi,{type:"body",overflowEllipsis:!0},t),r.createElement(l.Mount,{when:G},r.createElement(Zi,{type:"body",variant:"dimmer",overflowEllipsis:!0},x))),r.createElement("div",{className:"b1f772b5f2f068945f34"},r.createElement(jq,{amountOfPlayersOnline:k,capacity:P}))),r.createElement(l.Mount,{when:D},r.createElement(iI.AdditionalAction,{fitContent:!0,onClick:z,inputLegend:C(".edit"),narrationText:[M(".edit"),M(".buttonSiblings",["2","2"])].join(" . "),gamepadAlias:(0,l.useFacetMap)((e=>`world-button-${e}`),[],[e])},r.createElement("div",{className:"e7c1bf13046961965904"},r.createElement(LM.Edit,null))))),r.createElement(l.Mount,{when:_},r.createElement(Ed,{options:{button:j.X,inputLegend:C(".edit")},onClick:z})),r.createElement(l.Mount,{when:O},r.createElement(Ed,{options:{button:j.Y,inputLegend:C(".viewXboxProfile")},onClick:null!=y?y:O8})),r.createElement(l.Mount,{when:$.isVisible},r.createElement($q.Component,{onClose:$.hide,onPlayOffline:s})),r.createElement(l.Mount,{when:V.isVisible},r.createElement(Gq.Component,{onClose:V.hide,onPlayOffline:s})))))}function N8({children:e,onClick:t,onHoverChanged:a}){const n=Qr("neutral"),l=Yr("neutral");return r.createElement(Wi,{narrationText:"",onHoverChanged:a,inputLegend:"",onClick:t,nonFocusable:!0,soundEffectPressed:n.press,className:dl()("f6ae5cf73b33d1a13d74",l.background.base,l.border.base)},e)}function R8({tag:e}){const t=(0,l.useFacetMap)((e=>e.role),[],[e]),a=(0,l.useFacetMap)((e=>e.label),[],[e]);return r.createElement(rk,{role:t},a)}function L8(e){switch(e){case qq.Local:return".componentRoleLocal";case qq.LAN:return".componentRoleLan";case qq.Friend:return".componentRoleFriend"}}const D8="e68211ccf6e769b90c12",_8="ebc7e99471c55b261aaf";function B8({localWorld:e,index:t,indexOffset:a,totalNrOfWorlds:n,onWorldClick:o}){const c=(0,l.useFacetMap)((e=>e.isMultiplayerEnabled),[],[e]),i=(0,l.useFacetMap)((e=>e.id),[],[e]),s=(0,l.useFacetMap)((e=>e.name),[],[e]),u=F8((0,l.useFacetMap)((e=>e.lastSaved),[],[e])),d=(0,l.useFacetMap)((e=>{if(!(e.length<1))return e[0].displayText}),[],[u]),m=(0,l.useFacetMap)((e=>e.previewImgPath),[],[e]),p=uQ(e),f=(0,l.createFacet)({initialValue:[]}),g=(0,l.useFacetMap)((e=>e.requiresCloudSync),[],[e]),E=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),b=(0,l.useFacetMap)((e=>e.isHardcore),[],[e]),h=(0,l.useFacetMap)((e=>e.playerHasDied),[],[e]),{startLocalWorldWithPrerequisitesCallback:v,StartLocalWorldPrerequisiteModalsComponent:F}=IY(e),y=(0,l.useFacetCallback)((e=>()=>{o(e),v()}),[o,v],[i]);return r.createElement(r.Fragment,null,r.createElement(F,null),r.createElement("div",{className:D8},r.createElement(A8,{id:i,className:_8,title:s,subtitle:d,imageSrc:m,requiresCloudSync:g,gameModeTags:p,worldTypeTags:f,containerListLength:n,narrationIndex:E,isHardcore:b,playerHasDied:h,onEdit:y8(e),onWorldClick:y,isMultiplayerWorld:c,worldType:(0,l.useFacetWrap)(qq.Local)})))}function W8({lanOrFriendWorld:e,index:t,indexOffset:a,totalNrOfWorlds:n,onWorldClick:o}){const{t:c}=ws("WorldGrid"),i=(0,l.useFacetMap)((e=>e+t+1),[t],[a]),s=(0,l.useFacetMap)((e=>e.id),[],[e]),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=(0,l.useFacetMap)((e=>e.ownerName?c(".lanWorldOwner",[e.ownerName]):void 0),[c],[e]),m=(0,l.useFacetMap)((e=>e.ownerId),[],[e]),f=iQ(e),g=sQ(e),E=(0,l.useFacetMap)((e=>e.playerCount),[],[e]),b=(0,l.useFacetMap)((e=>e.capacity),[],[e]),h=(0,l.useFacetMap)((e=>e.friendWorld),[],[e]),v=(0,l.useFacetMap)((e=>e.friendWorld?qq.Friend:qq.LAN),[],[e]),F=rJ(s,h),y=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,l.useSharedFacet)(uh)]),S=M8(p(),F,o,s,y,h),C=(0,l.useFacetMap)((e=>`${e===qq.Friend?"friend":"lan"}-world-card-${t}`),[t],[v]),M=w8(v,m),w=(0,l.useFacetCallback)(((e,t)=>()=>{null!=t&&""!==t&&e.showXboxProfileCard(t)}),[],[(0,l.useSharedFacet)(Rh),m]);return r.createElement("div",{className:D8},r.createElement(A8,{testId:C,id:s,className:_8,title:u,subtitle:d,worldTypeTags:f,gameModeTags:g,amountOfPlayersOnline:E,capacity:b,containerListLength:n,narrationIndex:i,onWorldClick:S,isMultiplayerWorld:(0,l.useFacetWrap)(!0),worldType:v,showProfileInputLegend:M,onViewProfile:w}))}function U8({localWorlds:e,lanAndFriendWorlds:t,totalNrOfWorlds:a,onPagination:n}){const{setSelectedWorldId:o}=n8(),c=(0,r.useCallback)((e=>{o(e)}),[o]),i=(0,l.useFacetMap)((e=>Math.ceil(e/12)),[],[a]),{delegationEventFacet:s,delegateFocus:u}=Js(),d=(0,r.useRef)(null),m=(0,r.useRef)(null),[p,f]=(0,l.useFacetState)(1);(0,l.useFacetEffect)((e=>{const t=e.get("page");null!=t&&f(Number(t))}),[f,u,n],[h()]);const{localWorldIndexOffset:g,currentLanAndFriendWorldData:E,lanWorldIndexOffset:b,currentLocalWorldData:v,changeWorldGridPage:F}=C8({currentPage:p,worldsPerPage:12,lanAndFriendWorlds:t,localWorlds:e,totalAmountOfPages:i,delegateFocus:u});return(0,l.useFacetEffect)((()=>{n()}),[u,n],[p]),r.createElement(r.Fragment,null,r.createElement(eu,{delegationEvent:s},r.createElement(uu,{containerRef:d,isGrid:!0,gridCellSizeAuto:!0,delegateFocusFromMemory:!0,landmarkKey:(0,l.useFacetMap)((e=>`worldgrid-page-${e}`),[],[p])},r.createElement("div",{className:"d12791af9e615ed7b4f2",ref:d},r.createElement(l.Map,{array:E},((e,t)=>r.createElement(W8,{lanOrFriendWorld:e,index:t,indexOffset:b,totalNrOfWorlds:a,onWorldClick:c}))),r.createElement(l.Map,{array:v},((e,t)=>r.createElement(B8,{localWorld:e,index:t,indexOffset:g,totalNrOfWorlds:a,onWorldClick:c})))),r.createElement(Vi,{size:3}))),r.createElement(uu,{containerRef:m,delegateFocusFromMemory:!0},r.createElement("div",{ref:m},r.createElement(FO,{totalPages:i,currentPage:p,onChange:F}))))}function z8(){return(0,l.useFacetMap)(((e,t,a,n,r,l,o,c)=>{const i=e.isLANAllowed&&!a.devPlayScreenHideLanWorlds&&!r&&!n&&!l&&!o&&!c;return{worlds:null!=t.lanWorlds&&i?t.lanWorlds:[],areLANWorldsAllowed:i}}),[],[(0,l.useSharedFacet)(_l),(0,l.useSharedFacet)(xY),(0,l.useSharedFacet)(Ov),_I(),WI(),jI(),GA(),zI()])}function j8(){const e=(0,l.useFacetMap)(((e,t,a,n,r)=>e||t||a||n||r),[],[_I(),WI(),jI(),GA(),zI()]);return(0,l.useFacetMap)(((e,t)=>t?[]:e.friendWorlds),[],[(0,l.useSharedFacet)(Vb),e])}function H8(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G8(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H8(Object(a),!0).forEach((function(t){V8(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H8(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V8(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $8=e=>G8(G8({},e),{},{friendOfFriendWorld:!1,friendWorld:!1}),X8=e=>G8(G8({},e),{},{friendWorld:!0});function K8(){const[e,t]=(0,l.useFacetState)(null),a=r.useMemo((()=>({getSelectedWorldId:()=>e,setSelectedWorldId:e=>t(e)})),[t,e]),n=(0,l.useSharedFacet)(Ov),o=(0,l.useFacetMap)(((e,t)=>[...e.worlds.map($8),...t.map(X8)]),[],[z8(),j8()]),{data:c,isEmpty:i}=gQ(),s=(0,l.useFacetMap)(((e,t)=>e.length+t.length),[],[c,o]),u=h8.useModal(),d=function(e){const{t}=ws("PlayScreen.AllWorldsTab.ButtonHeader"),a=JT(),n=(0,l.useSharedFacet)(_l),r=(0,l.useSharedFacet)(XF),o=(0,l.useSharedFacet)(ZF),c=(0,l.useSharedFacet)(yF),i=Rd(Db),s=(0,l.useFacetMap)((e=>e),[],[c]),u=(0,l.useFacetMap)((e=>e.isTemplateScreenAvailable),[],[o]),d=i8(),m=function({templatesNotAvailableInPreview:e}){const t=p(),a=(0,l.useSharedFacet)(_l),n=(0,l.useSharedFacet)(ZF),r=JT();return(0,l.useFacetCallback)(((a,n)=>()=>{if(r({button:"CreateFromTemplate",screen:"Play"}),!n.isTemplateScreenAvailable)return void e();const l=`/start-from-template/${a.isOnline?c8.MarketplacePass:c8.OwnedByMe}`;t.push(l)}),[r,t,e],[a,n])}(e),f=(0,l.useFacetCallback)((e=>()=>{a({button:"ImportWorld",screen:"Play"}),e.importWorld.run()}),[a],[r]),g=(0,l.useFacetMap)((e=>NI(e.platform)),[],[n]);return(0,l.useFacetMemo)(((e,a,n)=>{const r=a?[{variant:"primary",text:t(".createNewWorld"),narrationSuffix:t(".createNewWorldNarration"),onClick:n?d:m,gamepadAlias:"play-cnw-button"}]:[{variant:"primary",text:t(".createNewWorld"),narrationSuffix:t(".createNewWorldNarration"),onClick:d,gamepadAlias:"play-cnw-button"},{variant:"secondary",text:t(i?".createFromContent":".createFromTemplate"),narrationSuffix:t(i?".createFromContentNarration":".createFromTemplateNarration"),onClick:m}];if(e&&!n){const e={text:t(".importWorld"),variant:"secondary",narrationSuffix:t(".importWorldNarration"),onClick:f,imgSrc:l8};r.push(e)}return r}),[t,d,m,f,i],[g,u,s])}({templatesNotAvailableInPreview:u.show});!function(){const e=(0,l.useSharedFacet)(XF),t=(0,l.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[e]),a=(0,l.useFacetMap)((e=>e.importWorld.result),[],[e]);(0,l.useFacetEffect)((e=>{e!==$F.Success&&e!==$F.InterruptedByUser||t()}),[t],[a])}();const m="narrow"===Sc(102),f=(0,l.useFacetMap)((e=>e.playScreenWorldLayoutMode===xv.List||m),[m],[n]),g=(0,l.useFacetCallback)(((e,t)=>()=>{e.playScreenWorldLayoutMode=t?xv.Grid:xv.List}),[],[n,f]),E=(0,l.useFacetMap)(((e,t)=>e&&t.length<1),[],[i,o]),b=eI(),h=(0,r.useCallback)((()=>{b.current&&(b.current.scrollTop=0)}),[b]),v=(0,r.useRef)(null),F=(0,l.useFacetMap)(((e,t)=>e?"no-worlds":t?"list-layout":"grid-layout"),[],[E,f]);return r.createElement(a8.Provider,{value:a},r.createElement(l.Unwrap,{data:F},(e=>"no-worlds"===e?r.createElement(q8,null,r.createElement(d8,{navigationButtons:d})):r.createElement(Y8,{innerRef:b,alwaysVisibleChildren:r.createElement(uu,{containerRef:v,delegateFocusFromMemory:!0,alias:"play-screen-button-headers",delegateFocusByAlias:"play-cnw-button"},r.createElement("div",{ref:v},r.createElement(b8,null),r.createElement(Vi,{size:2}),r.createElement(d8,{layoutButton:r.createElement(v8,{isListLayout:f,onClick:g}),navigationButtons:d}),r.createElement(Vi,{size:2})))},"list-layout"===e?r.createElement(T8,{onPagination:h,localWorlds:c,lanAndFriendWorlds:o,totalNrOfWorlds:s}):r.createElement(U8,{onPagination:h,localWorlds:c,lanAndFriendWorlds:o,totalNrOfWorlds:s})))),r.createElement(l.Mount,{when:u.isVisible},r.createElement(h8.Component,{onClose:u.hide})),r.createElement(r8,null),r.createElement(ek,{type:"contentful",renderingCompleted:!0}))}function Y8({children:e,alwaysVisibleChildren:t,innerRef:a}){const n=Vu();return r.createElement(ud,{alwaysVisibleChildren:t,loading:n,innerRef:a,gamepadAlias:"content-wrapper",delegateFocusByAlias:"play-screen-button-headers",delegateFocusFromMemory:!0,renderTracker:e=>r.createElement(ek,{renderingCompleted:e,type:"meaningful"})},e,r.createElement(Vi,{size:3}),r.createElement(Lm.Space,null))}function q8({children:e}){return r.createElement(ud,{floating:!0,renderTracker:e=>r.createElement(El,{renderingCompleted:e,type:"meaningful"})},r.createElement(b8,null),r.createElement(Vi,{size:2}),e,r.createElement(Vi,{size:2}),r.createElement(V3,null),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}),r.createElement(Vi,{size:3}),r.createElement(Lm.Space,null))}const Q8="Play";var J8;!function(e){e.All="all",e.Realms="realms",e.Servers="servers"}(J8||(J8={}));const Z8={[J8.All]:"AllWorldsTab",[J8.Servers]:"ServersTab",[J8.Realms]:"RealmsTab"},e6=()=>{const{t:e}=ws("PlayScreen");return r.createElement(ZN,{debugDrawer:["create-test-world","debug-import-worlds","hide-lan-worlds"],friendsDrawer:!0,gamepadAlias:"play-layout-content",delegateByAlias:"play-screen-tab-bar-wrapper",screenAnalyticsId:Q8,title:e(".title")},(({isAnyDrawerOpen:e})=>r.createElement(r.Fragment,null,r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(Vi,{size:2}),r.createElement(n6,{disableShortcuts:e}))),r.createElement(nk,{route:"all",Component:K8,wideSize:12,narrowSize:8}),r.createElement(nk,{route:"realms",Component:i3,wideSize:12,narrowSize:8}),r.createElement(nk,{route:"servers",Component:j3,wideSize:12,narrowSize:8})))))},t6=Math.ceil(100*Math.random()),a6=9600===Math.ceil(9600*Math.random())?z5:10===t6?U5:W5,n6=({disableShortcuts:e})=>{const t=Pe(),a="play-screen",{t:n}=ws("PlayScreen"),o=Cl(),c=g(),i=JT(),s=(0,l.useFacetMap)((e=>!e),[],[e]),u=(0,l.useFacetCallback)((e=>n=>{i({button:Z8[n],screen:Q8}),"realms"===n&&null!=e?o.replace(`/play/realms/${e}`):o.replace(`/play/${n}`),t(N5.getFocusAlias(a,n))}),[o,t,i],[U4()]),d=gQ(),m=(0,l.useFacetMap)((e=>e.worlds),[],[z8()]),p=(0,l.useFacetMap)((e=>e.friendWorlds),[],[(0,l.useSharedFacet)(Vb)]),f=(0,l.useFacetMap)(((e,t)=>AI(e.platform)&&!t?[n(".narration.title"),n(".friendsDrawerShortcut",["Y"])].join(" . "):-1!==e.inputMethods.indexOf(Ke.TOUCH)?[n(".narration.title"),n(".mobileFriendsDrawerNarration")].join(" . "):""),[n],[(0,l.useSharedFacet)(_l),rt()]),E=function(e,t,a){return(0,l.useFacetMap)(((e,t,a)=>e.length+t.length+a.length),[],[e,t,a])}(d.data,m,p),b=(0,l.useFacetMap)((e=>n(".allWorlds",[`${e}`])),[n],[E]),h=(0,l.useFacetMap)((e=>[{label:e,value:J8.All,icons:{selected:r.createElement(EL,{iconSrc:a6,selected:!0}),unselected:r.createElement(EL,{iconSrc:a6,selected:!1})},"data-testid":"play-screen-tab-bar-all"},{label:n(".realms"),value:J8.Realms,icons:{selected:r.createElement(EL,{iconSrc:B5,selected:!0}),unselected:r.createElement(EL,{iconSrc:B5,selected:!1})},"data-testid":"play-screen-tab-bar-realms"},{label:n(".servers"),value:J8.Servers,icons:{selected:r.createElement(EL,{iconSrc:_5,selected:!0}),unselected:r.createElement(EL,{iconSrc:_5,selected:!1})},"data-testid":"play-screen-tab-bar-servers"}]),[n],[b]);return r.createElement(N5,{gamepadAliasNamespace:a,value:(0,l.useFacetMap)((e=>null!=e.tab?e.tab:J8.All),[],[c]),onChange:u,tabs:h,enableGamepadShortcuts:s,narrationTitle:f})},r6="c9610f507e2734a38dd9",l6=a.p+"assets/save-27aadcd1c57605d88602.png";function o6(){return o6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o6.apply(null,arguments)}const c6=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("cead0e901327a02d434c",t);return r.createElement(pu,o6({},a,{className:n,src:l6,imageRendering:"pixelated"}))};let i6;!function(e){e.ExternalServer="ExternalServer"}(i6||(i6={}));const s6=As((({externalServerWorldError:e,onClose:t})=>{const{t:a}=ws("PlayScreen.serverTab.addServerError"),n="pop-up-modal-AddServerErrorModal",l=Os(),o=function(e){switch(e){case Sb.NameIsEmpty:return".nameError";case Sb.AddressIsEmpty:return".addressError";case Sb.InvalidIpAddress:return".ipAddressError";case Sb.InvalidPortNumber:return".portError";case Sb.IdNotFound:case Sb.UnknownError:default:return".genericError"}}(e),c=()=>{l(),t()};return r.createElement($m,{defaultFocusAlias:n},r.createElement($m.Header,{onClose:c},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(o),center:!0},a(o))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:n,inputLegend:a(".closeButton"),onClick:c},a(".closeButton"))))})),u6="go-back-server-modal",d6=As((({onDeleteServer:e,onClose:t})=>{const{t:a}=ws("PlayScreen.serverTab.confirmDeletion");return r.createElement($m,{defaultFocusAlias:u6},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message"),center:!0},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:u6,inputLegend:a(".goBackButton"),variant:"secondary",onClick:t},a(".goBackButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".deleteButtonInputLegend"),variant:"destructive",onClick:()=>{e(),t()}},a(".deleteButton"))))})),m6="save-button-unsaved-changes-server-modal",p6=As((({onSaveChanges:e,onDiscardChanges:t,onClose:a,localization:n="unsavedChanges"})=>{const{t:o}=ws(`PlayScreen.serverTab.${n}`),c=(0,l.useFacetCallback)((()=>()=>{a(),t()}),[t,a],[]);return r.createElement($m,{defaultFocusAlias:m6},r.createElement($m.Header,{onClose:a},o(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:o(".message"),center:!0},o(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:m6,inputLegend:o(".discardChangesButtonInputLegend"),variant:"secondary",onClick:c},o(".discardChangesButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:o(".saveChangesButtonInputLegend"),variant:"primary",onClick:()=>{e(),a()}},o(".saveChangesButton"))))})),f6=19132,g6=65535,E6=()=>{const e=(0,l.useSharedFacet)(lh),t=(0,l.useSharedFacet)(Cb),a=(0,l.useSharedFacet)(sh),n=(0,l.useSharedFacet)(dh),o=(0,l.useSharedFacet)(uh),c=s6.useModal(),i=d6.useModal(),s=p6.useModal(),u=ZT(),[d,m]=(0,r.useState)(void 0),[f,E]=(0,l.useFacetState)(!1),b=p(),h=function(){const e=g();return(0,l.useFacetMap)((e=>e.id),[],[e])}(),v=Yr("neutral"),F=(0,l.useFacetMap)((e=>null!=e),[],[h]),y="narrow"===Sc(),{t:S}=ah("PlayScreen.serverTab.serverForm"),[C,M]=(0,l.useFacetState)(!1),[w,k]=(0,l.useFacetState)(""),P=(0,l.useFacetMap)((e=>e.networkDetails.name),[],[e]),T=(0,l.useFacetMap)((e=>e.networkDetails.port.toString()),[],[e]),[I,x]=(0,l.useFacetState)(f6.toString()),O=(0,l.useFacetMap)((e=>e.networkDetails.address),[],[e]),A=(0,l.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[o]),[N,R]=(0,l.useFacetState)(""),L=(0,l.useFacetCallback)((()=>e=>{k(e),E(!0)}),[k,E],[]),D=(0,l.useFacetCallback)((()=>e=>{R(e),E(!0)}),[R,E],[]),_=(0,l.useFacetCallback)((()=>e=>{x(e),E(!0)}),[x,E],[]),B=(0,l.useFacetCallback)((e=>t=>{if(e)return;c.show(),m(t);const a={modalReason:Sb[t]};u({modal:"AddJoinExternalServerError",screen:i6.ExternalServer,details:a})}),[m,c,u],[c.isVisible]),W=(0,r.useCallback)((()=>{k(""),R(""),x(f6.toString()),E(!1)}),[k,R,x,E]),U=(0,l.useFacetCallback)((e=>t=>{e.queueSnackbar(t)}),[],[n]),z=(0,l.useFacetCallback)(((e,t,a,n)=>()=>{const r=e.addExternalServerWorld(t,a,parseInt(n));return E(!0),null!=r?B(r):(U(S(".serverAddedNotification")),null!=e.addedServerId?(b.goBack(),b.replace(`/play/servers/${e.addedServerId}/${lJ(Jv.External)}`)):b.goBack(),W()),r}),[E,U,S,B,b,W],[t,w,N,I]),j=(0,l.useFacetMap)((e=>e.joinExternalServerTaskState),[],[a]),H=(0,l.useFacetMap)((e=>e.joinExternalServerResult),[],[a]),G=(0,l.useFacetCallback)((e=>()=>{e.clearJoinExternalServerTaskState()}),[],[a]),V=VI((e=>function*(t){e.joinExternalServer(t),yield j,e.clearJoinExternalServerTaskState()}),[j],[a]),$=(0,l.useFacetCallback)(((e,t)=>()=>{null==z()&&(t?V(String(e.addedServerId)):b.push(`/online-play-warning/${lJ(Jv.External)}/${e.addedServerId}`))}),[V,z,b],[t,A]),X=(0,l.useFacetCallback)(((e,t)=>()=>{if(null!=t){const a=e.removeExternalServerWorld(parseInt(t));null!=a?B(a):(M(!0),U(S(".serverDeletedNotification")),b.goBack())}}),[B,U,S,M,b],[t,h]),K=(0,l.useFacetCallback)(((e,t,a,n,r)=>()=>{if(null!=t){const l=e.editExternalServerWorld(parseInt(t),a,n,parseInt(r));null!=l?B(l):(U(S(".serverEditedNotification")),b.goBack())}}),[B,U,S,b],[t,h,w,N,I]),Y=(0,l.useFacetCallback)((e=>()=>{e?s.show():(W(),b.goBack())}),[b,s,W],[f]);(0,l.useFacetEffect)(((e,t,a,n)=>{n&&(k(e),R(t),x(a))}),[k,R,x],[P,O,T,F]);const q=(0,l.useFacetMap)((e=>null!=e&&e!==oh.OK),[],[H]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:C,condition:!1},r.createElement(ay,null,r.createElement(l.Unwrap,{data:F},(e=>e?r.createElement(bd,{text:S(".editServerNarration")},r.createElement(BM,{onBackButton:Y,center:r.createElement(Zi,{type:"header5A"},S(".editServerTitle")),footer:y?r.createElement(r.Fragment,null,r.createElement(b6,{isEditing:!0,primaryCallback:K,secondaryCallback:i.show}),r.createElement(Lm.Space,null)):r.createElement(Lm.Space,null),gamepadAlias:"external-server-form-creating"},r.createElement(ud,null,r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:1}),r.createElement(zM.Column,{wideSize:10,narrowSize:6},r.createElement("div",{className:dl()(v.border.base,r6)},r.createElement(dk,{label:S(".serverNameLabel"),value:w,onChange:L,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),r.createElement(h6,{address:N,setAddress:D}),r.createElement(v6,{port:I,setPort:_}),y?null:r.createElement(b6,{isEditing:!0,primaryCallback:K,secondaryCallback:i.show}))),r.createElement(zM.Column,{wideSize:1,narrowSize:1})))))):r.createElement(bd,{text:S(".newServerNarration")},r.createElement(BM,{onBackButton:Y,center:r.createElement(Zi,{type:"header5A"},S(".newServerTitle")),footer:y?r.createElement(r.Fragment,null,r.createElement(b6,{primaryCallback:$,secondaryCallback:z,isEditing:!1}),r.createElement(Lm.Space,null)):r.createElement(Lm.Space,null),gamepadAlias:"external-server-form-creating"},r.createElement(ud,null,r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:1,narrowSize:1}),r.createElement(zM.Column,{wideSize:10,narrowSize:6},r.createElement("div",{className:dl()(v.border.base,r6)},r.createElement(dk,{label:S(".serverNameLabel"),value:w,onChange:L,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),r.createElement(h6,{address:N,setAddress:D}),r.createElement(v6,{port:I,setPort:_}),y?null:r.createElement(b6,{primaryCallback:$,secondaryCallback:z,isEditing:!1})))))))))),r.createElement(l.Mount,{when:c.isVisible},r.createElement(s6.Component,{externalServerWorldError:d,onClose:c.hide})),r.createElement(l.Mount,{when:i.isVisible},r.createElement(d6.Component,{onDeleteServer:X,onClose:i.hide})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:F},r.createElement(p6.Component,{onSaveChanges:K,onDiscardChanges:b.goBack,onClose:s.hide})),r.createElement(l.Mount,{when:F,condition:!1},r.createElement(p6.Component,{onSaveChanges:s.hide,onDiscardChanges:b.goBack,onClose:s.hide,localization:"unsavedAddChanges"})))))),r.createElement(l.Mount,{when:q},r.createElement(A3.Component,{onClose:G})))};function b6({isEditing:e,primaryCallback:t,secondaryCallback:a}){const n=Yr("neutral"),{t:l}=ah("PlayScreen.serverTab.serverForm");return r.createElement("div",{className:dl()("b632b0969f9ddc017b4b",n.background.base,n.bevel.base,"eaa54b2e246f7b68995f")},r.createElement(lm,{horizontal:!0,inputLegend:l(e?".deleteServerButton":".addServerButton"),onClick:a,variant:e?"destructive":"secondary",Icon:e?fI:void 0,narrationSuffix:l(".buttonEnumeration",["1","2"])},l(e?".deleteServerButton":".addServerButton")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{horizontal:!0,inputLegend:l(e?".saveChangesButton":".addAndPlayButton"),onClick:t,variant:"primary",Icon:e?c6:void 0,narrationSuffix:l(".buttonEnumeration",["2","2"])},l(e?".saveChangesButton":".addAndPlayButton")))}function h6({address:e,setAddress:t}){const{t:a}=ah("PlayScreen.serverTab.serverForm");return r.createElement(dk,{label:a(".serverAddressLabel"),onChange:t,placeholder:a(".serverAddressPlaceholder"),value:e,filterProfanity:!0})}function v6({port:e,setPort:t}){const{t:a}=ah("PlayScreen.serverTab.serverForm"),{narrateText:n}=sd({interruptible:!1}),l=(0,r.useCallback)(((e,t)=>{const r=e.match(/^[0-9]*$/g);return 0!==e.length&&r?parseInt(e)>g6?(n(a(".serverPortNotWithinRange",[g6.toString()])),t(g6.toString()),gm.ValidationResult.INVALID):gm.ValidationResult.VALID:(n(a(".serverPortInvalidValue",[f6.toString()])),t(f6.toString()),gm.ValidationResult.INVALID)}),[n,a]);return r.createElement(dk,{label:a(".serverPortLabel"),onBlur:l,onChange:t,value:e,isNumber:!0})}function F6({item:e}){const{t}=ws("StartFromTemplateRoute.SideMenu"),a=p(),n=g(),o=(0,l.useFacetMap)((e=>e.label),[],[e]),c=(0,l.useFacetMap)((e=>e.value),[],[e]),i=(0,l.useFacetMap)(((e,t)=>e.value==t.tab),[],[e,n]),s=(0,l.useFacetCallback)((e=>()=>{a.replace(`/start-from-template/${e}`)}),[a],[c]);return r.createElement(tR.ListItem,{narrationText:o,value:c,onSelect:s,inputLegend:t(".inputLegend"),selected:i},r.createElement(Zi,{type:"body"},r.createElement(ji,null,o)))}function y6(){const{t:e}=ws("StartFromTemplateRoute.SideMenu"),t=(0,ws("SideMenu").t)(".narrationRoleMenu"),a=(0,l.useSharedFacet)(YF),n=(0,l.useFacetMemo)((t=>e(".ownedByMe",[String(t.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked)).length)])),[e],[a]),o=(0,l.useFacetMap)((t=>[{label:e(".marketplacePass"),value:c8.MarketplacePass},{label:e(".featured"),value:c8.Featured},{label:t,value:c8.OwnedByMe}]),[e],[n]),c=i8("Template");return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(tR,{role:"neutralAlpha60",narrationRole:t,spacingAroundSideMenu:r.createElement(r.Fragment,null)},r.createElement(tR.Item,null,r.createElement(lm,{onClick:c,inputLegend:e(".cnwButton"),variant:"primary"},e(".cnwButton"))),r.createElement(Vi,{size:2}),r.createElement(tR.ItemList,{items:o,renderItem:F6}),r.createElement("div",{className:"b4410affd948aca66a9a"})))}let S6;!function(e){e.MarketplacePassTab="MarketplacePassTab",e.FeaturedCreatorsTab="FeaturedCreatorsTab",e.OwnedByMeTab="OwnedByMeTab"}(S6||(S6={}));const C6=()=>{const{t:e}=ah("StartFromTemplateRoute.useTemplateOperations"),t=p(),a=(0,l.useSharedFacet)(ZF),n=(0,l.useSharedFacet)(dh),r=JT(),o=(0,l.useFacetMap)((e=>e.importingTaskState),[],[a]),c=(0,l.useFacetMap)((e=>e.downloadingTaskState),[],[a]),i=VI(((t,a)=>function*(){r({button:"Import",screen:S6.OwnedByMeTab}),t.importWorldTemplate(),yield o,a.queueSnackbar(e(".importNotification")),t.resetImportTask()}),[o,e,r],[a,n]),s=Rd(Db),u=(0,l.useSharedFacet)(nh),d=VI(((e,a)=>function*(n,r){if(e.downloadWorldTemplate(n),yield c,e.resetDownloadTask(),s){const e=a.marketplacePassWorldTemplates.find((e=>e.packId===r));if(e&&(e.storeCatalogCategory===th.Addon||e.storeCatalogCategory===th.ResourcePack))return void t.push(`/create-new-world/resource-packs/active?packid=${r}`)}t.push(`/create-new-world/general/${r}`)}),[c,t,s],[a,u]);return{importTemplate:i,downloadTemplate:d}};function M6({children:e}){return r.createElement(ud,null,r.createElement(Vi,{size:2}),e)}function w6({tab:e}){const t=Rd(Db),{t:a}=ws(function(e,t){switch(e){case c8.MarketplacePass:return t?"StartFromTemplateRoute.MarketplacePass.AddOn":"StartFromTemplateRoute.MarketplacePass";case c8.Featured:return"StartFromTemplateRoute.Featured";default:return"StartFromTemplateRoute.OwnedByMe"}}(e,t)),n=Yr("neutral");return r.createElement("div",{className:dl()("b3ed755de70f878db278",n.background.base)},r.createElement(Zi,{type:"header5A"},a(".title")),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmer",className:"db2bf3dbff0d60327de1"},a(".description")),r.createElement(Vi,{size:2}))}const k6="cd7d17c9fc3d7f0fe172",P6="e5eaf3b38009873582d6",T6="b16d6bbf79d611e217b5";function I6({children:e,className:t,containerRef:a}){return r.createElement("div",{ref:a,className:dl()("a4a836bbc56dad49e659",t)},e)}I6.Action=function({children:e,onClick:t,inputLegend:a,onFocusChanged:n,onHoverChanged:o,narrationText:c,gamepadAlias:i,disabled:s=!1,testId:u,className:d}){const m=Qr("neutral"),p=(0,l.useFacetMap)((e=>!0===e),[],[(0,l.useFacetWrap)(s)]),f=(0,l.useFacetWrap)(!1===a?"":a),g=(0,l.useFacetMap)(((e,t)=>!t&&e),[],[f,p]),E=(0,l.useFacetMap)(((e,t)=>dl()("d01bd84b4838bfb9d7de","c6c511d313197b0bf67c",t,{e7de5d02e0c361eb65ac:e})),[],[p,(0,l.useFacetWrap)(null!=d?d:void 0)]),b=(0,l.useFacetMap)((e=>!0===e?void 0:m.press),[m],[p]),h=(0,l.useFacetCallback)((e=>()=>{e||t()}),[t],[p]);return r.createElement(Wi,{className:E,classNameHovered:P6,classNameFocused:T6,classNamePressed:k6,classNameDisabled:Cr.pressed,gamepadAlias:i,inputLegend:g,narrationText:c,onClick:h,onFocusChanged:n,onHoverChanged:o,soundEffectPressed:b,"data-testid":u},e)},I6.Information=function({children:e,innerRef:t,narrationText:a,role:n="inherit",spacingSize:l=3,className:o}){dW(a);const c=Yr(n),i=dl()("df6d6ef948c2dadb865e",c.text.base,c.border.base,o);return r.createElement("div",{className:i,ref:t},r.createElement(Vi,{size:l}),e)},I6.AdditionalAction=function({children:e,onClick:t,onMouseDown:a,inputLegend:n,narrationText:o,gamepadAlias:c,hidden:i=!1,focusGridIndex:s,innerRef:u,touchDetectionDelay:d,soundEffectPressed:m,disabled:p}){const f=Qr("neutral");return r.createElement(l.Mount,{when:(0,l.useFacetWrap)(i),condition:!1},r.createElement(Wi,{innerRef:u,className:"f3b5444ec79ac82f5ef7",classNameHovered:P6,classNameFocused:T6,classNamePressed:k6,focusGridIndex:s,gamepadAlias:c,inputLegend:n,onClick:t,onMouseDown:a,narrationText:o,touchDetectionDelay:d,soundEffectHovered:f.hover,soundEffectFocused:f.focus,soundEffectPressed:null!=m?m:f.press,disabled:p},e))};const x6=a.p+"assets/iconStar-a3e78e19019305d0188b.png";function O6(){return O6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},O6.apply(null,arguments)}const A6=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("d9905633fab77f76bb72",t);return r.createElement(pu,O6({},a,{className:n,src:x6,imageRendering:"pixelated"}))},N6=a.p+"assets/iconStarGolden-e2d94af4ed241b8e94dc.png";function R6(){return R6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R6.apply(null,arguments)}const L6=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("f5f268adae5bb2a7909c",t);return r.createElement(pu,R6({},a,{className:n,src:N6,imageRendering:"pixelated"}))},D6=a.p+"assets/thumbnail-default-d0210bba13d939ca9e72.jpg";function _6({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:r,isLocked:o,isOwnedByMeTab:c=!1,narrationIndex:i,containerListLength:s,isRateable:u,isInstalled:d,t:m}){const p=(0,l.useFacetWrap)(null!=r&&r),f=(0,l.useFacetWrap)(null!=u&&u),g=(0,l.useFacetWrap)(null!=o&&o),E=(0,l.useFacetWrap)(null!=d&&d),b=(0,l.useFacetWrap)(i),h=(0,l.useFacetWrap)(null!=n?n:{averageRating:void 0,totalRatingsCount:void 0}),v=(0,l.useFacetMap)((e=>e||D6),[],[a]),F=(0,l.useFacetMap)((e=>!e&&c),[c],[p]),y=(0,l.useFacetMap)((e=>c&&e),[c],[f]),S=(0,l.useFacetMap)((e=>!e&&c),[c],[E]),C=(0,l.useFacetMap)((e=>m(".creator",[e])),[m],[t]),M=(0,l.useFacetMemo)((e=>String(null!=e.averageRating&&e.averageRating.toFixed(1))),[],[h]),w=(0,l.useFacetMemo)((e=>`(${null!=e.totalRatingsCount&&e.totalRatingsCount})`),[],[h]),k=(0,l.useFacetMemo)(((e,t,a,n,r,l,o)=>[m(".componentRole"),e,t,n>0?m(".enumeration",[`${o+1}`,`${n}`]):"",c||null==a.averageRating?"":m(".rating",[String(a.averageRating.toFixed(1))]),l?m(".locked"):"",r?m(".imported"):""].filter(Boolean).join(" . ")),[c,m],[e,C,h,s,F,g,b,y,S]);return{name:e,contextNarration:k,actionNarration:(0,l.useFacetMemo)(((e,t)=>[m(t?".installed":".notInstalled"),e?[m(".button"),m(".enumeration",["1","2"])]:m(".button")].filter(Boolean).join(" . ")),[m],[y,S]),isLockedFacet:g,thumbnailPathResolved:v,createdBy:C,isImported:F,rating:M,voteCount:w,shouldRenderRateButton:y,additionalActionNarration:[m(".rate"),m(".button"),m(".enumeration",["2","2"])].join(" . "),shouldShowDownloadOverlay:S}}const B6=a.p+"assets/iconLock-e98de25ac2e4a0a9b77c.png";function W6(){return W6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W6.apply(null,arguments)}const U6=e=>{let{className:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["className"]);const n=bu("d600eba1514d87cf01e0",t);return r.createElement(pu,W6({},a,{className:n,src:B6,imageRendering:"pixelated"}))},z6="c2aac462be41ca245147",j6=a.p+"assets/download-062b39e6a7b4d8f21347.png";var H6;function G6({isCard:e=!0,isMarketplacePassThumbnail:t=!1,isLocked:a,thumbnailPath:n,shouldShowDownloadOverlay:o}){const c=Yr("neutral"),i=Rd(_b),s=Rd(Bb),u=t&&(i||s),d=!u,m=(0,l.useFacetMap)((t=>!e||t||u),[e,u],[a]),p=(0,l.useFacetMap)((e=>e||u),[u],[a]),f=(0,l.useFacetMap)(((e,t)=>e?dl()("a331f6e5af4f783f71a5",t?"ca29b4203c81f8c718db":c.border.base):"fb20892f6c781ebbaf42"),[c.border.base],[m,p]),g=(0,l.useFacetMap)(((e,t)=>e?H6.Locked:t?H6.ShouldDownload:H6.Default),[],[a,o]),E=(0,r.useMemo)((()=>r.createElement(pu,{className:f,aspectRatio:pu.AspectRatio["16:9"],src:n})),[f,n]),b=(0,r.useMemo)((()=>r.createElement("div",{className:"a88022c7d0e4d7072bad"})),[]);return r.createElement("div",{className:"abb062bcd2b8b8a007dd"},r.createElement(l.Unwrap,{data:g},(e=>{switch(e){case H6.Locked:return r.createElement(r.Fragment,null,b,E,b,d&&r.createElement("div",{className:"b9dee7b068defe21baf4"}),d&&r.createElement(U6,{className:z6}));case H6.ShouldDownload:return r.createElement(r.Fragment,null,u&&b,E,u&&b,r.createElement("div",{className:"cab950e75252b2c9a700"}),r.createElement(pu,{src:j6,className:dl()("d5b91d3b6b2a2e149b28",z6),imageRendering:"pixelated"}));case H6.Default:return r.createElement(r.Fragment,null,u&&b,E,u&&b)}})))}!function(e){e.Locked="locked",e.ShouldDownload="should-download",e.Default="default"}(H6||(H6={}));function V6({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:o,isLocked:c,isInstalled:i,isOwnedByMeTab:s=!1,isMarketplacePassItem:u=!1,narrationIndex:d,containerListLength:m,isRateable:p,onAction:f,onAdditionalAction:g=(()=>{})}){const{t:E}=ws("TemplateCard"),{contextNarration:b,actionNarration:h,additionalActionNarration:v,createdBy:F,shouldShowDownloadOverlay:y,isImported:S,isLockedFacet:C,rating:M,shouldRenderRateButton:w,thumbnailPathResolved:k,voteCount:P}=_6({containerListLength:m,creator:t,isInstalled:i,isLocked:c,isPremium:o,isRateable:p,name:e,isOwnedByMeTab:s,narrationIndex:d,ratingData:n,t:E,thumbnailPath:a}),T=(0,l.useFacetMap)(((e,t)=>s&&!Boolean(t)||e),[s],[S,(0,l.useFacetWrap)(null!=i&&i)]),I=(0,l.useFacetMap)((e=>s&&e?"acab6c99b1c36370515b":"e664bcb961762772a37e"),[s],[S]);return r.createElement(hl,null,r.createElement(bd,{text:b},r.createElement(I6,null,r.createElement(I6.Action,{onClick:f,narrationText:h,inputLegend:E(".start")},r.createElement(G6,{shouldShowDownloadOverlay:y,isLocked:C,thumbnailPath:k,isMarketplacePassThumbnail:u}),r.createElement(I6.Information,{narrationText:""},r.createElement(Zi,{type:"body"},r.createElement(ji,null,e)),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body",variant:"dimmer"},r.createElement(ji,null,F)),r.createElement(l.Mount,{when:S},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(rk,{role:"neutral100"},E(".imported")))),r.createElement(l.Mount,{when:T},r.createElement(r.Fragment,null,r.createElement("fast-div",{className:I}),r.createElement(Vi,{size:1}))),!s&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement($6,{rating:M,voteCount:P})))),r.createElement(l.Mount,{when:w},r.createElement(I6.AdditionalAction,{onClick:g,narrationText:v,inputLegend:E(".rate")},r.createElement(Vi,{size:2}),r.createElement("div",{className:dl()("ecc72b2e30aee62c020f")},r.createElement(A6,null),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"body",role:"inherit",verticalAlign:"center"},E(".rate"))),r.createElement(Vi,{size:2}))))))}function $6({rating:e,voteCount:t}){return r.createElement("div",{className:"c867ecae9fb1327a5cd0"},r.createElement(L6,null),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},e),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},t))}function X6({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:o,isLocked:c,isInstalled:i,isRateable:s,isOwnedByMeTab:u=!1,isMarketplacePassItem:d=!1,narrationIndex:m,containerListLength:p,onAction:f,onAdditionalAction:g=(()=>{})}){const{t:E}=ws("TemplateCard"),{contextNarration:b,actionNarration:h,isLockedFacet:v,thumbnailPathResolved:F,createdBy:y,isImported:S,rating:C,voteCount:M,shouldRenderRateButton:w,shouldShowDownloadOverlay:k,additionalActionNarration:P}=_6({name:e,creator:t,thumbnailPath:a,ratingData:n,isPremium:o,isLocked:c,isInstalled:i,isRateable:s,isOwnedByMeTab:u,narrationIndex:m,containerListLength:p,t:E});return r.createElement(hl,null,r.createElement(bd,{text:b},r.createElement(rT,{tall:!0},r.createElement(rT.Action,{onClick:f,narrationText:h,inputLegend:E(".start")},r.createElement("div",{className:"ac358d7938afa3e22ad6"},r.createElement(G6,{shouldShowDownloadOverlay:k,isCard:!1,isLocked:v,thumbnailPath:F,isMarketplacePassThumbnail:d})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,e)),r.createElement(Zi,{type:"body",variant:"dimmest"},r.createElement(ji,null,y)),r.createElement("div",{className:"f4b0f492ebe56be6e239"},r.createElement(l.Mount,{when:S},r.createElement(rk,{role:"neutral100"},E(".imported"))),!u&&r.createElement(r.Fragment,null,r.createElement(L6,null),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmest"},r.createElement(ji,null,C)),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort",variant:"dimmest"},r.createElement(ji,null,M)))))),r.createElement(l.Mount,{when:w},r.createElement(rT.AdditionalAction,{narrationText:P,onClick:g,inputLegend:E(".rate")},r.createElement(A6,null),r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"captionShort"},r.createElement(ji,null,E(".rate"))))))))}function K6(){const{t:e}=ws("MarketplacePassInfoBanner"),t=p(),a=Rd(Bb),n=(0,r.useCallback)((()=>{t.push("/csb-pdp?tab=csb")}),[t]);return r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,e(".text")),a&&r.createElement(xO.Link,{"data-testId":"learn-more-link",onClick:n},e(".learnMoreLinkText")))}const Y6=a.p+"assets/marketplace-pass-image-sm-92c883e0fc07a1520590.png",q6=a.p+"assets/marketplace-pass-image-260a8f13bcb3574bff4d.png";function Q6(){const{t:e}=ah("StartFromTemplateRoute.MarketplacePass"),t=Rd(Db),a=Rd(Bb),{t:n}=ah(t?"StartFromTemplateRoute.getMoreButton.AddOn":"StartFromTemplateRoute.getMoreButton"),o=p(),c=eI(),i=Sc(),s=JT(),u=Rd("vanilla.marketplace.discovery.prod"),d="narrow"===i,m=e(".NoTemplatesMessage.title"),f=e(".NoTemplatesMessage.description"),g=n(".title"),E=n(".body"),b={text:e(".NoTemplatesMessage.button"),onClick:()=>o.push("/settings/discovery_debug"),variant:"primary"},h=(0,l.useSharedFacet)(nh),v=(0,l.useSharedFacet)(FF),F=(0,l.useSharedFacet)(_l),y=(0,l.useFacetMap)((e=>e.isOnline),[],[F]),S=(0,l.useFacetMap)((e=>e.marketplacePassWorldTemplates),[],[h]),C=(0,l.useFacetMap)((e=>e.seeMoreMarketplacePassRouteData),[],[h]),M=(0,l.useFacetMap)((({isRealmsPlusSubscriptionActive:e,isMarketplacePassSubscriptionActive:t})=>!e&&!t),[],[v]),w=(0,l.useFacetMap)(((e,t,a)=>e?TI(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":xI(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":u?"tab-content":"non-production-marketplace-environment":"offline"),[u],[y,v,F]),k=(0,l.useFacetMap)((e=>e.refreshTaskState),[],[h]),P=(0,l.useFacetMap)((e=>e===HI.RUNNING),[],[k]),T=(0,l.useFacetCallback)((e=>()=>{s({button:"WantMore",screen:S6.MarketplacePassTab}),a?o.push("/csb-pdp/view-all-packs"):o.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[o,s,a],[C]);return r.createElement(r.Fragment,null,r.createElement(bd,{text:e(".role")+" . "+e(".title")},r.createElement(l.Unwrap,{data:w},(t=>{switch(t){case"guest-account-playstation":return r.createElement(M6,null,r.createElement(RA,{context:NA.Playstation}));case"guest-account-nintendo":return r.createElement(M6,null,r.createElement(RA,{context:NA.Nintendo}));case"offline":return r.createElement(M6,null,r.createElement(sA,{text:e(".noInternetMessage")}));case"non-production-marketplace-environment":return r.createElement(M6,null,r.createElement(aw,{title:m,text:f,buttons:[b]}));default:return r.createElement(r.Fragment,null,r.createElement(U_,{loading:P,firstRowSeparatorVertical:r.createElement(Z6,{isNotSubscribed:M}),footer:r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(WX,{titleText:g,bodyText:E,onClick:T}),r.createElement(Vi,{size:2}),r.createElement(Lm.Space,null)),data:S,columns:d?1:3,itemSeparatorHorizontal:d?null:r.createElement(Vi,{size:2}),itemSeparatorVertical:d?null:r.createElement(Vi,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(J6,{templateData:e,index:t+1,numberOfTemplates:a,isLocked:M,isNarrow:d}),innerRef:c}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}}))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}))}function J6({templateData:e,index:t,numberOfTemplates:a,isLocked:n,isNarrow:o}){const c=p(),{downloadTemplate:i}=C6(),s=Rd(Db),u=(0,l.useFacetMap)((e=>e.name),[],[e]),d=(0,l.useFacetMap)((e=>e.creator),[],[e]),m=(0,l.useFacetMap)((e=>e.thumbnailPath),[],[e]),f=(0,l.useFacetMap)((e=>e.ratingData),[],[e]),g=(0,l.useFacetCallback)(((e,t)=>()=>{t?c.push(`/marketplace?productId=${e.id}`):(s?e.isInstalled&&!e.isUpdateAvailable:e.isInstalled)?!s||e.storeCatalogCategory!==th.Addon&&e.storeCatalogCategory!==th.ResourcePack?c.push(`/create-new-world/general/${e.packId}`):c.push(`/create-new-world/resource-packs/active?packid=${e.packId}`):i(e.id,e.packId)}),[i,c,s],[e,n]);return o?r.createElement(X6,{name:u,creator:d,thumbnailPath:m,ratingData:f,isPremium:!0,isLocked:n,narrationIndex:t,containerListLength:a,onAction:g,isMarketplacePassItem:!0}):r.createElement(V6,{name:u,creator:d,thumbnailPath:m,ratingData:f,isPremium:!0,isLocked:n,narrationIndex:t,containerListLength:a,onAction:g,isMarketplacePassItem:!0})}function Z6({isNotSubscribed:e}){const{t}=ah("StartFromTemplateRoute.MarketplacePass"),a=Ln(),n=l3(r3.TEMPLATES),o="narrow"===Sc(),c=Rd(_b),i=Rd(Bb),s=c||i,u=(0,l.useFacetMap)((e=>e||s),[s],[e]),d=(0,l.useFacetMap)(((e,t)=>!t&&e&&s),[s],[e,n]);return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:u},(e=>e?r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:n},r.createElement(r.Fragment,null,r.createElement(rD,{location:JL.TemplatesScreen_MarketplacePass}),r.createElement(Vi,{size:2}))),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(K6,null),r.createElement(Vi,{size:2}))),r.createElement(Wi.Maybe,{isInteractive:a,narrationText:t(".imageNarration")+" . "+t(".imageRole")},r.createElement(pu,{imageRendering:"pixelated",src:o?Y6:q6,aspectRatio:o?{height:90,width:490}:{height:65,width:475}}))):r.createElement(w6,{tab:c8.MarketplacePass}))),r.createElement(Vi,{size:2}))}function e9(){const{t:e}=ah("StartFromTemplateRoute.Featured"),{t}=ah("StartFromTemplateRoute.getMoreButton"),a=p(),n=eI(),o=Sc(),c=JT(),i="narrow"===o,s=t(".title"),u=t(".body"),d=(0,l.useSharedFacet)(_l),m=(0,l.useSharedFacet)(KF),f=(0,l.useSharedFacet)(FF),g=(0,l.useFacetMap)((e=>e.isOnline),[],[d]),E=(0,l.useFacetMap)((e=>e.featuredWorldTemplates),[],[m]),b=(0,l.useFacetMap)((e=>e.seeMoreFeaturedRouteData),[],[m]),h=(0,l.useFacetMap)(((e,t,a)=>e?TI(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":xI(a.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":"tab-content":"offline"),[],[g,f,d]),v=(0,l.useFacetMap)((e=>e.refreshTaskState),[],[m]),F=(0,l.useFacetMap)((e=>e===HI.RUNNING),[],[v]),y=(0,l.useFacetCallback)((e=>()=>{c({button:"WantMore",screen:S6.FeaturedCreatorsTab}),a.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[a,c],[b]);return r.createElement(r.Fragment,null,r.createElement(bd,{text:e(".role")+" . "+e(".title")},r.createElement(l.Unwrap,{data:h},(t=>{switch(t){case"guest-account-playstation":return r.createElement(M6,null,r.createElement(RA,{context:NA.Playstation}));case"guest-account-nintendo":return r.createElement(M6,null,r.createElement(RA,{context:NA.Nintendo}));case"offline":return r.createElement(M6,null,r.createElement(sA,{text:e(".noInternetMessage")}));default:return r.createElement(r.Fragment,null,r.createElement(U_,{loading:F,firstRowSeparatorVertical:r.createElement(a9,null),footer:r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(WX,{titleText:s,bodyText:u,onClick:y}),r.createElement(Vi,{size:2}),r.createElement(Lm.Space,null)),data:E,columns:i?1:3,itemSeparatorHorizontal:i?null:r.createElement(Vi,{size:2}),itemSeparatorVertical:i?null:r.createElement(Vi,{size:1}),renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(t9,{templateData:e,index:t,numberOfTemplates:a,isNarrow:i}),innerRef:n}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}}))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}))}function t9({templateData:e,index:t,numberOfTemplates:a,isNarrow:n}){const o=p(),c=(0,l.useFacetMap)((e=>e.name),[],[e]),i=(0,l.useFacetMap)((e=>e.creator),[],[e]),s=(0,l.useFacetMap)((e=>e.thumbnailPath),[],[e]),u=(0,l.useFacetMap)((e=>e.ratingData),[],[e]),d=(0,l.useFacetCallback)((e=>()=>{o.push(`/marketplace?productId=${e.id}`)}),[o],[e]);return n?r.createElement(X6,{name:c,creator:i,thumbnailPath:s,ratingData:u,narrationIndex:t,containerListLength:a,onAction:d}):r.createElement(V6,{name:c,creator:i,thumbnailPath:s,ratingData:u,narrationIndex:t,containerListLength:a,onAction:d})}function a9(){return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(w6,{tab:c8.Featured}),r.createElement(Vi,{size:2}))}let n9,r9;!function(e){e[e.NAME_AZ=1]="NAME_AZ",e[e.NAME_ZA=2]="NAME_ZA"}(n9||(n9={})),function(e){e[e.SHOW_ALL=1]="SHOW_ALL",e[e.MARKETPLACE=2]="MARKETPLACE",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.IMPORTED=4]="IMPORTED"}(r9||(r9={}));const l9=n9.NAME_AZ,o9=r9.SHOW_ALL,c9=a.p+"assets/no-filtered-templates-91571ae09c0107625caf.png";function i9(){const{t:e}=ws("StartFromTemplateRoute.NoFilteredTemplatesMessage"),t=Nw({wide:8,narrow:6,width:256}),a=(0,l.useFacetMap)((e=>e?"aef3fb630d5a6d036bab":"e1b4d979c4b9e924edf7"),[],[t]);return r.createElement(aw,{title:e(".title"),text:e(".message"),imgSrc:c9,imgClass:a})}const s9=function({searchTerm:e,onSearchTermChange:t}){const{t:a}=ah("StartFromTemplateRoute.OwnedByMe");return r.createElement(_d,{"data-testid":"owned-by-me-search-field-id",value:e,placeholder:a(".searchBar"),placeholderIcon:Ld.MagnifyingGlass,narrationText:a(".searchBar"),onChange:t,onBlur:t,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})},u9=function({ownedTemplatesList:e,selectedFilterOption:t,handleFilterChange:a}){const{t:n}=ah("StartFromTemplateRoute.OwnedByMe.Filters"),o=(0,l.useFacetMap)((e=>String(e.length)),[],[e]),c=(0,l.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium)).length)),[],[e]),i=(0,l.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium&&e.ownedWorldTemplateData.isInstalled)).length)),[],[e]),s=(0,l.useFacetMemo)((e=>String(e.filter((e=>!e.ownedWorldTemplateData.isPremium)).length)),[],[e]),u=(0,l.useFacetMemo)(((e,t,a,r)=>[{label:n(".showAll",[e]),value:r9.SHOW_ALL,enumeration:n(".optionEnumeration",["1","4"])},{label:n(".downloaded",[a]),value:r9.DOWNLOADED,enumeration:n(".optionEnumeration",["2","4"])},{label:n(".imported",[r]),value:r9.IMPORTED,enumeration:n(".optionEnumeration",["3","4"])},{label:n(".marketplace",[t]),value:r9.MARKETPLACE,enumeration:n(".optionEnumeration",["4","4"])}]),[n],[o,c,i,s]);return r.createElement(WR,{title:n(".filterTitle"),options:u,value:t,onItemSelect:a,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0})},d9=function({selectedSortOption:e,handleSortChange:t}){const{t:a}=ah("StartFromTemplateRoute.OwnedByMe.Filters"),n=(0,r.useMemo)((()=>[{label:a(".nameAZ"),value:n9.NAME_AZ,enumeration:a(".optionEnumeration",["1","2"]),narrationText:a(".nameAZ.narration")},{label:a(".nameZA"),value:n9.NAME_ZA,enumeration:a(".optionEnumeration",["2","2"]),narrationText:a(".nameZA.narration")}]),[a]);return r.createElement(WR,{title:a(".sortingTitle"),options:n,value:e,onItemSelect:t,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0})},m9=function({Filter:e,Sort:t,ImportButton:a,SearchField:n,showImportButtonFacet:o}){const c="desktop"===Sc()?"c88a9119bf7efaae7206":"ac39f34903d5186cae11";return r.createElement(l.Unwrap,{data:o},(l=>l?r.createElement(r.Fragment,null,r.createElement("div",{className:c},r.createElement(zM.Column,{wideSize:6,narrowSize:4},n),r.createElement(zM.Column,{wideSize:6,narrowSize:4},a)),r.createElement(Vi,{size:2}),r.createElement("div",{className:c},r.createElement(zM.Column,{wideSize:6,narrowSize:4},e),r.createElement(zM.Column,{wideSize:6,narrowSize:4},t))):r.createElement("div",{className:c},r.createElement(zM.Column,{wideSize:4,narrowSize:4},n),r.createElement(zM.Column,{wideSize:4,narrowSize:2},e),r.createElement(zM.Column,{wideSize:4,narrowSize:2},t))))},p9=a.p+"assets/trial-mode-modal-art-3fb6decef1aa7c9ab78b.png",f9={pixelArt:"aff5a57b8ca4cae1019d"},g9="trial-mode-modal-template-screen",E9=As((({onClose:e})=>{const{t}=ws("StartFromTemplateRoute.TrialModeModal"),a=KO(),n=(0,r.useCallback)((()=>{a(),e()}),[a,e]);return r.createElement($m,{defaultFocusAlias:g9},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,{className:f9.content},r.createElement(Vi,{size:4}),r.createElement(pu,{src:p9,imageRendering:"pixelated",className:f9.pixelArt}),r.createElement($m.Text,{narrationText:t(".message"),center:!0},t(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:g9,inputLegend:t(".button"),onClick:n,variant:"primary"},t(".button"))))})),b9=As((({onClose:e})=>{const{t}=ws("StartFromTemplateRoute.OwnedByMe.downloadUnavailableModal"),a=t(".title"),n=t(".message"),l=t(".goBack");return r.createElement($m,null,r.createElement($m.Header,null,a),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},n)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:l,variant:"secondary",onClick:e},l)))})),h9=As((()=>{const{t:e}=ws("StartFromTemplateRoute.OwnedByMe.ImportTemplateModal"),t=e(".title");return r.createElement($m,null,r.createElement($m.Header,null,t),r.createElement($m.Content,null,r.createElement($m.Spinner,null)))})),v9=a.p+"assets/no-content-art-f5417fee25a95f9e3d7b.png";function F9({importTemplate:e}){const{t}=ws("StartFromTemplateRoute.noContentMessage"),a=p(),n=(0,l.useSharedFacet)(_l),o=(0,l.useFacetMap)((e=>NI(e.platform)),[],[n]),c=(0,r.useCallback)((()=>{a.push("/marketplace")}),[a]),i=(0,l.useFacetMemo)((a=>a?[{text:t(".goToMarketplaceButton"),inputLegend:t(".goToMarketplaceButton"),onClick:c},{text:t(".importButton"),inputLegend:t(".importButton"),Icon:LM.Download,onClick:e}]:[{text:t(".goToMarketplaceButton"),inputLegend:t(".goToMarketplaceButton"),onClick:c}]),[c,e,t],[o]),s=Nw({wide:8,narrow:6,width:256}),u=(0,l.useFacetMap)((e=>e?"e515ed49ba4449ad0ebb":"eb1ebf1eee4f0bf58901"),[],[s]);return r.createElement(aw,{title:t(".title"),text:t(".message"),imgSrc:v9,imgClass:u,buttons:i})}function y9(){const{t:e}=ws("StartFromTemplateRoute.OwnedByMe"),t=(0,r.useRef)(null),a=eI(),n=f(),{delegationEventFacet:o,delegateFocus:c}=Js(),i=Sc(),s="narrow"===i,u=b9.useModal(),d=h9.useModal(),m=E9.useModal(),{sortTemplates:p,filterTemplates:g,selectedSortOption:E,selectedFilterOption:b,handleSortChange:h,handleFilterChange:v}=(()=>{const[e,t]=(0,l.useFacetState)(l9),[a,n]=(0,l.useFacetState)(o9),o=f();(0,l.useFacetEffect)((e=>{e||(t(l9),n(o9))}),[n,t],[o]);const c=(0,r.useCallback)((e=>{t(e)}),[t]),i=(0,r.useCallback)((e=>{n(e)}),[n]);return{selectedSortOption:e,selectedFilterOption:a,sortTemplates:(0,r.useCallback)(((e,t)=>e.sort(((e,a)=>{const n=e.ownedWorldTemplateData,r=a.ownedWorldTemplateData;switch(t){case n9.NAME_AZ:return n.name.localeCompare(r.name);case n9.NAME_ZA:return r.name.localeCompare(n.name);default:return 0}}))),[]),filterTemplates:(0,r.useCallback)(((e,t)=>e.filter((e=>{const a=e.ownedWorldTemplateData;switch(t){case r9.MARKETPLACE:return a.isPremium;case r9.DOWNLOADED:return a.isPremium&&a.isInstalled;case r9.IMPORTED:return!a.isPremium;case r9.SHOW_ALL:default:return!0}}))),[]),handleSortChange:c,handleFilterChange:i}})(),{importTemplate:F}=C6(),{narrateText:y}=sd({interruptible:!1}),[S,C]=(0,l.useFacetState)(""),[M,w]=(0,l.useFacetState)(!1),[k,P]=(0,l.useFacetState)(9),T=(0,l.useSharedFacet)(YF),I=(0,l.useSharedFacet)(ZF),x=(0,l.useSharedFacet)(_l),O=(0,l.useSharedFacet)(dh),A=(0,l.useFacetMap)((e=>e.isOnline),[],[x]),N=(0,l.useFacetMemo)((e=>e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked))),[],[T]),R=(0,l.useFacetMap)((e=>0===e.length),[],[N]),L=(0,l.useFacetMap)(((e,t)=>e&&!t?"offline":e?"no-templates":"tab-details"),[],[R,A]),D=(0,l.useFacetMemo)(((e,t,a,n)=>{const r=g(e,a),l=p(r,n);return""!=t?l.filter((e=>e.ownedWorldTemplateData.name.toLowerCase().includes(t.toLowerCase()))):l}),[g,p],[N,S,b,E]),_=(0,l.useFacetMap)((e=>e.length),[],[D]),B=(0,l.useFacetMap)(((e,t)=>e.slice(0,t)),[],[D,k]),W=(0,l.useFacetMap)((e=>e.length),[],[B]),U=(0,l.useFacetMap)((e=>0==e.length),[],[D]),z=(0,l.useFacetMap)((e=>NI(e.platform)),[],[x]),j=(0,l.useFacetCallback)((e=>()=>{e?m.show():F()}),[F,m],[(0,l.useSharedFacet)(yF)]),H=(0,l.useFacetMap)((t=>t?{text:e(".importButtonOffline"),inputLegend:e(".importButtonOffline"),Icon:LM.Download,onClick:j}:null),[e,j],[z]),G=(0,l.useFacetMap)((e=>e.importingTaskState===HI.RUNNING),[],[I]),V=(0,l.useFacetMap)((e=>NI(e.platform)),[],[x]),$=(0,l.useFacetMap)((e=>e.importingTaskResult),[],[I]),X=(0,r.useMemo)((()=>{switch(i){case"desktop":return r.createElement(Vi,{size:4});case"tablet":return r.createElement(Vi,{size:2});default:return null}}),[i]),K=(0,l.useFacetCallback)(((t,a,n)=>()=>{if(!t)return;w(!1);const r=a.length,l=[e(".searchResult.name"),e(".searchResult.role")];""===n?l.push(e(".searchResult.hint.cleared")):0===r?l.push(e(".searchResult.hint.noResult")):1===r?l.push(e(".searchResult.hint.oneResult")):r>1&&l.push(e(".searchResult.hint.multiResult",[`${r}`])),y(l.join(" . "))}),[y,w,e],[M,D,S]),Y=(0,l.useFacetCallback)((()=>e=>{C(e),w(!0),K()}),[K,C,w],[]),q=(0,l.useFacetCallback)((e=>()=>e.resetImportTask()),[],[I]),Q=(0,r.useCallback)((({children:e})=>r.createElement(eu,{delegationEvent:o},r.createElement(uu,{containerRef:t,delegateFocusFromMemory:!0},r.createElement("div",{ref:t},e)))),[t,o]);return(0,r.useEffect)((()=>{K()}),[K]),(0,l.useFacetEffect)((e=>{e?d.show():d.hide()}),[d],[G]),(0,l.useFacetEffect)((e=>{e||P(9)}),[P],[n]),(0,l.useFacetEffect)(((t,a)=>{a===QF.Cancelled&&(t.queueSnackbar(e(".importCancelled")),q())}),[e,q],[O,$]),r.createElement(r.Fragment,null,r.createElement(bd,{text:e(".role")+" . "+e(".title")},r.createElement(l.Unwrap,{data:L},(t=>{switch(t){case"offline":return r.createElement(M6,null,r.createElement(sA,{text:e(".noInternetMessage"),button:H}));case"no-templates":return r.createElement(M6,null,r.createElement(F9,{importTemplate:j}));default:return r.createElement(r.Fragment,null,r.createElement(C9,{showImportButton:V,searchTerm:S,ownedTemplatesList:N,selectedSortOption:E,selectedFilterOption:b,handleSortChange:h,handleFilterChange:v,importTemplate:j,onSearchTermChange:Y}),r.createElement(U_,{data:B,columns:s?1:3,firstRowSeparatorVertical:r.createElement(Vi,{size:1}),itemSeparatorHorizontal:X,itemSeparatorVertical:s?null:r.createElement(Vi,{size:1}),footer:r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:U,condition:!1},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(M9,{totalTemplatesCount:_,visibleTemplatesCount:W,scrollViewRef:a,delegateFocus:c,setTemplatesCountAllowedToBeShown:P}))),r.createElement(Lm.Space,null)),listWrapper:Q,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>r.createElement(S9,{templateData:e,index:t,numberOfTemplates:a,showDownloadUnavailableModal:u.show}),innerRef:a,emptyMessage:r.createElement(i9,null)}),r.createElement(l.Mount,{when:u.isVisible},r.createElement(b9.Component,{onClose:u.hide})),r.createElement(l.Mount,{when:m.isVisible},r.createElement(E9.Component,{onClose:m.hide})),r.createElement(l.Mount,{when:d.isVisible},r.createElement(h9.Component,null)),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}}))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}))}function S9({templateData:e,index:t,numberOfTemplates:a,showDownloadUnavailableModal:n}){const{downloadTemplate:o}=C6(),c=p(),i="narrow"===Sc(),s=(0,l.useSharedFacet)(_l),u=(0,l.useFacetMap)((e=>e.ownedWorldTemplateData),[],[e]),d=(0,l.useFacetMap)((e=>e.name),[],[u]),m=(0,l.useFacetMap)((e=>e.creator),[],[u]),f=(0,l.useFacetMap)((e=>e.thumbnailPath),[],[e]),g=(0,l.useFacetMap)((e=>e.isInstalled),[],[u]),E=(0,l.useFacetMap)((e=>e.isPremium),[],[u]),b=(0,l.useFacetMap)((e=>e.canBeRated),[],[e]),h=(0,l.useFacetMap)((e=>e.isOnline),[],[s]),v=(0,l.useFacetCallback)(((e,t,a)=>()=>{t?c.push(`/create-new-world/general/${e.localId}`):a?o(e.marketplaceId,e.localId):n()}),[o,c,n],[u,g,h]),F=(0,l.useFacetCallback)((e=>()=>{c.push(`/marketplace?packId=${e.localId}&focusRateSection`)}),[c],[u]);return r.createElement(r.Fragment,null,i?r.createElement(X6,{name:d,creator:m,thumbnailPath:f,narrationIndex:t,containerListLength:a,onAction:v,onAdditionalAction:F,isPremium:E,isInstalled:g,isRateable:b,isOwnedByMeTab:!0}):r.createElement(V6,{name:d,creator:m,thumbnailPath:f,narrationIndex:t,containerListLength:a,onAction:v,onAdditionalAction:F,isPremium:E,isInstalled:g,isRateable:b,isOwnedByMeTab:!0}))}function C9({showImportButton:e,searchTerm:t,ownedTemplatesList:a,selectedSortOption:n,selectedFilterOption:l,handleSortChange:o,handleFilterChange:c,importTemplate:i,onSearchTermChange:s}){const{t:u}=ws("StartFromTemplateRoute.OwnedByMe"),d="narrow"===Sc(),m=(0,r.useMemo)((()=>r.createElement(u9,{ownedTemplatesList:a,selectedFilterOption:l,handleFilterChange:c})),[a,l,c]),p=(0,r.useMemo)((()=>r.createElement(d9,{selectedSortOption:n,handleSortChange:o})),[n,o]),f=(0,r.useMemo)((()=>r.createElement(lm,{onClick:i,Icon:LM.Download,inputLegend:u(".importButton")},u(".importButton"))),[i,u]),g=(0,r.useMemo)((()=>r.createElement(s9,{onSearchTermChange:s,searchTerm:t})),[s,t]);return r.createElement(r.Fragment,null,!d&&r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(w6,{tab:c8.OwnedByMe})),r.createElement(Vi,{size:2}),r.createElement(m9,{Filter:m,ImportButton:f,SearchField:g,Sort:p,showImportButtonFacet:e}),r.createElement(Vi,{size:2}))}function M9({totalTemplatesCount:e,visibleTemplatesCount:t,scrollViewRef:a,delegateFocus:n,setTemplatesCountAllowedToBeShown:o}){const{t:c}=ws("StartFromTemplateRoute.OwnedByMe"),i=c(".Footer.backToTop"),s=c(".Footer.loadMoreResults"),u=(0,r.useRef)(null),d=(0,l.useFacetMap)(((e,t)=>t<e),[],[e,t]),m=(0,l.useFacetMap)((e=>e>9),[],[t]),p=(0,l.useFacetMap)(((e,t)=>e&&t),[],[m,d]),f=(0,l.useFacetMap)((e=>e?c(".Footer.buttonEnumeration",["1","2"]):""),[c],[p]),g=(0,l.useFacetMap)((e=>e?c(".Footer.buttonEnumeration",["2","2"]):""),[c],[p]),E=(0,r.useCallback)((()=>{o((e=>e===l.NO_VALUE?e:e+9)),n.memory()}),[o,n]),b=(0,l.useFacetCallback)((e=>()=>{a.current&&(e&&(a.current.scrollTop=0),n.first())}),[n,a],[dt()]);return r.createElement(uu,{containerRef:u},r.createElement("div",{className:"bdcf0b781dcd0090f45e",ref:u},r.createElement(l.Mount,{when:m},r.createElement(lm,{horizontal:!0,narrationSuffix:f,inputLegend:i,onClick:b},i)),r.createElement(l.Mount,{when:p},r.createElement(Vi,{size:2})),r.createElement(l.Mount,{when:d},r.createElement(lm,{horizontal:!0,narrationSuffix:g,inputLegend:s,onClick:E},s))),r.createElement(Vi,{size:2}))}const w9=As((()=>{const{t:e}=ws("StartFromTemplateRoute.InitializationModal");return r.createElement($m,null,r.createElement($m.Header,null,e(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:e(".message")},e(".message"))))})),k9=As((({hideCloseButton:e,onClose:t})=>{const a=(0,l.useSharedFacet)(ZF),{t:n}=ws("StartFromTemplateRoute.DownloadModal"),o=(0,l.useFacetMap)((e=>e.downloadingProgressPercent),[],[a]),c=(0,l.useFacetMap)((e=>`${e.downloadingProgressBytes} / ${e.downloadTotalBytes}`),[],[a]);return r.createElement($m,null,r.createElement($m.Header,{hideCloseButton:e,onClose:t},n(".title")),r.createElement($m.Content,null,r.createElement($m.InformativeProgress,{percentage:o,label:c})))})),P9=As((()=>{const e=(0,l.useSharedFacet)(ZF),{t}=ws("StartFromTemplateRoute.InstallModal"),a=(0,l.useFacetMap)((e=>e.downloadingProgressPercent),[],[e]);return r.createElement($m,null,r.createElement($m.Header,null,t(".title")),r.createElement($m.Content,null,r.createElement($m.Progress,{percentage:a})))}));function T9(e,t){if(null!=e)switch(e){case QF.MalformedZip:return"MalformedZip";case QF.Duplicate:return"Duplicate";default:return"GenericError"}else switch(t){case JF.DownloadFailed:return"DownloadFailed";case JF.InsufficientStorage:return"InsufficientStorage";default:return"GenericError"}}const I9=As((()=>{const{t:e}=ws("StartFromTemplateRoute.TemplateOperationsErrorModal"),t=p(),a=(0,l.useSharedFacet)(ZF),n=(0,l.useFacetMap)((e=>e.importingTaskResult),[],[a]),o=(0,l.useFacetMap)((e=>e.downloadingTaskResult),[],[a]),c=(0,l.useFacetMap)(((t,a)=>e(`.title.${T9(t,a)}`)),[e],[n,o]),i=(0,l.useFacetMap)(((t,a)=>e(`.description.${T9(t,a)}`)),[e],[n,o]),s=(0,l.useFacetMap)(((t,a)=>e(`.button.${T9(t,a)}`)),[e],[n,o]),u=(0,l.useFacetCallback)((e=>()=>{e.resetDownloadTask(),e.resetImportTask()}),[],[a,o]),d=(0,l.useFacetCallback)((e=>()=>{u(),e===JF.InsufficientStorage&&t.push("/settings/marketplace_debug")}),[t,u],[o]);return r.createElement($m,null,r.createElement($m.Header,{onClose:u},c),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:i,center:!0},i)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:"template-operations-error-modal-button",inputLegend:s,variant:"secondary",onClick:d},s)))})),x9=()=>{const{t:e}=ah("StartFromTemplateRoute"),t=(0,l.useSharedFacet)(ZF),a=(0,l.useSharedFacet)(dh),n=(0,l.useFacetMap)((e=>e.downloadingStatus),[],[t]),o=(0,l.useFacetMap)((e=>e===qF.Initialising),[],[n]),c=(0,l.useFacetMap)((e=>e===qF.Downloading),[],[n]),i=(0,l.useFacetMap)((e=>e===qF.Importing),[],[n]),s=(0,l.useFacetMap)((e=>!e.canDownloadBeCancelled),[],[t]),u=(0,l.useFacetMap)((e=>e.importingTaskResult),[],[t]),d=(0,l.useFacetMap)((e=>e.downloadingTaskResult),[],[t]),m=(0,l.useFacetMap)(((e,t)=>null!=e&&e!==QF.Cancelled||null!=t),[],[u,d]),p=(0,l.useFacetMap)((e=>e.downloadingStatus),[],[t]),f=(0,l.useFacetCallback)((e=>()=>{e.cancelDownload(),e.resetDownloadTask()}),[],[t]);return(0,l.useFacetEffect)(((t,a)=>{t===qF.Importing&&a.queueSnackbar(e(".notification.downloadComplete"))}),[e],[p,a]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:o},r.createElement(w9.Component,null)),r.createElement(l.Mount,{when:c},r.createElement(k9.Component,{hideCloseButton:s,onClose:f})),r.createElement(l.Mount,{when:i},r.createElement(P9.Component,null)),r.createElement(l.Mount,{when:m},r.createElement(I9.Component,null)))};function O9(){const{t:e}=ws("StartFromTemplateRoute"),t=Rd(Db),a="narrow"===Sc(),n=(0,l.useSharedFacet)(nh),o=(0,l.useSharedFacet)(KF),c=(0,l.useFacetCallback)(((e,t)=>()=>{e.refreshOffers(),t.refreshOffers()}),[],[n,o]),i=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearRefreshTaskState(),t.clearRefreshTaskState()}),[],[n,o]);return(0,r.useEffect)((()=>(c(),()=>{i()})),[c,i]),r.createElement(ZN,{gamepadAlias:"start-from-template",title:e(t?".title.AddOn":".title"),screenAnalyticsId:"StartFromTemplate"},(()=>r.createElement(zM,null,r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(ud,{floating:!0},r.createElement(y6,null))),r.createElement(zM.Column,{wideSize:8,narrowSize:5},r.createElement("div",{className:dl()("f67193a0b787698237d3",{a479a792bc97f7571873:a})},r.createElement(nk,{route:c8.MarketplacePass,Component:Q6,wideSize:12,narrowSize:8}),r.createElement(nk,{route:c8.Featured,Component:e9,wideSize:12,narrowSize:8}),r.createElement(nk,{route:c8.OwnedByMe,Component:y9,wideSize:12,narrowSize:8})))),r.createElement(x9,null))))}const A9=()=>mn("vanilla_menus_invoke_action_settings","invokeAction"),N9="vanilla_menus_update_settings",R9=()=>mn(N9,"updateOption");let L9;!function(e){e[e.ExternalLink=0]="ExternalLink"}(L9||(L9={}));const D9=e=>function(...e){const t=(0,r.useContext)(cn);return(0,r.useMemo)((()=>(0,l.createFacet)({initialValue:l.NO_VALUE,startSubscription:a=>{const[n,...r]=e,o=r.map((e=>(0,l.isFacet)(e)?e:(0,l.createStaticFacet)(e))),c=(0,l.mapFacetsLightweight)(o,((...e)=>e));let i=()=>{};const s=c.observe((e=>{i(),i=t(n,e).observe((e=>{a(e)}))}));return()=>{i(),s()}}})),[...e,t])}("vanilla.menus.settingsActionQuery",e),_9=e=>dn("vanilla.menus.settingsBooleanQuery",e),B9=()=>dn("vanilla.menus.buildInfoQuery"),W9=e=>dn("vanilla.menus.settingsGroupInfoQuery",e),U9=e=>dn("vanilla.menus.settingsGroupQuery",e),z9=e=>dn("vanilla.menus.settingsOptionQuery",e),j9=e=>dn("vanilla.menus.settingsTextQuery",e);let H9,G9;!function(e){e[e.Enabled=0]="Enabled",e[e.Disabled=1]="Disabled",e[e.Hidden=2]="Hidden"}(H9||(H9={})),function(e){e[e.Number=0]="Number",e[e.Boolean=1]="Boolean",e[e.String=2]="String",e[e.Option=3]="Option",e[e.Action=4]="Action",e[e.Text=5]="Text",e[e.GroupInfo=6]="GroupInfo"}(G9||(G9={}));function V9({title:e,description:t,narrationText:a,indented:n,role:o}){const c=(0,l.useFacetWrap)(e),i=(0,l.useFacetWrap)(null!=t?t:""),s=(0,l.useFacetWrap)(null!=a?a:""),u=(0,l.useFacetMap)((e=>e.length>0),[],[i]),d=Ln(),m=(0,l.useFacetMap)(((e,t,a)=>""!==a?a:`${e} . ${t}`),[],[c,i,s]);return r.createElement(Ud,{compact:!0,focusable:d,narrationText:m,indented:n,role:o},r.createElement(Zi,{type:"sectionHeader",className:"c4edda34022ce869d405"},c),r.createElement(l.Mount,{when:u},r.createElement(Hd,null,i)),r.createElement(Vi,{size:2}))}const $9=(0,r.createContext)({dataComponents:{},uiComponents:{}}),X9=$9.Provider;function K9({id:e}){const t=(0,l.useFacetMap)((e=>e.isDevBuild||!1),[],[(0,l.useSharedFacet)(cb)]),a=`ID: ${e}`;return r.createElement(l.Mount,{when:t},r.createElement(Ud,null,r.createElement(jd,null,"Component type could not be found"),r.createElement(Vi,{size:2}),r.createElement(Hd,null,a)))}const Y9={debugWrapper:"a59967ed887660e248f0",info:"c57140f454442b24deed",infoAlignLeft:"fd7cbf1dd7207f8829a4","depth-0":"e9764c098d500252f372","depth-0-info":"f16660e7fa838e64d9d3","depth-1":"a0a009a3d6c05544c0df","depth-1-info":"c6540754c66a4555fa3a","depth-2":"ec0d1efb7c8fe3d63434","depth-2-info":"b1833bc143c34dbc8eed","depth-3":"f9c2b39c3f6e22688f97","depth-3-info":"d800642f32e2320a9c47","depth-4":"a8b8aad9e97c28d0cdb2","depth-4-info":"a675fe0d27a01f559239",disableBackground:"ebbdc47a2dc3822f7c65"};function q9(e){let{children:t}=e,a=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children"]);return r.createElement(l.Unwrap,{data:(0,l.useFacetMap)((e=>e.isUiDebugModeEnabled),[],[dn("vanilla.menus.settingsUiDebugQuery")])},(e=>e?r.createElement(Q9,a,t):r.createElement(r.Fragment,null,t)))}function Q9({children:e,id:t,type:a,depth:n,align:l,disableBackground:o}){return r.createElement("div",{className:dl()(Y9.debugWrapper,Y9[`depth-${null!=n?n:0}`],{[Y9.disableBackground]:o}),"data-testid":"settings-debug-component"},r.createElement(J9,{id:t,type:a,align:l,depth:n}),e)}function J9({id:e,type:t,depth:a,align:n="right"}){return r.createElement("fast-div",{className:(0,l.useFacetMap)((e=>dl()(Y9.info,Y9[`depth-${null!=a?a:0}-info`],{[Y9.infoAlignLeft]:"left"===e})),[a],[(0,l.useFacetWrap)(n)])},r.createElement(Zi,{type:"captionTiny"},"Id: ",e),r.createElement(Zi,{type:"captionTiny"},"Type: ",function(e){if("string"==typeof e)return e;switch(e){case G9.GroupInfo:return"Group";case G9.Boolean:return"Boolean";case G9.Action:return"Action";case G9.Number:return"Number";case G9.String:return"String";case G9.Option:return"Option";case G9.Text:return"Text";default:return"Unknown"}}(t)),r.createElement(Zi,{type:"captionTiny"},"Depth: ",a))}function Z9({id:e,depth:t=0}){const{t:a}=ah("Settings.settingsGroup"),n=W9(e),o=(0,l.useFacetMap)((e=>e.name),[],[n]),c=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.description)&&void 0!==t?t:""}),[],[n]),i=U9(e),s=(0,l.useFacetMap)((e=>e.settings),[],[i]),u=(0,l.useFacetMap)(((e,t)=>""!==e||""!==t),[],[o,c]),d=(0,l.useFacetMap)(((e,t)=>`${e} . ${a(".narration.componentTypeSectionHeader")} . ${t}`),[a],[o,c]),m=(0,l.useFacetMap)((e=>e.state===H9.Enabled),[],[n]),p=function(){const{dataComponents:e,uiComponents:t}=(0,r.useContext)($9);return(0,r.useCallback)((a=>function(e,t={},a={}){const n=a[e.id];if(null!=n)return n;const r=t[e.type];return null!=r?r:K9}(a,e,t)),[e,t])}();return r.createElement(l.Mount,{when:m},r.createElement(q9,{id:e,depth:t,type:G9.GroupInfo,disableBackground:!0,align:(0,l.useFacetMap)((e=>e?"right":"left"),[],[u])},r.createElement(l.Mount,{when:u},r.createElement(V9,{title:o,description:c,narrationText:d})),r.createElement(e7,{depth:t},r.createElement(l.Map,{array:s},(e=>r.createElement(l.Unwrap,{data:e},(e=>{const a=p(e);return r.createElement(a,{id:e.id,depth:t+1})})))))))}function e7({children:e,depth:t}){return t>=2?r.createElement("div",{className:"a5c24a33713584f2053f"},e):r.createElement(r.Fragment,null,e)}function t7(e){const t=e>=3;return{role:t?"neutral80":"neutral",indented:t}}function a7(e){const t=(0,l.useFacetMap)((e=>e.name),[],[e]),a=(0,l.useFacetMap)((e=>e.state===H9.Disabled),[],[e]),n=(0,l.useFacetMap)((e=>e.state===H9.Hidden),[],[e]);return{name:t,disabled:a,hidden:n,visible:(0,l.useFacetMap)((e=>!e),[],[n]),description:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.description)&&void 0!==t?t:""}),[],[e])}}function n7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n7(Object(a),!0).forEach((function(t){l7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l7(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const o7="settings-confirmation-modal-cancel-button",c7=As((({onClose:e,title:t,body:a,acceptText:n,cancelText:l,onAccept:o})=>{const c=(0,r.useCallback)((()=>{o(),e()}),[e,o]);return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:o7},r.createElement($m.Header,{onClose:e},t),null!=a&&r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a,center:!0},a)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:o7,variant:"primary",inputLegend:n,onClick:c,"data-testid":"confirmation-modal-accept-button"},n),r.createElement(Vi,{size:1}),r.createElement(lm,{variant:"secondary",inputLegend:l,onClick:e},l)))}));function i7(){return i7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i7.apply(null,arguments)}function s7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s7(Object(a),!0).forEach((function(t){d7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d7(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m7(e){var t,a,n;let{height:o,isElevated:c=!0,style:i,className:s,classNameHovered:u,classNameFocused:d,classNamePressed:m,classNameDisabled:p,onPressChanged:f}=e,g=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["height","isElevated","style","className","classNameHovered","classNameFocused","classNamePressed","classNameDisabled","onPressChanged"]);const{text:E}=Yr(g.variant),b=Qr(g.variant),[h,v]=(0,l.useFacetState)(!1),F=(0,r.useCallback)((e=>{v(e),f&&f(e)}),[v,f]),y=fi("ea177ddf9570a0b9e479",c?"a07f74aeedffd32d6036":void 0,"primary"===g.variant?"f53db75c249a35c47258":void 0,"secondary"===g.variant?"ebc4cea261e004d136e0":void 0,"destructive"===g.variant?"c7015fa149236aafd1d4":void 0,"neutral"===g.variant?"a90d04dbb91482f6457f":void 0,E.base,s),S=fi("f6ba3f4896db233fd003",E.hover,(0,l.isFacet)(u)?null:u),C=fi("f3ae30dc1ed11e46182b",E.focus,(0,l.isFacet)(d)?null:d),M=fi("aa774b05edc36b6b9cad",E.press,(0,l.isFacet)(m)?null:m),w=fi("d0f50f394d8d203ef0df",E.disable,(0,l.isFacet)(p)?null:p),k=u7(u7({},i),{},{height:(0,l.useFacetMap)((e=>null!=o?`${o+(c&&!e?.8:.4)}rem`:void 0),[o,c],[h])});return r.createElement(Wi,i7({},g,{className:y,classNameHovered:S,classNameFocused:C,classNamePressed:M,classNameDisabled:w,soundEffectHovered:null!==(t=g.soundEffectHovered)&&void 0!==t?t:b.hover,soundEffectFocused:null!==(a=g.soundEffectFocused)&&void 0!==a?a:b.focus,soundEffectPressed:null!==(n=g.soundEffectPressed)&&void 0!==n?n:b.press,onPressChanged:F,style:k}))}function p7(){return p7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p7.apply(null,arguments)}const f7=(e,t=!1)=>{switch(e){case"primary":case"secondary":return"secondaryButton";case"destructive":return"destructiveButton";default:return t?"secondaryButton":"primaryButton"}};function g7(e){var t,a;let{children:n,variant:o,Icon:c,narrationText:i,fullWidth:s}=e,u=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,["children","variant","Icon","narrationText","fullWidth"]);const{t:d}=ah("Settings"),m=Jr("button",o),p=(0,l.useFacetMap)(((e,t)=>null!=e&&""!==e?e:[t,d(".button.narration.role")].join(" . ")),[d],[(0,l.useFacetWrap)(i),(0,l.useFacetWrap)(n)]);return r.createElement("div",{className:dl()("d007919a001e13320d5a",s&&"d1a1425e3b24d912368e")},r.createElement(bd,{text:p},r.createElement(m7,p7({isElevated:!0,narrationText:!1,className:"c0b9b804c3c8df54d8b5",classNamePressed:"a4ce1827f37a1f4ded1e",variant:o},u),r.createElement("div",{className:"d531fb4f3d07a276949c"},c,r.createElement(Zi,{role:o,type:f7(o,null!=(null===(t=m.text)||void 0===t?void 0:t.interactive)),className:null===(a=m.text)||void 0===a?void 0:a.interactive,interactive:!0,overflowEllipsis:!0},n)))))}const E7=(0,r.createContext)({breakpoint:"desktop"}),b7=E7.Provider;function h7({actionType:e}){return r.createElement(l.Unwrap,{data:e},(e=>{const t=e===L9.ExternalLink?LM.ExternalLink:null;return null!=t?r.createElement(t,{role:"secondary",width:24,height:24,className:"e637356b2f21243b9cd6"}):null}))}const v7={[G9.Number]:function({id:e,depth:t=0}){const a=(e=>dn("vanilla.menus.settingsNumberQuery",e))(e),{name:n,disabled:o,hidden:c,description:i}=a7(a),s=(0,l.useFacetMap)((e=>e.value),[],[a]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.valueText)&&void 0!==t?t:""}),[],[a]),d=(0,l.useFacetMap)((e=>e.step),[],[a]),m=(0,l.useFacetMap)((e=>[e.min,e.max]),[],[a]),p=(0,l.useFacetMap)((e=>null!=e&&e>0),[],[d]),f=mn(N9,"updateNumber"),g=(0,r.useCallback)((t=>f(e,t)),[f,e]),{role:E,indented:b}=t7(t);return r.createElement(l.Mount,{when:c,condition:!1},r.createElement(q9,{id:e,depth:t,type:G9.Number},r.createElement(a$,{title:n,value:s,onChange:g,description:i,disabled:o,step:d,valueText:u,range:m,showSteps:p,wrapperRole:E,indented:b})))},[G9.Boolean]:function({id:e,depth:t=0}){const a=_9(e),{name:n,disabled:o,hidden:c,description:i}=a7(a),s=(0,l.useFacetMap)((e=>e.value),[],[a]),u=mn(N9,"updateBoolean"),d=(0,r.useCallback)((t=>u(e,t)),[u,e]),{role:m,indented:p}=t7(t);return r.createElement(l.Mount,{when:c,condition:!1},r.createElement(q9,{id:e,depth:t,type:G9.Boolean},r.createElement(Vw,{title:n,value:s,onChange:d,description:i,disabled:o,wrapperRole:m,indented:p})))},[G9.String]:function({id:e}){const t=(e=>dn("vanilla.menus.settingsStringQuery",e))(e),{name:a,disabled:n,hidden:o,description:c}=a7(t),i=(0,l.useFacetMap)((e=>e.value),[],[t]),s=(0,l.useFacetMap)((e=>({placeholder:e.placeholder,maxLength:e.maxLength})),[],[t]),u=mn(N9,"updateString"),d=(0,r.useCallback)((t=>u(e,t)),[u,e]);return r.createElement(l.Mount,{when:o,condition:!1},r.createElement(l.Unwrap,{data:s},(({placeholder:e,maxLength:t})=>r.createElement(dk,{label:a,description:c,placeholder:e,maxLength:t,disabled:n,value:i,onChange:d,filterProfanity:!0}))))},[G9.Option]:function({id:e,depth:t=0}){const a=z9(e),{name:n,disabled:o,hidden:c,description:i}=a7(a),s=(0,l.useFacetMap)((e=>e.value),[],[a]),u=(0,l.useFacetMap)((e=>{const{options:t,extraInformation:a}=e;return null==a?t:t.map((e=>r7(r7({},e),{},{description:a})))}),[],[a]),d=(0,l.useFacetMap)((e=>e.options.length),[],[a]),m=R9(),p=(0,r.useCallback)((t=>m(e,t)),[m,e]),{role:f,indented:g}=t7(t);return r.createElement(l.Mount,{when:c,condition:!1},r.createElement(q9,{id:e,depth:t,type:G9.Option},r.createElement(l.Unwrap,{data:d},(e=>e>5?r.createElement(jR,{title:n,description:i,options:u,value:s,onItemSelect:p,disabled:o,role:f,indented:g}):r.createElement($R,{title:n,onChange:p,description:i,options:u,value:s,disabled:o,wrapperRole:f,indented:g})))))},[G9.Action]:function({id:e,depth:t=0}){const{t:a}=ws("Settings.settingsButton"),n=D9(e),o=A9(),c=(0,r.useCallback)((()=>o(e)),[o,e]),{name:i,disabled:s,hidden:u,description:d}=a7(n),m=(0,l.useFacetMap)((e=>e.actionLabel),[],[n]),p=(0,l.useFacetMap)((e=>e.actionType),[],[n]),f=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.confirmationTitle)&&void 0!==t?t:""}),[],[n]),g=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.confirmationDescription)&&void 0!==t?t:""}),[],[n]),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.confirmationAcceptLabel)&&void 0!==t?t:""}),[],[n]),b=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.confirmationCancelLabel)&&void 0!==t?t:""}),[],[n]),h=(0,l.useFacetMap)((e=>null!=e.confirmationTitle),[],[n]),v=c7.useModal(),F=(0,l.useFacetCallback)((e=>()=>{e?v.show():c()}),[c,v],[h]),{role:y,indented:S}=t7(t),{breakpoint:C}=(0,r.useContext)(E7),M="narrow"===C;return r.createElement(l.Mount,{when:u,condition:!1},r.createElement(r.Fragment,null,r.createElement(q9,{id:e,depth:t,type:G9.Action},r.createElement(hD,{title:i,description:d,roleNarrationOverride:a(".narration.role"),buttons:r.createElement(g7,{inputLegend:m,onClick:F,disabled:s,variant:"secondary",Icon:r.createElement(h7,{actionType:p}),"data-testid":"settings-panel-button",fullWidth:M},m),wrapperRole:y,indented:S,buttonPosition:M?"bottom":"right"})),r.createElement(l.Mount,{when:v.isVisible},r.createElement(c7.Component,{title:f,body:g,acceptText:E,cancelText:b,onClose:v.hide,onAccept:c}))))},[G9.Text]:function({id:e,depth:t=0}){const a=j9(e),{name:n,description:o,hidden:c}=a7(a),i=(0,l.useFacetMap)((e=>""!==e),[],[n]),s=(0,l.useFacetMap)((e=>null!=e),[],[o]),u=(0,l.useFacetMap)(((e,t,a)=>!e&&(t||a)),[],[c,i,s]),{role:d,indented:m}=t7(t);return r.createElement(l.Mount,{when:u},r.createElement(q9,{id:e,depth:t,type:G9.Text},r.createElement(V9,{title:n,description:o,indented:m,role:d})))},[G9.GroupInfo]:Z9},F7=({children:e})=>r.createElement("pre",null,e);function y7({id:e,gamepadAlias:t,children:a}){const n=(0,r.useRef)(null),o=U9(e),c=(0,l.useFacetMap)((t=>{var a,n,r;return{bindId:null===(a=t.settings.find((t=>t.id===`${e}.bind`)))||void 0===a?void 0:a.id,resetId:null===(n=t.settings.find((t=>t.id===`${e}.reset`)))||void 0===n?void 0:n.id,captureStateId:null===(r=t.settings.find((t=>t.id===`${e}.captureState`)))||void 0===r?void 0:r.id}}),[e],[o]),{name:i,visible:s}=a7(W9(e)),u=(0,l.useFacetMap)((({bindId:e,captureStateId:t},a)=>!0===a&&null!=e&&null!=t),[],[c,s]),d=(0,l.useFacetMap)((e=>e.state===H9.Hidden),[],[D9((0,l.useFacetMap)((e=>{var t;return null!==(t=e.resetId)&&void 0!==t?t:""}),[],[c]))]);return r.createElement(l.Mount,{when:u},r.createElement(l.Unwrap,{data:c},(({bindId:l,resetId:o,captureStateId:c})=>null==l||null==c||null==o?r.createElement(K9,{id:e}):r.createElement(S7,{id:c},(({isCaptureMode:e})=>r.createElement(uu,{containerRef:n,shouldBindFocus:e,delegateFocusByAlias:`${t}-${l}`},r.createElement(Ud,{role:e?"neutral60":"neutral",innerRef:n},r.createElement("div",{className:"ac67340ef2fbeb455407"},r.createElement(Zi,{className:"d1226b5a6e7bcf15ef30",type:"body"},i),r.createElement(C7,{id:o}),a({isCaptureMode:e,title:i,bindId:l,isDefaultValue:d})))))))))}function S7({id:e,children:t}){const a=_9(e),n=(0,l.useFacetMap)((e=>e.value),[],[a]);return r.createElement(l.Unwrap,{data:n},(a=>r.createElement(q9,{id:e,type:"CaptureModeState"},t({isCaptureMode:a}))))}function C7({id:e}){const{t}=ws("Settings"),a=D9(e),n=A9(),o=(0,r.useCallback)((()=>n(e)),[n,e]),{visible:c,disabled:i}=a7(a),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.actionLabel)&&void 0!==t?t:""}),[],[a]),u=(0,l.useFacetMap)((e=>[e,t(".button.narration.role"),t(".inputBindingButton.reset.narration")].join(" . ")),[t],[s]);return r.createElement(l.Mount,{when:c},r.createElement(q9,{id:e,type:"ResetButton"},r.createElement(g7,{disabled:i,narrationText:u,inputLegend:s,onClick:o,variant:"secondary"},s),r.createElement(Vi,{size:2})))}const M7="d9e60f04726fb3cdc116";function w7({value:e,onClick:t,gamepadAlias:a,isCaptureMode:n,narrationText:o=!1,inputLegend:c=!1,disabled:i=!1}){const s=Yr("neutral80"),u=(0,l.useFacetWrap)(n),d=(0,l.useFacetCallback)((e=>()=>{e||t()}),[t],[u]),m=(0,l.useFacetCallback)(((e,a)=>()=>{e||a||t()}),[t],[u,ct()]),p=(0,l.useFacetMap)((e=>e?"ab60aa62e2bce57585a6":void 0),[],[u]);return r.createElement("div",{className:"c56dbfe5c8791857d10c"},r.createElement(Wi,{className:dl()("b191ba659ac13721f2c5",s.background.base,s.background.disable),classNameFocused:Ws,narrationText:o,inputLegend:c,onClick:m,onMouseDown:d,disabled:i,gamepadAlias:a},r.createElement("div",{className:dl()("e9c43c8ba0f2dcc59bf0",s.shadow.interactive)}),r.createElement(Bs,null),r.createElement("div",{className:dl()("f09179cc2babf3726f22",s.border.interactive,s.text.interactive,s.caret.base)},r.createElement(k7,{show:u}),r.createElement(Zi,{className:p,type:"body",disableable:!0,overflowEllipsis:!0},e))))}function k7({show:e}){const t=Oo(),a=(0,l.useFacetMap)((e=>e?dl()(M7,"eba88926b0e82a8b8e00"):void 0),[],[t]),n=(0,l.useFacetMap)((e=>e?dl()(M7,"a7852df8ffad2b17e86f"):void 0),[],[t]),o=(0,l.useFacetMap)((e=>dl()("ee577c5364d297042f6b",{e8473454d028874625d4:!e})),[],[e]);return r.createElement("fast-div",{className:o},r.createElement(LM.ChevronRight,{className:a}),r.createElement("div",{className:"ea818bfad7506b90f64c"}),r.createElement(LM.ChevronRight,{className:n}))}const P7=(0,l.createStaticFacet)("");function T7({title:e,isCaptureMode:t,onClick:a,value:n,valueText:o=P7,hidden:c,disabled:i,gamepadAlias:s,isDefaultValue:u}){const{t:d}=ws("Settings.inputBindingButton"),{narrateText:m}=sd(),[p,f]=(0,l.useFacetState)(null),g=(0,l.isFacet)(n)?n:o,E=(0,l.useFacetCallback)(((e,t)=>()=>{f(t),m(d(".captureMode.narration",[e])),a()}),[a,m,f,d],[e,g]),b=(0,l.useFacetMap)(((e,t,a)=>[e,d(".narration.role"),t,d(".select.narration"),a?void 0:d(".resetContext.narration")].filter(Boolean).join(" . ")),[d],[g,e,u]),h=(0,l.useFacetCallback)(((e,t,a)=>n=>{null!=t&&t!==n&&m([d(".inputUpdated.narration",[e,n]),a?void 0:d(".resetContext.narration")].filter(Boolean).join(" . "))}),[m,d],[e,p,u]);(0,l.useFacetEffect)((e=>{h(e)}),[h],[g]);const v=(0,l.useFacetMap)(((e,t)=>e||t),[],[i,st()]);return r.createElement(l.Mount,{when:c,condition:!1},r.createElement(xi,{value:!1},r.createElement(w7,{onClick:E,isCaptureMode:t,disabled:v,value:n,inputLegend:d(".inputLegend"),gamepadAlias:s,narrationText:b})))}const I7={dataComponents:{[G9.GroupInfo]:function({id:e}){return r.createElement(y7,{id:e,gamepadAlias:x7},(({isCaptureMode:e,title:t,bindId:a,isDefaultValue:n})=>r.createElement(A7,{id:a,title:t,isCaptureMode:e,isDefaultValue:n})))}},uiComponents:{}},x7="settings-input-keyboard-binding";function O7({id:e,depth:t}){return r.createElement($9.Provider,{value:I7},r.createElement(Z9,{id:e,depth:t}))}function A7({id:e,title:t,isCaptureMode:a,isDefaultValue:n}){const o=A9(),c=(0,r.useCallback)((()=>o(e)),[o,e]),i=D9(e),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.actionLabel)&&void 0!==t?t:""}),[],[i]),{hidden:u,disabled:d}=a7(i);return r.createElement(q9,{id:e,type:"InputBindingButton"},r.createElement(T7,{title:t,isCaptureMode:a,value:s,disabled:d,hidden:u,gamepadAlias:`settings-input-keyboard-binding-${e}`,onClick:c,isDefaultValue:n}))}function N7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N7(Object(a),!0).forEach((function(t){L7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L7(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const D7=a.p+"assets/nintendo_logo-07f29d160877f988690f.png",_7={"language.options":function({id:e,depth:t}){const a=z9(e),{disabled:n,hidden:o}=a7(a),c=(0,l.useFacetMap)(((e,t)=>({value:String(e.value),options:e.options.map((e=>R7(R7({},e),{},{value:String(e.value)}))),disabled:t})),[],[a,n]),i=R9(),s=(0,r.useCallback)((t=>{const a=parseInt(t,10);i(e,a)}),[i,e]);return r.createElement(l.Mount,{when:o,condition:!1},r.createElement(q9,{id:e,depth:t,type:"RadioGroup"},r.createElement(l.Unwrap,{data:c},(e=>r.createElement(N2,{options:e.options,value:e.value,onChange:s,disabled:e.disabled})))))},"general.nintendoCopyright":function({id:e,depth:t}){const a=j9(e),{name:n,hidden:o}=a7(a),c=Ln();return r.createElement(l.Mount,{when:o,condition:!1},r.createElement(q9,{id:e,depth:t,type:"NintendoCopyright"},r.createElement(Ud,{focusable:c,narrationText:n},r.createElement("div",{className:"beee8c1dea78d012e35a"},r.createElement(jd,null,n),r.createElement(pu,{src:D7,className:"bd71570b77331210c094"})))))},"general.buildInfo":function({id:e,depth:t}){const{t:a}=ws("Settings.settingsButton"),n=D9(e),o=B9(),c=A9(),i=(0,r.useCallback)((()=>c(e)),[c,e]),{disabled:s,hidden:u,description:d,name:m}=a7(n),p=(0,l.useFacetMap)((e=>e.actionLabel),[],[n]),f=(0,l.useFacetMap)((e=>e.canCopyToClipboard),[],[o]),g=Ln(),E=(0,l.useFacetMap)((e=>!e&&g),[g],[f]),b=(0,l.useFacetMap)(((e,t,n,r)=>e?[n,r].join(" . "):[t,a(".narration.role"),r].join(" . ")),[a],[E,p,m,d]),{breakpoint:h}=(0,r.useContext)(E7),v="narrow"===h;return r.createElement(l.Mount,{when:u,condition:!1},r.createElement(q9,{id:e,depth:t,type:"BuildInfo"},r.createElement(hD,{title:"",description:d,descriptionWrapper:F7,fullNarrationOverride:b,focusable:E,buttons:r.createElement(l.Mount,{when:f},r.createElement(g7,{inputLegend:p,onClick:i,disabled:s,variant:"secondary",fullWidth:v},p)),buttonPosition:v?"bottom":"right"})))},"account.gamertag":function({id:e}){const t=j9(e),{name:a,hidden:n}=a7(t),o=(0,l.useFacetMap)((e=>`${e}:`),[],[a]),c=Ln(),i=LO(),s=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.data.xblName)&&void 0!==t?t:""}),[],[i]),u=(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.data.xblProfilePic)&&void 0!==t?t:""}),[],[i]),d=(0,l.useFacetMap)(((e,t)=>`${e} . ${t}`),[],[o,s]);return r.createElement(l.Mount,{when:n,condition:!1},r.createElement(Ud,{focusable:c,narrationText:d},r.createElement("div",{className:"e70907da2322866cb76c"},r.createElement(jd,null,o),r.createElement(pu,{src:u,height:"2rem",width:"2rem"}),r.createElement(jd,null,s))))},"account.account_information":function({id:e}){const t=j9(e),{hidden:a,description:n}=a7(t),o=Ln();return r.createElement(l.Mount,{when:a,condition:!1},r.createElement(Ud,{focusable:o,narrationText:n},r.createElement("pre",null,r.createElement(jd,null,n))))},"keyboardAndMouse.inputGroup.standard":O7,"keyboardAndMouse.inputGroup.full":O7};function B7({tab:e}){const t=(0,l.useFacetMap)((e=>e.isDevBuild||!1),[],[(0,l.useSharedFacet)(cb)]),a=`Tab: ${e}`;return r.createElement(l.Mount,{when:t},r.createElement(Ud,null,r.createElement(jd,null,"Selected tab not found"),r.createElement(Vi,{size:2}),r.createElement(Hd,null,a)))}function W7({selectedTab:e,tabs:t,dataComponents:a,uiComponents:n}){const o=Sc(50,128),c="desktop"===o;return r.createElement(X9,{value:{dataComponents:null!=a?a:v7,uiComponents:null!=n?n:_7}},r.createElement(b7,{value:{breakpoint:o}},r.createElement(ud,{floating:!c,delegateFocusFromMemory:!0,renderTracker:e=>r.createElement(ek,{renderingCompleted:e,type:"meaningful"})},r.createElement(l.Unwrap,{data:e},(e=>r.createElement(r.Fragment,null,r.createElement(U7,{selectedTab:e,isWide:c}),r.createElement("div",{className:dl()("ef603203d7d9ad5eca36",{dccbaa565b3202c7759c:c})},t.includes(e)?r.createElement(Z9,{id:e,depth:0}):r.createElement(B7,{tab:e}))))),r.createElement(Lm.Space,{extraSpace:r.createElement(Vi,{size:2})}))))}function U7({selectedTab:e,isWide:t}){const a=(0,l.useSharedFacet)(ib);return r.createElement(l.Mount,{when:a},r.createElement(r.Fragment,null,t&&r.createElement(Vi,{size:2}),r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,"Ore UI Settings are only enabled for debug and preview builds. Remember to update the corresponding JSON UI screen as well."),r.createElement(xO.Text,null,`Toggle "mc-new-${e}-settings-screen" to enable/disable JSON UI`))))}const z7="settings-tts-not-supported-modal-ok-button",j7=As((({onClose:e})=>{const{t}=ah("Settings.modals.ttsNotSupported");return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:z7},r.createElement($m.Header,null,t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".description"),center:!0},t(".description"))),r.createElement($m.Buttons,null,r.createElement(lm,{variant:"primary",inputLegend:t(".buttonLabel"),onClick:e,gamepadAlias:z7},t(".buttonLabel"))))}));let H7;!function(e){e[e.TTSError=0]="TTSError",e[e.FontLicense=1]="FontLicense",e[e.TinkeringList=2]="TinkeringList"}(H7||(H7={}));const G7="ad2507684932315026d5",V7=As((({onClose:e})=>{const{t}=ah("Settings.modals.tinkeringList"),a=B9(),n=(0,l.useFacetMap)((e=>e.treatments),[],[a]);return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:"settings-tinkering-list-modal-close-button"},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},r.createElement("pre",{className:G7},r.createElement("fast-text",{text:n})))))})),$7=As((({onClose:e})=>{const{t}=ah("Settings.modals.fontLicense"),a=dn("vanilla.menus.licenseQuery"),n=(0,l.useFacetMap)((e=>e.fontLicense),[],[a]);return r.createElement($m,{onOverlayClick:e,defaultFocusAlias:"settings-font-license-modal-close-button"},r.createElement($m.Header,{onClose:e},t(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n,center:!0},r.createElement("pre",{className:G7},r.createElement("fast-text",{text:n})))))}));function X7(){const e=p(),t=g(),a=(0,l.useFacetMap)((e=>"modal"===e.sideEffect),[],[t]),n=(0,l.useFacetMap)((e=>e.id),[],[t]),o=(0,r.useCallback)((()=>{e.goBack()}),[e]),c=(0,l.useFacetMap)(((e,t)=>e&&t===H7.TTSError.toString()),[],[a,n]),i=(0,l.useFacetMap)(((e,t)=>e&&t===H7.FontLicense.toString()),[],[a,n]),s=(0,l.useFacetMap)(((e,t)=>e&&t===H7.TinkeringList.toString()),[],[a,n]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:c},r.createElement(j7.Component,{onClose:o})),r.createElement(l.Mount,{when:i},r.createElement($7.Component,{onClose:o})),r.createElement(l.Mount,{when:s},r.createElement(V7.Component,{onClose:o})))}const K7=["account","audio","video","language","accessibility","general","keyboard-and-mouse"];function Y7(){const{t:e}=ws("Settings"),t=(0,l.useFacetMap)((e=>{var t,a;const n=null!==(t=null===(a=e.split("/"))||void 0===a?void 0:a[2])&&void 0!==t?t:"";return K7.includes(n)?n:l.NO_VALUE}),[],[E()]),a=(0,r.useRef)(null);return r.createElement(ZN,{gamepadAlias:"start-menu-settings-screen",screenAnalyticsId:"Settings",title:e(".title")},(()=>r.createElement(r.Fragment,null,r.createElement(zM,{noGutters:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8,innerRef:a},r.createElement(q7,{contentContainerRef:a},r.createElement(W7,{selectedTab:t,tabs:K7}))))),r.createElement(X7,null))))}function q7({children:e,contentContainerRef:t}){const a=zM.useColumnWidthPercentage()*window.innerWidth;return r.createElement($R.ContainerContextProvider,{containerRef:t,defaultWidthPx:a},e)}function Q7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q7(Object(a),!0).forEach((function(t){Z7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z7(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eee(){const e=p(),t=E(),a=h();return(0,l.useFacetMemo)(((t,a)=>J7(J7({},e),{},{updateRouteParameters:n=>{const r=new m;for(const e of a)r.set(e[0],e[1]);for(const e in n){const t=n[e];null!=t?r.set(e,t):r.delete(e)}e.replace(`${t}?${r.toString()}`)}})),[e],[t,a])}const tee="postSaveAction";let aee;function nee(){const e=eee(),t=h(),a=(0,l.useSharedFacet)(PG),n=(0,l.useFacetCallback)(((e,t)=>(a,n)=>{t.updateRouteParameters({[tee]:n}),e.saveRealmWorld(a)}),[],[a,e]),r=(0,l.useFacetMap)((e=>e.get(tee)),[],[t]);return{onSaveRealmsWorld:n,postSaveAction:r}}!function(e){e.None="None",e.ExitToMenu="ExitToMenu",e.ExitToJoinGame="ExitToJoinGame",e.DownloadWorld="DownloadWorld",e.ReOpenWorld="ReOpenWorld"}(aee||(aee={}));const ree=As((()=>{const e="edit-realm-download-world",{t}=ws("EditRealmWorld.ErrorModals"),a=(0,l.useFacetCallback)((e=>()=>{e.clearRealmBackupsState()}),[],[(0,l.useSharedFacet)(OG)]);return r.createElement($m,{defaultFocusAlias:e},r.createElement($m.Header,{onClose:a},t(".download.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".download.message"),center:!0},t(".download.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:e,inputLegend:t(".select"),variant:"secondary",onClick:a},t(".close"))))})),lee=As((()=>{const e="edit-realm-reset-world",{t}=ws("EditRealmWorld.ErrorModals"),a=(0,l.useFacetCallback)((e=>()=>{e.clearRealmWorldEditorState()}),[],[(0,l.useSharedFacet)(PG)]);return r.createElement($m,{defaultFocusAlias:e},r.createElement($m.Header,{onClose:a},t(".reset.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".reset.message"),center:!0},t(".reset.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:e,inputLegend:t(".select"),variant:"secondary",onClick:a},t(".close"))))})),oee=As((()=>{const e="edit-realm-replace-world",{t}=ws("EditRealmWorld.ErrorModals"),a=(0,l.useFacetCallback)((e=>()=>{e.clearRealmWorldEditorState()}),[],[(0,l.useSharedFacet)(PG)]);return r.createElement($m,{defaultFocusAlias:e},r.createElement($m.Header,{onClose:a},t(".replace.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t(".replace.message"),center:!0},t(".replace.message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:e,inputLegend:t(".select"),variant:"secondary",onClick:a},t(".close"))))})),cee=As((({onCloseModal:e})=>{const t="edit-realm-something-went-wrong-close",{t:a}=ws("CreateNewWorld.editWorldErrorModal");return r.createElement($m,{defaultFocusAlias:t},r.createElement($m.Header,{onClose:e},a(".unexpectedError.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".unexpectedError.description"),center:!0},a(".unexpectedError.description"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:t,inputLegend:a(".closeButton"),variant:"secondary",onClick:e},a(".closeButton"))))})),iee=As((({closeModal:e,onConfirm:t})=>{const a="edit-realm-confirm-reset",{t:n}=ws("EditRealmWorld.ConfirmModals"),l=(0,r.useCallback)((()=>{t(),e()}),[e,t]);return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:e},n(".reset.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".reset.message1")},n(".reset.message1")),r.createElement($m.Text,{narrationText:n(".reset.message2")},n(".reset.message2"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:a,inputLegend:n(".confirm"),variant:"primary",onClick:l},n(".confirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".cancel"),variant:"secondary",onClick:e},n(".cancel"))))})),see=As((({closeModal:e,onConfirm:t})=>{const a="edit-realm-confirm-replace",{t:n}=ws("EditRealmWorld.ConfirmModals"),l=(0,r.useCallback)((()=>{t(),e()}),[e,t]);return r.createElement($m,{defaultFocusAlias:a},r.createElement($m.Header,{onClose:e},n(".replace.title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:n(".replace.message1")},n(".replace.message1")),r.createElement($m.Text,{narrationText:n(".replace.message2")},n(".replace.message2"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:a,inputLegend:n(".confirm"),variant:"primary",onClick:l},n(".confirm")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:n(".cancel"),variant:"secondary",onClick:e},n(".cancel"))))})),uee=a.p+"assets/hardcore-heart-engraved-75556ce94d9bfdecca12.png";function dee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dee(Object(a),!0).forEach((function(t){pee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pee(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const fee=()=>{const{t:e}=ws("CreateNewWorld.general"),{t}=ws("CreateNewWorld.all"),{t:a}=ws("CreateNewWorldSideMenu"),{t:n}=ws("EditRealmWorld.general"),o=(0,r.useContext)(eA)!==ZO.CREATE,c=An(),i=p(),s=TH(),u=(0,l.useSharedFacet)(Hv),d=(0,l.useSharedFacet)(xG),m=(0,l.useSharedFacet)(PG),f=(0,l.useSharedFacet)(NG),g=(0,l.useSharedFacet)(OG),E=(0,l.useSharedFacet)(nv),b=(0,l.useSharedFacet)(tv),h=(0,l.useSharedFacet)(_l),v=(0,l.useFacetMap)((e=>e.realmWorldData),[],[d]),F=cV(),y=(0,l.useFacetWrap)(!1),S=(0,r.useCallback)((()=>{}),[]),C=(0,r.useCallback)((()=>{}),[]),M=(0,l.useFacetMap)((e=>e.advanced.generatorType),[],[v]),w=(0,l.useFacetMap)((e=>e.general),[],[v]),k=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[v]),P=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[v]),T=(0,l.useFacetMap)((e=>e.isHardcore),[],[w]),I=!0===(0,l.useFacetUnwrap)(T)&&o?HG.GENERAL_TAB:void 0,x=1==(0,l.useFacetUnwrap)(y)?".editor":"",O=(0,l.useFacetMap)((e=>e.worldName),[],[w]),A=(0,l.useFacetCallback)((e=>t=>e.worldName=t),[],[w]),N=(0,l.useFacetMap)(((e,t)=>e||t),[],[k,T]),R=(0,l.useFacetMap)(((a,n)=>{const r=[mee({label:e(".gameModeSurvivalLabel"),description:e(".gameModeSurvivalDescription"),value:Qv.SURVIVAL},1===a.length?{narrationSuffix:t(".narrationSuffixEnablesAchievements")}:{}),{label:e(".gameModeCreativeLabel"),description:e(".gameModeCreativeDescription"),value:Qv.CREATIVE,narrationSuffix:t(".narrationSuffixDisablesAchievements")}];return(o||n)&&r.push(mee({label:e(".gameModeAdventureLabel"),description:e(n?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:Qv.ADVENTURE},1===a.length?{narrationSuffix:t(".narrationSuffixEnablesAchievements")}:{})),r}),[e,t,o],[F,P]),L=[{label:e(".difficultyPeacefulLabel"),description:e(".difficultyPeacefulDescription"),value:Yb.PEACEFUL},{label:e(".difficultyEasyLabel"),description:e(".difficultyEasyDescription"),value:Yb.EASY},{label:e(".difficultyNormalLabel"),description:e(".difficultyNormalDescription"),value:Yb.NORMAL},{label:e(".difficultyHardLabel"),description:e(".difficultyHardDescription"),value:Yb.HARD}],D=(0,l.useFacetMap)((e=>!e),[],[y]),_=(0,l.useFacetMap)(((e,t)=>t||o||e.gameMode!==Qv.SURVIVAL&&e.gameMode!==Qv.ADVENTURE),[o],[w,k]),B=(0,l.useFacetMap)((e=>o&&e===PF.Legacy),[o],[M]),W=(0,l.useFacetMap)((e=>e.expired),[],[E]),U=(0,l.useFacetMap)((e=>e.realmWorldSummary),[],[(0,l.useSharedFacet)(NG)]),z=(0,l.useFacetMap)((e=>e.realmWorldEditorState),[],[d]),j=(0,l.useFacetMap)((e=>e.realmWorldEditorStateStatus),[],[d]),{onSaveRealmsWorld:H}=nee(),G=(0,l.useFacetCallback)((e=>t=>H(e,t)),[H],[s]),V=KK.useModal(),$=(0,l.useFacetMap)((e=>e.realmBackupsState===AG.DownloadError),[],[f]),X=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.downloadRealmWorld(a,t.realmName,t.activeSlotIndex)}),[],[g,E,s]),K=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?V.show():X()}),[V,X],[d]),Y=iee.useModal(),q=(0,l.useFacetMap)(((e,t)=>e===TG.Resetting&&t===IG.InProgress),[],[z,j]),Q=(0,l.useFacetMap)(((e,t)=>e===TG.Resetting&&t===IG.GenericError),[],[z,j]),J=(0,l.useFacetCallback)(((e,t)=>()=>{e.resetRealmWorld(t)}),[],[m,s]),Z=see.useModal(),ee=(0,l.useFacetMap)(((e,t)=>e===TG.Replacing&&t===IG.GenericError),[],[z,j]),te=(0,l.useFacetCallback)(((e,t)=>()=>{i.push(`/realms-replace-world?realmId=${t}&slotId=${e.activeSlotIndex}`)}),[i],[E,s]),ae=(0,l.useFacetCallback)(((e,t)=>()=>{X(),e.fetchRealmsWorld(t)}),[X],[b,s]),ne=(0,l.useFacetMap)((e=>{var t,a;const r=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",l=null!==(a=null==e?void 0:e.lastSaved)&&void 0!==a?a:"-";return n(".fileDetails",[r,l])}),[n],[U]),re=(0,l.useFacetMap)((t=>[e(".fileManagementTitle"),e(".fileManagement.narrationComponentTypeSectionHeader"),t].join(" . ")),[e],[ne]),le=(0,l.useFacetMap)((({supportsSizeQuery:e,isStorageFull:t,storageSize:a,storageUsed:n})=>e?t||a<=0||n>=a:t),[],[h]);return r.createElement(Wu,null,r.createElement(aV,{narrationText:a(".generalTabLabel"),onUnlockTemplateSettings:S,isEditorWorld:y,hardcoreModeMessageTab:I},r.createElement(l.Mount,{when:y},r.createElement(Uu,null,r.createElement(wH,{title:e(".projectHeader")}))),r.createElement(Uu,null,r.createElement(dk,{label:e(`${x}.worldNameTitle`),placeholder:e(`${x}.worldNamePlaceholder`),maxLength:30,value:O,onChange:A,filterProfanity:!0,disabled:k})),r.createElement(l.Mount,{when:y},r.createElement(Uu,null,r.createElement(wH,{title:e(".exportSettingsHeader"),description:e(".exportSettingsDescription")}))),r.createElement(Uu,null,r.createElement($R,{title:e(".gameModeTitle"),disabled:N,options:R,value:(0,l.useFacetMap)((e=>e.gameMode),[],[w]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{o&&t.trackOptionChanged(nV.GameModeChanged,e.gameMode,a),e.gameMode=a}),[o],[w,u])})),r.createElement(Uu,null,r.createElement($R,{title:e(".difficultyTitle"),disabled:N,options:L,value:(0,l.useFacetMap)(((e,t)=>t?Yb.HARD:e.difficulty),[],[w,T]),onChange:(0,l.useFacetCallback)(((e,t)=>a=>{o&&t.trackOptionChanged(nV.DifficultyChanged,e.difficulty,a),e.difficulty=a}),[o],[w,u])})),r.createElement(l.Mount,{when:D},r.createElement(Uu,null,r.createElement(Vw,{title:e(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:_,description:e(".hardcoreModeDescription"),value:(0,l.useFacetMap)((e=>e.isHardcore),[],[w]),onChange:(0,l.useFacetCallback)((e=>t=>{e.isHardcore=t,c(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[c],[w]),imgSrc:uee,"data-testid":"hardcore-mode-toggle"}))),r.createElement(l.Mount,{when:B},r.createElement(Uu,null,r.createElement(Ud,null,r.createElement(jd,null,e(".makeInfiniteHeader")),r.createElement(Vi,{size:1}),r.createElement(lm,{variant:"secondary",onClick:C,inputLegend:e(".makeInfiniteButton")},e(".makeInfiniteButton")),r.createElement(Vi,{size:1}),r.createElement(Hd,null,e(".makeInfiniteDescription"))))),o&&r.createElement(Uu,null,r.createElement(bd,{text:re},r.createElement(Ud,{compact:!0},r.createElement(Vi,{size:3}),r.createElement(jd,null,e(".fileManagementTitle")),r.createElement(Vi,{size:1}),r.createElement("div",{className:"adef1bc7283f007a1dd3"},r.createElement(lm,{variant:"secondary",onClick:Y.show,inputLegend:n(".fileManagementResetWorldLabel"),disabled:W,horizontal:!0},n(".fileManagementResetWorldLabel")),r.createElement(hD.ButtonSpacing,null),r.createElement(lm,{variant:"secondary",onClick:Z.show,inputLegend:n(".fileManagementReplaceWorldLabel"),disabled:W,horizontal:!0},n(".fileManagementReplaceWorldLabel"))),r.createElement(Vi,{size:1}),r.createElement(lm,{variant:"secondary",onClick:K,inputLegend:n(".fileManagementDownloadWorldLabel"),disabled:le},n(".fileManagementDownloadWorldLabel")),r.createElement(Vi,{size:1}),r.createElement(Hd,null,ne),r.createElement(Vi,{size:3})),r.createElement(l.Mount,{when:V.isVisible},r.createElement(KK.Component,{saveChanges:()=>{G(aee.DownloadWorld)},closeModal:V.hide,discardChanges:ae})),r.createElement(l.Mount,{when:$},r.createElement(ree.Component,null)),r.createElement(l.Mount,{when:Y.isVisible},r.createElement(iee.Component,{closeModal:Y.hide,onConfirm:J})),r.createElement(l.Mount,{when:q},r.createElement(Jw.Component,{title:n(".resettingModal")})),r.createElement(l.Mount,{when:Q},r.createElement(lee.Component,null)),r.createElement(l.Mount,{when:Z.isVisible},r.createElement(see.Component,{closeModal:Z.hide,onConfirm:te})),r.createElement(l.Mount,{when:ee},r.createElement(oee.Component,null))))))},gee=()=>{const{t:e}=ah("CreateNewWorld.advanced"),{t}=ah("CreateNewWorld.advanced.sleepSlider"),{t:a}=ah("CreateNewWorld.all"),{t:n}=ah("CreateNewWorld.advanced.narration"),{t:o}=ah("CreateNewWorldSideMenu"),c=Cl(),i=Rd(Gl),{narrateText:s}=sd({interruptible:!1}),u=(0,r.useContext)(eA)!==ZO.CREATE,d=(0,l.useSharedFacet)(db),m=(0,l.useSharedFacet)(dh),p=(0,l.useSharedFacet)(RG),f=(0,l.useSharedFacet)(LG),g=(0,l.useSharedFacet)(DG),E=(0,l.useFacetMap)((e=>e.useRealmsWorldBackend),[],[(0,l.useSharedFacet)(xG)]),b=(0,l.useSharedFacet)(xG),h=(0,l.useFacetMap)((e=>e.realmWorldData),[],[b]),v=cV(),F=(0,l.useFacetWrap)(!1),y=(0,r.useCallback)((()=>{}),[]),S=(0,l.useFacetWrap)(!1),C=(0,r.useCallback)((()=>{}),[]),M=(0,l.useFacetMap)((e=>e.advanced),[],[h]),w=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[h]),k=(0,l.useFacetMap)((e=>e.isUsingTemplate),[],[h]),P=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[h]),T=!0!==(0,l.useFacetUnwrap)(P)||u?void 0:HG.ADVANCED_TAB,I=(0,l.useFacetMap)((e=>!u&&e),[u],[F]),x={value:(0,l.useFacetMap)((e=>e.generatorType),[],[M]),onChange:(0,l.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[M])},O=(0,l.useFacetMap)((e=>e.worldSeed),[],[M]),A=(0,l.useFacetMap)((e=>e.isClipboardCopySupported),[],[d]),N=(0,l.useFacetCallback)(((t,a,n)=>()=>{a.copyToClipboard(t),n.queueSnackbar(e(".copyToClipboard"))}),[e],[O,d,m]),R=u?N:()=>c.push("/create-new-world/seed-templates"),L=u?"":e(".worldSeedPlaceholder"),D=e(u?".worldSeedCopyButton":".worldSeedButton"),_=(0,l.useFacetMap)(((e,t,a)=>t||a&&!u&&e.generatorType!=PF.Overworld),[u],[M,S,F]),B=(0,l.useFacetMap)((e=>!e),[],[F]),W=(0,l.useFacetWrap)(!0),U=(0,l.useFacetMap)(((e,t,a)=>a?t.useFlatWorld:e.useFlatWorld),[],[M,g,E]),z=(0,l.useFacetMap)(((e,t,a)=>a?t.flatWorldPreset:e.flatWorldPreset),[],[M,g,E]),j=(0,l.useFacetMap)(((e,t,a)=>a?null==t.flatWorldPreset:null==e.flatWorldPreset),[],[M,g,E]),H=[{title:e(".startWithMapTitle"),description:e(".startWithMapDescription"),value:(0,l.useFacetMap)(((e,t,a,n)=>!t&&(n?a.startWithMap:e.startWithMap)),[],[M,P,g,E]),onChange:()=>{},disabled:W,onNarrationText:e(".startWithMapDescription")},{title:e(".bonusChestTitle"),description:e(".bonusChestDescription"),value:(0,l.useFacetMap)(((e,t,a,n)=>!t&&(n?a.bonusChest:e.bonusChest)),[],[M,P,g,E]),onChange:()=>{},disabled:W,onNarrationText:e(".bonusChestDescription")}],G=[{title:e(".showCoordinatesTitle"),description:e(".showCoordinatesDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.showCoordinates:e.showCoordinates),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setShowCoordinates(n):e.showCoordinates=n}),[],[M,p,E]),onNarrationText:e(".showCoordinatesDescription"),visible:!0},{title:e(".showDaysPlayedTitle"),description:e(".showDaysPlayedDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.showDaysPlayed:e.showDaysPlayed),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setShowDaysPlayed(n):e.showDaysPlayed=n}),[],[M,p,E]),onNarrationText:e(".showDaysPlayedDescription"),visible:!0},{title:e(".recipesUnlockTitle"),description:e(".recipesUnlockDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.recipesUnlock:e.recipesUnlock),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setRecipesUnlock(n):e.recipesUnlock=n}),[],[M,p,E]),onNarrationText:e(".recipesUnlockDescription"),visible:i},{title:e(".firesSpreadsTitle"),description:e(".firesSpreadsDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.fireSpreads:e.firesSpreads),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setFireSpreads(n):e.firesSpreads=n}),[],[M,p,E]),onNarrationText:e(".firesSpreadsDescription"),visible:!0},{title:e(".tntExplodesTitle"),description:e(".tntExplodesDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.tntExplodes:e.tntExplodes),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setTNTExplodes(n):e.tntExplodes=n}),[],[M,p,E]),onNarrationText:e(".tntExplodesDescription"),visible:!0},{title:e(".mobLootTitle"),description:e(".mobLootDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.mobLoot:e.mobLoot),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setMobsDropLoot(n):e.mobLoot=n}),[],[M,p,E]),onNarrationText:e(".mobLootDescription"),visible:!0},{title:e(".naturalRegenerationTitle"),description:e(".naturalRegenerationDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.naturalRegeneration:e.naturalRegeneration),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setNaturalRegeneration(n):e.naturalRegeneration=n}),[],[M,p,E]),onNarrationText:e(".naturalRegenerationDescription"),visible:!0},{title:e(".tileDropsTitle"),description:e(".tileDropsDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.tileDrops:e.tileDrops),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setTileDrops(n):e.tileDrops=n}),[],[M,p,E]),onNarrationText:e(".tileDropsDescription"),visible:!0}],V=(0,l.useFacetMap)(((e,t,a)=>a?t.sleepSkipNight:e.sleepSkipNight),[],[M,f,E]),$=(0,l.useFacetMap)(((e,t,a)=>a?t.sleepSkipNightPercent:e.sleepSkipNightPercent),[],[M,f,E]),X=(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setSleepSkipNight(n):e.sleepSkipNight=n}),[],[M,p,E]),K=(0,l.useFacetMap)((e=>!e),[],[V]),Y=(0,l.useFacetMap)((e=>e<100?e:100),[],[$]),q=(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setSleepSkipNightPercent(n):e.sleepSkipNightPercent=n}),[],[M,p,E]),Q=(0,l.useFacetMap)((e=>e>100?t(".disabled"):100===e?t(".all",[`(${e}%)`]):50===e?t(".half",[`(${e}%)`]):e>50?t(".most",[`(${e}%)`]):0===e?t(".one"):e>0?t(".some",[`(${e}%)`]):""),[t],[$]),J=[{title:e(".immediateRespawnTitle"),description:e(".immediateRespawnDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.immediateRespawn:e.immediateRespawn),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setImmediateRespawn(n):e.immediateRespawn=n}),[],[M,p,E]),onNarrationText:e(".immediateRespawnDescription"),disabled:k},{title:e(".respawnBlocksExplodeTitle"),description:e(".respawnBlocksExplodeDescription"),value:(0,l.useFacetMap)(((e,t,a)=>a?t.respawnBlocksExplode:e.respawnBlocksExplode),[],[M,f,E]),onChange:(0,l.useFacetCallback)(((e,t,a)=>n=>{a?t.setRespawnBlocksExplode(n):e.respawnBlocksExplode=n}),[],[M,p,E]),onNarrationText:e(".respawnBlocksExplodeDescription"),disabled:!1}],Z=(0,l.useFacetMap)(((e,t,a)=>a?t.respawnRadius.toString():e.respawnRadius.toString()),[],[M,f,E]),ee=(0,l.useFacetCallback)(((e,t,a)=>n=>{if(a){const e=parseInt(n);isNaN(e)||t.setRespawnRadius(e)}else e.respawnRadius=n}),[],[M,p,E]),te=(0,r.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),r=parseInt(e)<=128;return 0!==e.length&&a?r?gm.ValidationResult.VALID:(s(n(".respawnRadiusNotWithinRange")),t(128..toString()),gm.ValidationResult.INVALID):(s(n(".respawnRadiusInvalidValue")),t(10..toString()),gm.ValidationResult.INVALID)}),[s,n]),ae=(0,r.useCallback)(((t,a)=>({label:e(".simulationDistanceOption",[`${t}`]),value:t,description:e(a,[""+16*t,`${t}`])})),[e]),ne=(0,l.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,a=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>ae(e,a)))}),[ae],[(0,l.useSharedFacet)(Uv)]),re=(0,l.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[M]);return r.createElement(Wu,null,r.createElement(aV,{narrationText:o(".advancedTabLabel"),onUnlockTemplateSettings:y,isEditorWorld:F,hardcoreModeMessageTab:T},r.createElement(l.Mount,{when:F},r.createElement(Uu,null,r.createElement(wH,{title:e(".projectHeader"),description:e(".projectDescription")}))),r.createElement(l.Mount,{when:I},r.createElement(Uu,null,r.createElement(jV,{label:e(".generatorTypeLabel"),options:[{value:PF.Overworld,label:e(".vanillaWorldGeneratorLabel"),description:e(".vanillaWorldGeneratorDescription")},{value:PF.Flat,label:e(".flatWorldGeneratorLabel"),description:e(".flatWorldGeneratorDescription")},{value:PF.Void,label:e(".voidWorldGeneratorLabel"),description:e(".voidWorldGeneratorDescription")}],value:x.value,onChange:x.onChange}))),r.createElement(Uu,null,r.createElement(l.Unwrap,{data:A},(t=>u&&!t?r.createElement(dk,{disabled:u,label:e(".worldSeedLabel"),description:e(".worldSeedDescription"),maxLength:32,value:O,onChange:C,placeholder:e(".worldSeedPlaceholder"),disabledNarrationSuffix:a(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):r.createElement(dk.WithButton,{buttonInputLegend:D,buttonText:D,buttonOnClick:R,textDisabled:u,disabled:_,label:e(".worldSeedLabel"),description:e(".worldSeedDescription"),maxLength:32,value:O,onChange:C,placeholder:L,buttonNarrationHint:e(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:a(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))),r.createElement(Uu,null,r.createElement(l.Mount,{when:B},r.createElement(M$,{value:U,preset:z,onValueChanged:()=>{},onPresetChanged:()=>{},disabled:W,hideAccordion:j,achievementsDisabledMessages:v}))),!u&&H.map((e=>{var t;return r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:w,description:e.description,onChange:e.onChange,value:e.value,onNarrationText:e.onNarrationText}))})),r.createElement(l.Mount,{when:F},r.createElement(Uu,null,r.createElement(wH,{title:e(".exportSettingsHeader"),description:e(".exportSettingsDescription")}))),G.map((e=>e.visible&&r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:w,description:e.description,onChange:e.onChange,value:e.value,onNarrationText:e.onNarrationText})))),r.createElement(Uu,null,r.createElement(r.Fragment,null,r.createElement(Vw,{title:e(".sleepToSkipNightTitle"),description:e(".sleepToSkipNightDescription"),onChange:X,value:V,onNarrationText:e(".sleepToSkipNightDescription")}),r.createElement(a$,{title:e(".sleepToSkipNightPercentTitle"),disabled:K,description:e(".sleepToSkipNightPercentDescription"),onChange:q,value:Y,valueText:Q}))),J.map((e=>{var t;return r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:w,description:e.description,onChange:e.onChange,value:e.value,onNarrationText:e.onNarrationText}))})),r.createElement(Uu,null,r.createElement(dk,{label:e(".respawnRadiusLabel"),description:e(".respawnRadiusDescription"),maxLength:8,value:Z,disabled:k,onChange:ee,onBlur:te,placeholder:e(".respawnRadiusPlaceholder"),disabledNarrationSuffix:a(".narrationSuffixTemplateLocked"),isNumber:!0})),r.createElement(Uu,null,r.createElement($R,{title:e(".simulationDistanceTitle"),options:ne,value:(0,l.useFacetMap)((e=>e.simulationDistance),[],[M]),onChange:re,disabled:!0,wrapToggleText:!0})),u&&H.map((e=>{var t;return r.createElement(Uu,{key:e.title},r.createElement(Vw,{title:e.title,disabled:null!==(t=e.disabled)&&void 0!==t?t:w,description:e.description,onChange:e.onChange,value:e.value,onNarrationText:e.onNarrationText}))}))))},Eee=()=>{const{t:e}=ah("CreateNewWorld.multiplayer"),{t}=ah("CreateNewWorldSideMenu"),{t:a}=ah("MultiplayerTab.PlayerAccessPanel"),n=p(),o=TH(),c=(0,l.useSharedFacet)(xG),i=(0,l.useFacetMap)((e=>e.realmWorldData),[],[c]),s=(0,l.useFacetWrap)(!1),u=(0,r.useCallback)((()=>{}),[]),d=(0,l.useFacetMap)((e=>e.multiplayer),[],[i]),m=(0,l.useFacetMap)((e=>e.friendlyFire),[],[d]),f=(0,l.useFacetCallback)((e=>t=>{e.friendlyFire=t}),[],[d]),g=(0,l.useFacetMap)((e=>e.locatorBarEnabled),[],[d]),E=(0,l.useFacetCallback)((e=>t=>{e.locatorBarEnabled=t}),[],[d]),b=(0,l.useFacetCallback)((e=>()=>{n.push(`/settings/members/${e}`)}),[n],[o]);return r.createElement(Wu,null,r.createElement(aV,{isEditorWorld:s,narrationText:t(".multiplayerTabLabel"),onUnlockTemplateSettings:u},r.createElement(Uu,null,r.createElement(Vw,{key:e(".friendlyFireTitle"),title:e(".friendlyFireTitle"),description:e(".friendlyFireDescription"),disabledNarrationSuffix:e(".multiplayerSettingsDisabledNarrationHint"),value:m,onChange:f})),r.createElement(Uu,null,r.createElement(Vw,{key:e(".locatorBarTitle"),title:e(".locatorBarTitle"),description:e(".locatorBarDescription"),disabledNarrationSuffix:e(".multiplayerSettingsDisabledNarrationHint"),value:g,onChange:E})),r.createElement(Ud,{compact:!0},r.createElement(Vi,{size:4}),r.createElement(jd,null,a(".title")),r.createElement(Vi,{size:2}),r.createElement(lm,{variant:"secondary",inputLegend:a(".manageMembersLegend"),onClick:b},a(".manageMembersButton")),r.createElement(Vi,{size:4}))))},bee=()=>{const{t:e}=ah("CreateNewWorld.cheats"),{t}=ah("CreateNewWorld.all"),{t:a}=ah("CreateNewWorld.cheats.narration"),{t:n}=ah("CreateNewWorldSideMenu"),o=(0,l.useSharedFacet)(xG),c=(0,l.useSharedFacet)(Hv),i=(0,r.useContext)(eA)!==ZO.CREATE,s=(0,l.useFacetMap)((e=>e.realmWorldData),[],[o]),u=(0,l.useFacetWrap)(!1),d=(0,r.useCallback)((()=>{}),[]),m=(0,l.useFacetMap)((e=>e.cheats),[],[s]),p=(0,l.useFacetMap)((e=>e.isLockedTemplate),[],[s]),f=(0,l.useFacetMap)((e=>e.general.isHardcore),[],[s]),g=!0===(0,l.useFacetUnwrap)(f)?HG.CHEATS_TAB:void 0,E=cV(),b=(0,l.useFacetMap)(((e,t,a)=>!e.cheatsEnabled||t||a),[],[m,p,f]),h=(0,l.useFacetMap)(((e,t)=>e||t),[],[p,f]),v=(0,l.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged(nV.CheatsChanged,Number(e.cheatsEnabled),Number(a)),e.cheatsEnabled=a}),[i],[m,c]),F=(0,l.useFacetMap)(((e,t)=>!t&&e.cheatsEnabled),[],[m,f]),y=(0,l.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged(nV.DaylightCycleChanged,e.daylightCycle,a),e.daylightCycle=a}),[i],[m,c]),S=(0,l.useFacetMap)(((e,t)=>t?Zb.NORMAL:e.daylightCycle),[],[m,(0,l.useFacetWrap)(null!=f&&f)]),C=[{label:e(".daylightCycleNormalLabel"),description:e(".daylightCycleNormalDescription"),value:Zb.NORMAL}];i&&C.push({label:e(".daylightCycleLockTimeLabel"),description:e(".daylightCycleLockTimeDescription"),value:Zb.LOCK_TIME});const M=[{title:e(".inventoryTitle"),description:e(".inventoryDescription"),value:(0,l.useFacetMap)(((e,t)=>!t&&e.keepInventory),[],[m,f]),onChange:(0,l.useFacetCallback)((e=>t=>{e.keepInventory=t}),[],[m])},{title:e(".mobSpawningTitle"),description:e(".mobSpawningDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.mobSpawning),[],[m,f]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobSpawning=t}),[],[m])},{title:e(".mobGriefingTitle"),description:e(".mobGriefingDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.mobGriefing),[],[m,f]),onChange:(0,l.useFacetCallback)((e=>t=>{e.mobGriefing=t}),[],[m])},{title:e(".entitiesDropLootTitle"),description:e(".entitiesDropLootDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.entitiesDropLoot),[],[m,f]),onChange:(0,l.useFacetCallback)((e=>t=>{e.entitiesDropLoot=t}),[],[m])},{title:e(".weatherTitle"),description:e(".weatherDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.weather),[],[m,f]),onChange:(0,l.useFacetCallback)((e=>t=>{e.weather=t}),[],[m])},{title:e(".commandBlocksTitle"),description:e(".commandBlocksDescription"),value:(0,l.useFacetMap)(((e,t)=>!!t||e.commandBlocks),[],[m,f]),onChange:(0,l.useFacetCallback)((e=>t=>{e.commandBlocks=t}),[],[m])}],{narrateText:w}=sd({interruptible:!1}),k=(0,l.useFacetMap)(((e,t)=>t?1..toString():e.tickSpeed.toString()),[],[m,(0,l.useFacetWrap)(null!=f&&f)]),P=(0,l.useFacetCallback)((e=>t=>{e.tickSpeed=t}),[],[m]),T=(0,r.useCallback)(((e,t)=>{const n=e.match(/^[0-9]*$/g),r=parseInt(e)<=4096;return 0!==e.length&&n?r?gm.ValidationResult.VALID:(w(a(".tickSpeedNotWithinRange")),t(4096..toString()),gm.ValidationResult.INVALID):(w(a(".tickSpeedInvalidValue")),t(1..toString()),gm.ValidationResult.INVALID)}),[w,a]);return r.createElement(Wu,null,r.createElement(aV,{narrationText:n(".cheatsTabLabel"),onUnlockTemplateSettings:d,isEditorWorld:u,hardcoreModeMessageTab:g},r.createElement(Uu,null,r.createElement(Vw,{title:e(".title"),description:e(".description"),disabled:h,value:F,onChange:v,onNarrationText:t(".narrationSuffixDisablesAchievements")+" . "+t(".narrationSuffixSettingsAvailable"),offNarrationText:(0,l.useFacetMap)((e=>0===e.length?t(".narrationSuffixEnablesAchievements"):void 0),[t],[E])})),r.createElement(bd,{text:[e(".settingsTitle"),e(".narrationComponentTypeSectionHeader")].join(" . ")},r.createElement(Uu,null,r.createElement(wH,{title:e(".settingsTitle")})),r.createElement(Uu,null,r.createElement($R,{disabledNarrationSuffix:e(".settingDisabledHint"),title:e(".daylightCycleTitle"),disabled:b,options:C,value:S,onChange:y})),r.createElement(r.Fragment,null,M.map((t=>r.createElement(Uu,{key:t.title},r.createElement(Vw,{disabledNarrationSuffix:e(".settingDisabledHint"),title:t.title,description:t.description,disabled:b,value:t.value,onChange:t.onChange}))))),r.createElement(Uu,null,r.createElement(dk.WithButton,{disabledNarrationSuffix:e(".settingDisabledHint"),buttonInputLegend:e(".tickSpeedReset"),buttonText:e(".tickSpeedReset"),disabled:b,buttonOnClick:()=>P(1..toString()),label:e(".tickSpeedLabel"),description:e(".tickSpeedDescription"),maxLength:4,value:k,onChange:P,onBlur:T,buttonNarrationHint:e(".narrationTickSpeedButtonNarrationHint"),isNumber:!0})))))};function hee({worldPacks:e,areResourcePacksRequired:t,isEditorWorld:a,isLockedTemplate:n,onClickPackMoreDetails:l,onClickPackSettings:o,onChangePackPriority:c}){return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(Uu,null,r.createElement(Ok,null,r.createElement(yee,{worldPacks:e,isEditorWorld:a,isLockedTemplate:n,onClickPackMoreDetails:l,onClickPackSettings:o,onChangePackPriority:c}))),r.createElement(Vi,{size:6}),r.createElement(Uu,null,r.createElement(Fee,{worldPacks:e,areResourcePacksRequired:t,onClickPackMoreDetails:l})),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))),[e,a,n,l,o,c,t]))}const vee=e=>({id:kX,contentId:kX,name:e(".globalMinecraftPackTitle"),creator:"Minecraft",description:e(".globalMinecraftPackDescription"),size:"n/a",image:GX,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1});function Fee({worldPacks:e,areResourcePacksRequired:t,onClickPackMoreDetails:a}){const{t:n}=ah("CreateNewWorld.resourcePacks"),o=(0,l.useFacetMap)((e=>e.globalTexturePacks),[],[e]),{toggleExpanded:c,expandedId:i}=DX(),s=!0===(0,l.useFacetUnwrap)(t),u=(0,l.useFacetMap)((e=>0===e.length?1:e.length+1),[],[o]),d=(0,l.useFacetUnwrap)(u),m=d===l.NO_VALUE?0:d-1;return r.createElement(bd,{text:n(".narrationGlobalPacksHeader")},r.createElement(aP,{role:"neutral",label:n(".globalPacksListHeader")}),r.createElement(l.Map,{array:o},((e,t)=>s?r.createElement(xX,{containerListLength:u,deactivated:!0,pack:e,index:t}):r.createElement(xX,{pack:e,containerListLength:u,showTechnicalDetailsLink:!0,index:t,expandedPackId:i,onExpand:c,canShowSettingsButton:!1,onClickMoreDetails:a}))),r.createElement(xX,{showTechnicalDetailsLink:!0,containerListLength:u,pack:(0,l.useFacetWrap)(vee(n)),index:m,expandedPackId:i,onExpand:c,onClickMoreDetails:a}),r.createElement(lX,{text:n(".globalPacksInfoMessage")}))}function yee({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a,onClickPackSettings:n,onChangePackPriority:o,role:c="neutral"}){const{t:i}=ah("CreateNewWorld.resourcePacks"),s=Yr(c),u=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),d=(0,l.useFacetMap)((e=>e.length<1),[],[u]),m=(0,l.useFacetMap)((e=>e.length>1),[],[u]),{expandedId:p,toggleExpanded:f,closeExpanded:g}=DX(),{isDraggable:E,changePackPriority:b,dragStartHandler:h}=_X(u,BF.Resource,p,g,t,o),{deactivatePack:v}=Tee(),F=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(bd,{text:i(".narrationActiveLocalPacksHeader")},r.createElement(aP,{role:"neutral",label:i(".localPacksListHeader")}),r.createElement(l.Mount,{when:d},r.createElement(aw,{gamepadAlias:"empty-local-active-rp",title:i(".emptyLocalActivePacksMessageTitle"),text:i(".emptyLocalActivePacksMessageDescription")})),r.createElement("div",{className:"eb20a8191d69b902c249"},r.createElement("div",{className:dl()("ead15611ff9d9f6bbffd",s.background.base)}),r.createElement(l.Mount,{when:d,condition:!1},r.createElement(CX.Provider,{value:"active"},r.createElement(NX,{showTechnicalDetailsLink:!0,packsFacet:u,draggable:E,expandedId:p,onDragStart:h,onDrop:b,onExpand:f,onRemove:v,onClickMoreDetails:a,onClickPackSettings:n,canShowSettingsButton:!0,isNotLockedTemplate:F})))),r.createElement(l.Mount,{when:t,condition:!1},r.createElement(l.Mount,{when:m},r.createElement(lX,{text:i(".packPriorityInfoMessage")}))),r.createElement(l.Mount,{when:t},r.createElement(lX,{text:i(".changesDisabledMessage")})))}const See=({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a})=>{const{t:n}=ah("CreateNewWorld.resourcePacks"),{toggleExpanded:o,expandedId:c}=DX(),i=(0,l.useSharedFacet)(yF),s=(0,l.useFacetMap)((e=>e.activeTexturePacks),[],[e]),u=(0,l.useFacetMap)((e=>e.availableTexturePacks),[],[e]),d=(0,l.useFacetMap)((e=>e.length<1),[],[u]),m=(0,l.useFacetMap)((e=>e.length),[],[u]),p=(0,l.useFacetMap)((e=>e.length>0),[],[s]),f=(0,l.useFacetMap)((e=>n(e?".activatedAllPacksMessageTitle":".userOwnsNoPacksMessageTitle")),[n],[p]),g=(0,l.useFacetMap)((e=>n(e?".activatedAllPacksMessageDescription":".userOwnsNoMessageDescription")),[n],[p]),E=(0,l.useFacetMap)(((e,t)=>!e&&!t),[],[t,i]),{activatePack:b}=Tee();return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(Yw,{label:n(".inactivePacksAccordionHeader"),count:m,narrationHint:n(".inactivePacksAccordionHint"),onExpandNarrationHint:n(".inactivePacksOnExpandAccordionHint"),expandedDefaultState:!1},r.createElement(l.Mount,{when:d},r.createElement(aw,{gamepadAlias:"empty-available-rp",title:f,text:g})),r.createElement(CX.Provider,{value:"available"},r.createElement(l.Map,{array:u},((e,t)=>r.createElement(xX,{containerListLength:m,activatable:E,onActivate:b,pack:e,index:t,expandedPackId:c,onExpand:o,onClickMoreDetails:a})))),r.createElement(Vi,{size:3})),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))),[n,m,d,f,g,u,E,b,c,o,a]))},Cee=({})=>{const{t:e}=ah("CreateNewWorld.resourcePacks"),t=p(),a=Ln(),n=zX.useShowModal(),o=(0,l.useSharedFacet)(rh),c=(0,l.useSharedFacet)(Hv),i=e(".getMoreButton.title"),s=e(".getMoreButton.body"),u=(0,l.useFacetCallback)(((e,r)=>()=>{function l(){r.fireEventButtonPressed("Get_More_Packs_Button_OreUI",{});const a=e.getMorePacks?`?title=${e.getMorePacks.title}&pageId=${e.getMorePacks.pageId}`:"";t.push(`/marketplace${a}`)}a?n({onAccept:l}):l()}),[t,a,n],[o,c]);return r.createElement(WX,{titleText:i,bodyText:s,onClick:u})},Mee=({worldPacks:e,isEditorWorld:t,isLockedTemplate:a,onClickPackMoreDetails:n})=>{const o=(0,l.useFacetMap)((e=>!e),[],[t]),{toggleExpanded:c,expandedId:i}=DX();return(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(See,{worldPacks:e,isEditorWorld:t,isLockedTemplate:a,onClickPackMoreDetails:n}),r.createElement(wee,{worldPacks:e,isEditorWorld:t,isLockedTemplate:a,expandedId:i,toggleExpanded:c,onClickPackMoreDetails:n}),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:o},r.createElement(Cee,null)))),[e,t,a,n,i,c,o])};function wee({worldPacks:e,isEditorWorld:t,isLockedTemplate:a,expandedId:n,toggleExpanded:o,onClickPackMoreDetails:c}){const{t:i}=ah("CreateNewWorld.resourcePacks"),s=(0,l.useSharedFacet)(FF),u=(0,l.useFacetMap)(((e,t)=>e.realmsPlusSupported&&!t),[],[e,t]),d=(0,l.useFacetMap)((e=>e.isRealmsPlusSubscriptionActive||e.isMarketplacePassSubscriptionActive),[],[s]),m=(0,l.useFacetMap)((e=>!e.isMarketplacePassSubscriptionActive&&!e.isRealmsPlusSubscriptionActive),[],[s]),p=(0,l.useFacetMap)((e=>e.realmsTexturePacks),[],[e]),f=(0,l.useFacetMap)((e=>e.length<=0),[],[p]),g=(0,l.useFacetMap)(((e,t)=>t?e.length:"100+"),[],[p,d]),E=(0,l.useFacetMap)((e=>!e),[],[a]),{activatePack:b}=Tee();return r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:u},r.createElement(Yw,{label:i(".marketplacePassPacksAccordionHeader"),count:g,narrationHint:i(".marketplacePassPacksAccordionHint"),onExpandNarrationHint:i(".marketplacePassPacksOnExpandAccordionHint"),expandedDefaultState:!1},r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:f},r.createElement(aw,{gamepadAlias:"empty-realms-plus-rp",title:i(".marketplacePassPacksEmptyTitle"),text:i(".marketplacePassPacksEmptyBody")})),r.createElement(CX.Provider,{value:"realms"},r.createElement(l.Map,{array:p},((e,t)=>r.createElement(xX,{activatable:E,onActivate:b,pack:e,index:t,expandedPackId:n,onExpand:o,onClickMoreDetails:c})))))),r.createElement(l.Mount,{when:m},r.createElement(kee,null)),r.createElement(Vi,{size:3}))))}function kee(){const{t:e}=ah("CreateNewWorld.resourcePacks"),t=Cl(),a=Nw({wide:8,narrow:6,width:256}),n=(0,l.useFacetMap)((e=>e?"df10cdf01eb0841ac525":"fa77c4e899bd6ecfcd89"),[],[a]);return r.createElement(aw,{title:e(".marketplacePassPromotionTitle"),text:e(".marketplacePassPromotionBody"),imgSrc:HX,imgClass:n,buttons:[{text:e(".marketplacePassPromotionButtonLabel"),inputLegend:e(".marketplacePassPromotionButtonInputLegend"),onClick:()=>t.push("/csb-pdp?tab=default")}]})}const Pee=(0,r.createContext)({}),Tee=()=>(0,r.useContext)(Pee);function Iee(){const[e]=(0,l.useFacetState)({activeTexturePacks:[],availableTexturePacks:[],globalTexturePacks:[],realmsTexturePacks:[],unownedTexturePacks:[],activeBehaviorPacks:[],availableBehaviorPacks:[],realmsPlusSupported:!0,realmsSubscriber:!1}),[t,a]=(0,l.useFacetState)(!1),[n]=(0,l.useFacetState)(!0),o=(0,r.useCallback)((()=>{}),[]),c=(0,r.useCallback)((()=>{}),[]),i=(0,r.useCallback)((()=>{}),[]),[s]=(0,l.useFacetState)(!1),{t:u}=ah("CreateNewWorld.resourcePacks"),{t:d}=ah("CreateNewWorldSideMenu"),m=(0,l.useSharedFacet)(yF),p=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]),f=(0,l.useFacetMap)(((e,t)=>e||t.isTrialAccount),[],[s,(0,l.useSharedFacet)(FF)]),g=jX("Resource_Pack_More_Details_Button_OreUI"),E=(0,l.useFacetMap)((e=>e),[],[m]),b=(0,r.useRef)(!0),h=(0,r.useCallback)((()=>r.createElement(hee,{worldPacks:e,areResourcePacksRequired:t,isEditorWorld:n,isLockedTemplate:s,onClickPackSettings:c,onClickPackMoreDetails:g,onChangePackPriority:o})),[e,t,n,s,c,g,o]),v=(0,r.useCallback)((()=>r.createElement(Mee,{worldPacks:e,isEditorWorld:n,isLockedTemplate:s,onClickPackMoreDetails:g})),[e,n,s,g]);return(0,l.useFacetEffect)(((e,t)=>{e&&!b.current&&t.queueSnackbar(u(".globalPacksDeactivatedSnackbarMessage")),b.current=!1}),[u],[t,(0,l.useSharedFacet)(dh)]),r.createElement(l.Unwrap,{data:E},(e=>r.createElement(r.Fragment,null,e?r.createElement(nA,{context:tA.RESOURCE_PACKS_TAB}):r.createElement(Wu,null,r.createElement(aV,{isEditorWorld:n,nestedRoutes:!0,narrationText:d(".resourcePacksTabLabel"),onUnlockTemplateSettings:i,addonStackingWarningEnabled:p},r.createElement(Uu,null,r.createElement(Vw,{disabled:f,title:u(".sharedPacksTitle"),description:u(".sharedPacksDescription"),onNarrationText:u(".sharedPacksDeactivatingGlobalPacks"),offNarrationText:u(".sharedPacksActivatingGlobalPacks"),onChange:a,value:t})),r.createElement("div",{className:"eab6a5d51ea61b1800d2"},r.createElement(RX,{gamepadAliasNamespace:"cnw-rp",path:"resource-packs",narrationTitle:d(".resourcePacksTabLabel")}),r.createElement(Vi,{size:2}),r.createElement(LX,{component:h,filter:"active"}),r.createElement(LX,{component:v,filter:"available"}),r.createElement(Vi,{size:2})))))))}const xee="empty-active-bp";function Oee({worldPacks:e,isLockedTemplate:t,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:l}){return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(Ok,null,r.createElement(Aee,{isLockedTemplate:t,worldPacks:e,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:l}))),[t,a,e,n,l]),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}function Aee({role:e="neutral",worldPacks:t,isLockedTemplate:a,onChangePackPriority:n,onClickPackMoreDetails:o,onClickPackSettings:c}){const{t:i}=ah("CreateNewWorld.behaviorPacks"),{toggleExpanded:s,expandedId:u,closeExpanded:d}=DX(),m=Yr(e),{deactivatePack:p}=Lee(),f=(0,l.useFacetMap)((e=>e.activeBehaviorPacks),[],[t]),g=(0,l.useFacetMap)((e=>e.length<1),[],[f]),E=(0,l.useFacetMap)((e=>e.length>1),[],[f]),b=(0,l.useFacetMap)((e=>!e),[],[a]),{isDraggable:h,changePackPriority:v,dragStartHandler:F}=_X(f,BF.Behavior,u,d,a,n);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:g},r.createElement(aw,{gamepadAlias:xee,title:i(".emptyLocalActivePacksMessageTitle"),text:i(".emptyLocalActivePacksMessageDescription")})),r.createElement("div",{className:"e1212d820b07d07224ee"},r.createElement("div",{className:dl()("decb626f9eec068f7867",m.background.base)}),r.createElement(l.Mount,{when:g,condition:!1},r.createElement(CX.Provider,{value:"active"},r.createElement(NX,{showTechnicalDetailsLink:!0,packsFacet:f,draggable:h,expandedId:u,onDragStart:F,onDrop:v,onExpand:s,onRemove:p,onClickMoreDetails:o,onClickPackSettings:c,canShowSettingsButton:!0,isNotLockedTemplate:b})))),r.createElement(l.Mount,{when:a,condition:!1},r.createElement(l.Mount,{when:E},r.createElement(lX,{text:i(".packPriorityInfoMessage")}))),r.createElement(l.Mount,{when:a},r.createElement(lX,{text:i(".changesDisabledMessage")})))}function Nee({worldPacks:e,isLockedTemplate:t,onClickPackMoreDetails:a}){const{t:n}=ah("CreateNewWorld.behaviorPacks"),{toggleExpanded:o,expandedId:c}=DX(),{activatePack:i}=Lee(),s=(0,l.useFacetMap)((e=>e.availableBehaviorPacks),[],[e]),u=(0,l.useFacetMap)((e=>e.length<1),[],[s]),d=(0,l.useFacetMap)((e=>!e),[],[t]);return r.createElement(r.Fragment,null,(0,r.useMemo)((()=>r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:u},r.createElement(aw,{gamepadAlias:"empty-available-bp",title:n(".activatedAllPacksMessageTitle"),text:n(".activatedAllPacksMessageDescription")})),r.createElement(CX.Provider,{value:"available"},r.createElement(l.Map,{array:s},((e,t)=>r.createElement(xX,{activatable:d,onActivate:i,pack:e,index:t,expandedPackId:c,onExpand:o,onClickMoreDetails:a})))))),[n,s,u,d,i,c,o,a]),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0}))}const Ree=(0,r.createContext)({}),Lee=()=>(0,r.useContext)(Ree),Dee=()=>{const[e]=(0,l.useFacetState)({activeTexturePacks:[],availableTexturePacks:[],globalTexturePacks:[],realmsTexturePacks:[],unownedTexturePacks:[],activeBehaviorPacks:[],availableBehaviorPacks:[],realmsPlusSupported:!0,realmsSubscriber:!1}),[t]=(0,l.useFacetState)(!0),a=(0,r.useCallback)((()=>{}),[]),n=(0,r.useCallback)((()=>{}),[]),o=(0,r.useCallback)((()=>{}),[]),c=(0,r.useCallback)((()=>{}),[]),i=(0,r.useCallback)((()=>{}),[]),[s]=(0,l.useFacetState)(!1),u=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>0||e.availableBehaviorPacks.length>0),[],[e]);return r.createElement(Wee,{worldPacks:e,isEditorWorld:t,onActivatePack:a,onDeactivatePack:n,onUnlockTemplateSettings:i},r.createElement(Uu,null,r.createElement(l.Mount,{when:u,condition:!0},r.createElement(_ee,{worldPacks:e,isLockedTemplate:s,onChangePackPriority:o,onClickPackSettings:c}))),r.createElement(Uu,null,r.createElement(l.Mount,{when:u,condition:!1},r.createElement(Bee,null))))},_ee=({worldPacks:e,isLockedTemplate:t,onChangePackPriority:a,onClickPackSettings:n})=>{const{t:l}=ah("CreateNewWorldSideMenu"),o=jX("Resource_Pack_More_Details_Button_OreUI");return r.createElement("div",{className:"ad42f5e2446ec826f3c1"},r.createElement(RX,{gamepadAliasNamespace:"cnw-bp",path:"behavior-packs",narrationTitle:l(".behaviorPacksTabLabel")}),r.createElement(Vi,{size:2}),r.createElement(LX,{component:()=>r.createElement(Oee,{worldPacks:e,isLockedTemplate:t,onChangePackPriority:a,onClickPackSettings:n,onClickPackMoreDetails:o}),filter:"active"}),r.createElement(LX,{component:()=>r.createElement(Nee,{worldPacks:e,isLockedTemplate:t,onChangePackPriority:a,onClickPackMoreDetails:o}),filter:"available"}),r.createElement(Vi,{size:2}))},Bee=({})=>{const{t:e}=ah("CreateNewWorld.behaviorPacks"),t=Aw({wide:8,narrow:5,width:260})?"f976b9d841ac8a9bb933":"d4bd7aa0436a4bb691a9";return r.createElement(aw,{gamepadAlias:xee,title:e(".noPacksAvailableTitle"),text:e(".noPacksAvailableBody"),imgSrc:iK,borderless:!0,imgClass:t})},Wee=({worldPacks:e,isEditorWorld:t,onUnlockTemplateSettings:a,children:n})=>{const{t:o}=ah("CreateNewWorldSideMenu"),c=(0,l.useSharedFacet)(yF),i=(0,l.useFacetMap)((e=>e),[],[c]),s=(0,l.useFacetMap)((e=>e.activeBehaviorPacks.length>2),[],[e]);return r.createElement(l.Unwrap,{data:i},(e=>r.createElement(r.Fragment,null,e?r.createElement(nA,{context:tA.BEHAVIOR_PACKS_TAB}):r.createElement(Wu,null,r.createElement(aV,{nestedRoutes:!0,narrationText:o(".behaviorPacksTabLabel"),onUnlockTemplateSettings:a,isEditorWorld:t,addonStackingWarningEnabled:s},n)))))},Uee=a.p+"assets/members-empty-320294d3b2376f2da601.png";var zee;!function(e){e[e.Loading=0]="Loading",e[e.NoResult=1]="NoResult",e[e.ValidResult=2]="ValidResult"}(zee||(zee={}));const jee=({commitData:e,noDataOverrideText:t,forcedDisabled:a=!1,isLoading:n,testid:o="",enumerationIndex:c,enumerationMax:i})=>{const{t:s}=ws("EditWorld.devOptions"),u=Ln(),d=(0,l.useSharedFacet)(_G),m=(0,l.useFacetMap)((e=>e.branch),[],[e]),p=(0,l.useFacetMap)((e=>e.reference),[],[e]),f=(0,l.useFacetMap)((e=>e.releaseDateString),[],[e]),g=(0,l.useFacetMap)((e=>s(".protocolVersion",[e.protocol])),[s],[e]),E=(0,l.useFacetWrap)(null!=t?t:s(".notConfig")),b=(0,l.useFacetWrap)(null!=n&&n),h=(0,l.useFacetWrap)(null!=c?c:0),v=(0,l.useFacetWrap)(null!=i?i:0),F=(0,l.useFacetCallback)(((e,t)=>()=>{e.selectCommit(t)}),[],[d,p]),y=(0,l.useFacetMap)(((e,t)=>e?zee.Loading:""!=t?zee.ValidResult:zee.NoResult),[],[b,p]),S=(0,l.useFacetMap)((e=>e!=zee.ValidResult||a),[a],[y]),C=1==(0,l.useFacetUnwrap)(S)&&u,M=(0,l.useFacetMap)(((e,t,n,r,l)=>{switch(e){case zee.Loading:return s(".narration.loading");case zee.ValidResult:return[t.branch,s(a?".narration.commitTextBlock":".narration.commitButton"),t.reference,t.releaseDateString,s(".protocolVersion",[t.protocol]),r>0&&l>0?s(".narration.enumeration",[`${r}`,`${l}`]):""].join(" . ");case zee.NoResult:return[n,s(a?".narration.commitTextBlock":".narration.commitButton")].join(" . ");default:return""}}),[s,a],[y,e,E,h,v]);return r.createElement(rT,{isFocusable:C,narrationText:M},r.createElement(rT.Action,{inputLegend:s(".select"),narrationText:M,onClick:F,disabled:S,testId:o},r.createElement(l.Unwrap,{data:y},(e=>{switch(e){case zee.Loading:return r.createElement(rT.Main,null,r.createElement("div",{className:"c94ff78d1b05552a6afe"},r.createElement(id,null)));case zee.NoResult:return r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},E));case zee.ValidResult:default:return r.createElement(r.Fragment,null,r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,m)),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,p))),r.createElement(rT.Cell,null,r.createElement(Zi,{type:"captionShort",variant:"dimmer"},f),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},g)))}}))))},Hee=()=>{const{t:e}=ws("EditWorld.devOptions");return r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(jd,null,e(".realmDetails.title")),r.createElement(Vi,{size:1}),r.createElement(Hd,null,"[realm name]"),r.createElement(Hd,null,"[Storefront / Platform realm was purchased on]"),r.createElement(Hd,null,"[Tier/SKU (e.g. Realms Plus Server 3)]"),r.createElement(Hd,null,"[Started as or is a trial]"),r.createElement(Vi,{size:2}))},Gee=()=>{const{t:e}=ws("EditWorld.devOptions"),t=(0,l.useSharedFacet)(UG),a=(0,l.useSharedFacet)(_G),n=(0,l.useFacetMap)((e=>e.state===BG.SelectError),[],[t]),o=(0,l.useFacetCallback)((e=>()=>{e.clearSelectError()}),[],[a]),c=(0,l.useFacetCallback)((e=>()=>{e.openLink(SF.RealmsCommitWikiLink)}),[],[(0,l.useSharedFacet)(CF)]),i=(0,l.useFacetMap)((e=>!OI(e.platform)),[],[(0,l.useSharedFacet)(_l)]),s=(0,l.useFacetMap)((e=>e.selectedCommit),[],[t]),u=(0,l.useFacetMap)((e=>e.clientCommit),[],[t]),d=(0,l.useFacetMap)((e=>e.matchingCommit),[],[t]),m=(0,l.useFacetMap)((e=>e.loadedCommits),[],[t]),p=(0,l.useFacetMap)((e=>e.state==BG.SelectingCommit),[],[t]),f=(0,l.useFacetMap)((e=>e.state==BG.FetchingRealmsConfig),[],[t]),g=(0,l.useSharedFacet)(zG),[E,b]=(0,l.useFacetState)(1),h=(0,l.useFacetCallback)(((e,t)=>a=>{b(a);const n=(a-1)*e.commitsPageLength,r=n+e.commitsPageLength;t.loadCommitsSlice(n,r)}),[b],[t,a]),v=(0,l.useFacetMap)((e=>e.filterOption),[],[t]),F=[{enumeration:e(".filterDropdown.optionEnumeration",["1","3"]),label:e(".filterDropdown.protocol"),value:WG.Protocol},{enumeration:e(".filterDropdown.optionEnumeration",["2","3"]),label:e(".filterDropdown.all"),value:WG.All},{enumeration:e(".filterDropdown.optionEnumeration",["3","3"]),label:e(".filterDropdown.main"),value:WG.Main}],y=(0,l.useFacetMap)((t=>{switch(t){case WG.Main:return e(".availableCommitsHeader.main");case WG.All:return e(".availableCommitsHeader.all");case WG.Protocol:default:return e(".availableCommitsHeader.protocol")}}),[e],[v]),S=(0,l.useFacetCallback)((e=>t=>{e.setFilterOption(t),h(1)}),[h],[a]),[C,M]=(0,l.useFacetState)(""),[w,k]=(0,l.useFacetState)(!1),P=(0,r.useRef)(null),T=(0,l.useFacetCallback)((e=>t=>{k(!0),M(t),P.current&&clearTimeout(P.current),P.current=setTimeout((()=>{e.searchCommits(t),h(1),P.current=null,k(!1)}),500)}),[P,M,k,h],[a]),I=(0,l.useFacetMap)(((e,t,a)=>a||e.state==BG.FetchingRealmsConfig?zee.Loading:t.length>0?zee.ValidResult:zee.NoResult),[],[t,m,w]),x=(0,l.useFacetMap)(((t,a)=>t==zee.ValidResult?e(""==a?".narration.availableCommitsHeader":".narration.searchResults"):""),[e],[I,C]),O=(0,l.useFacetMap)((e=>e.length),[],[m]),A=(0,l.useFacetMap)((t=>[""!=t?t:e(".narration.searchBox"),e(".narration.textInput"),e(".narration.enumeration",["1","2"])].join(" . ")),[e],[C]),N=iD();return r.createElement(_r,{collection:xx},r.createElement(Uu,null,r.createElement(Ud,null,r.createElement(Hee,null))),r.createElement(Uu,null,r.createElement(Ud,null,r.createElement(_r,{collection:Ix},r.createElement(xO,{role:"informative"},r.createElement(xO.Text,null,e(".bannerText")),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:i},r.createElement(xO.Link,{onClick:c},"https://aka.ms/RealmsTestBuild")),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(xO.Text,null,"https://aka.ms/RealmsTestBuild")))))),r.createElement(Uu,null,r.createElement(Ud,{narrationText:e(".realmCommitLabel")},r.createElement(Vi,{size:2}),r.createElement(jd,null,e(".realmCommitLabel")),r.createElement(Vi,{size:1}),r.createElement(jee,{commitData:s,isLoading:p,forcedDisabled:!0}),r.createElement(Vi,{size:2}))),r.createElement(Uu,null,r.createElement(Ud,{narrationText:e(".clientCommitLabel")},r.createElement(Vi,{size:2}),r.createElement(jd,null,e(".clientCommitLabel")),r.createElement(Vi,{size:1}),r.createElement(jee,{commitData:u,forcedDisabled:!0}),r.createElement(Vi,{size:2}))),r.createElement(Uu,null,r.createElement(Ud,{narrationText:e(".matchingCommitHeader")},r.createElement(Vi,{size:2}),r.createElement(aP,{role:"primary",label:e(".matchingCommitHeader")}),r.createElement(jee,{commitData:d,isLoading:f,noDataOverrideText:e(".noMatching"),testid:"matching-commit-item"}),r.createElement(Vi,{size:2}))),r.createElement(Uu,null,r.createElement(Ud,{narrationText:x},r.createElement(Vi,{size:2}),r.createElement("div",{className:"ed3cada8cead010e40b9"},r.createElement(_d,{gamepadAlias:"searchRealmsCommit",narrationText:A,placeholderIcon:Ld.MagnifyingGlass,placeholder:e(".search"),value:C,onChange:T,"data-testid":"search-field-id"}),r.createElement(Vi,{size:1}),r.createElement("div",{className:"f29830bead3433730a4c"},r.createElement(WR,{title:e(".filterDropdown.title"),options:F,value:v,onItemSelect:S,dropdownEnumeration:e(".narration.enumeration",["2","2"]),buttonTestId:"filter-dropdown-button"}))),r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:I},(t=>{switch(t){case zee.Loading:return r.createElement("div",{className:"be6f1b89379c32987307"},r.createElement(id,null));case zee.NoResult:return r.createElement(r.Fragment,null,r.createElement(aw.Wrapper,null,r.createElement(aw.Title,null,e(".EmptyStateTitle")),r.createElement(aw.Image,{imgSrc:Uee,imgClass:N}),r.createElement(l.Mount,{when:i},r.createElement(r.Fragment,null,r.createElement(Zi,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center",shouldNarrate:!0},e(".EmptyStateMessage")),r.createElement(Zi,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center",shouldNarrate:!0},r.createElement(MO,{onClick:c},"https://aka.ms/RealmsTestBuild")))),r.createElement(l.Mount,{when:i,condition:!1},r.createElement(r.Fragment,null,r.createElement(Zi,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center",shouldNarrate:!0},e(".EmptyStateMessage")),r.createElement(Zi,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center",shouldNarrate:!0},"https://aka.ms/RealmsTestBuild")))));case zee.ValidResult:default:return r.createElement(bd,{text:y},r.createElement(aP,{role:"primary",label:y}),r.createElement(l.Map,{array:m},((e,t)=>r.createElement(jee,{commitData:e,enumerationIndex:t+1,enumerationMax:O,testid:"available-commit-item"}))),r.createElement(Vi,{size:3}),r.createElement(FO,{totalPages:g,currentPage:E,onChange:h}),r.createElement(Vi,{size:2}))}})))),r.createElement(l.Mount,{when:n},r.createElement(cee.Component,{onCloseModal:o})))};function Vee(){const e=g(),t=(0,l.useFacetMap)((e=>decodeURIComponent(e.id)),[],[e]),a=(0,l.useFacetWrap)(!1),n=(0,r.useCallback)((()=>{}),[]),{t:o}=ws("CreateNewWorldSideMenu"),c=(0,l.useFacetMap)((e=>e.state===BG.FetchError),[],[(0,l.useSharedFacet)(UG)]),i=(0,l.useFacetCallback)(((e,t)=>()=>{e.loadRealmsConfigInfo(t)}),[],[(0,l.useSharedFacet)(_G),t]);return(0,r.useEffect)((()=>{i()}),[i]),r.createElement(Wu,null,r.createElement(aV,{narrationText:o(".devTabLabel"),onUnlockTemplateSettings:n,isEditorWorld:a},r.createElement(l.Unwrap,{data:c},(e=>e?r.createElement(t3,{realmsFetchRetry:i}):r.createElement(Gee,null)))))}const $ee=a.p+"assets/under-construction-art-cropped-5365edaefc5221392aec.png";function Xee({flavorText:e,titleText:t}){const{t:a}=ws("Realms.Generic"),n=(0,l.useFacetWrap)(e),o=(0,l.useFacetWrap)(t),c=iD(),i=(0,l.useFacetMap)((e=>null!=e?e:a(".UnderConstruction")),[a],[o]),s=(0,l.useFacetMap)((e=>null!=e?e:a(".SomethingCool")),[a],[n]);return r.createElement(ud,{floating:!0},r.createElement(aw,{title:i,text:s,imgSrc:$ee,imgClass:c}))}function Kee(){const{t:e}=ws("EditRealmWorld.banner"),t=(0,l.useSharedFacet)(xG),a=(0,l.useSharedFacet)(nv),n=Sc(),o=(0,l.useFacetUnwrap)(DB("realms_edit_world_packs_tabs")),c=o!==l.NO_VALUE&&o,i=(0,l.useFacetMap)((e=>e),[],[(0,l.useSharedFacet)(ib)]),s=(0,l.useFacetMap)((e=>e.useRealmsWorldBackend),[],[t]),u=(0,l.useFacetCallback)((e=>t=>e.setUseRealmWorldBackend(t)),[],[(0,l.useSharedFacet)(PG)]),d=(0,l.useFacetMap)((e=>e.expired||e.closed),[],[a]),m=(0,l.useFacetMap)((t=>t.expired?e(".expired"):t.closed?e(".closed"):""),[e],[a]),p=[{tab:"general",component:r.createElement(fee,null)},{tab:"advanced",component:r.createElement(gee,null)},{tab:"multiplayer",component:r.createElement(Eee,null)},{tab:"cheats",component:r.createElement(bee,null)},{tab:"resource-packs",component:c?r.createElement(Iee,null):r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(Xee,null))},{tab:"behavior-packs",component:c?r.createElement(Dee,null):r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(Xee,null))},{tab:"experimental",component:r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(Xee,null))},{tab:"dev-options",component:r.createElement(Vee,null)}];return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:i},r.createElement(Vw,{onChange:u,value:s,title:"Use Realms World Backend",description:"Temporary toggle to assist migration testing for new Realms Edit World backend"})),r.createElement(l.Mount,{when:d},r.createElement(r.Fragment,null,"desktop"===n&&r.createElement(Vi,{size:2}),r.createElement(Ud,{border:"desktop"===n},r.createElement(xO,{role:"destructiveTint"},r.createElement(xO.Text,null,m))))),p.map((e=>r.createElement(tk,{tab:e.tab},e.component))))}const Yee=({worldId:e,realmConnectionFlow:t})=>{const a=(0,l.useSharedFacet)(sh),n=(0,l.useSharedFacet)(_l),o=(0,l.useSharedFacet)(FF),c=(0,l.useSharedFacet)(fh),i=p(),s=(0,l.useFacetMap)((e=>e.joinRealmResult),[],[a]),u=(0,l.useFacetMap)((e=>TI(e.platform)),[],[n]),d=(0,l.useFacetMap)((e=>null!=e&&e!==ch.Ok&&e!==ch.InvalidCrossPlatformMultiplayerSkin&&e!==ch.MobileDataBlockedAndNoWifi&&e!==ch.MissingPlatformMembership&&e!==ch.MultiplayerPrivilegeBlocked),[],[s]),m=(0,l.useFacetMap)(((e,t)=>e===ch.MissingPlatformMembership&&!t),[],[s,u]),f=(0,l.useFacetMap)((e=>e===ch.MobileDataBlockedAndNoWifi),[],[s]),g=(0,l.useFacetMap)((e=>e===ch.InvalidCrossPlatformMultiplayerSkin),[],[s]),E=(0,l.useFacetMap)((e=>e===ch.MultiplayerPrivilegeBlocked),[],[s]),b=(0,l.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[a]),h=(0,l.useFacetCallback)(((e,a,n)=>()=>{e.useMobileDataOnce=!0,a.joinRealmWorld(n,t)}),[t],[c,a,(0,l.useFacetWrap)(e)]);return(0,l.useFacetEffect)(((e,t,a)=>{e&&!t.hasPremiumNetworkAccess&&a===ch.MissingPlatformMembership&&t.showPremiumNetworkUpsellModal()}),[],[u,o,s]),r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:d},r.createElement(ZK.Component,{worldId:e})),r.createElement(l.Mount,{when:f},r.createElement(KI.Component,{joinServer:h,onClose:b})),r.createElement(l.Mount,{when:g},r.createElement(tY.Component,{onClose:b,onChangeSkin:()=>{i.push("/persona")}})),r.createElement(l.Mount,{when:m},r.createElement(aY.Component,{onClose:b})),r.createElement(l.Mount,{when:E},r.createElement(eY.Component,{onClose:b})))},qee=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg",Qee="play-edit-realm-world",Jee=()=>{const{t:e}=ws("EditRealmWorld"),{t}=ws("PlayScreen"),a=Sc(),n=eee(),o=f(),c=TH(),i=FH({worldId:c,screen:"EditRealmWorld",button:"PlayRealm",telemetryLocation:ih.SettingsScreen}),s=JT(),u=(0,l.useSharedFacet)(PG),d=(0,l.useSharedFacet)(xG),m=(0,l.useSharedFacet)(tv),p=(0,l.useSharedFacet)(nv),g=(0,l.useSharedFacet)(jF),E=(0,l.useSharedFacet)(_v),b=(0,l.useSharedFacet)(GB),h=(0,l.useSharedFacet)(OG),v=(0,l.useFacetMap)((e=>e.realmWorldData),[],[d]),F=(0,l.useFacetMap)((e=>e.realmWorldSummary),[],[(0,l.useSharedFacet)(NG)]),y=(0,l.useFacetMap)((e=>null!=e.worldIconPath&&e.worldIconPath.length>0?e.worldIconPath:qee),[],[F]),S=(0,l.useFacetMap)((e=>e.general),[],[v]),C=(0,l.useFacetMap)((e=>e.betaFeatures),[],[v]),M=(0,l.useFacetMap)((e=>e.isHardcore),[],[S]),w=(0,l.useFacetMap)((e=>e.playerHasDied),[],[S]),k=(0,l.useFacetMap)((e=>e.worldPacksData),[],[g]),P=kK(C),T=(0,l.useFacetMap)((e=>e.closed),[],[p]),I=(0,l.useFacetMap)((e=>e.expired),[],[p]),x=(0,l.useFacetMap)((e=>e.realmWorldEditorState),[],[d]),O=(0,l.useFacetMap)((e=>e.realmWorldEditorStateStatus),[],[d]),A=(0,l.useFacetCallback)((e=>()=>{e.clearRealmWorldEditorState()}),[],[u]),N=KK.useModal(),R=KK.useModal(),L=KK.useModal(),D=(0,l.useFacetMap)(((e,t)=>e===TG.Posting&&t===IG.InProgress),[],[x,O]),_=(0,l.useFacetMap)(((e,t)=>e===TG.Posting&&t===IG.GenericError),[],[x,O]),B=(0,l.useFacetMap)(((e,t)=>e===TG.Fetching&&t===IG.InProgress),[],[x,O]),W=(0,l.useFacetMap)(((e,t,a)=>e===TG.Fetching&&t===IG.GenericError&&a),[],[x,O,o]),U=(0,l.useFacetCallback)((e=>()=>{e.goBack(),A()}),[A],[n]),z=AH.useModal(),j=(0,l.useFacetCallback)(((e,t,a)=>()=>{s({button:"OptOut",screen:"EditRealmWorld"}),e.selectTechStackForScreen(Lv.EditRealmWorldScreen,Dv.JsonUI),a.replace(`/edit-realm-world/${t}`)}),[s],[E,c,n]),H=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?z.show():j()}),[j,z],[d]),G=(0,l.useFacetCallback)(((e,t)=>()=>{e.realmWorldHasBeenModified?N.show():t.goBack()}),[N],[d,n]),V=d4({isRealmOwner:!0,expired:I,closed:T,full:!1}),$=(0,l.useFacetCallback)(((e,t)=>()=>{e.openRealm(parseInt(t))}),[],[b,c]),X=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?L.show():$()}),[$,L],[d]),K=(0,l.useFacetCallback)((e=>()=>{e.realmWorldHasBeenModified?R.show():i()}),[i,R],[d]),Y=(0,l.useFacetMap)((e=>e?[{label:".devTabLabel",image:dG.DevTabIcon,value:"dev-options"}]:[]),[],[(0,l.useSharedFacet)(ib)]),q=(0,l.useFacetCallback)((e=>t=>{e.fetchRealmsWorld(t)}),[],[m]),Q=(0,l.useFacetMap)((e=>e.isDevBuild||e.isAnyBeta),[],[(0,l.useSharedFacet)(cb)]);(0,l.useFacetEffect)((e=>{q(e)}),[q],[c]);const{onSaveRealmsWorld:J,postSaveAction:Z}=nee(),ee=(0,l.useFacetCallback)((e=>t=>J(e,t)),[J],[c]),te=(0,l.useFacetCallback)(((e,t,a,n,r,l,o)=>()=>{switch(l){case aee.ExitToMenu:e.goBack();break;case aee.ExitToJoinGame:e.goBack(),i();break;case aee.DownloadWorld:t.downloadRealmWorld(a,n.realmName,n.activeSlotIndex);break;case aee.ReOpenWorld:r.openRealm(parseInt(a));break;default:e.goBack()}o.clearRealmWorldEditorState()}),[i],[n,h,c,p,b,Z,u]),ae=(0,l.useFacetMap)(((e,t)=>e===TG.Posting&&t===IG.Done),[],[x,O]);return(0,l.useFacetEffect)((e=>{e&&te()}),[te],[ae]),r.createElement(eA.Provider,{value:ZO.EDIT_REALM},r.createElement(ZN,{screenAnalyticsId:"Edit-Realms-World",onBack:G,title:e(".title"),gamepadAlias:"edit-realm-layout-content",delegateByAlias:Qee},(()=>r.createElement(r.Fragment,null,r.createElement(zM,{noGutters:!0},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(dG,{worldPreviewImage:y,worldPacks:k,isHardcoreMode:M,playerHasDied:w,sideMenuButtons:r.createElement(tR.Item,null,r.createElement(_r,{collection:xx},r.createElement(l.Unwrap,{data:V},(e=>{switch(e){case u4.Play:return r.createElement(f4,{joinRealmWorldCallback:K,playButtonAlias:Qee});case u4.ReOpen:return r.createElement(F4,{reOpenRealmCallback:X,playButtonAlias:Qee});default:return r.createElement(f4,{joinRealmWorldCallback:()=>{},playButtonAlias:Qee,disabled:!0})}})))),additionalMenuItems:Y})),r.createElement(zM.Column,{wideSize:8,narrowSize:5},r.createElement(l.Mount,{when:Q},r.createElement(r.Fragment,null,"desktop"===a&&r.createElement(Vi,{size:2}),r.createElement(hD,{border:"desktop"===a,title:t(".designPreviewTitle"),buttons:r.createElement(lm,{inputLegend:`${t(".designPreviewInputLegend")}`,horizontal:!0,onClick:H},e(".optOutButton"))}))),r.createElement(Kee,null)))),r.createElement(l.Mount,{when:P},r.createElement(MK.Component,null))))),r.createElement(l.Mount,{when:N.isVisible},r.createElement(KK.Component,{saveChanges:()=>{ee(aee.ExitToMenu)},closeModal:N.hide,discardChanges:U})),r.createElement(l.Mount,{when:R.isVisible},r.createElement(KK.Component,{saveChanges:()=>{ee(aee.ExitToJoinGame)},closeModal:R.hide,discardChanges:i})),r.createElement(l.Mount,{when:L.isVisible},r.createElement(KK.Component,{saveChanges:()=>{ee(aee.ReOpenWorld)},closeModal:L.hide,discardChanges:$})),r.createElement(l.Mount,{when:D},r.createElement(GK.Component,null)),r.createElement(l.Mount,{when:_},r.createElement(y_.Component,{onClickClose:A})),r.createElement(l.Mount,{when:B},r.createElement(SH,{onClickClose:U})),r.createElement(l.Mount,{when:W},r.createElement(y_.Component,{onClickClose:U})),r.createElement(l.Mount,{when:z.isVisible},r.createElement(AH.Component,{optOutCallback:j,closeModal:z.hide})),r.createElement(Yee,{worldId:c,realmConnectionFlow:ih.EditWorld}))},Zee=a.p+"assets/world-preview-default-d0210bba13d939ca9e72.jpg";let ete;!function(e){e[e.IDLE=0]="IDLE",e[e.START=1]="START",e[e.VERIFYING_ACCOUNT=2]="VERIFYING_ACCOUNT",e[e.LOADING_REALMS_LIST=3]="LOADING_REALMS_LIST",e[e.SUBSCRIPTION_NEEDED=4]="SUBSCRIPTION_NEEDED",e[e.AWAITING_CONFIRMATION=5]="AWAITING_CONFIRMATION",e[e.CONFIRMED=6]="CONFIRMED",e[e.AWAITING_WORLD_CREATION=7]="AWAITING_WORLD_CREATION"}(ete||(ete={}));const tte=()=>{const{t:e}=ah("CreateNewWorld"),t=p(),a=(0,l.useSharedFacet)(fh),n=it(),o=(0,l.useSharedFacet)(Hv),c=(0,l.useSharedFacet)(gb),i=AJ.useModal(),s=BH.useModal(),u=(0,l.useFacetMap)((e=>e.worldData.general),[],[c]),d=(0,l.useFacetMap)((e=>e.worldData.multiplayer),[],[c]),m=wK(u),f=cV(),g=(0,l.useFacetCallback)(((e,a,n,r)=>()=>{e.showTouchControlSelectionScreen&&a?(n.inWorldCreation=!0,t.push("/touch-control-selection")):(r.fireEventButtonPressed("Create_World_Button_OreUI",{}),n.createWorld())}),[t],[a,n,c,o]),E=(0,l.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?g():i.show()}),[i,g],[m,(0,l.useSharedFacet)(uh)]),{disableMainButton:b,buttonHint:h}=vL(m,d,u,e,"SideMenu.narrationCreateButtonHint"),v=(0,l.useFacetCallback)((e=>()=>{e.worldData.achievementsDisabled?s.show():E()}),[E,s],[c]);return r.createElement(r.Fragment,null,r.createElement(lm,{"data-testid":"create-world",disabled:b,gamepadAlias:iG,narrationSuffix:h,variant:"hero",onClick:v,inputLegend:e("SideMenu.create")},e("SideMenu.create")),r.createElement(l.Mount,{when:i.isVisible},r.createElement(AJ.Component,{onSubmit:g,onCancel:i.hide})),r.createElement(l.Mount,{when:s.isVisible},r.createElement(BH.Component,{onConfirm:g,onClose:s.hide,reasons:f})))},ate=()=>{const{t:e}=ah("CreateNewWorld"),t=ZT(),a=AJ.useModal(),n=NY.useModal(),o=SY.useModal(),c=(0,l.useSharedFacet)(gb),i=(0,l.useSharedFacet)(hb),s=(0,l.useSharedFacet)(cb),u=(0,l.useSharedFacet)(Hv),d=(0,l.useSharedFacet)(yF),m=function(){const[e,t]=(0,l.useFacetState)(ete.IDLE),a=f(),n=Cl(),r=(0,l.useSharedFacet)(pv),o=(0,l.useSharedFacet)(gF),c=(0,l.useSharedFacet)(hb),i=(0,l.useSharedFacet)(gb),s=(0,l.useSharedFacet)(Hv),u=(0,l.useSharedFacet)(FF),d=(0,l.useSharedFacet)(fv),m=(0,l.useSharedFacet)(EF),p=(0,l.useFacetCallback)(((e,a)=>()=>{t(ete.VERIFYING_ACCOUNT),a.inWorldCreation=!0,e.fireEventButtonPressed("Create_On_Realms_OreUI",{}),a.createOnRealms()}),[t],[s,i]);(0,l.useFacetEffect)(((e,t)=>{e&&t===ete.START&&p()}),[p],[a,e]),(0,l.useFacetEffect)(((e,a,n)=>{e&&a===ete.VERIFYING_ACCOUNT&&n.isLoggedInWithMicrosoftAccount&&!n.isBanned&&t(ete.LOADING_REALMS_LIST)}),[t],[a,e,u]);const g=(0,l.useFacetCallback)(((e,a,r)=>()=>{0===a.length?1===r.length?(t(ete.AWAITING_CONFIRMATION),e.createPreviewRealmFromSubscriptionId(`${r[0].id}`)):(t(ete.IDLE),n.push("/realms-choose-realm/realm-subscriptions")):(t(ete.IDLE),n.push("/realms-choose-realm/preview-realms"))}),[n,t],[c,d,m]);(0,l.useFacetEffect)(((e,a,n,r,l,o)=>{e&&a===ete.LOADING_REALMS_LIST&&n.state!==mv.Loading&&r.state!==mv.Loading&&(0===l.length&&0===o.length?t(ete.SUBSCRIPTION_NEEDED):g())}),[t,g],[a,e,r,o,d,m]);const E=(0,l.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation&&e.createWorldOnPreviewRealm(t.getCreatedPreviewRealmId())}),[],[i,c]);(0,l.useFacetEffect)(((e,a,n)=>{e&&a===ete.CONFIRMED&&n.createPreviewRealmFromSubscriptionTaskState===HI.DONE&&(t(ete.AWAITING_WORLD_CREATION),n.reset(),E())}),[t,E],[a,e,c]);const b=(0,l.useFacetCallback)((e=>()=>{t(ete.IDLE),e.reset()}),[t],[c]);return(0,l.useFacetEffect)(((e,t)=>{e||t!==ete.AWAITING_WORLD_CREATION||b()}),[b],[a,e]),{state:e,create:()=>t(ete.START),confirm:()=>t(ete.CONFIRMED),reset:()=>b()}}(),p=(0,l.useFacetMap)((e=>e.worldData.general),[],[c]),g=(0,l.useFacetMap)((e=>e.worldData.multiplayer),[],[c]),E=wK(p),{disableSecondaryButton:b,buttonHint:h}=vL(E,g,p,e,"SideMenu.narrationCreateButtonHint"),v=(0,l.useFacetMap)((e=>e===ete.CONFIRMED||e===ete.AWAITING_WORLD_CREATION),[],[m.state]),F=(0,l.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===HI.FAILED),[],[i]),y=(0,l.useFacetCallback)(((e,a,n,r)=>()=>{if(n.isAnyBeta)m.create();else{if(r)return t({modal:"RealmsTrialMode",screen:"CreateNewWorld"}),void o.show();e.inWorldCreation=!0,a.fireEventButtonPressed("Create_On_Realms_OreUI",{}),e.createOnRealms()}}),[m,t,o],[c,u,s,d]),S=RY((0,l.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?y():a.show()}),[a,y],[E,(0,l.useSharedFacet)(uh)]),n.show);return r.createElement(r.Fragment,null,r.createElement(_r,{collection:xx},r.createElement(lm,{gamepadAlias:sG,narrationSuffix:h,linebreak:!0,"data-testid":"create-world-on-realm",variant:"primary",onClick:S,inputLegend:e("SideMenu.createOnRealm"),disabled:b},e("SideMenu.createOnRealm"))),r.createElement(l.Mount,{when:n.isVisible},r.createElement(NY.Component,{mode:ZO.CREATE,onClose:n.hide})),r.createElement(l.Mount,{when:a.isVisible},r.createElement(AJ.Component,{onSubmit:y,onCancel:a.hide})),r.createElement(l.Mount,{when:o.isVisible},r.createElement(SY.Component,{worldSettingsMode:ZO.CREATE,onClose:o.hide})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e===ete.SUBSCRIPTION_NEEDED),[],[m.state])},r.createElement(DK.Component,{onClose:m.reset})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e===ete.AWAITING_CONFIRMATION),[],[m.state])},r.createElement(F_.Component,{onConfirm:(0,l.useFacetCallback)(((e,t)=>()=>{e.activateNewPreviewRealm(t.inWorldCreation),m.confirm()}),[m],[i,c]),onClose:m.reset})),r.createElement(l.Mount,{when:v},r.createElement(T_,{onClickClose:m.reset})),r.createElement(l.Mount,{when:F},r.createElement(y_.Component,{onClickClose:m.reset})),r.createElement(l.Mount,{when:(0,l.useFacetMap)((e=>e===ete.LOADING_REALMS_LIST),[],[m.state])},r.createElement(SH,{onClickClose:m.reset})))},nte="lyc-modal-continue",rte=As((({onLeave:e,onClose:t})=>{const{t:a}=ws("CreateNewWorld.loseYourChangesModal");return r.createElement($m,{defaultFocusAlias:nte},r.createElement($m.Header,{onClose:t},a(".title")),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a(".message"),center:!0},a(".message"))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:nte,inputLegend:a(".continueInputLegend"),variant:"secondary",onClick:t},a(".continueButton")),r.createElement(Vi,{size:1}),r.createElement(lm,{inputLegend:a(".leaveInputLegend"),variant:"destructive",onClick:e},a(".leaveButton"))))})),lte="create-world-error-back",ote=As((function(){const{t:e}=ws("CreateNewWorld"),t=(0,l.useSharedFacet)(gb),a=(0,l.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[t]),n=(0,l.useFacetMap)((e=>e.createWorldError),[],[t]),o=(0,l.useFacetMap)((t=>{switch(t){case fb.NOT_ENOUGH_STORAGE:return{title:e(".createWorldError.notEnoughStorage.title"),message:e(".createWorldError.notEnoughStorage.message")};case fb.MISSING_CONTENT_KEY:default:return{title:e(".resourcePacks.contentKeyErrorTitle"),message:e(".resourcePacks.contentKeyErrorBodyNoName")}}}),[e],[n]),c=(0,l.useFacetMap)((e=>e.title),[],[o]),i=(0,l.useFacetMap)((e=>e.message),[],[o]);return r.createElement($m,{defaultFocusAlias:lte},r.createElement($m.Header,{onClose:a},c),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:i,center:!0},i)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:lte,inputLegend:e(".createWorldError.close"),variant:"secondary",onClick:a},e(".createWorldError.close"))))})),cte="create-on-realms-error-back",ite=As((()=>{const{t:e}=ws("CreateNewWorld"),t=(0,l.useSharedFacet)(gb),a=(0,l.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[t]),n=(0,l.useFacetMap)((t=>{switch(t.createOnRealmsError){case pb.UNASSIGNED_DEV_VERSION:return{title:e(".createOnRealmsError.unassignedDevVersion.title"),message:e(".createOnRealmsError.unassignedDevVersion.message"),message2:e(".createOnRealmsError.unassignedDevVersion.message2")};case pb.MEMBER_OF_TOO_MANY_REALMS:return{title:e(".createOnRealmsError.memberOfTooManyRealms.title"),message:e(".createOnRealmsError.memberOfTooManyRealms.message"),message2:""};case pb.CANNOT_CONNECT_TO_REALM:return{title:e(".createOnRealmsError.cannotConnectToRealm.title"),message:e(".createOnRealmsError.cannotConnectToRealm.message"),message2:""};case pb.CROSS_PLATFORM_RESTRICTED:return{title:e(".createOnRealmsError.crossPlatformRestricted.title"),message:e(".createOnRealmsError.crossPlatformRestricted.message"),message2:e(".createOnRealmsError.crossPlatformRestricted.message2")};case pb.UNKNOWN:default:return{title:e(".createOnRealmsError.unknown.title"),message:e(".createOnRealmsError.unknown.message"),message2:""}}}),[e],[t]),o=(0,l.useFacetMap)((e=>e.title),[],[n]),c=(0,l.useFacetMap)((e=>e.message),[],[n]),i=(0,l.useFacetMap)((e=>e.message2),[],[n]),s=(0,l.useFacetMap)((e=>""!=e.message2),[],[n]);return r.createElement($m,{defaultFocusAlias:cte},r.createElement($m.Header,{onClose:a},o),r.createElement($m.Content,null,r.createElement(l.Mount,{when:s,condition:!1},r.createElement($m.Text,{narrationText:c,center:!0},c)),r.createElement(l.Mount,{when:s,condition:!0},r.createElement($m.Paragraphs,{narrationText:`${c}. ${i}`,spaceBetweenParagraphs:5},r.createElement(Zi,{type:"captionLong",align:"center"},c),r.createElement(Zi,{type:"captionLong",align:"center"},i)))),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:cte,inputLegend:e(".createOnRealmsError.close"),variant:"secondary",onClick:a},e(".createOnRealmsError.close"))))}));function ste(){}const ute="prompt-default-btn",dte=As((()=>{const e=(0,l.useSharedFacet)(Iv),t=(0,l.useFacetMap)((e=>e.prompt.title),[],[e]),a=(0,l.useFacetMap)((e=>e.prompt.body),[],[e]),n=(0,l.useFacetMap)((e=>e.prompt.actions),[],[e]),o=(0,l.useFacetCallback)((e=>t=>{e.prompt.handleAction(t)}),[],[e]),c=(0,l.useFacetMap)((e=>e.length<=1),[],[n]),i=(0,l.useFacetCallback)((e=>e.length>1?()=>{var t;const a=null===(t=e.find((({variant:e})=>e===Yv.Secondary)))||void 0===t?void 0:t.id;null!=a&&o(a)}:ste),[o],[n]);return r.createElement($m,{defaultFocusAlias:ute},r.createElement($m.Header,{onClose:i,hideCloseButton:c},t),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:a},a)),r.createElement($m.Buttons,null,r.createElement(l.Map,{array:n},((e,t)=>r.createElement(r.Fragment,null,t>0&&r.createElement(Vi,{size:1}),r.createElement(mte,{button:e,index:t,onClick:o}))))))}));function mte({button:e,onClick:t,index:a}){const{t:n}=ws("CreateNewWorld.dlcCheckErrorModal"),o=(0,l.useFacetCallback)((e=>()=>t(e.id)),[t],[e]),c=(0,l.useFacetUnwrap)((0,l.useFacetMap)((e=>e.variant===Yv.Primary?"primary":"secondary"),[],[e]));return r.createElement(lm,{onClick:o,inputLegend:n(".buttonSelectInputLegend"),gamepadAlias:0===a?ute:void 0,variant:c===l.NO_VALUE?"secondary":c},(0,l.useFacetMap)((e=>e.label),[],[e]))}const pte=()=>{const e=p(),t=(0,l.useSharedFacet)(gb),a=(0,l.useSharedFacet)(Iv),n=(0,l.useSharedFacet)(yF),o=(0,l.useSharedFacet)(dh),[c,i]=(0,l.useFacetState)(!1),s=(0,l.useFacetMap)((e=>e.worldData),[],[t]),u=(0,l.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[t]),d=(0,l.useFacetMap)((e=>e.isEditorWorld),[],[t]),m=(0,l.useFacetMap)((e=>e.prompt.active),[],[a]),{t:f}=ah("EditWorld"),{t:E}=ah("CreateNewWorld"),b=(0,l.useFacetMap)((e=>null!=e.resourcePackToDownload&&(e.status===Tv.DownloadingResourcePacks||e.status===Tv.StartDownload)),[],[a]),v=(0,l.useFacetMap)((e=>e.resourcePackToDownload.title),[],[a]),F=(0,l.useFacetMap)((e=>.5*(e.downloadProgress+e.importProgress)),[],[a]),y=(0,l.useFacetMap)((e=>e.downloadProgress>=1&&e.importProgress<1),[],[a]),S=(0,l.useFacetCallback)((e=>(t,a)=>{if(a){var n,r,l,o,c;const a=null!==(n=null===(r=e.availableTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==n?n:"",i=null!==(l=null===(o=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(c=a||i)&&void 0!==c?c:"Pack"}{var i,s,u,d,m;const a=null!==(i=null===(s=e.activeTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==i?i:"",n=null!==(u=null===(d=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=a||n)&&void 0!==m?m:"Pack"}}),[],[a]);(0,l.useFacetEffect)(((e,t)=>{if(e.lastActivatedPackId){const a=S(e.lastActivatedPackId,!0);t.queueSnackbar(f(".notificationToasts.addonPackActivated",[a===l.NO_VALUE?"Pack":a])),e.clearLastActivatedPackId()}}),[S,f],[a,o]);const C=(0,l.useFacetCallback)((e=>t=>{e.activate(t,!1)}),[],[a,o]),M=(0,l.useFacetCallback)((e=>t=>{e.activate(t,!0)}),[],[a,o]),w=(0,l.useFacetCallback)(((e,t)=>a=>{e.deactivate(a);const n=S(a,!1);t.queueSnackbar(f(".notificationToasts.addonPackDeactivated",[n===l.NO_VALUE?"Pack":n]))}),[S,f],[a,o]),k=(0,l.useFacetCallback)((e=>(t,a,n,r)=>{e.changePackPriority(t,n,r)}),[],[a]),P=(0,l.useFacetCallback)((e=>t=>e.showSettings(t)),[],[a]),T=(0,l.useFacetCallback)((e=>()=>{e.cancelDownload()}),[],[a]),I=(0,l.useFacetCallback)((e=>()=>{e.unlockTemplateSettings()}),[],[t]),x=(0,l.useFacetMap)((e=>null!=e.createWorldError),[],[t]),O=(0,l.useFacetMap)((e=>null!=e.worldPreviewImagePath&&e.worldPreviewImagePath.length>0?e.worldPreviewImagePath:Zee),[],[t]),A=rte.useModal(),N=(0,r.useCallback)((()=>{A.hide(),i(!1)}),[i,A]),R=(0,r.useCallback)((()=>{N(),e.goBack()}),[e,N]),L=(0,l.useFacetCallback)((t=>()=>{i(!0),t.checkIfUserHasChangedSettings()?A.show():(e.goBack(),i(!1))}),[e,i,A],[t]),D=(0,l.useFacetMap)((e=>e.isCreatingWorld),[],[t]),_=(0,l.useFacetMap)((e=>!e.consumeResetFlag),[],[t]),B=(0,l.useFacetMap)((e=>null!=e.createOnRealmsError),[],[t]),W=(0,l.useFacetCallback)((e=>t=>{null!=e.worldPreviewImagePath&&e.worldData.advanced.worldSeed!=t&&(e.worldPreviewImagePath=""),e.worldData.advanced.worldSeed=t}),[],[t]),U=(0,l.useFacetCallback)((e=>t=>e.worldPreviewImagePath=t),[],[t]),z=(0,l.useFacetMap)((e=>e.isRandomSeedAllowed),[],[t]),j=(0,l.useSharedFacet)(yF),H=(0,l.useFacetMap)(((e,t,a)=>e||t&&!a),[],[j,u,z]),G=(()=>{const e=p(),t=(0,l.useSharedFacet)(gb),a=g(),n=(0,l.useFacetMap)((e=>e.worldTemplateId),[],[a]),r=(0,l.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[t]),o=(0,l.useFacetMap)((e=>e.applyTemplateTaskState),[],[t]),c=(0,l.useFacetMap)((e=>e===HI.RUNNING),[],[o]),i=VI((t=>function*(a){t.applyTemplate(a),yield o,e.replace("/create-new-world/general")}),[o,e],[t,r,n]);return(0,l.useFacetEffect)(((e,t)=>{!e&&(e=>null!=e&&!["available","active"].includes(e))(t)&&i(t)}),[i],[r,n]),c})(),V=h(),$=(0,l.useFacetMap)((e=>e.get("packid")),[],[V]),X=(0,l.useFacetMap)(((e,t)=>!(e||t)||t),[],[d,n]);return(0,l.useFacetEffect)((e=>{null!=e&&M(e)}),[M],[$]),r.createElement(eA.Provider,{value:ZO.CREATE},r.createElement(tV.Provider,{value:G},r.createElement(OK,{isPageLoading:G,worldData:s,worldPacks:a,worldPreviewImage:O,renderPage:_,onActivatePack:C,onDeactivatePack:w,onChangePackPriority:k,onClickPackSettings:P,onUnlockTemplateSettings:I,backButtonCallback:L,backButtonDisabled:c,isEditorWorld:d,onSeedValueChange:W,isSeedChangeLocked:H,sideMenuButtons:r.createElement(r.Fragment,null,r.createElement(tR.Item,null,r.createElement(tte,null)),r.createElement(Vi,{size:1}),r.createElement(l.Mount,{when:X},r.createElement(tR.Item,null,r.createElement(ate,null))),r.createElement(RK,{isEditorWorld:d})),onWorldPreviewPathChange:U}),r.createElement(l.Mount,{when:b},r.createElement(lY.Component,{title:v,percentage:F,isImportingPack:y,onCancel:T})),r.createElement(l.Mount,{when:x},r.createElement(ote.Component,null)),r.createElement(l.Mount,{when:B},r.createElement(ite.Component,null)),r.createElement(l.Mount,{when:D},r.createElement(Jw.Component,{title:E(".creatingNewWorldModal.title")})),r.createElement(l.Mount,{when:m},r.createElement(dte.Component,null)),r.createElement(l.Mount,{when:A.isVisible},r.createElement(rte.Component,{onClose:N,onLeave:R}))))};function fte(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gte(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fte(Object(a),!0).forEach((function(t){Ete(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fte(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ete(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bte(e,t){switch(t.type){case"REALMS_RESOURCE_LOADING":{const{taskQueue:a}=e,{payload:n}=t,{id:r}=n;return a.some((e=>e.id===r))?e:gte(gte({},e),{},{taskQueue:[...a,n]})}case"REALMS_RESOURCE_LOADING_FINISHED":{const{payload:{resourceId:a}}=t,{taskQueue:n}=e;if(!n.some((e=>e.id===a)))return e;const r=n.filter((e=>e.id!==a));return gte(gte({},e),{},{taskQueue:r})}case"REALMS_ERROR":{const{errorQueue:a}=e,{payload:n}=t,{id:r}=n;return a.some((e=>e.id===r))?e:gte(gte({},e),{},{errorQueue:[...a,n]})}case"REALMS_CLEAR_ERROR":{const{errorQueue:a}=e,{payload:{errorId:n}}=t;if(!a.some((e=>e.id===n)))return e;const r=a.filter((e=>e.id!==n));return gte(gte({},e),{},{errorQueue:r})}default:return e}}function hte(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vte(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hte(Object(a),!0).forEach((function(t){Fte(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hte(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fte(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let yte;!function(e){e[e.integrated=0]="integrated",e[e.modal=1]="modal"}(yte||(yte={}));const Ste=r.createContext({taskQueue:[],errorQueue:[],dispatch:()=>{}});function Cte(){return(0,r.useContext)(Ste)}function Mte({children:e}){const[t,a]=(0,r.useReducer)(bte,{taskQueue:[],errorQueue:[]}),n=(0,r.useMemo)((()=>vte(vte({},t),{},{dispatch:a})),[t,a]);return r.createElement(Ste.Provider,{value:n},e)}function wte(e,t,a=yte.modal,n,r){return{type:"REALMS_RESOURCE_LOADING",payload:{id:e,onCancel:t,titleText:n,narrationText:r,displayType:a}}}function kte(e){return{type:"REALMS_RESOURCE_LOADING_FINISHED",payload:{resourceId:e}}}function Pte(e,t,a,n,r){return{type:"REALMS_ERROR",payload:{id:e,onConfirm:t,titleText:a,bodyText:n,narrationText:r}}}function Tte(e){return{type:"REALMS_CLEAR_ERROR",payload:{errorId:e}}}const Ite=As((({errorCode:e,title:t,bodyText:a,narrationText:n,onClose:o})=>{const{t:c}=ws("PlayScreen.unknownErrorModal"),i=null!=e?(0,l.useFacetMap)((e=>c(".errorCode",[`${e}`])),[c],[(0,l.useFacetWrap)(e)]):null,s=null!=a?a:(0,l.createStaticFacet)(c(".body")),u=(0,l.useFacetMap)(((e,t)=>null!=e?[t,e].join(" . "):t),[],[(0,l.useFacetWrap)(i),(0,l.useFacetWrap)(s)]),d=null!=n?n:u,m=null!=t?t:(0,l.createStaticFacet)(c(".title")),f=p(),g=null!=o?o:(0,r.useCallback)((()=>{f.goBack()}),[f]);return r.createElement($m,{defaultFocusAlias:"realms-modal-error"},r.createElement($m.Header,{onClose:g},m),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{center:!0,narrationText:d,spaceBetweenParagraphs:2},r.createElement(Zi,{type:"captionLong"},s),r.createElement(Zi,{type:"captionLong"},i))),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:c(".action"),variant:"secondary",onClick:o},c(".action"))))})).Component;function xte({errorFilters:e,loadingFilters:t}){const{taskQueue:a,errorQueue:n,dispatch:l}=Cte();return r.createElement(r.Fragment,null,a.some((e=>e.displayType===yte.modal&&(!t||t.some((t=>t===e.id)))))?(e=>{const[{title:t,narration:a,onCancel:n}]=e;return r.createElement(SH,{title:t,narrationText:a,onClickClose:n})})(a):null,n.some((t=>!e||e.some((e=>e===t.id))))?((e,t)=>{const[{title:a,narration:n,onConfirm:l,message:o,id:c}]=e;return r.createElement(Ite,{onClose:()=>{t(Tte(c)),l&&l()},bodyText:o,title:a,narrationText:n})})(n,l):null)}function Ote({children:e,header:t,narrationText:a,onBackButton:n}){const l=p();return r.createElement(Wu,null,r.createElement(_r,{collection:xx},r.createElement(ay,null,r.createElement(BM,{onBackButton:null!=n?n:l.goBack,center:r.createElement(Zi,{type:"header5A"},t),gamepadAlias:"hub-route",narrationText:a},e),r.createElement(xte,null))))}function Ate({item:e,selected:t,onChange:a}){const n=(0,l.useFacetMap)((e=>e.value),[],[e]),o=(0,l.useFacetMap)((e=>e.label),[],[e]),c=(0,l.useFacetMap)((({value:e},t)=>e===t),[],[e,(0,l.useFacetWrap)(t)]);return r.createElement(tR.ListItem,{selected:c,value:n,inputLegend:"View",narrationText:(0,l.useFacetWrap)("narration placeholder"),onSelect:a,testId:n},r.createElement(tR.ItemMain,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,o))))}function Nte({selected:e,menuItems:t,onChange:a}){const n=(0,l.useFacetWrap)(t),{t:o}=ws("Realms.Generic"),c=(0,l.useFacetMap)(((e,t)=>null!=e?t.find((t=>t.value===e)):t[0]),[],[(0,l.useFacetWrap)(e),n]),i=(0,r.useCallback)((e=>{a&&a(e)}),[a]),s=(0,l.useFacetMap)((e=>[null==e?void 0:e.label,o(".TabNarration")].join(" . ")),[o],[c]),u="desktop"===Sc();return r.createElement(zM,{noGutters:!0},r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:3,narrowSize:2},r.createElement(Vi,{size:u?0:2}),r.createElement(tR,null,r.createElement(l.Map,{array:n},(t=>r.createElement(Ate,{selected:e,item:t,onChange:i}))))),r.createElement(zM.Column,{wideSize:9,narrowSize:6},r.createElement(bd,{text:s},r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:c},(e=>e?e.component:null)),r.createElement(Vi,{size:2})))))}function Rte({selected:e,onChange:t,tabs:a,narrationTitle:n}){const o=(0,l.useFacetWrap)(a),{t:c}=ws("Realms.Generic"),i=(0,l.useFacetMap)(((e,t)=>null!=e?t.find((t=>t.value===e)):t[0]),[],[(0,l.useFacetWrap)(e),o]),s=(0,r.useCallback)((e=>t?t(e):()=>{}),[t]),u=(0,l.useFacetMap)((e=>[null==e?void 0:e.label,c(".TabNarration")].join(" . ")),[c],[i]);return r.createElement(zM,null,r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(Vi,{size:2}),r.createElement(_k,{enableGamepadShortcuts:!0,gamepadAliasNamespace:"tab-bar-pane",tabs:a,value:e,onChange:s,narrationTitle:null!=n?n:""}))),r.createElement(zM.Row,{fullHeight:!0},r.createElement(bd,{text:u},r.createElement(l.Unwrap,{data:i},(e=>e&&e.component?e.component:null)))))}function Lte({navigationDef:e,narrationTitle:t}){const a=(0,l.useFacetWrap)(e),n=eee(),o=h(),c=(0,l.useFacetCallback)((e=>t=>{null!=t&&e.updateRouteParameters({item:t})}),[],[n]),i=(0,l.useFacetMemo)(((e,t)=>null==e?void 0:e.map((e=>{var a,n,l;const{label:o,value:i,children:s,component:u}=e,d=null!==(a=null!==(n=t.get("item"))&&void 0!==n?n:null===(l=s[0])||void 0===l?void 0:l.value)&&void 0!==a?a:"";return{label:o,value:i,component:u||r.createElement(Nte,{selected:d,menuItems:s,onChange:c})}}))),[c],[a,o]),s=(0,l.useFacetCallback)((e=>t=>{null!=t&&e.updateRouteParameters({tab:t,item:null})}),[],[n]),u=(0,l.useFacetMap)(((e,t)=>{var a,n;return null!==(a=e.get("tab"))&&void 0!==a?a:null===(n=t[0])||void 0===n?void 0:n.value}),[],[o,a]);return r.createElement(Rte,{narrationTitle:null!=t?t:"",selected:u,tabs:i,onChange:s})}const Dte=({manageMembersCallback:e,buttonAlias:t,buttonSuffixNarration:a,disabled:n=!1})=>{const{t:l}=ws("Realms.Generic.Button");return r.createElement(lm,{Icon:LM.AddPlayer,gamepadAlias:t,"data-testid":"manage-members-button",inputLegend:l(".ManageMembers"),variant:"primary",delayedClick:!0,onClick:e,narrationSuffix:a,disabled:n},l(".ManageMembers"))};function _te(){const e=p(),t=g(),a=(0,l.useSharedFacet)(Bh),n=(0,l.useFacetMap)((e=>e.realmId),[],[t]),o=(0,l.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[a]),c=(0,l.useFacetCallback)(((e,t)=>()=>{t.fetchMembersStatus!==nF.InProgress&&t.fetchOnlineMembersStatus!==nF.InProgress&&(e.clearFetchMembersStatus(),e.fetchMembers())}),[],[(0,l.useSharedFacet)(_h),(0,l.useSharedFacet)(Hh)]),[i,s]=(0,l.useFacetState)(!1);(0,l.useFacetEffect)(((e,t,a,n)=>{e||(s(!0),t.reset(),t.init(a),n.isRealmWorldValid&&c())}),[s,c],[i,(0,l.useSharedFacet)(_h),n,a]);const u=(0,l.useFacetCallback)((t=>()=>{e.push(`/realm/${t}/settings/members/manage`)}),[e],[n]);return r.createElement(_r,{collection:xx},r.createElement(zM,null,r.createElement(l.Mount,{when:o},r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:2,narrowSize:0}),r.createElement(zM.Column,{wideSize:8,narrowSize:8},r.createElement(Dte,{manageMembersCallback:u,buttonAlias:"manage-members-realm-hub"})))),r.createElement(zM.Row,{fullHeight:!0},r.createElement(zM.Column,{wideSize:12,narrowSize:8},r.createElement(xW,null)))),r.createElement(Lm.Space,null))}function Bte({children:e,loadingIds:t}){const{taskQueue:a}=Cte(),n=a.some((e=>e.displayType===yte.integrated&&(!t||t.some((t=>t===e.id))))),o=(0,l.useFacetMap)((e=>e?"d068120a8a8cc7cb7d24":"af64cd1605c3725a1c14"),[],[(0,l.useFacetWrap)(n)]);return r.createElement(r.Fragment,null,r.createElement("fast-div",{className:o},e),r.createElement(l.Mount,{when:(0,l.useFacetWrap)(n)},r.createElement("div",{"data-testid":"IntegratedLoadingPane-Spinner",className:"b62afab56602e6015b75"},r.createElement(id,null))))}function Wte({children:e}){return r.createElement(Bte,null,r.createElement(Uu,null,e))}function Ute({tabs:e,onChange:t,selectedFactor:a=.2,selected:n}){var o;const{t:c}=ws("ImageTabPane"),i=(0,r.useRef)(null),s=(0,l.useFacetUnwrap)(e);Bc(i,(({width:e})=>{i.current&&((e,t,a,n)=>{var r,l,o;const c=t/(a+n),i=c*(1+n);null===(r=e.current)||void 0===r||r.style.setProperty("--tab_width",`${c}px`),null===(l=e.current)||void 0===l||l.style.setProperty("--tab_width_selected",`${i}px`),null===(o=e.current)||void 0===o||o.style.setProperty("--tab_count",`${a}`)})(i,Math.round(e),s!==l.NO_VALUE?s.length:1,a)}));const u=(0,l.useFacetWrap)(n),d=(0,l.useFacetUnwrap)(u),m=s!==l.NO_VALUE?null!==(o=s.find((({value:e})=>e===d)))&&void 0!==o?o:s[0]:void 0;return s!==l.NO_VALUE?r.createElement("div",null,r.createElement("div",{ref:i,className:dl()("ef0c73ba2343bb7ca702")},s.map(((e,a)=>{return((e,t,a,n)=>{var l,o,c;const i=""===t.label;return r.createElement("div",{key:t.value,className:dl()({bab7062220bbf76d9104:!0,ec2bcd55ddc0ddfca6be:n})},r.createElement(Wi,{className:dl()({ded5da8f9876ee13404d:!0,e8f56039d3ce808d3609:n,e59bdc4196bba0658640:!0}),classNameFocused:Ws,"data-testid":`image-tab-${t.value}`,inputLegend:t.label,narrationText:e(".tabNarration",[t.label]),onClick:a},r.createElement(Bs,null),r.createElement(Zi,{overflowEllipsis:!0,variant:n?void 0:"dimmer",align:"center",type:"body"},t.label),t.imageComponent?r.createElement("div",{className:dl()({cb27b9589951038f59b1:i,a1a4816759895b3eee3c:!0,b5a3b1edacc068b6fb42:n})},t.imageComponent):r.createElement("div",null,r.createElement(pu,{aspectRatio:{height:9,width:16},className:dl()({ac747f8a0d5be0769b88:!0,dd7172fe0a0a671ed312:n}),src:null!==(l=t.imageSrc)&&void 0!==l?l:""}),null!=(null===(o=t.tag)||void 0===o?void 0:o.text)?r.createElement("span",{className:"e5fed7377615e1709d90"},r.createElement(rk,{role:"primaryTint"},null===(c=t.tag)||void 0===c?void 0:c.text)):null)))})(c,e,(n=e.value,()=>{t&&t(n)}),null!=d?d===e.value:0===a);var n}))),r.createElement("div",{className:dl()("e71d22be19128614ec65")},r.createElement(Uu,null,r.createElement(r.Fragment,null,(p=m)?r.createElement(r.Fragment,null,p.tabComponent):null)))):null;var p}function zte(){const{t:e}=ws("Realms.RealmsHub.SlotsScreen");return r.createElement("div",{className:"a2e9905b426815559401"},r.createElement(R4,{width:"24px",height:"24px"}),r.createElement(Zi,{type:"body",variant:"dimmer"},e(".AddWorld")))}const jte=a.p+"assets/WorldDemoScreen_Big-f562a7fa6618c00ff5ab.png",Hte=a.p+"assets/slot0_placeholder-114381ff0572a6e6e9c3.png",Gte=a.p+"assets/slot1_placeholder-d4f66fd53755f5b92769.png",Vte=a.p+"assets/slot2_placeholder-34477fbf9bb7f572d99b.png",$te=As((({onClose:e,options:t=[],onItemSelect:a})=>{const{t:n}=ws("Realms.Generic");return r.createElement(fP,{onClose:e,onItemSelect:a,isOpen:!0,title:n(".MoreOptions"),items:t})}));function Xte({options:e,narrationText:t,inputLegend:a,onItemSelect:n}){const o=$te.useModal();return r.createElement(r.Fragment,null,r.createElement(yP,{narrationText:t,"data-testid":"more-options-button",inputLegend:a,onClick:o.show,variant:"secondary"},r.createElement(LM.Options,null)),r.createElement(l.Mount,{when:o.isVisible},r.createElement($te.Component,{options:e,onClose:o.hide,onItemSelect:e=>{n(e),o.hide()}})))}const Kte="d1a377a253ffc952c895";function Yte({active:e,gameMode:t,empty:a,fileInfo:n}){const{t:o}=ws("Realms.RealmsHub.SlotsScreen"),c=(0,l.useFacetWrap)(n);return r.createElement("div",{className:"b5adb249ff0ea1fe92de"},r.createElement("div",{className:"f7c69da9a73b6825b390"},r.createElement(Zi,{variant:"dimmer",type:"body"},c),r.createElement(rk,{role:"neutral100"},o(function(e){switch(e){case Qv.ADVENTURE:return".GameMode.adventure";case Qv.SURVIVAL:return".GameMode.survival";case Qv.CREATIVE:return".GameMode.creative";case Qv.DEFAULT:return".GameMode.default";case Qv.SPECTATOR:return".GameMode.spectator";default:return".GameMode.unknown"}}(t)))),r.createElement("div",{className:"a51dc33af429c5736507"},function(e,t,a){const n=(0,l.useFacetWrap)([{label:"Download World",value:0},{label:"Replace World",value:1}]);return t?[r.createElement("div",{className:Kte},r.createElement(lm,{inputLegend:"Action",variant:"primary",narrationPrefix:a("")},"Create World"))]:e?[r.createElement("div",{className:Kte},r.createElement(lm,{inputLegend:"Action",variant:"primary",narrationPrefix:a("")},"Edit World")),r.createElement(Xte,{onItemSelect:e=>console.log(e),options:n,narrationText:"",inputLegend:""})]:[r.createElement("div",{className:Kte},r.createElement(lm,{inputLegend:"",narrationPrefix:a(""),variant:"secondary"},"Activate"))]}(e,a,o)))}function qte({slots:e,active:t}){const{t:a}=ws("Realms.RealmsHub.SlotsScreen"),n=(0,l.useFacetWrap)(t),o=eee(),c=h(),i=(0,l.useFacetCallback)((e=>t=>{null!=t&&e.updateRouteParameters({slot:t})}),[],[o]),s=(0,l.useFacetMap)((e=>e.realmWorldSummary),[],[(0,l.useSharedFacet)(NG)]),u=(0,l.useFacetMap)((e=>{var t;const n=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-";return a(".fileDetails",[n,""])}),[a],[s]),d=(0,l.useFacetMap)(((e,t,n)=>e.map(((e,l)=>{const o=l===t,c={label:e.empty?"":e.worldName,value:`${e.id}_${l}`,tabComponent:r.createElement(Yte,{active:o,gameMode:e.gameMode,empty:e.empty,fileInfo:o?n:""})};return e.empty?c.imageComponent=r.createElement(zte,null):c.imageSrc=e.slotImage?e.slotImage:(e=>{switch(e){case 0:return Hte;case 1:return Gte;case 2:return Vte;default:return jte}})(l),o&&(c.tag={text:a(".Active")}),c}))),[a],[e,n,u]),m=(0,l.useFacetMap)(((e,t)=>{var a,n;return null!==(a=e.get("slot"))&&void 0!==a?a:null===(n=t[0])||void 0===n?void 0:n.value}),[],[c,d]);return r.createElement(Ute,{selected:m,onChange:i,tabs:d})}function Qte(){const e=g(),t=function(e){const t=(0,l.useSharedFacet)(hv),{dispatch:a}=Cte();(0,l.useFacetEffect)(((e,t)=>{null==e||e.getSelectedRealmDetails(t)}),[],[t,e]);const n=(0,l.useFacetMap)((e=>e.status),[],[t]),r=(0,l.useFacetMap)((e=>e===bv.LoadingSelectedRealmDetails),[],[n]),o=(0,l.useFacetMap)((e=>e.didFailToQuerySelectedRealmDetails),[],[t]);return(0,l.useFacetEffect)((e=>{a(e?wte("Realms.Realm.Details",(()=>{}),yte.integrated):kte("Realms.Realm.Details"))}),[a],[r]),(0,l.useFacetEffect)((e=>{a(e?Pte("Realms.Realm.Details.QueryFailed"):Tte("Realms.Realm.Details.QueryFailed"))}),[a],[o]),t}((0,l.useFacetMap)((e=>e.realmId),[],[e])),a=(0,l.useFacetMap)((e=>e.realmSlots),[],[t]),n=(0,l.useFacetMap)((e=>e.activeSlotIndex),[],[t]);return r.createElement(Wte,null,r.createElement(_r,{collection:Ix},r.createElement(qte,{slots:a,active:n})))}function Jte(){const{t:e}=ws("Realms.RealmsHub.RealmNav");return(0,r.useMemo)((()=>[{label:e(".Community"),value:"Community",children:[{label:e(".StoryFeed"),value:"StoryFeed",component:r.createElement(Xee,null)},{label:e(".Members"),value:"Members",component:r.createElement(_te,null)}]},{label:e(".Timeline"),value:"Timeline",component:r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(Xee,null)),children:[]},{label:e(".World"),value:"World",children:[{label:e(".Slots"),value:"Slots",component:r.createElement(Qte,null)},{label:e(".Packs"),value:"Packs",component:r.createElement(Xee,null)}]},{label:e(".Settings"),value:"Settings",children:[{label:e(".Hub"),value:"Hub",component:r.createElement(Xee,null)},{label:e(".Server"),value:"Server",component:r.createElement(Xee,null)},{label:e(".RealmInfo"),value:"RealmInfo",component:r.createElement(Xee,null)},{label:e(".Subscription"),value:"Subscription",component:r.createElement(Xee,null)}]}]),[e])}function Zte(){const{t:e}=ws("Realms.RealmsHub"),t=(0,l.useSharedFacet)(nv),a=function(){const e=g();return(0,l.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.realmId)&&void 0!==t?t:""}),[],[e])}();!function(e){const t=(0,l.useSharedFacet)(tv),a=(0,l.useSharedFacet)(nv),{dispatch:n}=Cte();(0,l.useFacetEffect)(((e,t)=>{const a=e;a&&t.fetchRealmsWorld(a)}),[],[e,t]);const r=(0,l.useFacetMap)((e=>e.state),[],[a]);(0,l.useFacetEffect)((e=>{e===av.FETCHING_WORLD?n(wte("Realms.World.Context",(()=>{}),yte.modal)):e===av.FAILED?n(Pte("Realms.World.Context.Failed")):n(kte("Realms.World.Context"))}),[n],[r])}(a),function(e){const t=(0,l.useSharedFacet)(HB);(0,l.useFacetEffect)(((e,t)=>{const a=e;a&&t.initRealmsRolesAndActions(a)}),[],[e,t])}(a);const n=(0,l.useFacetMap)((t=>{var a;return e(".RealmHubHeader",[null!==(a=null==t?void 0:t.realmName)&&void 0!==a?a:""])}),[e],[t]);return r.createElement(Ote,{header:n},r.createElement(Lte,{navigationDef:Jte()}))}function eae(){return r.createElement(Mte,null,r.createElement(Zte,null))}const tae="fd1281ca247da82da10d",aae="bf26e2f6274ac7a3939b",nae="db6bb610d959247140e2",rae="abd147bf39cba2712e40";var lae;!function(e){e[e.NOTIFIERS=0]="NOTIFIERS",e[e.REPORT=1]="REPORT"}(lae||(lae={}));const oae=As((({onClose:e,onClickNotifiers:t,report:a,realmId:n,noContent:o})=>{const{t:c}=ws("RealmsFeedModeration.item"),i=p(),s=(0,l.useFacetCallback)(((e,t)=>()=>{i.push(`/realms-stories-report-feed-item/${ZB.ReportedItem}/${e}?postId=${t.id}`)}),[i],[n,a]),u=(0,l.useFacetMap)(((e,t)=>{const a=[{isVisible:!0,gamepadAlias:"OPTION-NOTIFIERS",label:c(".options.viewNotifiers"),value:lae.NOTIFIERS,testId:"notifiers"},{isVisible:!e.isEvent&&!t,gamepadAlias:"OPTION-REPORT",label:c(".options.report"),value:lae.REPORT,testId:"report"}].filter((e=>e.isVisible)),n=a.length;return a.map(((e,t)=>({enumeration:c(".enumeration",[`${t+1}`,`${n}`]),gamepadAlias:e.gamepadAlias,label:e.label,value:e.value,testId:e.testId})))}),[c],[a,o]),d=(0,r.useCallback)((a=>{switch(a){case lae.NOTIFIERS:t(),e();break;case lae.REPORT:s(),e()}}),[t,e,s]);return r.createElement(fP,{onClose:e,onItemSelect:d,isOpen:!0,title:c(".options.header"),items:u})})),cae=As((({onClose:e,notifiers:t})=>{const{t:a}=ah("RealmsFeedModeration.item.options");return r.createElement($m,{defaultFocusAlias:"Realms-Moderation-Notifiers-Modal"},r.createElement($m.Header,{onClose:e},a(".notifiers")),r.createElement($m.Content,{scrollable:!0},r.createElement(l.Map,{array:t},((t,a)=>r.createElement(r.Fragment,null,r.createElement(kW,{realmPlayer:t,index:a,onClick:e}))))))})),iae="confirm-delete-report-modal",sae=As((({onClose:e,isComment:t,option:a,reportId:n})=>{const{t:o}=ws("RealmsFeedModeration.item"),{t:c}=ws("RealmsFeedModeration.item.comment"),[i,s]=(0,l.useFacetState)(!1),u=(0,l.useSharedFacet)(uh),d=(0,l.useSharedFacet)(BB),m=(0,l.useFacetCallback)(((e,t)=>()=>{t.dismiss(e,"Deleted")}),[],[n,d]),p=(0,l.useFacetCallback)(((t,a,n)=>()=>{a&&(t[n]=!0),m(),e()}),[e,m],[u,i,(0,l.useFacetWrap)(a)]),f=(0,l.useFacetMap)((e=>e?c(".delete.title"):o(".delete.title")),[c,o],[t]),g=(0,l.useFacetMap)((e=>e?c(".delete.message"):o(".delete.message")),[c,o],[t]),E=(0,l.useFacetMap)((e=>e?c(".delete"):o(".delete")),[c,o],[t]);return r.createElement($m,{defaultFocusAlias:iae},r.createElement($m.Header,{onClose:e},f),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:g},g)),r.createElement($m.Buttons,{horizontal:!0,header:r.createElement($m.Checkbox,{value:i,onChange:s,title:o(".doNotShowAgain"),hintNarration:o(".enumeration",["3","3"])})},r.createElement(lm,{inputLegend:o(".delete.cancel"),"data-testid":"deleteCancel",variant:"secondary",onClick:e,horizontal:!0,narrationSuffix:o(".enumeration",["2","3"])},o(".delete.cancel")),r.createElement(Vi,{size:1}),r.createElement(lm,{gamepadAlias:iae,inputLegend:E,"data-testid":"deleteModal",variant:"destructive",onClick:p,horizontal:!0,narrationSuffix:o(".enumeration",["1","3"])},E)))})),uae=As((({isComment:e,onExit:t})=>{const{t:a}=ws("RealmsFeedModeration.error"),n=(0,l.useSharedFacet)(_B),o=(0,l.useFacetMap)((e=>e.hasDeleted===lF.isDeleting||(e.hasDeleted,lF.isDismissing,!1)),[],[n]),c=(0,l.useFacetMap)(((e,t)=>a(t?e?".delete.comment.title":".delete.post.title":".dismiss.title")),[a],[e,o]),i=(0,l.useFacetMap)(((e,t)=>a(t?e?".delete.comment.message":".delete.post.message":".dismiss.message")),[a],[e,o]);return r.createElement($m,{defaultFocusAlias:"delete-report-error-modal"},r.createElement($m.Header,{onClose:t},c),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:i},i)),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:a(".close"),variant:"secondary",onClick:t},a(".close"))))}));function dae({moderationItem:e,index:t,numberOfItems:a,onContentClicked:n,realmId:o,isLoading:c}){const{t:i}=ah("RealmsFeedModeration.item"),s=(0,l.useFacetMap)((e=>"no content"==e.feedItemId||""==e.feedItemId),[],[e]),u=(0,l.useFacetMap)((e=>e.body),[],[e]),d=(0,l.useFacetMap)((e=>e.image),[],[e]),m=(0,l.useFacetMap)(((e,t)=>""!==e&&""==t),[],[u,d]),p=(0,l.useFacetMap)((e=>""!==e),[],[d]),f=(0,l.useFacetMap)((e=>e.isEvent),[],[e]),g=(0,l.useFacetMap)((e=>e.timePosted),[],[e]),E=(0,l.useFacetMap)((e=>e.timePostedNarration),[],[e]),b=(0,l.useFacetMap)((e=>1===e.reportCount?i(".totalReport",[e.reportCount.toString()]):i(".totalReports",[e.reportCount.toString()])),[i],[e]),h=(0,l.useFacetMap)((e=>e.isComment),[],[e]),v=(0,l.useFacetMap)((e=>i(e?".deleteComment":".deletePost")),[i],[h]),F=(0,l.useSharedFacet)(Hh),y=(0,l.useFacetMap)((e=>e.players),[],[F]),S=(0,l.useFacetMap)((e=>e.authorXuid),[],[e]),C=(0,l.useFacetMap)(((e,t)=>{const a=t.find((t=>t.xuid===e));return null!=a?a:H_}),[],[S,y]),M=(0,l.useFacetMap)((e=>e.gamerTag),[],[C]),w=(0,l.useFacetMap)((e=>e.gamerIcon),[],[C]),k=(0,l.useFacetMap)((e=>1==e.isOnline?"online":"offline"),[],[C]),P=(0,l.useFacetMap)((e=>e.reporterXuids),[],[e]),T=(0,l.useFacetMap)(((e,t)=>e.players.filter((e=>null!=t.find((t=>t===e.xuid))))),[],[F,P]),I=(0,l.useFacetMap)((e=>{const t=[];if(e.isEvent)for(let a=0;a<e.eventPlayerXuids.length;a++)t.push(e.eventPlayerXuids[a]);return t}),[],[e]),x=(0,l.useFacetMap)(((e,t)=>t.filter((t=>e.includes(t.xuid))).map((e=>null!=e&&""!=e.gamerTag?e:H_))),[],[I,y]),O=(0,l.useFacetMap)((e=>e.isEvent&&e.eventHasCoordinates?[e.eventXCoordinate,e.eventYCoordinate,e.eventZCoordinate]:[]),[],[e]),A=(0,l.useFacetMap)((e=>Y_.has(e.body)?G_(e.body):""),[],[e]),N=(0,l.useFacetMap)((e=>e.eventMetadata),[],[e]),R=(0,l.useFacetMap)((e=>e.id),[],[e]),L=(0,l.useFacetMap)((e=>e.feedItemId),[],[e]),D=(0,l.useFacetMap)((e=>e.imageStatus),[],[e]),_=(0,l.useSharedFacet)(BB);(0,l.useFacetEffect)(((e,t,a)=>{e===nF.Idle&&t.fetchReportImage(a)}),[],[D,_,R,L]);const B=(0,l.useFacetCallback)((e=>()=>{n&&""!=e&&n(e)}),[n],[d]),W=(0,l.useFacetWrap)(5),U=(0,l.useFacetWrap)(!1),z=Sc(),j=Yr("neutral"),H=Yr("neutral80"),G=oae.useModal(),V=cae.useModal(),$=sae.useModal(),X=uae.useModal(),K=(0,l.useFacetCallback)(((e,t)=>()=>{t.dismiss(e,"Ignored")}),[],[R,_]),Y=(0,l.useFacetMap)((e=>null!=e.deleteStatus&&e.deleteStatus!==rF.Success&&e.deleteStatus!==rF.Idle&&e.deleteStatus!==rF.RateLimit&&e.deleteStatus!==rF.InProgress),[],[e]),q=(0,l.useSharedFacet)(uh),Q=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.doNotShowManageFeedDeleteWarning?t.dismiss(a,"Deleted"):$.show()}),[$],[q,_,R]),J=(0,l.useFacetMap)(((e,t,a)=>null!=e.deleteStatus&&e.deleteStatus==rF.InProgress||null!=e.reportToXboxStatus&&e.reportToXboxStatus==rF.InProgress||null!=e.reportStatus&&e.reportStatus==nF.InProgress&&t&&!a),[],[e,s,c]),Z=(0,l.useFacetCallback)(((e,t)=>()=>{X.hide(),e.clearReportStatuses(t)}),[X],[_,R]),ee=(0,l.useFacetCallback)(((e,t)=>()=>{e.clearReportStatuses(t.id)}),[],[_,e]),te=(0,l.useFacetMap)((e=>e.deleteStatus===rF.RateLimit||e.reportToXboxStatus==rF.RateLimit),[],[e]),ae=(0,l.useFacetCallback)(((e,t,a)=>()=>{e.deleteStatus==rF.RateLimit&&Z(),e.reportToXboxStatus==rF.RateLimit&&t.clearReportStatuses(a)}),[Z],[e,_,R]),ne=(0,l.useFacetMap)((e=>e.reportToXboxStatus),[],[e]),re=(0,l.useFacetMap)((e=>null!=e&&e!==rF.Success&&e!==rF.InProgress&&e!==rF.Idle&&e!==rF.RateLimit),[],[ne]),le=(0,l.useSharedFacet)(dh);(0,l.useFacetEffect)(((e,t,a)=>{e.reportToXboxStatus===rF.Success&&(t.queueSnackbar(i(".notify.report.toast")),a.clearReportStatuses(e.id))}),[i],[e,le,_]);const oe=(0,l.useFacetCallback)((e=>()=>{e.retryLoad(t)}),[t],[_]),ce=(0,l.useFacetMap)(((e,a)=>[i(a?".reportComment":".reportPost"),i(".reportGroupRole"),i(".enumeration",[`${t+1}`,`${e}`])].join(" . ")),[t,i],[a,h]),ie=(0,l.useFacetMap)(((e,t,a,n,r,l)=>{const o=[];return r?o.push(i(".reportComment")):o.push(i(".reportPost")),o.push(i(".role.textBlock")),o.push(i(".enumeration",["1","5"])),l?o.push(i(".failedLoad")):(o.push(i(".reportPostDetails",[t,a])),o.push(e),n&&o.push(i(".hasImage"))),o.join(" . ")}),[i],[u,M,E,p,h,s]),se=(0,l.useFacetMap)((e=>!!e&&i(".viewScreenshot")),[i],[p]),ue=(0,l.useFacetMap)((e=>[i(".notifiersNarration"),i(".role.textBlock"),i(".enumeration",["2","5"]),e].join(" . ")),[i],[b]);return r.createElement(r.Fragment,null,r.createElement(l.Mount,{when:J},r.createElement(Jw.Component,null)),r.createElement(l.Mount,{when:re},r.createElement(RB.Component,{reportStatus:ne,onClose:ee})),r.createElement(l.Mount,{when:te},r.createElement(M_.Component,{onClickClose:ae})),r.createElement(l.Mount,{when:Y},r.createElement(uae.Component,{isComment:h,onExit:Z})),r.createElement(l.Mount,{when:G.isVisible},r.createElement(oae.Component,{onClose:G.hide,onClickNotifiers:V.show,report:e,realmId:o,noContent:s})),r.createElement(l.Mount,{when:V.isVisible},r.createElement(cae.Component,{onClose:V.hide,notifiers:T})),r.createElement(l.Mount,{when:$.isVisible},r.createElement(sae.Component,{onClose:$.hide,isComment:h,option:"doNotShowManageFeedDeleteWarning",reportId:R})),r.createElement(bd,{text:ce},r.createElement(l.Unwrap,{data:f},(e=>e?r.createElement(cU,{eventId:u,timePosted:g,timePostedNarration:E,storyFeedElementCount:W,shouldShowUnreadPostBadge:U,image:A,involvedPlayers:x,coordinates:O,eventMetadata:N}):r.createElement(Wi,{gamepadAlias:"moderation-feed-item-"+t,inputLegend:se,narrationText:ie,className:dl()("cacbf8a2052e8250f8ba",j.border.base,H.background.base),classNameFocused:Ws,onClick:B},r.createElement(Bs,null),r.createElement(l.Unwrap,{data:s},(e=>e?r.createElement("div",{className:tae},r.createElement(LM.Warning,null),r.createElement(Vi,{size:4}),r.createElement(Zi,{type:"body",align:"left",shouldNarrate:!1,role:"neutral80"},i(".failedLoad"))):r.createElement("div",{className:"d30eaff5a2a177a8a17f"},r.createElement(Uy,{src:w,statusBadge:k,variant:"large"}),r.createElement(Vi,{size:4}),r.createElement("div",{className:"a9bbd7cb9499f6c75fe5"},r.createElement("div",{className:tae},r.createElement("div",{className:dl()({d3b15f24211a20a8dfff:"narrow"!==z,f893b99f75e4f9e03508:"narrow"===z})},r.createElement(Zi,{type:"body",align:"left",role:"neutral80"},r.createElement(ji,null,M))),r.createElement("div",{className:dl()("c73b2ea22ec5baa2d080",{b80ea32669eea011a5a8:"narrow"===z})},r.createElement(Zi,{type:"captionShort",align:"narrow"===z?"left":"right",role:"neutral80",variant:"dimmer"},g))),r.createElement("div",{className:tae},r.createElement(l.Mount,{when:m},r.createElement("div",{className:aae},r.createElement(Zi,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},u))),r.createElement(l.Mount,{when:p},r.createElement(r.Fragment,null,r.createElement("div",{className:dl()(aae,nae,rae,j.border.base)},r.createElement(pu,{src:d,aspectRatio:pu.AspectRatio["16:9"]})),r.createElement(Vi,{size:4}),r.createElement("div",{className:dl()(aae,nae)},r.createElement(Zi,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},u))))))))))))),r.createElement(hl,null,r.createElement(rT,{small:!1},r.createElement("div",{className:dl()(rae,"e83f58e71adf052830d9",j.background.base,j.bevel.base)},r.createElement(rT.Main,null,r.createElement(Wi,{narrationText:ue,inputLegend:i(".options.viewNotifiers"),classNameFocused:Ws,className:dl()(j.border.disable),onClick:V.show},r.createElement(Bs,null),r.createElement(Zi,{type:"body",align:"left",role:"neutral"},b)))),r.createElement("div",{className:dl()(rae,"bfba02d2798795f2a41f",j.background.base,j.bevel.base)},r.createElement(lm,{inputLegend:i(".dismiss"),"data-testid":"dismiss",narrationSuffix:[i(".enumeration",["3","5"]),i(".dismissHint"),i(".actionsHint")].join(" . "),horizontal:!0,onClick:K},i(".dismiss")),r.createElement(Vi,{size:2}),r.createElement(l.Unwrap,{data:s},(e=>e?r.createElement(lm,{inputLegend:i(".reload"),horizontal:!0,narrationSuffix:[i(".enumeration",["4","5"]),i(".failedHint")].join(" . "),onClick:oe},i(".reload")):r.createElement(lm,{inputLegend:v,"data-testid":"delete",narrationSuffix:[i(".enumeration",["4","5"]),i(".deleteHint"),i(".actionsHint")].join(" . "),horizontal:!0,onClick:Q},v))),r.createElement(Vi,{size:2}),r.createElement("div",{className:"fd78edee55f248dec1bb"},r.createElement(lm,{"data-testid":"options",inputLegend:i(".options.legend"),narrationPrefix:i(".options.header"),narrationSuffix:[i(".enumeration",["5","5"]),i(".optionsHint")].join(" . "),horizontal:!0,Icon:LM.Options,onClick:G.show}))))))}const mae=a.p+"assets/empty_state-343d744c947a19477b23.png";function pae(e,t){return null!=e&&e>=1&&e<=t}const fae="moderation-feed-item-0",gae=()=>{const{t:e}=ws("RealmsFeedModeration"),t=(0,l.useSharedFacet)(_l),a=p(),n=(0,l.useSharedFacet)(Bh),o=(0,l.useSharedFacet)(BB),c=g(),i=(0,l.useFacetMap)((e=>e.id),[],[c]),s=(0,l.useSharedFacet)(_B),u=(0,l.useFacetMap)((e=>e.reports),[],[s]),d=(0,l.useFacetMap)((e=>{if(e.storiesStatus==nF.InProgress)return!0;for(let t=0;t<e.reports.length;++t)if(""==e.reports[t].feedItemId)return!0;return!1}),[],[s]),m=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.reports.length)&&void 0!==t?t:0}),[],[s]),E=(0,l.useFacetMap)((e=>{var t;return null!==(t=e.totalStories)&&void 0!==t?t:0}),[],[s]),b=(0,l.useFacetMap)(((t,a)=>e(".header",[t.name,a.toString()])),[e],[n,E]),v=Sc(),F=(0,r.useRef)(null),y=Pe(),S=(0,l.useFacetMap)((e=>0!=e.pageLength?Math.ceil(e.totalStories/e.pageLength):0),[],[s]),[C,M]=(0,l.useFacetState)(1),w=(0,l.useFacetMap)((e=>Number(e.get("page"))),[],[h()]),k=(0,l.useFacetCallback)(((e,t)=>n=>{F.current&&(F.current.scrollTop=0),y(fae),pae(n,t)&&a.replace(`/moderate-realms-feed/${e.id}/?page=${n}`)}),[a,y],[c,S]),P=(0,l.useFacetCallback)(((e,t,a)=>()=>{const n=(a-1)*t.pageLength,r=n+t.pageLength;e.loadReportsSlice(n,r),F.current&&(F.current.scrollTop=0),y(fae)}),[y],[o,s,C]);(0,l.useFacetEffect)(((e,t)=>{pae(e,t)&&M(e),P()}),[M,k,P],[w,S]);const T=(0,l.useFacetCallback)(((e,t)=>()=>{0===e&&t>1&&(M(t-1),P())}),[P,M],[m,C]),[I,x]=(0,l.useFacetState)(""),O=fU.useModal(),A=(0,r.useCallback)((e=>{x(e),O.show()}),[O,x]),N=(0,l.useFacetMap)(((e,t)=>0===e.length&&0===t.totalStories&&t.storiesStatus==nF.Success),[],[u,s]),R=iD(),L=(0,l.useFacetMap)((e=>!e.isOnline),[],[t]),D=(0,l.useFacetMap)(((e,t)=>(e.storiesStatus===nF.InternalError||e.storiesStatus===nF.FetchFailed||e.storiesStatus===nF.RateLimit)&&!t),[],[s,L]),_=f(),B=(0,l.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&!t.isFetchingRealmWorld),[],[_,n]),W=(0,l.useFacetMap)(((e,t,a)=>e||t||a),[],[D,L,N]),U=(0,l.useFacetCallback)((e=>()=>{e.clearReportFeedStatus(),e.fetchReportPaths()}),[],[o]),z=(0,r.useCallback)((()=>{a.goBack()}),[a]),j=(0,l.useSharedFacet)(dh);(0,l.useFacetEffect)(((t,a,n)=>{n.hasDeleted==lF.Dismiss&&(t.queueSnackbar(e(".notify.dismiss.toast")),a.clearDeletionStatuses(),T()),n.hasDeleted==lF.DeleteComment&&(t.queueSnackbar(e(".notify.deleteComment.toast")),a.clearDeletionStatuses(),T()),n.hasDeleted==lF.DeletePost&&(t.queueSnackbar(e(".notify.deletePost.toast")),a.clearDeletionStatuses(),T())}),[e,T],[j,o,s]);const H=(0,l.useFacetMap)((t=>[e(".fullImage",[t.name]),e(".fullImageRole")].join(" . ")),[e],[(0,l.useSharedFacet)(Bh)]);return r.createElement(r.Fragment,null,r.createElement(_r,{collection:xx},r.createElement(ZN,{title:b,gamepadAlias:"realms-stories-moderate-feed",screenAnalyticsId:"RealmsStoriesModerateFeed"},(()=>r.createElement(Wu,null,r.createElement(zM,null,r.createElement(l.Mount,{when:O.isVisible},r.createElement(fU.Component,{src:I,onClose:O.hide,narrationText:H,closeNarration:e(".fullImageClose"),closeInputLegend:e(".fullImageClose")})),r.createElement(l.Mount,{when:L},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(sB,null))),r.createElement(l.Mount,{when:D},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(dB,{onClick:U,pageName:e(".notify.title")}))),r.createElement(l.Mount,{when:N},r.createElement(r.Fragment,null,r.createElement(Vi,{size:2}),r.createElement(aw,{imgSrc:mae,imgClass:R,title:e(".emptyReportFeedTitle"),text:e(".emptyReportFeedText")}))),r.createElement(l.Mount,{when:B},r.createElement(S_.Component,{onClickClose:z})),r.createElement(l.Mount,{when:W,condition:!1},r.createElement(zM.Row,{fullHeight:!0,className:"ac2243527da25a7acf89"},r.createElement(zM.Column,{wideSize:10,narrowSize:8},r.createElement(Uu,null,r.createElement(r.Fragment,null,r.createElement(ud,{innerRef:F,loading:d,scrollIntoViewAlign:"center",delegateFocusByAlias:fae,delegateFocusFromMemory:!0,renderTracker:e=>r.createElement(ek,{renderingCompleted:e,type:"meaningful"})},r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(l.Map,{array:u},((e,t)=>r.createElement(r.Fragment,null,r.createElement(Vi,{size:1}),r.createElement(dae,{moderationItem:e,index:t,numberOfItems:m,onContentClicked:A,realmId:i,isLoading:d}),r.createElement(Vi,{size:"narrow"===v?1:3})))),r.createElement(Vi,{size:2}),r.createElement(FO,{totalPages:S,currentPage:C,onChange:k}),r.createElement(Vi,{size:1}))),r.createElement(Lm.Space,null))))))))))))},Eae="a17bf3b944e6e3f4941c";function bae({realmPlayer:e}){const{t}=ws("Realms.RealmsRolesAndPermissions.PlayerSideBar"),{t:a}=ws("Realms.RealmsRolesAndPermissions.Role"),{t:n}=ws("Realms.RealmsRolesAndPermissions.Permissions"),{t:o}=ws("Realms.RealmsRolesAndPermissions.Narration"),c=p(),i=(0,l.useSharedFacet)(jB),s=(0,l.useFacetMap)((e=>e.gamerTag),[],[e]),u=(0,l.useFacetMap)((e=>e.gamerIcon),[],[e]),d=(0,l.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[e]),m=(0,l.useFacetMap)((e=>e.isInRealm?t(".Status.inRealm"):e.isOnline?t(".Status.online"):t(".Status.offline")),[t],[e]),f=(0,l.useFacetMap)((e=>{switch(e.selectedUserRole){case WB.Player:return a(".player");case WB.Admin:return a(".admin");case WB.Owner:return a(".owner")}}),[a],[i]),g=(0,l.useFacetMap)((e=>{switch(e.permission){case VB.NonMember:return n(".nonMember");case VB.Visitor:return n(".visitor");case VB.Member:return n(".member");case VB.Operator:return n(".operator");case VB.Owner:return n(".owner")}}),[n],[e]),E=(0,l.useFacetMap)((e=>[e,o(".realmInfo"),o(".group")].join(" . ")),[o],[s]),b=(0,l.useFacetMap)(((e,a)=>[e,o(".button"),o(".enum",["1","3"]),a,t(".ViewProfile.hint")].join(" . ")),[t,o],[s,m]),h=(0,l.useFacetMap)((e=>[a(".title"),o(".listItem"),o(".enum",["2","3"]),e].join(" . ")),[a,o],[f]),v=(0,l.useFacetMap)((e=>[n(".title"),o(".listItem"),o(".enum",["3","3"]),e].join(" . ")),[n,o],[g]),F=(0,l.useFacetCallback)((e=>()=>{c.push(`/profile?xuid=${e.xuid}`)}),[c],[e]);return r.createElement(bd,{text:E},r.createElement(rT,null,r.createElement(rT.Action,{narrationText:b,inputLegend:t(".ViewProfile"),onClick:F},r.createElement(rT.Cell,null,r.createElement(Uy,{src:u,variant:"large",statusBadge:d})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body"},r.createElement(ji,null,s)),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,m))))),r.createElement(rT,{isFocusable:!0,narrationText:h},r.createElement(rT.Cell,null,r.createElement(LM.RealmsSwirl,{width:24,height:24,className:Eae})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,a(".title"))),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body"},r.createElement(ji,null,f)))),r.createElement(rT,{isFocusable:!0,narrationText:v},r.createElement(rT.Cell,null,r.createElement(LM.Member,{width:24,height:24,className:Eae})),r.createElement(rT.Main,null,r.createElement(Zi,{type:"captionShort",variant:"dimmer"},r.createElement(ji,null,n(".title"))),r.createElement(Vi,{size:1}),r.createElement(Zi,{type:"body"},r.createElement(ji,null,g)))))}const hae=As((({titleText:e,bodyText:t,onClose:a})=>{const n="roles-and-permissions-tooltip",{t:l}=ws("Realms.RealmsRolesAndPermissions");return r.createElement($m,{defaultFocusAlias:n},r.createElement($m.Header,{onClose:a},e),r.createElement($m.Content,null,r.createElement($m.Text,{narrationText:t},t)),r.createElement($m.Buttons,null,r.createElement(lm,{gamepadAlias:n,inputLegend:l(".Select"),variant:"secondary",onClick:a},l(".Close"))))})),vae="d441c46fbc54ac326103";function Fae({actionItem:e,enumerationNarration:t,setTooltipModalTitle:a,setTooltipModalBody:n,showTooltipModal:o}){const{t:c}=ws("Realms.RealmsRolesAndPermissions"),{t:i}=ws("Realms.RealmsRolesAndPermissions.Narration"),s=(0,l.useFacetCallback)((e=>()=>{var t,r;a(null!==(t=e.extraTitle)&&void 0!==t?t:""),n(null!==(r=e.extraDescription)&&void 0!==r?r:""),o()}),[a,n,o],[e]),u=(0,l.useFacetMap)((e=>[e.label,i(".listItem"),t,e.canDoAction?i(".on"):i(".off"),null!=e.extraDescription&&""!=e.extraDescription?i(".moreInfo"):""].join(" . ")),[i,t],[e]),d=(0,l.useFacetMap)((e=>e.canDoAction),[],[e]),m=(0,l.useFacetMap)((e=>e.label),[],[e]),p=(0,l.useFacetMap)((e=>e.canDoAction?void 0:"dimmer"),[],[e]),f=(0,l.useFacetMap)((e=>null!=e.extraTitle&&null!=e.extraDescription),[],[e]),g=qr("successTint"),E=qr("neutral");return r.createElement(Uu,null,r.createElement(rT,{isFocusable:!0,small:!0,narrationText:u},r.createElement(rT.Cell,null,r.createElement(l.Unwrap,{data:d},(e=>e?r.createElement(LM.Checkmark,{width:24,height:24,className:vae,color:g.background.default}):r.createElement(LM.Minus,{width:24,height:24,className:vae,color:E.text.dimmer.default})))),r.createElement(rT.Main,null,r.createElement(Zi,{type:"body",variant:p},m)),r.createElement(l.Mount,{when:f},r.createElement(rT.AdditionalAction,{onClick:s,inputLegend:c(".LearnMore"),narrationText:[i(".information"),i(".button"),i(".learnMoreDescription")].join(" . "),fitContent:!0},r.createElement(LM.Information,{width:24,height:24,className:"d33641f809446324c984"})))))}function yae({canEdit:e}){const{t}=ws("Realms.RealmsRolesAndPermissions"),{t:a}=ws("Realms.RealmsRolesAndPermissions.Narration"),n=g(),o=(0,l.useSharedFacet)(jB),c=(0,l.useSharedFacet)(HB),i=(0,l.useSharedFacet)(XB),s=hae.useModal(),[u,d]=(0,l.useFacetState)(""),[m,p]=(0,l.useFacetState)(""),f=(0,l.useFacetMap)((e=>e.selectedUserRole),[],[o]),E=(0,l.useFacetMap)((e=>e.players.reduce(((e,t)=>e+(t.role===WB.Admin?1:0)),0)),[],[i]),b=(0,r.useMemo)((()=>[{label:t(".Role.player"),description:t(".Role.playerDescription"),value:WB.Player,testId:"realms-roles-toggle-player"},{label:t(".Role.administrator"),description:t(".Role.adminDescription"),value:WB.Admin,testId:"realms-roles-toggle-admin"},{label:t(".Role.owner"),description:t(".Role.ownerDescription"),value:WB.Owner}]),[t]),h=b.filter((e=>e.value!==WB.Owner)),v=(0,l.useFacetCallback)(((e,t)=>a=>{e.setRealmsUserRole(t.playerId,a)}),[],[c,n]),F=(0,l.useFacetMap)((e=>{switch(e){case WB.Player:return t(".Role.player");case WB.Admin:return t(".Role.administrator");case WB.Owner:return t(".Role.owner")}}),[t],[f]),y=(0,l.useFacetMap)((e=>{const t=b.find((t=>e===t.value));return null!=t?t.description:""}),[b],[f]),S=(0,l.useFacetMap)((e=>{const a=e.selectedUserActions;return[{label:t(".Action.manageWorlds"),canDoAction:a.includes(UB.ManageWorlds),extraTitle:t(".Action.manageWorldsTitle"),extraDescription:t(".Action.manageWorldsDescription")},{label:t(".Action.manageSettings"),canDoAction:a.includes(UB.ManageSettings)},{label:t(".Action.addRemoveMembers"),canDoAction:a.includes(UB.AddRemoveMembers),extraTitle:t(".Action.addRemoveMembersTitle"),extraDescription:t(".Action.addRemoveMembersDescription")},{label:t(".Action.setRoles"),canDoAction:a.includes(UB.SetRoles)},{label:t(".Action.setPermissions"),canDoAction:a.includes(UB.SetPermissions)},{label:t(".Action.manageHubSettings"),canDoAction:a.includes(UB.ManageHubSettings)},{label:t(".Action.manageStories"),canDoAction:a.includes(UB.ManageStories)},{label:t(".Action.interactWithStories"),canDoAction:a.includes(UB.InteractWithStories)},{label:t(".Action.manageSubscription"),canDoAction:a.includes(UB.ManageSubscription)}].sort(((e,t)=>e.canDoAction===t.canDoAction?0:e.canDoAction?-1:1))}),[t],[o]),C=(0,l.useFacetMap)(((e,t)=>[e,a(".listItem"),t].join(" . ")),[a],[F,y]),M=(0,l.useFacetMap)(((e,t)=>100===e&&t),[],[E,e]),w=(0,l.useFacetMap)(((e,t,a)=>{const n=t.players.find((e=>e.xuid===a.playerId));return e&&(!n||n.role!==WB.Admin)}),[],[M,i,n]),k=Yr("neutral");return r.createElement(r.Fragment,null,r.createElement(bd,{text:[a(".roleDetails"),a(".group")].join(" . ")},r.createElement(l.Mount,{when:M},r.createElement(r.Fragment,null,r.createElement(xO,{role:"noticeTint"},r.createElement(xO.Text,null,t(".MaxAdminsError"))),r.createElement(Vi,{size:2}))),r.createElement(l.Unwrap,{data:e},(e=>e?r.createElement(Uu,null,r.createElement("div",{className:dl()(k.border.base,"bdafc229c08f71f4cc9f")},r.createElement(_r,{collection:Ix},r.createElement($R,{title:t(".Role.title"),options:h,value:f,onChange:v,disabled:w})))):r.createElement(Uu,null,r.createElement(rT,{isFocusable:!0,small:!0,narrationText:C},r.createElement(rT.Main,null,r.createElement(Vi,{size:2}),r.createElement(Zi,{type:"body"},F),r.createElement(Zi,{type:"captionShort",variant:"dimmer"},y),r.createElement(Vi,{size:2})))))),r.createElement(l.Map,{array:S},((e,t,n)=>r.createElement(Fae,{actionItem:e,enumerationNarration:a(".enum",[`${t+1}`,`${n}`]),setTooltipModalTitle:d,setTooltipModalBody:p,showTooltipModal:s.show})))),r.createElement(l.Mount,{when:s.isVisible},r.createElement(hae.Component,{titleText:u,bodyText:m,onClose:s.hide})))}const Sae=()=>{const{t:e}=ws("Realms.RealmsRolesAndPermissions"),t=g(),a=p(),n=(0,l.useSharedFacet)(XB),o=(0,l.useSharedFacet)(KB),c=(0,l.useSharedFacet)(HB),i=(0,l.useFacetMap)(((e,t)=>{const a=e.players.find((e=>e.xuid===t.playerId));return null!=a?a:{xuid:"",gamerTag:"",gamerIcon:"",permission:VB.NonMember,isOnline:!1,isInRealm:!1,lastSeenTime:0,hasOptedIn:!1,role:WB.Player,fetchProfileStatus:YB.FetchFailed}}),[],[n,t]),s=(0,l.useFacetMap)(((e,t)=>e.userXuid===e.ownerXuid&&t.isPrimaryUser),[],[(0,l.useSharedFacet)(Bh),bn()]),u=(0,l.useFacetMap)((t=>e(t?".EditHeader":".ViewHeader")),[e],[s]),d=(0,l.useFacetCallback)(((e,t,n)=>()=>{n?e.saveRealmsUserRole(t.playerId):a.goBack()}),[a],[c,t,s]),m=(0,l.useFacetMap)((t=>e(".Screen",[t])),[e],[u]);return(0,l.useFacetEffect)((e=>{e.populateMembers()}),[],[o]),(0,l.useFacetEffect)(((e,t)=>{e.initRealmsUserRoleAndActions(t.xuid,t.role)}),[],[c,i]),r.createElement(Ote,{header:u,narrationText:m,onBackButton:d},r.createElement(zM,null,r.createElement(Vi,{size:2}),r.createElement(zM.Row,null,r.createElement(zM.Column,{wideSize:4,narrowSize:3},r.createElement(Uu,null,r.createElement(bae,{realmPlayer:i}))),r.createElement(zM.Column,{wideSize:8,narrowSize:5},r.createElement(ud,{delegateFocusFromMemory:!0},r.createElement(yae,{canEdit:s}),r.createElement(Vi,{size:1}),r.createElement(Lm.Space,null))))))},Cae=()=>{const e=p(),{t}=ws("PlayerBannedModalRoute"),a=h(),n=(0,l.useFacetMap)((e=>"1"===e.get("banType")),[],[a]),o=(0,l.useFacetMap)((e=>"1"==e.get("isPermanent")),[],[a]),c=(0,l.useFacetMap)((e=>t(e?".permanent":".temporary")),[t],[o]),i=(0,l.useFacetCallback)(((e,t)=>()=>{t?e.openXboxLiveBannedInfoPage():e.openBannedInfoPage()}),[],[(0,l.useSharedFacet)(ey),n]),s=(0,l.useFacetMap)(((e,a)=>t(".title",e?[t(".permanent")]:[a])),[t],[n,c]),u=(0,l.useFacetMap)(((e,a,n)=>{var r;if(e)return t(".xboxLiveBody");const l=t(`.${null!==(r=n.get("banReason"))&&void 0!==r?r:"unknownReportArea"}`);return t(".body",[a,l])}),[t],[n,c,a]),d=(0,l.useFacetMap)(((e,a)=>e?t(".xboxLiveBody2",[t(".close")]):t(".body2",[t(".close"),a])),[t],[n,c]),m=(0,l.useFacetMap)(((e,a)=>function(e,t,a,n){return t?n(".body.forever"):null==e||"0"==e?"":"1"==e?n(a?".body.hour":".body.day"):n(a?".body.hours":".body.days",[e])}(e.get("timeRemaining"),a,"1"==e.get("isHours"),t)),[t],[a,o]),f=(0,l.useFacetMap)(((e,t,a)=>`${e}. ${t}${a?` . ${a}`:""}`),[],[u,d,m]),g=(0,l.useFacetMap)((e=>e.length>0),[],[m]);return r.createElement($m,null,r.createElement($m.Header,{onClose:e.goBack},s),r.createElement($m.Content,null,r.createElement($m.Paragraphs,{narrationText:f,spaceBetweenParagraphs:4},r.createElement(Zi,{type:"captionLong"},u),r.createElement(Zi,{type:"captionLong"},d),r.createElement(l.Mount,{when:g},r.createElement(Zi,{type:"captionLong"},m))),r.createElement(ek,{type:"contentful",renderingCompleted:!0}),r.createElement(ek,{type:"meaningful",renderingCompleted:!0})),r.createElement($m.Buttons,null,r.createElement(lm,{inputLegend:t(".close"),variant:"primary",delayedClick:!0,onClick:i},t(".close"))))};function Mae(){const e=p(),t=f(),a=AJ.useModal(!0),n=g(),o=FH({worldId:(0,l.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[n]),screen:"HardcoreModeWorldWarningModal",button:"PlayNow",telemetryLocation:ih.PlayScreen}),c=(0,l.useFacetMap)(((e,t)=>e&&t),[],[t,a.isVisible]),i=(0,r.useCallback)((()=>{e.goBack()}),[e]),s=(0,r.useCallback)((()=>{e.goBack(),o()}),[e,o]);return r.createElement(l.Mount,{when:c},r.createElement(AJ.Component,{onSubmit:s,onCancel:i}))}function wae(){return r.createElement(rE,{scalingMode:"legacy",defaultRoute:"/create-new-world",scope:[Cn.InGame,Cn.OutOfGame],errorComponent:bE,semanticCollection:Ix,isKeyboardHintsEnabled:!0},r.createElement(wl,{route:"/idle-route",component:h5,modes:[N.Overlay,N.GrabMouse],transitionComponent:Fl}),r.createElement(wl,{route:"/friends-drawer/:tab?",modes:[N.Overlay],component:F5,transitionComponent:Fl}),r.createElement(wl,{route:"/achievements/:tab?",component:yT,prerequisites:[R.XboxLive],transitionComponent:hE}),r.createElement(wl,{route:"/achievement-detail/:id",component:hk,prerequisites:[R.XboxLive],transitionComponent:hE}),r.createElement(k,{from:"/new-player-path",to:"/new-player-path/mode"}),r.createElement(wl,{route:"/new-player-path/mode",component:g2,transitionComponent:hE}),r.createElement(wl,{route:"/new-player-path/survival/difficulty",component:S2,transitionComponent:hE}),r.createElement(wl,{route:"/new-player-path/character-selector/:mode/:difficulty",component:r2,transitionComponent:hE}),r.createElement(wl,{route:"/new-player-path/:mode/:difficulty/touch-control-selection",component:D2,transitionComponent:hE}),r.createElement(wl,{route:"/new-player-path/sign-in/:mode/:difficulty",component:w2,transitionComponent:hE}),r.createElement(wl,{route:"/new-player-path/summary/:mode/:difficulty",component:_2,transitionComponent:hE}),r.createElement(wl,{route:"/create-new-world/seed-templates",component:LJ.SeedTemplatesRoute,transitionComponent:hE}),r.createElement(wl,{route:"/create-new-world/:tab/:worldTemplateId?",component:pte,transitionComponent:hE}),r.createElement(k,{from:"/create-new-world",to:"/create-new-world/general"}),!1,r.createElement(wl,{route:"/play/touch-control-selection/:id",component:W2,transitionComponent:hE}),r.createElement(wl,{route:"/realms-pdp",component:LJ.RealmsPDPRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-plan-picker",component:LJ.RealmsPlanPickerRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-plan-picker-in-game",component:LJ.RealmsPlanPickerInGameRoute,transitionComponent:hE}),r.createElement(wl,{route:"/join-realms-server",component:LJ.JoinRealmsServerRoute,transitionComponent:hE}),r.createElement(wl,{route:"/join-realms-server/:code",component:LJ.JoinRealmsServerTransientRoute,transitionComponent:hE}),r.createElement(wl,{route:"/play/servers/add",component:E6,transitionComponent:hE}),r.createElement(wl,{route:"/play/:tab/:id?/:type?",component:e6,transitionComponent:hE}),r.createElement(wl,{route:"/play/servers/:id/:type/edit",component:E6,transitionComponent:hE}),r.createElement(wl,{component:LJ.OnlinePlayWarningTransientRoute,route:"/online-play-warning/:type/:id?",transitionComponent:hE}),r.createElement(k,{from:"/play",to:"/play/all"}),r.createElement(wl,{route:"/start-from-template/:tab",component:O9,transitionComponent:hE}),r.createElement(k,{from:"/start-from-template",to:"/start-from-template/marketplace-pass"}),r.createElement(wl,{route:"/mobile-data-blocked-modal/show-modal",component:LJ.MobileDataBlockedModalRoute,transitionComponent:hE}),r.createElement(wl,{route:"/render-distance-warning-modal",component:pL,transitionComponent:Fl}),r.createElement(wl,{route:"/touch-control-selection",component:B2,transitionComponent:hE}),r.createElement(wl,{route:"/realms-choose-realm/:tab",component:LJ.ChooseRealmRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms/:realmId/hub",component:eae,transitionComponent:hE}),r.createElement(wl,{route:"/realms/:realmId/members/:playerId/roles-and-permissions",component:Sae,transitionComponent:hE}),r.createElement(wl,{route:"/realms-choose-slot/:id",component:LJ.ChooseSlotRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-stories/:tab/:realmId?",component:LJ.RealmsStoriesRoute,transitionComponent:hE}),r.createElement(k,{from:"/realms-stories",to:"/realms-stories/feed"}),r.createElement(wl,{route:"/realms-stories-opted-out-members/:realmId?",component:LJ.RealmsStoriesOptedOutMembersRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-story-comments/:id/:realmId?",component:LJ.RealmsStoriesCommentsRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-story-entry-route/:tab/:realmId?",component:DJ.RealmsStoryEntryRoute,modes:[N.Overlay]}),r.createElement(k,{from:"/realms-story-entry-route",to:"/realms-story-entry-route/feed"}),r.createElement(wl,{route:"/post-to-realm-stories",component:LJ.PostToRealmStoriesRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-story-share-link-modal-route/:realmId?",component:DJ.RealmsStoryShareLinkModalRoute,transitionComponent:hE,modes:[N.Overlay]}),r.createElement(wl,{route:"/hardcore-mode-world-warning-modal-route/:realmId?",component:Mae,transitionComponent:hE,modes:[N.Overlay]}),r.createElement(wl,{route:"/realms-new-story/:realmId?",component:LJ.RealmsNewStoryRoute,transitionComponent:hE}),r.createElement(wl,{route:"/realms-new-story/screenshot-gallery/:realmId?",component:LJ.RealmsStoriesScreenshotGalleryRoute,transitionComponent:hE,disabledCached:!0}),r.createElement(wl,{route:"/timeline-opt-in-required/:realmId?",component:LJ.RealmsStoriesTimelineRequiredRoute,transitionComponent:hE,disabledCached:!0}),r.createElement(wl,{route:"/announcement-modal/:id",component:OZ,transitionComponent:Fl,modes:[N.Overlay]}),r.createElement(wl,{route:"/realms-stories-report-feed-item/:postType/:realmId?",component:LJ.RealmsStoriesReportFeedItemRoute,transitionComponent:Fl}),r.createElement(wl,{route:"/realms-stories-settings/:realmId?",component:LJ.RealmsStoriesSettingsRoute,transitionComponent:Fl}),r.createElement(wl,{route:"/player-banned-modal",component:Cae,transitionComponent:Fl}),r.createElement(wl,{route:"/player-report",component:LJ.ReportPlayerRoute,transitionComponent:Fl}),r.createElement(wl,{route:"/sign-in-achievements",component:W0,transitionComponent:hE,disabledCached:!0}),r.createElement(wl,{route:"/sign-in-add-friend",component:j0,transitionComponent:hE}),r.createElement(wl,{route:"/sign-in-play-on-server",component:Q0,transitionComponent:hE}),r.createElement(wl,{route:"/sign-in-dressing-room",component:V0,transitionComponent:hE}),r.createElement(wl,{route:"/sign-in-marketplace",component:K0,transitionComponent:hE}),r.createElement(wl,{route:"/sign-in-worlds-friends-servers",component:e1,transitionComponent:hE}),r.createElement(wl,{route:"/first-time-sign-in",component:D0,transitionComponent:hE}),r.createElement(wl,{route:"/inbox/:tab?",component:c0,transitionComponent:hE}),r.createElement(wl,{route:"/inbox-settings",component:u0,transitionComponent:hE}),r.createElement(wl,{route:"/message/:messageId/:instanceId?",component:x0,transitionComponent:hE}),r.createElement(wl,{route:"/edit-realm-world/:id/:tab/:worldTemplateId?",component:Jee,transitionComponent:hE}),r.createElement(k,{from:"/edit-realm-world/:id",to:"/edit-realm-world/:id/general"}),r.createElement(wl,{route:"/edit-world/:id/:tab/:worldTemplateId?",component:_Y,transitionComponent:hE}),r.createElement(wl,{route:"/edit-world-thumbnail/:id",component:LJ.EditWorldThumbnailRoute,transitionComponent:hE}),r.createElement(k,{from:"/edit-world/:id",to:"/edit-world/:id/general"}),r.createElement(wl,{component:LJ.ExportWorldRoute,route:"/export-world/:id/:type",transitionComponent:hE}),r.createElement(wl,{route:"/realms-create-preview-with-only-one-subscription",component:LJ.CreatePreviewRealmWithOnlyOneSubscriptionRoute,modes:[N.Overlay]}),r.createElement(wl,{route:"/realms-purchase-subscription/:subscription",component:LJ.RealmsPurchaseSubscriptionRoute,transitionComponent:hE}),r.createElement(wl,{route:"/add-friend/:openKeyboard?",component:LJ.AddFriendRoute,transitionComponent:hE}),r.createElement(wl,{route:"/disconnected",component:T5,transitionComponent:hE}),r.createElement(wl,{route:"/disconnected/details",component:O5,transitionComponent:hE}),r.createElement(k,{from:"/profile",to:"/profile/overview",keepQuery:!0}),r.createElement(wl,{route:"/profile/:tab",component:LJ.ProfileRoute,transitionComponent:hE}),r.createElement(wl,{route:"/screenshot-gallery",component:LJ.ScreenshotGalleryRoute,transitionComponent:hE}),r.createElement(wl,{route:"/screenshot-showcase",component:LJ.ScreenshotShowcaseRoute,transitionComponent:hE}),r.createElement(wl,{route:"/manage-showcase",component:LJ.ManageShowcaseRoute,transitionComponent:hE}),r.createElement(wl,{route:"/screenshot-details/:id",component:LJ.ScreenshotDetailsRoute,transitionComponent:hE}),r.createElement(wl,{route:"/set-world-thumbnail/:thumbnailId",component:LJ.SetWorldThumbnailRoute,transitionComponent:hE}),r.createElement(wl,{route:"/showcase-details/:id",component:LJ.ShowcaseDetailsRoute,transitionComponent:hE}),r.createElement(wl,{route:"/account-unlink",component:LJ.AccountUnlinkRoute,transitionComponent:hE}),r.createElement(wl,{route:"/player-permissions/:playerId",component:mL,transitionComponent:hE}),r.createElement(wl,{route:"/settings/accessibility/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/settings/account/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/settings/audio/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/settings/video/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/settings/general/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/settings/language/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/settings/keyboard-and-mouse/:sideEffect?/:id?",component:Y7,transitionComponent:hE}),r.createElement(wl,{route:"/create-party",component:X2,transitionComponent:hE}),r.createElement(wl,{route:"/invite-to-party",component:K2,transitionComponent:hE}),r.createElement(wl,{route:"/party-modal/:modal",component:q2,transitionComponent:hE}),r.createElement(wl,{route:"/moderate-realms-feed/:id",component:gae,transitionComponent:Fl}),r.createElement(Lm,{enableKeyboardInputLegend:!0,ignoreList:{keyboard:Ee}}))}var kae,Pae;kae=r.createElement(wae,null),Pae=document.getElementById("root"),(0,l.render)(kae,Pae)})()})();